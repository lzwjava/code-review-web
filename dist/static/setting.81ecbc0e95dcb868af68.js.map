{"version":3,"sources":["webpack:///setting.81ecbc0e95dcb868af68.js","webpack:///webpack/bootstrap 59c7e29718fdf89a5322?0aec**","webpack:///./~/vue-resource/src/util.js?e921**","webpack:///./src/common/util.js?b343**","webpack:///./~/debug/browser.js?cc24**","webpack:///./~/vue-resource/src/promise.js?300c**","webpack:///./src/common/serviceUrl.js?63d2**","webpack:///./~/babel-runtime/core-js/json/stringify.js?4574**","webpack:///./~/blueimp-md5/js/md5.js?1e5a**","webpack:///./src/components/overlay.vue?9e45***","webpack:///./src/components/user-avatar.vue?b511***","webpack:///./~/babel-runtime/~/core-js/library/modules/$.core.js?6099**","webpack:///./src/components/dropdown.vue?fbd7***","webpack:///./src/components/login.vue?2b7d***","webpack:///./src/components/overlay.vue?4935***","webpack:///./src/components/signup.vue?0c14***","webpack:///./src/components/user-avatar.vue?5fdd***","webpack:///./src/views/nav.vue?f795***","webpack:///./src/common/filters.js?8ebc**","webpack:///./~/babel-runtime/~/core-js/library/fn/json/stringify.js?834a**","webpack:///./~/debug/debug.js?cd10**","webpack:///./~/debug/~/ms/index.js?0703**","webpack:///./src/img/header_logo.png?1162**","webpack:///./src/components/dropdown.vue?7f6d***","webpack:///./src/components/login.vue?314f***","webpack:///./src/components/overlay.vue?9c4e***","webpack:///./src/components/signup.vue?9b26***","webpack:///./src/components/user-avatar.vue?1690***","webpack:///./src/views/footer.vue?cfda***","webpack:///./src/views/nav.vue?1516***","webpack:///./src/components/dropdown.vue?8cce***","webpack:///./src/components/login.vue?261f***","webpack:///./src/components/signup.vue?8679***","webpack:///./src/views/footer.vue?f01f***","webpack:///./src/views/nav.vue?043a***","webpack:///./~/vue-resource/src/http/before.js?25b0**","webpack:///./~/vue-resource/src/http/client/default.js?3432**","webpack:///./~/vue-resource/src/http/client/jsonp.js?d9bf**","webpack:///./~/vue-resource/src/http/client/xdr.js?d144**","webpack:///./~/vue-resource/src/http/client/xhr.js?7ca3**","webpack:///./~/vue-resource/src/http/cors.js?4b0e**","webpack:///./~/vue-resource/src/http/header.js?9d89**","webpack:///./~/vue-resource/src/http/index.js?ab95**","webpack:///./~/vue-resource/src/http/interceptor.js?5dab**","webpack:///./~/vue-resource/src/http/jsonp.js?4a76**","webpack:///./~/vue-resource/src/http/method.js?d387**","webpack:///./~/vue-resource/src/http/mime.js?c9cf**","webpack:///./~/vue-resource/src/http/timeout.js?d329**","webpack:///./~/vue-resource/src/index.js?6305**","webpack:///./~/vue-resource/src/lib/promise.js?cd81**","webpack:///./~/vue-resource/src/lib/url-template.js?506f**","webpack:///./~/vue-resource/src/resource.js?5389**","webpack:///./~/vue-resource/src/url/index.js?2086**","webpack:///./~/vue-resource/src/url/legacy.js?f18e**","webpack:///./~/vue-resource/src/url/query.js?a9e3**","webpack:///./~/vue-resource/src/url/root.js?69da**","webpack:///./~/vue-resource/src/url/template.js?92ee**","webpack:///./~/vue/dist/vue.common.js?e881**","webpack:///./~/word-color/index.js?0e4f**","webpack:///./src/components/loading.vue?2a05","webpack:///./src/components/loading.vue?5d2f*","webpack:///./src/components/logo.vue?00f8*","webpack:///./src/components/loading.vue?2e09*","webpack:///./src/components/logo.vue?08aa","webpack:///./src/components/tag.vue?0601","webpack:///./plupload/js/moxie.js","webpack:///./src/components/tag.vue?b3dd*","webpack:///./src/components/tag.vue?b374*","webpack:///./src/views/setting.vue","webpack:///./src/setting.js","webpack:///./~/qiniu-js-sdk/qiniu.js","webpack:///./src/views/setting.vue?d6ad","webpack:///./src/views/setting.vue?dc6e","webpack:///./plupload/js/plupload.dev.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","merge","target","source","deep","key","_","isPlainObject","isArray","undefined","array","console","window","warn","msg","warning","config","silent","debug","error","trim","str","replace","toLower","toLowerCase","Array","isString","val","isFunction","isObject","obj","Object","getPrototypeOf","prototype","options","fn","bind","$vm","$options","each","iterator","i","length","hasOwnProperty","defaults","extend","args","slice","arguments","forEach","arg","_interopRequireDefault","__esModule","default","transformToAssocArray","prmstr","params","prmarr","split","tmparr","_stringify","_stringify2","_vueResource","_vueResource2","filters","filterError","component","res","data","code","nav","$root","$children","show","httpErrorFn","statusText","escape","html","type","text","updateNavUser","user","localStorage","setItem","userStatus","getSearchParameters","location","search","substr","configVue","Vue","use","http","root","emulateJSON","timeout","k","filter","getLocalUser","getItem","JSON","parse","useColors","document","documentElement","style","firebug","exception","table","navigator","userAgent","match","parseInt","RegExp","$1","formatArgs","this","namespace","humanize","diff","color","concat","index","lastC","splice","log","Function","apply","save","namespaces","storage","removeItem","e","load","r","localstorage","chrome","local","colors","formatters","j","v","stringify","enable","Promise","executor","context","PromiseObj","promise","all","iterable","resolve","value","reject","reason","race","then","fulfilled","rejected","callback","success","response","status","always","cb","defineProperty","logout","login","register","reviewers","updateUser","qiniu","tags","userTag","userTagDelete","reviewerView","reviewerReviews","ordersAdd","ordersList","ordersView","ordersReward","ordersReview","reviewsAdd","reviewsEdit","reviewsView","reviewsGet","__WEBPACK_AMD_DEFINE_RESULT__","$","safe_add","x","y","lsw","msw","bit_rol","num","cnt","md5_cmn","q","a","b","s","t","md5_ff","d","md5_gg","md5_hh","md5_ii","binl_md5","len","olda","oldb","oldc","oldd","binl2rstr","input","output","String","fromCharCode","rstr2binl","charCodeAt","rstr_md5","rstr_hmac_md5","hash","bkey","ipad","opad","rstr2hex","hex_tab","charAt","str2rstr_utf8","unescape","encodeURIComponent","raw_md5","hex_md5","raw_hmac_md5","hex_hmac_md5","md5","string","raw","template","core","version","__e","methods","choose","el","classList","contains","_blueimpMd","_blueimpMd2","_util","_util2","_serviceUrl","_serviceUrl2","phone","password","stop","stopPropagation","cancel","$parent","overlay","_this","$http","post","mobilePhoneNumber","result","props","hide","smsCode","username","close","requestSmsCode","_this2","wordColor","spanBgColor","spanColor","compiled","avatarUrl","bg","rgb","join","toUpperCase","unique","item","list","some","_overlay","_overlay2","_login","_login2","_signup","_signup2","_dropdown","_dropdown2","_userAvatar","_userAvatar2","clock","Date","getFullYear","components","signup","dropdown","user-avatar","overlayStatus","currentView","messages","preventDefault","get","resp","signin","viewUserDropdown","showUserDropdown","flush","clear","clearTimeout","setTimeout","push","created","urlParser","createElement","domain","url","href","hostname","fromNow","time","between","now","Number","pluralize","reviewStatus","state","integer","label","moneyAsYuan","money","truncate","substring","it","selectColor","prevColor","disabled","enabled","self","curr","ms","prevTime","prev","coerce","format","formatter","logFn","skips","names","disable","name","test","Error","stack","message","exec","n","parseFloat","h","short","Math","round","long","plural","floor","ceil","request","beforeSend","xhrClient","client","handler","script","random","toString","jsonp","src","async","event","body","removeChild","onload","onerror","appendChild","xdr","XDomainRequest","abort","open","method","responseText","onabort","ontimeout","onprogress","send","getHeaders","xhr","headers","parseHeaders","getAllResponseHeaders","row","indexOf","XMLHttpRequest","header","setRequestHeader","crossOrigin","requestUrl","protocol","originUrl","host","xdrClient","xhrCors","emulateHTTP","common","custom","Http","defaultClient","interceptors","interceptor","ok","jsonType","Content-Type","put","patch","delete","Accept","X-Requested-With","when","vm","jsonpClient","install","util","nextTick","resource","defineProperties","$url","$resource","$promise","PENDING","deferred","RESOLVED","REJECTED","resolver","count","TypeError","called","notify","shift","onResolved","onRejected","expand","variables","tmpl","expanded","vars","operators","expression","literal","operator","values","variable","tmp","getValues","separator","encodeReserved","modifier","isDefined","encodeValue","isKeyOperator","keys","map","part","encodeURI","Resource","actions","action","opts","query","update","remove","Url","transform","transforms","factory","next","serialize","scope","plain","add","ie","documentMode","port","pathname","encodeUriSegment","encodeUriQuery","spaces","slash","urlParams","UrlTemplate","set","hasOwn","_isVue","_data","ob","__ob__","convert","dep","vms","_proxy","_digest","del","_unproxy","isLiteral","exp","literalValueRE","isReserved","_toString","toNumber","parsed","isNaN","toBoolean","stripQuotes","camelize","camelizeRE","toUpper","hyphenate","hyphenateRE","classify","classifyRE","bind$1","ctx","l","toArray","start","ret","to","from","OBJECT_STRING","def","enumerable","writable","configurable","_debounce","func","wait","timestamp","later","last","arr","cancellable","cancelled","looseEqual","Cache","limit","size","head","tail","_keymap","create","pushFilter","lastFilterIndex","tokens","filterTokenRE","processFilterArg","dir","reservedArgRE","dynamic","stripped","parseDirective","hit","cache$1","inSingle","inDouble","curly","square","paren","escapeRegex","regexEscapeRE","compileRegex","delimiters","unsafeOpen","unsafeDelimiters","unsafeClose","tagRE","htmlRE","cache","parseText","first","oneTime","lastIndex","tag","tokensToExp","token","formatToken","single","inlineFilters","filterRE$1","removeTags","appendWithTransition","applyTransition","beforeWithTransition","before","removeWithTransition","direction","op","transition","__v_trans","hooks","transitionEndEvent","_isCompiled","querySelector","inDoc","node","doc","parent","parentNode","nodeType","getAttr","_attr","getAttribute","removeAttribute","getBindAttr","hasBindAttr","hasAttribute","insertBefore","after","nextSibling","prepend","firstChild","replaceChild","on$1","addEventListener","off","removeEventListener","setClass","cls","isIE9","className","setAttribute","addClass","cur","removeClass","tar","extractContent","asFragment","child","rawContent","isTemplate","content","DocumentFragment","hasChildNodes","trimNode","createDocumentFragment","lastChild","tagName","createAnchor","persist","anchor","createComment","createTextNode","__vue_anchor","findRef","hasAttributes","attrs","attributes","refRE","mapNodeRange","end","removeNodeRange","frag","onRemoved","removed","done","nodes","checkComponentAttr","hasAttrs","commonTagRE","getIsBinding","resolveAsset","is","initProp","prop","path","assertProp","required","expectedType","valid","Boolean","validator","mergeData","toVal","fromVal","mergeAssets","parentVal","childVal","guardArrayAssets","guardComponents","ids","guardProps","assets","asset","mergeOptions","mergeField","strat","strats","defaultStrat","mixins","camelizedId","assertAsset","Dep","uid$3","subs","Observer","augment","hasProto","protoAugment","copyAugment","arrayMethods","arrayKeys","observeArray","walk","__proto__","observe","isExtensible","addVm","defineReactive","getter","setter","convertAllProperties","property","getOwnPropertyDescriptor","childOb","depend","newVal","initMixin","_init","$el","$refs","$els","_watchers","_directives","_uid","uid","_events","_eventsCount","_isFragment","_fragment","_fragmentStart","_fragmentEnd","_isDestroyed","_isReady","_isAttached","_isBeingDestroyed","_unlinkFn","_context","_scope","_frag","children","constructor","_updateRef","_callHook","_initState","_initEvents","$mount","getPathCharType","ch","formatSubPath","trimmed","maybeUnescapeQuote","nextChar","mode","IN_SINGLE_QUOTE","IN_DOUBLE_QUOTE","newChar","APPEND","typeMap","BEFORE_PATH","subPathDepth","PUSH","INC_SUB_PATH_DEPTH","PUSH_SUB_PATH","IN_SUB_PATH","pathStateMachine","ERROR","AFTER_PATH","parsePath","pathCache","getPath","parseExpression","setPath","original","$set","saved","newlineRE","rewrite","allowedKeywordsRE","restoreRE","restore","compileGetter","improperKeywordsRE","saveRE","wsRE","identRE","makeGetterFn","compileSetter","needSet","expressionCache","isSimplePath","pathTestRE","booleanLiteralRE","resetBatcherState","queue","userQueue","has","circular","waiting","internalQueueDepleted","flushBatcherQueue","runBatcherQueue","watcher","run","pushWatcher","Watcher","expOrFn","isFn","uid$2","active","dirty","lazy","deps","newDeps","prevError","twoWay","queued","shallow","traverse","normalize","propCache","prefix","camel","upper","testEl","prefixed","prefixes","camelPrefixes","keyFilter","codes","charCode","keyCodes","keyCode","stopFilter","preventFilter","getValue","multi","init","selected","_value","indexOf$1","isRealTemplate","stringToFragment","templateString","templateCache","tagMatch","tagRE$1","entityMatch","entityRE","wrap","efault","depth","suffix","innerHTML","nodeToFragment","textContent","clonedNode","cloneNode","querySelectorAll","cloned","hasBrokenTemplate","tempClone","hasTextareaCloneBug","parseTemplate","shouldClone","idSelectorCache","getElementById","Fragment","linker","parentFrag","childFrags","inserted","unlink","childNodes","singleBefore","singleRemove","multiBefore","multiRemove","__vfrag__","withTransition","callHook","attach","shouldCallRemove","destroyChild","detach","destroy","$destroy","FragmentFactory","cid","cacheId","outerHTML","linkerCache","compile","findPrevFrag","previousSibling","forId","findVmFromFrag","__vue__","range","pushJob","job","queue$1","f","offsetHeight","Transition","enterClass","leaveClass","pendingCssEvent","pendingCssCb","pendingJsCb","justEntered","entered","left","typeCache","isHidden","offsetWidth","getClientRects","stringToObject","contains$1","compileProps","propOptions","attr","empty","identRE$1","propBindingModes","ONE_WAY","TWO_WAY","ONE_TIME","optimizedLiteral","parentPath","makePropsLinkFn","_props","getDefault","$get","_bindDir","propDef","partial","nodeLinkFn","_asComponent","compileNode","childLinkFn","terminal","compileNodeList","dirs","linkAndCapture","makeUnlinkFn","originalDirCount","sort","directiveComparator","_bind","descriptor","priority","DEFAULT_PRIORITY","contextDirs","destroying","teardownDirs","_teardown","$remove","compileAndLinkProps","propsLinkFn","propDirs","compileRoot","contextOptions","contextLinkFn","replacerLinkFn","containerAttrs","_containerAttrs","replacerAttrs","_replacerAttrs","compileDirectives","selfDirs","compileElement","compileTextNode","linkFn","checkTerminalDirectives","checkElementDirectives","checkComponent","_skip","removeText","wholeText","processTextToken","makeTextNodeLinkFn","setTokenType","publicDirectives","fragClone","$eval","nodeList","linkFns","makeChildLinkFn","childrenLinkFn","makeTerminalNodeLinkFn","ref","internalDirectives","modifiers","componentLinkFn","skip","previousElementSibling","dirName","terminalDirectives","pushDir","interp","rawName","rawValue","dirDef","parseModifiers","modifierRE","transitionRE","bindRE","onRE","on","argRE","makeNodeLinkFn","directives","transclude","extractAttrs","_content","transcludeTemplate","replacer","mergeAttrs","specialCharRE","stateMixin","noop","makeComputedGetter","owner","evaluate","newData","_setData","_initProps","_initMeta","_initMethods","_initData","_initComputed","_propsUnlinkFn","propsData","optionsDataFn","optionsData","oldData","removeVm","computed","userDef","metas","_meta","eventsMixin","registerComponentEvents","eventRE","$on","registerCallbacks","handlers","onAttached","callAttach","onDetached","callDetach","events","watch","_initDOMHooks","hook","$emit","Directive","_locked","_bound","_listeners","_host","lifecycleMixin","_ref","refs","_compile","_initElement","contentLinkFn","rootLinker","ctor","_linkerCachable","rootUnlinkFn","contentUnlinkFn","_destroy","deferCleanup","_cleanup","destroyReady","pendingRemoval","cleanupIfPossible","teardown","$off","miscMixin","_applyFilters","oldValue","write","offset","read","_resolveComponent","resolved","requested","pendingCallbacks","cbs","globalAPI","createClass","compiler","parsers","text$1","directive","extendOptions","Super","isFirstExtend","_Ctor","Sub","_assetTypes","plugin","installed","unshift","mixin","definition","dataAPI","clean","asStatement","$arguments","$delete","$watch","sync","immediate","filterRE","$interpolate","$log","domAPI","insert","op1","op2","targetIsDetached","shouldCallHook","append","beforeWithCb","removeWithCb","$nextTick","$appendTo","$prependTo","$before","$after","inDocument","realCb","eventsAPI","modifyListenerCount","hookRE","$once","shouldPropagate","$broadcast","$dispatch","lifecycleAPI","ready","$compile","limitBy","filterBy","delimiter","convertArray","reduce","$value","$key","orderBy","sortKey","reverse","order","extractFragment","main","__v_selected","inBrowser","isAndroid","transitionProp","animationProp","animationEndEvent","isWebkitTrans","ontransitionend","onwebkittransitionend","isWebkitAnim","onanimationend","onwebkitanimationend","nextTickHandler","pending","copies","callbacks","timerFunc","MutationObserver","counter","observer","textNode","characterData","entry","newer","older","returnEntry","freeze","warnExpressionErrors","_delimitersChanged","_propBindingModes","_maxUpdateCount","optionMergeStrategies","instanceData","defaultData","attached","detached","beforeCompile","beforeDestroy","destroyed","paramAttributes","arrayProto","addSub","sub","removeSub","addDep","getOwnPropertyNames","items","debounce","IN_PATH","BEFORE_IDENT","IN_IDENT","ws","ident","[","eof",".","0","number","'","\"","]","else","allowedKeywords","improperKeywords","beforeGet","preProcess","postProcess","afterGet","forContext","$forContext","alias","_withLock","$index","current","depIds","cloak","unbind","importantRE","cssText","handleObject","handleSingle","isImportant","setProperty","removeProperty","xlinkNS","xlinkRE","inputProps","checked","modelProps","true-value","false-value","disallowedInterpAttrRE","invalid","modelProp","model","__v_model","listener","setAttributeNS","esc","tab","enter","space","up","right","down","acceptStatement","iframeBind","contentWindow","prevent","reset","checkbox","getBooleanValue","_trueValue","_falseValue","_watcher","afterBind","select","forceUpdate","multiple","initValue","selectedIndex","radio","text$2","isRange","composing","focused","hasjQuery","jQuery","checkFilters","hasRead","hasWrite","_unbind","nextElementSibling","elseEl","display","legend","tr","col","td","th","option","optgroup","thead","tbody","colgroup","caption","tfoot","g","defs","symbol","image","circle","ellipse","line","polygon","polyline","rect","placeholder","vIf","elseFactory","elseFrag","uid$1","vFor","inMatch","itMatch","isOption","updateRef","updateModel","primitive","convertedFromObject","fromObject","trackByKey","trackBy","oldFrags","frags","getCachedFrag","reused","fresh","removalIndex","totalRemoved","deleteCachedFrag","targetPrev","prevEl","currentPrev","insertionIndex","staggerCb","staggerAnchor","move","parentScope","cacheFrag","staggerAmount","getStagger","total","trans","stagger","_preProcess","_postProcess","swap","for","if","TYPE_TRANSITION","TYPE_ANIMATION","transDurationProp","animDurationProp","p$1","cancelPending","callHookWithCb","enterCancelled","enterNextTick","enterDone","getCssTransitionType","setupCssCb","leave","leaveCancelled","leaveDone","leaveNextTick","hasPending","hidden","css","inlineStyles","computedStyles","getComputedStyle","transDuration","animDuration","onEnd","oldId","bindingModes","childKey","parentKey","parentWatcher","childWatcher","keepAlive","inlineTemplate","pendingComponentCb","Component","pendingRemovals","pendingRemovalCb","setComponent","invalidatePending","resolveComponent","mountComponent","unbuild","childVM","ComponentName","activateHook","activate","cached","getCached","newComponent","build","waitingFor","extraOptions","_isRouterView","defer","transitionMode","vClass","handleArray","cleanup","prevKeys","class","_setupParams","_checkStatement","_update","oldVal","mappedKey","_setupParamWatcher","unwatch","paramWatchers","_paramUnwatchFns","$event","listeners","unwatchFns","digitsRE","json","indent","capitalize","uppercase","lowercase","currency","_currency","isFinite","stringified","abs","toFixed","_int","_float","sign","delay","slot","fallback","slotName","selector","tryCompile","namedSlot","elementDirectives","_namedSlot","transitions","partials","getRGB","word","level","getAHashNum","getRatio","pow","MAGIC_NUMBER","char","COLOR_LIMITE","_logo","_logo2","loading","logo","removeTag","tagId","require","define","dependencies","fragments","fi","expose","typeOf","o","undef","inArray","ex","isEmptyObj","inSeries","callNext","inParallel","cbArgs","needle","arrayDiff","needles","arrayIntersect","array1","array2","guid","getTime","parseSizeStr","mul","muls","Basic","i18n","addI18n","pack","translate","sprintf","I18n","mimeData","Mime","mimes","extensions","addMimeType","ii","ext","extList2mimes","addMissingExtensions","mimes2exts","exts","mime","mimes2extList","accept","title","getFileExtension","fileName","matches","getFileMime","version_compare","v1","v2","compare","dev","alpha","beta","RC","rc","#","pl","prepVersion","numVersion","max","UAParser","EMPTY","UNKNOWN","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","MAJOR","NAME","VERSION","str1","str2","lowerize","mapper","rgx","regex","getUA","maps","browser","oldsafari","major","1","2","?","1.0","1.2","1.3","2.0","2.0.2","2.0.3","2.0.4","device","sprint","Evo Shift 4G","vendor","HTC","Sprint","os","windows","ME","NT 3.11","NT 4.0","2000","XP","Vista","7","8","8.1","RT","regexes","engine","uastring","ua","getBrowser","getEngine","getOS","getResult","setUA","can","caps","define_property","create_canvas","getContext","return_response_type","responseType","use_data_uri","du","Image","width","height","use_data_uri_over32kb","Env","use_data_uri_of","bytes","use_fileinput","cap","osVersion","verComp","swf_url","xap_url","global_event_dispatcher","OS","hasClass","regExp","$0","$2","getStyle","currentStyle","getPos","getIEPos","bodyElm","getBoundingClientRect","compatMode","scrollLeft","top","scrollTop","nodeRect","rootRect","offsetLeft","offsetTop","offsetParent","getSize","w","clientWidth","clientHeight","_findKey","RuntimeError","namecodes","NOT_INIT_ERR","NOT_SUPPORTED_ERR","JS_ERR","OperationNotAllowedException","NOT_ALLOWED_ERR","ImageError","WRONG_FORMAT","MAX_RESOLUTION_ERR","FileException","NOT_FOUND_ERR","SECURITY_ERR","ABORT_ERR","NOT_READABLE_ERR","ENCODING_ERR","NO_MODIFICATION_ALLOWED_ERR","INVALID_STATE_ERR","SYNTAX_ERR","DOMException","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","HIERARCHY_REQUEST_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","INUSE_ATTRIBUTE_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","VALIDATION_ERR","TYPE_MISMATCH_ERR","NETWORK_ERR","URL_MISMATCH_ERR","QUOTA_EXCEEDED_ERR","TIMEOUT_ERR","INVALID_NODE_TYPE_ERR","DATA_CLONE_ERR","EventException","UNSPECIFIED_EVENT_TYPE_ERR","EventTarget","eventpool","hasEventListener","removeAllEventListeners","dispatchEvent","tmpEvt","evt","err","unbindAll","trigger","convertEventPropsToHandlers","instance","utf8_encode","utf8_decode","str_data","decodeURIComponent","atob","utf8","o1","o2","o3","h1","h2","h3","h4","bits","b64","ac","dec","tmp_arr","btoa","enc","Dom","Runtime","modeCaps","preferredMode","_shim","defaultMode","runtimes","access_binary","access_image_binary","display_media","do_cors","drag_and_drop","filter_by_extension","resize_image","report_upload_progress","return_response_headers","return_status_code","send_custom_headers","select_file","select_folder","select_multiple","send_binary_string","send_browser_cookies","send_multipart","slice_blob","stream_upload","summon_file_dialog","upload_filesize","use_http_method","preferred_caps","getMode","objpool","comp","removeInstance","removeAllInstances","initialized","shimid","clients","refCaps","parseCaps","getShimContainer","container","shimContainer","position","overflow","getShim","shimExec","required_caps","runtimeConstructors","getRuntime","addConstructor","getConstructor","getInfo","runtime","capStr","capObj","thatCan","runtimeOrder","types","requiredCaps","capMode","capTrue","capFalse","capTest","expr","connectRuntime","initialize","ruid","runtime_order","disconnectRuntime","Encode","RuntimeClient","Blob","blob","_sliceDetached","blobpool","isDetached","getSource","File","file","lastIndexOf","lastModifiedDate","toLocaleString","FileInput","browseButton","browse_button","files","dispatches","pos","refresh","FileDrop","drop_zone","RuntimeTarget","FileReader","_read","readyState","DONE","loadEnd","_fr","LOADING","readAsBinaryString","readAsDataURL","readAsText","parseUrl","currentUrl","ports","https","uri","scheme","resolveUrl","urlp","hasSameOrigin","origin","txt","FormData","_blob","_fields","valueType","hasBlob","getBlob","getBlobName","field","FileReaderSync","XMLHttpRequestUpload","_p","_doXHR","_xhr","_upload_events_flag","upload","lengthComputable","httpCode","_responseHeaders","_error_flag","_upload_complete_flag","_url","_method","_async","_user","_password","_headers","mimeType","_mimeType","encoding","_encoding","withCredentials","_options","_start_time","_same_origin_flag","_reset","_timeoutset_time","_responseHeadersBag","UNSENT","responseXML","_sync_flag","_send_flag","_finalMime","_finalCharset","pass","OPENED","uaHeaders","getResponseHeader","pair","overrideMimeType","charset",100,101,102,200,201,202,203,204,205,206,207,226,300,301,302,303,304,305,306,307,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,422,423,424,426,500,501,502,503,504,505,506,507,510,"HEADERS_RECEIVED","Transporter","_size","_pos","_run","_runtime","IDLE","_transport","BUSY","chunk","bytesLeft","_chunk_size","mod","transport","chunk_size","_updateInfo","info","meta","_load","srcType","_loadFromImage","_loadFromBlob","_loadFromUrl","nodeName","img","exact","onloadend","clone","downsize","crop","preserveHeaders","MAX_RESIZE_WIDTH","MAX_RESIZE_HEIGHT","getAsCanvas","getAsBlob","quality","getAsDataURL","getAsBinaryString","dataUrl","embed","onResize","canvas","imgCopy","dimensions","Html5Runtime","I","Test","True","div","sendAsBinary","Uint8Array","ArrayBuffer","mozSlice","webkitSlice","HTML5Blob","w3cBlobSlice","blobSlice","returnValue","cancelBubble","eventhash","addEvent","attachEvent","srcElement","orig","removeEvent","detachEvent","removeAllEvents","Events","_files","zIndex","directory","click","onchange","onChange","getFiles","shim","_hasFiles","dataTransfer","_extractExts","_isAcceptable","_allowedExts","_readItems","entries","webkitGetAsEntry","isFile","getAsFile","_readEntries","cbcb","_readEntry","isDirectory","_readDirEntry","dirEntry","getEntries","dirReader","readEntries","moreEntries","createReader","dropZone","dropEffect","_toBinary","_convertToBinary","_preloadAndSend","fr","_getNativeXHR","progIDs","ActiveXObject","_getDocument","rXML","rText","validateOnParse","loadXML","parseError","_prepareMultipart","fd","boundary","dashdash","crlf","multipart","_filename","isGecko2_5_6","isAndroidBrowser","mustSendAsBinary","onreadystatechange","ui8a","buffer","getStatus","getResponse","disposition","idx","mv","II","sum","bin","putstr","segment","binData","SEGMENT","BYTE","SHORT","LONG","SLONG","STRING","BinaryReader","JPEGHeaders","marker","hex","strip","jpegHeaders","purge","extractTags","IFD_offset","tags2extract","tagOffset","offsets","tiffHeader","tagDescs","getIFDOffsets","IFD0","Tiff","tiff","exifIFD","ExifIFDPointer","gpsIFD","GPSInfoIFDPointer","setTag","ifd","valueOffset","tmpTags",274,270,271,272,34665,34853,"exif",36864,40961,40962,40963,36867,33434,33437,34855,37377,37378,37383,37384,37385,37386,41986,41987,41990,41988,41992,41993,41994,"gps",3,4,"ColorSpace","MeteringMode",5,6,255,"LightSource",9,10,11,12,13,14,15,17,18,19,20,21,22,23,24,"Flash",16,25,29,31,32,65,69,71,73,77,79,89,93,95,"ExposureMode","WhiteBalance","SceneCaptureType","Contrast","Saturation","Sharpness","GPSLatitudeRef","N","S","GPSLongitudeRef","E","W","TIFF","EXIF","Exif","ExifVersion","exifVersion","GPS","GPSVersionID","setExif","getBinary","ExifParser","JPEG","binstr","_getDimensions","_binstr","_br","_purge","_ep","_hm","_info","hasExif","writeHeaders","stripHeaders","PNG","_getChunkAt","CRC","signature","_img","_cs","renderImageToCanvas","iw","naturalWidth","ih","naturalHeight","detectSubsampling","tmpCanvas","tmpCtx","vertSquashRatio","detectVerticalSquash","sy","sh","sx","sw","clearRect","drawImage","dx","dw","dy","dh","getImageData","ey","py","ratio","isSubsampled","renderTo","ImageInfo","MegaPixel","HTML5Image","_getImg","_canvas","_toDataUrl","_preload","_readAsDataUrl","_downsize","scale","destWidth","destHeight","orientation","_preserveHeaders","Orientation","min","_rotateToOrientaion","_drawToCanvas","_modified","rotate","PI","_imgInfo","_binStr","me","loadFromBlob","asBinary","loadFromImage","toDataURL","PixelXDimension","PixelYDimension","getShimVersion","plugins","description","e1","GetVariable","e2","FlashRuntime","initTimer","FlashBlob","_formatData","_result","appendBlob","attachBlob","blobField","attachedBlob","frs","upload_complete_flag","srcBlob","isInstalled","actualVer","actualVerArray","reqVerArray","requiredVersionPart","actualVersionPart","isVersionSupported","control","IsVersionSupported","pop","SilverlightRuntime","Moxie","toFilters","flag","dragEnter","dragDrop","grps","rawInfo","grp","Html4Runtime","addInput","currForm","form","_mimes","fontSize","opacity","inputs","hasFile","_iframe","getElementsByTagName","_status","_response","createIframe","temp","contentDocument","frames","submit","execCommand","moxie","utils","addAlias","ns","itemType","Exceptions","mOxie","_qiniuJsSdk","_qiniuJsSdk2","_tag","_tag2","_loading","_loading2","github","company","jobTitle","introduction","allTags","remove-tag","newTags","remains","remain","found","tagTitle","gitHubUsername","setUserInfo","addTag","_this3","_this4","uptoken","bucketUrl","uploader","uptoken_url","flash_swf_url","unique_names","get_new_uptoken","max_file_size","max_retries","dragdrop","drop_element","auto_start","FilesAdded","BeforeUpload","UploadProgress","FileUploaded","getOption","sourceLink","errTip","UploadComplete","Key","_vue","_vue2","_nav","_nav2","_footer","_footer2","_setting","_setting2","my-nav","my-footer","setting","QiniuJsSDK","detectIEVersion","isImage","imageSuffixes","suffixMatch","filename","tempArr","argString","utftext","stringl","c1","RangeError","c2","base64_encode","URLSafeBase64Encode","createAjax","argument","xmlhttp","parseJSON","that","_Error_Handler","_FileUploaded_Handler","key_handler","reset_chunk_size","BLOCK_BITS","MAX_CHUNK_SIZE","isSpecialSafari","plupload","parseSize","getUpToken","ajax","getFileKey","save_key","settings","multipart_params","Uploader","directUpload","multipart_params_obj","x_vars","x_key","setOption","localFileInfo","blockSize","aDay","percent","required_features","Authorization","leftSize","FAILED","FILE_SIZE_ERROR","FILE_EXTENSION_ERROR","HTTP_ERROR","errorObj","errorText","SECURITY_ERROR","GENERIC_ERROR","IO_ERROR","INIT_ERROR","details","last_step","downtoken_url","ajax_downtoken","res_downtoken","info_extended","x_val","x_vars_url","getUrl","imageView2","imageUrl","imageMogr2","auto_orient","thumbnail","gravity","blur","watermark","font","fontsize","fill","dissolve","imageInfo","pipeline","errOp","fop","normalizeCaps","feature","strict","chunks","jpgresize","pngresize","progress","multi_selection","urlstream_upload","canSendBinary","triggerDialog","features","resize","fileFilters","STOPPED","STARTED","QUEUED","UPLOADING","FILE_DUPLICATE_ERROR","IMAGE_FORMAT_ERROR","MEMORY_ERROR","IMAGE_DIMENSIONS_ERROR","mimeTypes","els","xmlEncode","xmlEncodeChars","<",">","&","xmlEncodeRegExp","chr","cleanName","lookup","buildUrl","formatSize","precision","predictRuntime","addFileFilter","regexp","maxSize","uploadNext","calcFile","calc","origSize","uploaded","failed","bytesPerSec","startTime","getRUID","ctrl","fileInputs","fileDrops","runtimeCan","bindEventListeners","onCancelUpload","onBeforeUpload","onUploadFile","onUploadProgress","onStateChanged","onError","onFileUploaded","onDestroy","initControls","inited","silverlight_xap_url","fileInput","mime_types","file_data_name","onready","addFile","browse_button_hover","browse_button_active","fileDrop","ondrop","resizeImage","preserve_headers","onresize","_setOption","send_file_name","extensionsRegExp","prevent_duplicates","reinitRequired","target_name","handleError","retries","uploadNextChunk","responseHeaders","chunkBlob","formData","curChunkSize","chunkSize","send_chunk_number","resizedBlob","QueueProgress","preinit","disableBrowse","getFile","filterFile","rule","resolveFile","filesAdded","removeFile","restartRequired","PluploadFile","fileSize","getNative","filepool"],"mappings":"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","file":"setting.81ecbc0e95dcb868af68.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/static/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(143);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Utility functions.\n\t */\n\t\n\tvar _ = exports, array = [], console = window.console;\n\t\n\t_.warn = function (msg) {\n\t    if (console && _.warning && (!_.config.silent || _.config.debug)) {\n\t        console.warn('[VueResource warn]: ' + msg);\n\t    }\n\t};\n\t\n\t_.error = function (msg) {\n\t    if (console) {\n\t        console.error(msg);\n\t    }\n\t};\n\t\n\t_.trim = function (str) {\n\t    return str.replace(/^\\s*|\\s*$/g, '');\n\t};\n\t\n\t_.toLower = function (str) {\n\t    return str ? str.toLowerCase() : '';\n\t};\n\t\n\t_.isArray = Array.isArray;\n\t\n\t_.isString = function (val) {\n\t    return typeof val === 'string';\n\t};\n\t\n\t_.isFunction = function (val) {\n\t    return typeof val === 'function';\n\t};\n\t\n\t_.isObject = function (obj) {\n\t    return obj !== null && typeof obj === 'object';\n\t};\n\t\n\t_.isPlainObject = function (obj) {\n\t    return _.isObject(obj) && Object.getPrototypeOf(obj) == Object.prototype;\n\t};\n\t\n\t_.options = function (fn, obj, options) {\n\t\n\t    options = options || {};\n\t\n\t    if (_.isFunction(options)) {\n\t        options = options.call(obj);\n\t    }\n\t\n\t    return _.merge(fn.bind({$vm: obj, $options: options}), fn, {$options: options});\n\t};\n\t\n\t_.each = function (obj, iterator) {\n\t\n\t    var i, key;\n\t\n\t    if (typeof obj.length == 'number') {\n\t        for (i = 0; i < obj.length; i++) {\n\t            iterator.call(obj[i], obj[i], i);\n\t        }\n\t    } else if (_.isObject(obj)) {\n\t        for (key in obj) {\n\t            if (obj.hasOwnProperty(key)) {\n\t                iterator.call(obj[key], obj[key], key);\n\t            }\n\t        }\n\t    }\n\t\n\t    return obj;\n\t};\n\t\n\t_.defaults = function (target, source) {\n\t\n\t    for (var key in source) {\n\t        if (target[key] === undefined) {\n\t            target[key] = source[key];\n\t        }\n\t    }\n\t\n\t    return target;\n\t};\n\t\n\t_.extend = function (target) {\n\t\n\t    var args = array.slice.call(arguments, 1);\n\t\n\t    args.forEach(function (arg) {\n\t        merge(target, arg);\n\t    });\n\t\n\t    return target;\n\t};\n\t\n\t_.merge = function (target) {\n\t\n\t    var args = array.slice.call(arguments, 1);\n\t\n\t    args.forEach(function (arg) {\n\t        merge(target, arg, true);\n\t    });\n\t\n\t    return target;\n\t};\n\t\n\tfunction merge(target, source, deep) {\n\t    for (var key in source) {\n\t        if (deep && (_.isPlainObject(source[key]) || _.isArray(source[key]))) {\n\t            if (_.isPlainObject(source[key]) && !_.isPlainObject(target[key])) {\n\t                target[key] = {};\n\t            }\n\t            if (_.isArray(source[key]) && !_.isArray(target[key])) {\n\t                target[key] = [];\n\t            }\n\t            merge(target[key], source[key], deep);\n\t        } else if (source[key] !== undefined) {\n\t            target[key] = source[key];\n\t        }\n\t    }\n\t}\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _stringify = __webpack_require__(6);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _vueResource = __webpack_require__(62);\n\t\n\tvar _vueResource2 = _interopRequireDefault(_vueResource);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t//  import  undefined \n\tvar filters = __webpack_require__(25);\n\t\n\texports.filterError = function (component, res) {\n\t  if (res.data.code != 0) {\n\t    var nav = component.$root.$children[0];\n\t    nav.show('error', res.data.error);\n\t    return false;\n\t  } else {\n\t    return true;\n\t  }\n\t};\n\t\n\texports.httpErrorFn = function (component) {\n\t  return function (res) {\n\t    component.$root.$children[0].show('error', res.statusText);\n\t  };\n\t};\n\t\n\texports.escape = function (html) {\n\t  html = html || '';\n\t  return html.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;');\n\t};\n\t\n\texports.show = function (component, type, text) {\n\t  component.$root.$children[0].show(type, text);\n\t};\n\t\n\texports.updateNavUser = function (component, user) {\n\t  var nav = component.$root.$children[0];\n\t  window.localStorage.setItem('user', (0, _stringify2.default)(user));\n\t  nav.user = user;\n\t  nav.userStatus = true;\n\t};\n\t\n\tfunction transformToAssocArray(prmstr) {\n\t  var params = {};\n\t  var prmarr = prmstr.split(\"&\");\n\t  for (var i = 0; i < prmarr.length; i++) {\n\t    var tmparr = prmarr[i].split(\"=\");\n\t    params[tmparr[0]] = tmparr[1];\n\t  }\n\t  return params;\n\t}\n\t\n\texports.getSearchParameters = function () {\n\t  var prmstr = window.location.search.substr(1);\n\t  return prmstr != null && prmstr != \"\" ? transformToAssocArray(prmstr) : {};\n\t};\n\t\n\texports.configVue = function (Vue) {\n\t\n\t  Vue.config.debug = true;\n\t  Vue.use(_vueResource2.default);\n\t  Vue.http.options.root = '/api';\n\t  Vue.http.options.emulateJSON = true;\n\t  Vue.http.options.timeout = 1000 * 15;\n\t\n\t  //  debug \n\t  localStorage.debug = 'api,user,components,setting,reviewer-list,home,reviewer-detail,order-form,' + 'order,write-review,tag,markdown-area,markdown,article,reward-form,loading,order-detail,case';\n\t\n\t  // register filters globally\n\t  for (var k in filters) {\n\t    Vue.filter(k, filters[k]);\n\t  }\n\t};\n\t\n\texports.getLocalUser = function () {\n\t  var str = window.localStorage.getItem('user');\n\t  if (str) {\n\t    return JSON.parse(str);\n\t  } else {\n\t    return {};\n\t  }\n\t};\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/**\n\t * This is the web browser implementation of `debug()`.\n\t *\n\t * Expose `debug()` as the module.\n\t */\n\t\n\texports = module.exports = __webpack_require__(27);\n\texports.log = log;\n\texports.formatArgs = formatArgs;\n\texports.save = save;\n\texports.load = load;\n\texports.useColors = useColors;\n\texports.storage = 'undefined' != typeof chrome\n\t               && 'undefined' != typeof chrome.storage\n\t                  ? chrome.storage.local\n\t                  : localstorage();\n\t\n\t/**\n\t * Colors.\n\t */\n\t\n\texports.colors = [\n\t  'lightseagreen',\n\t  'forestgreen',\n\t  'goldenrod',\n\t  'dodgerblue',\n\t  'darkorchid',\n\t  'crimson'\n\t];\n\t\n\t/**\n\t * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n\t * and the Firebug extension (any Firefox version) are known\n\t * to support \"%c\" CSS customizations.\n\t *\n\t * TODO: add a `localStorage` variable to explicitly enable/disable colors\n\t */\n\t\n\tfunction useColors() {\n\t  // is webkit? http://stackoverflow.com/a/16459606/376773\n\t  return ('WebkitAppearance' in document.documentElement.style) ||\n\t    // is firebug? http://stackoverflow.com/a/398120/376773\n\t    (window.console && (console.firebug || (console.exception && console.table))) ||\n\t    // is firefox >= v31?\n\t    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n\t}\n\t\n\t/**\n\t * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n\t */\n\t\n\texports.formatters.j = function(v) {\n\t  return JSON.stringify(v);\n\t};\n\t\n\t\n\t/**\n\t * Colorize log arguments if enabled.\n\t *\n\t * @api public\n\t */\n\t\n\tfunction formatArgs() {\n\t  var args = arguments;\n\t  var useColors = this.useColors;\n\t\n\t  args[0] = (useColors ? '%c' : '')\n\t    + this.namespace\n\t    + (useColors ? ' %c' : ' ')\n\t    + args[0]\n\t    + (useColors ? '%c ' : ' ')\n\t    + '+' + exports.humanize(this.diff);\n\t\n\t  if (!useColors) return args;\n\t\n\t  var c = 'color: ' + this.color;\n\t  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\t\n\t  // the final \"%c\" is somewhat tricky, because there could be other\n\t  // arguments passed either before or after the %c, so we need to\n\t  // figure out the correct index to insert the CSS into\n\t  var index = 0;\n\t  var lastC = 0;\n\t  args[0].replace(/%[a-z%]/g, function(match) {\n\t    if ('%%' === match) return;\n\t    index++;\n\t    if ('%c' === match) {\n\t      // we only are interested in the *last* %c\n\t      // (the user may have provided their own)\n\t      lastC = index;\n\t    }\n\t  });\n\t\n\t  args.splice(lastC, 0, c);\n\t  return args;\n\t}\n\t\n\t/**\n\t * Invokes `console.log()` when available.\n\t * No-op when `console.log` is not a \"function\".\n\t *\n\t * @api public\n\t */\n\t\n\tfunction log() {\n\t  // this hackery is required for IE8/9, where\n\t  // the `console.log` function doesn't have 'apply'\n\t  return 'object' === typeof console\n\t    && console.log\n\t    && Function.prototype.apply.call(console.log, console, arguments);\n\t}\n\t\n\t/**\n\t * Save `namespaces`.\n\t *\n\t * @param {String} namespaces\n\t * @api private\n\t */\n\t\n\tfunction save(namespaces) {\n\t  try {\n\t    if (null == namespaces) {\n\t      exports.storage.removeItem('debug');\n\t    } else {\n\t      exports.storage.debug = namespaces;\n\t    }\n\t  } catch(e) {}\n\t}\n\t\n\t/**\n\t * Load `namespaces`.\n\t *\n\t * @return {String} returns the previously persisted debug modes\n\t * @api private\n\t */\n\t\n\tfunction load() {\n\t  var r;\n\t  try {\n\t    r = exports.storage.debug;\n\t  } catch(e) {}\n\t  return r;\n\t}\n\t\n\t/**\n\t * Enable namespaces listed in `localStorage.debug` initially.\n\t */\n\t\n\texports.enable(load());\n\t\n\t/**\n\t * Localstorage attempts to return the localstorage.\n\t *\n\t * This is necessary because safari throws\n\t * when a user disables cookies/localstorage\n\t * and you attempt to access it.\n\t *\n\t * @return {LocalStorage}\n\t * @api private\n\t */\n\t\n\tfunction localstorage(){\n\t  try {\n\t    return window.localStorage;\n\t  } catch (e) {}\n\t}\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Promise adapter.\n\t */\n\t\n\tvar _ = __webpack_require__(1);\n\tvar PromiseObj = window.Promise || __webpack_require__(63);\n\t\n\tfunction Promise(executor, context) {\n\t\n\t    if (executor instanceof PromiseObj) {\n\t        this.promise = executor;\n\t    } else {\n\t        this.promise = new PromiseObj(executor.bind(context));\n\t    }\n\t\n\t    this.context = context;\n\t}\n\t\n\tPromise.all = function (iterable, context) {\n\t    return new Promise(PromiseObj.all(iterable), context);\n\t};\n\t\n\tPromise.resolve = function (value, context) {\n\t    return new Promise(PromiseObj.resolve(value), context);\n\t};\n\t\n\tPromise.reject = function (reason, context) {\n\t    return new Promise(PromiseObj.reject(reason), context);\n\t};\n\t\n\tPromise.race = function (iterable, context) {\n\t    return new Promise(PromiseObj.race(iterable), context);\n\t};\n\t\n\tvar p = Promise.prototype;\n\t\n\tp.bind = function (context) {\n\t    this.context = context;\n\t    return this;\n\t};\n\t\n\tp.then = function (fulfilled, rejected) {\n\t\n\t    if (fulfilled && fulfilled.bind && this.context) {\n\t        fulfilled = fulfilled.bind(this.context);\n\t    }\n\t\n\t    if (rejected && rejected.bind && this.context) {\n\t        rejected = rejected.bind(this.context);\n\t    }\n\t\n\t    this.promise = this.promise.then(fulfilled, rejected);\n\t\n\t    return this;\n\t};\n\t\n\tp.catch = function (rejected) {\n\t\n\t    if (rejected && rejected.bind && this.context) {\n\t        rejected = rejected.bind(this.context);\n\t    }\n\t\n\t    this.promise = this.promise.catch(rejected);\n\t\n\t    return this;\n\t};\n\t\n\tp.finally = function (callback) {\n\t\n\t    return this.then(function (value) {\n\t            callback.call(this);\n\t            return value;\n\t        }, function (reason) {\n\t            callback.call(this);\n\t            return PromiseObj.reject(reason);\n\t        }\n\t    );\n\t};\n\t\n\tp.success = function (callback) {\n\t\n\t    _.warn('The `success` method has been deprecated. Use the `then` method instead.');\n\t\n\t    return this.then(function (response) {\n\t        return callback.call(this, response.data, response.status, response) || response;\n\t    });\n\t};\n\t\n\tp.error = function (callback) {\n\t\n\t    _.warn('The `error` method has been deprecated. Use the `catch` method instead.');\n\t\n\t    return this.catch(function (response) {\n\t        return callback.call(this, response.data, response.status, response) || response;\n\t    });\n\t};\n\t\n\tp.always = function (callback) {\n\t\n\t    _.warn('The `always` method has been deprecated. Use the `finally` method instead.');\n\t\n\t    var cb = function (response) {\n\t        return callback.call(this, response.data, response.status, response) || response;\n\t    };\n\t\n\t    return this.then(cb, cb);\n\t};\n\t\n\tmodule.exports = Promise;\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t *\n\t * @authors Your Name (you@example.org)\n\t * @date    2015-12-28 22:43:14\n\t * @version $Id$\n\t */\n\t\n\texports.default = {\n\t    logout: 'user/logout',\n\t    login: 'user/login',\n\t    register: 'user/register',\n\t    userStatus: 'user/self',\n\t    reviewers: 'reviewers',\n\t    updateUser: 'user',\n\t    qiniu: 'qiniu/token',\n\t    tags: 'tags',\n\t    userTag: 'user/tags',\n\t    userTagDelete: 'user/tags/:id',\n\t    reviewerView: 'reviewers/:id',\n\t    reviewerReviews: 'reviewers/:id/reviews',\n\t    ordersAdd: 'orders',\n\t    ordersList: 'user/orders',\n\t    ordersView: 'orders/:id',\n\t    ordersReward: 'orders/:id/reward',\n\t    ordersReview: 'orders/:id/review',\n\t    reviewsAdd: 'reviews',\n\t    reviewsEdit: 'reviews/:id', // post\n\t    reviewsView: 'reviews/:id', // get\n\t    reviewsGet: 'reviews'\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(26), __esModule: true };\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/*\n\t * JavaScript MD5 1.0.1\n\t * https://github.com/blueimp/JavaScript-MD5\n\t *\n\t * Copyright 2011, Sebastian Tschan\n\t * https://blueimp.net\n\t *\n\t * Licensed under the MIT license:\n\t * http://www.opensource.org/licenses/MIT\n\t * \n\t * Based on\n\t * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n\t * Digest Algorithm, as defined in RFC 1321.\n\t * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n\t * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n\t * Distributed under the BSD License\n\t * See http://pajhome.org.uk/crypt/md5 for more info.\n\t */\n\t\n\t/*jslint bitwise: true */\n\t/*global unescape, define */\n\t\n\t(function ($) {\n\t    'use strict';\n\t\n\t    /*\n\t    * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n\t    * to work around bugs in some JS interpreters.\n\t    */\n\t    function safe_add(x, y) {\n\t        var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n\t            msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n\t        return (msw << 16) | (lsw & 0xFFFF);\n\t    }\n\t\n\t    /*\n\t    * Bitwise rotate a 32-bit number to the left.\n\t    */\n\t    function bit_rol(num, cnt) {\n\t        return (num << cnt) | (num >>> (32 - cnt));\n\t    }\n\t\n\t    /*\n\t    * These functions implement the four basic operations the algorithm uses.\n\t    */\n\t    function md5_cmn(q, a, b, x, s, t) {\n\t        return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b);\n\t    }\n\t    function md5_ff(a, b, c, d, x, s, t) {\n\t        return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);\n\t    }\n\t    function md5_gg(a, b, c, d, x, s, t) {\n\t        return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);\n\t    }\n\t    function md5_hh(a, b, c, d, x, s, t) {\n\t        return md5_cmn(b ^ c ^ d, a, b, x, s, t);\n\t    }\n\t    function md5_ii(a, b, c, d, x, s, t) {\n\t        return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);\n\t    }\n\t\n\t    /*\n\t    * Calculate the MD5 of an array of little-endian words, and a bit length.\n\t    */\n\t    function binl_md5(x, len) {\n\t        /* append padding */\n\t        x[len >> 5] |= 0x80 << (len % 32);\n\t        x[(((len + 64) >>> 9) << 4) + 14] = len;\n\t\n\t        var i, olda, oldb, oldc, oldd,\n\t            a =  1732584193,\n\t            b = -271733879,\n\t            c = -1732584194,\n\t            d =  271733878;\n\t\n\t        for (i = 0; i < x.length; i += 16) {\n\t            olda = a;\n\t            oldb = b;\n\t            oldc = c;\n\t            oldd = d;\n\t\n\t            a = md5_ff(a, b, c, d, x[i],       7, -680876936);\n\t            d = md5_ff(d, a, b, c, x[i +  1], 12, -389564586);\n\t            c = md5_ff(c, d, a, b, x[i +  2], 17,  606105819);\n\t            b = md5_ff(b, c, d, a, x[i +  3], 22, -1044525330);\n\t            a = md5_ff(a, b, c, d, x[i +  4],  7, -176418897);\n\t            d = md5_ff(d, a, b, c, x[i +  5], 12,  1200080426);\n\t            c = md5_ff(c, d, a, b, x[i +  6], 17, -1473231341);\n\t            b = md5_ff(b, c, d, a, x[i +  7], 22, -45705983);\n\t            a = md5_ff(a, b, c, d, x[i +  8],  7,  1770035416);\n\t            d = md5_ff(d, a, b, c, x[i +  9], 12, -1958414417);\n\t            c = md5_ff(c, d, a, b, x[i + 10], 17, -42063);\n\t            b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);\n\t            a = md5_ff(a, b, c, d, x[i + 12],  7,  1804603682);\n\t            d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101);\n\t            c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);\n\t            b = md5_ff(b, c, d, a, x[i + 15], 22,  1236535329);\n\t\n\t            a = md5_gg(a, b, c, d, x[i +  1],  5, -165796510);\n\t            d = md5_gg(d, a, b, c, x[i +  6],  9, -1069501632);\n\t            c = md5_gg(c, d, a, b, x[i + 11], 14,  643717713);\n\t            b = md5_gg(b, c, d, a, x[i],      20, -373897302);\n\t            a = md5_gg(a, b, c, d, x[i +  5],  5, -701558691);\n\t            d = md5_gg(d, a, b, c, x[i + 10],  9,  38016083);\n\t            c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335);\n\t            b = md5_gg(b, c, d, a, x[i +  4], 20, -405537848);\n\t            a = md5_gg(a, b, c, d, x[i +  9],  5,  568446438);\n\t            d = md5_gg(d, a, b, c, x[i + 14],  9, -1019803690);\n\t            c = md5_gg(c, d, a, b, x[i +  3], 14, -187363961);\n\t            b = md5_gg(b, c, d, a, x[i +  8], 20,  1163531501);\n\t            a = md5_gg(a, b, c, d, x[i + 13],  5, -1444681467);\n\t            d = md5_gg(d, a, b, c, x[i +  2],  9, -51403784);\n\t            c = md5_gg(c, d, a, b, x[i +  7], 14,  1735328473);\n\t            b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);\n\t\n\t            a = md5_hh(a, b, c, d, x[i +  5],  4, -378558);\n\t            d = md5_hh(d, a, b, c, x[i +  8], 11, -2022574463);\n\t            c = md5_hh(c, d, a, b, x[i + 11], 16,  1839030562);\n\t            b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556);\n\t            a = md5_hh(a, b, c, d, x[i +  1],  4, -1530992060);\n\t            d = md5_hh(d, a, b, c, x[i +  4], 11,  1272893353);\n\t            c = md5_hh(c, d, a, b, x[i +  7], 16, -155497632);\n\t            b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);\n\t            a = md5_hh(a, b, c, d, x[i + 13],  4,  681279174);\n\t            d = md5_hh(d, a, b, c, x[i],      11, -358537222);\n\t            c = md5_hh(c, d, a, b, x[i +  3], 16, -722521979);\n\t            b = md5_hh(b, c, d, a, x[i +  6], 23,  76029189);\n\t            a = md5_hh(a, b, c, d, x[i +  9],  4, -640364487);\n\t            d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835);\n\t            c = md5_hh(c, d, a, b, x[i + 15], 16,  530742520);\n\t            b = md5_hh(b, c, d, a, x[i +  2], 23, -995338651);\n\t\n\t            a = md5_ii(a, b, c, d, x[i],       6, -198630844);\n\t            d = md5_ii(d, a, b, c, x[i +  7], 10,  1126891415);\n\t            c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);\n\t            b = md5_ii(b, c, d, a, x[i +  5], 21, -57434055);\n\t            a = md5_ii(a, b, c, d, x[i + 12],  6,  1700485571);\n\t            d = md5_ii(d, a, b, c, x[i +  3], 10, -1894986606);\n\t            c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523);\n\t            b = md5_ii(b, c, d, a, x[i +  1], 21, -2054922799);\n\t            a = md5_ii(a, b, c, d, x[i +  8],  6,  1873313359);\n\t            d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744);\n\t            c = md5_ii(c, d, a, b, x[i +  6], 15, -1560198380);\n\t            b = md5_ii(b, c, d, a, x[i + 13], 21,  1309151649);\n\t            a = md5_ii(a, b, c, d, x[i +  4],  6, -145523070);\n\t            d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);\n\t            c = md5_ii(c, d, a, b, x[i +  2], 15,  718787259);\n\t            b = md5_ii(b, c, d, a, x[i +  9], 21, -343485551);\n\t\n\t            a = safe_add(a, olda);\n\t            b = safe_add(b, oldb);\n\t            c = safe_add(c, oldc);\n\t            d = safe_add(d, oldd);\n\t        }\n\t        return [a, b, c, d];\n\t    }\n\t\n\t    /*\n\t    * Convert an array of little-endian words to a string\n\t    */\n\t    function binl2rstr(input) {\n\t        var i,\n\t            output = '';\n\t        for (i = 0; i < input.length * 32; i += 8) {\n\t            output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xFF);\n\t        }\n\t        return output;\n\t    }\n\t\n\t    /*\n\t    * Convert a raw string to an array of little-endian words\n\t    * Characters >255 have their high-byte silently ignored.\n\t    */\n\t    function rstr2binl(input) {\n\t        var i,\n\t            output = [];\n\t        output[(input.length >> 2) - 1] = undefined;\n\t        for (i = 0; i < output.length; i += 1) {\n\t            output[i] = 0;\n\t        }\n\t        for (i = 0; i < input.length * 8; i += 8) {\n\t            output[i >> 5] |= (input.charCodeAt(i / 8) & 0xFF) << (i % 32);\n\t        }\n\t        return output;\n\t    }\n\t\n\t    /*\n\t    * Calculate the MD5 of a raw string\n\t    */\n\t    function rstr_md5(s) {\n\t        return binl2rstr(binl_md5(rstr2binl(s), s.length * 8));\n\t    }\n\t\n\t    /*\n\t    * Calculate the HMAC-MD5, of a key and some data (raw strings)\n\t    */\n\t    function rstr_hmac_md5(key, data) {\n\t        var i,\n\t            bkey = rstr2binl(key),\n\t            ipad = [],\n\t            opad = [],\n\t            hash;\n\t        ipad[15] = opad[15] = undefined;\n\t        if (bkey.length > 16) {\n\t            bkey = binl_md5(bkey, key.length * 8);\n\t        }\n\t        for (i = 0; i < 16; i += 1) {\n\t            ipad[i] = bkey[i] ^ 0x36363636;\n\t            opad[i] = bkey[i] ^ 0x5C5C5C5C;\n\t        }\n\t        hash = binl_md5(ipad.concat(rstr2binl(data)), 512 + data.length * 8);\n\t        return binl2rstr(binl_md5(opad.concat(hash), 512 + 128));\n\t    }\n\t\n\t    /*\n\t    * Convert a raw string to a hex string\n\t    */\n\t    function rstr2hex(input) {\n\t        var hex_tab = '0123456789abcdef',\n\t            output = '',\n\t            x,\n\t            i;\n\t        for (i = 0; i < input.length; i += 1) {\n\t            x = input.charCodeAt(i);\n\t            output += hex_tab.charAt((x >>> 4) & 0x0F) +\n\t                hex_tab.charAt(x & 0x0F);\n\t        }\n\t        return output;\n\t    }\n\t\n\t    /*\n\t    * Encode a string as utf-8\n\t    */\n\t    function str2rstr_utf8(input) {\n\t        return unescape(encodeURIComponent(input));\n\t    }\n\t\n\t    /*\n\t    * Take string arguments and return either raw or hex encoded strings\n\t    */\n\t    function raw_md5(s) {\n\t        return rstr_md5(str2rstr_utf8(s));\n\t    }\n\t    function hex_md5(s) {\n\t        return rstr2hex(raw_md5(s));\n\t    }\n\t    function raw_hmac_md5(k, d) {\n\t        return rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d));\n\t    }\n\t    function hex_hmac_md5(k, d) {\n\t        return rstr2hex(raw_hmac_md5(k, d));\n\t    }\n\t\n\t    function md5(string, key, raw) {\n\t        if (!key) {\n\t            if (!raw) {\n\t                return hex_md5(string);\n\t            }\n\t            return raw_md5(string);\n\t        }\n\t        if (!raw) {\n\t            return hex_hmac_md5(key, string);\n\t        }\n\t        return raw_hmac_md5(key, string);\n\t    }\n\t\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_RESULT__ = function () {\n\t            return md5;\n\t        }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else {\n\t        $.md5 = md5;\n\t    }\n\t}(this));\n\n\n/***/ },\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(31)\n\tmodule.exports = __webpack_require__(20)\n\t\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\t;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __webpack_require__(39)\n\tif (false) {(function () {  module.hot.accept()\n\t  var hotAPI = require(\"vue-hot-reload-api\")\n\t  hotAPI.install(require(\"vue\"), true)\n\t  if (!hotAPI.compatible) return\n\t  var id = \"/Users/yuqiu/github/code-review-web/src/components/overlay.vue\"\n\t  if (!module.hot.data) {\n\t    hotAPI.createRecord(id, module.exports)\n\t  } else {\n\t    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n\t  }\n\t})()}\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(30)\n\tmodule.exports = __webpack_require__(22)\n\t\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\t;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __webpack_require__(41)\n\tif (false) {(function () {  module.hot.accept()\n\t  var hotAPI = require(\"vue-hot-reload-api\")\n\t  hotAPI.install(require(\"vue\"), true)\n\t  if (!hotAPI.compatible) return\n\t  var id = \"/Users/yuqiu/github/code-review-web/src/components/user-avatar.vue\"\n\t  if (!module.hot.data) {\n\t    hotAPI.createRecord(id, module.exports)\n\t  } else {\n\t    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n\t  }\n\t})()}\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tvar core = module.exports = {version: '1.2.6'};\n\tif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// <template>\n\t//   <div class=\"dropdown\">\n\t\n\t//     <div class=\"dropdown-mask\" @click=\"show=!show\">\n\t//       <slot name=\"showText\"></slot>\n\t//     </div>\n\t//     <div class=\"dropdown-inner\" @click=\"choose\" v-show=\"show\">\n\t//       <slot name=\"options\"></slot>\n\t//     </div>\n\t//     </div>\n\t//   </div>\n\t// </template>\n\t\n\t// <script>\n\tmodule.exports = {\n\t  data: function data() {\n\t    return {\n\t      show: false\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    choose: function choose(e) {\n\t      var el = e.target;\n\t      if (el.classList.contains('dropdown-item')) {\n\t        this.show = false;\n\t      }\n\t    }\n\t  }\n\t};\n\t// </script>\n\t\n\t// <style lang=\"stylus\">\n\t//   .dropdown\n\t//     position relative\n\t//     width 100%\n\t//     height 100%\n\t//   .dropdown-mask\n\t//     width 100%\n\t//     height 100%\n\t//     background transparent\n\t//   .dropdown-inner\n\t//     position absolute\n\t//     top 100%\n\t//     margin-top 20px\n\t//     background-color white\n\t//     background-clip padding-box\n\t//     padding 6px 0\n\t//     border 1px solid rgba(0, 0, 0, 0.18)\n\t//     box-shadow 0 3px 13px rgba(0, 0, 0, 0.18)\n\t//     border-radius 3px\n\t//     z-index 11\n\t//     padding 10px 20px\n\t//     &:before, &:after\n\t//       position absolute\n\t//       left 50%\n\t//       margin-left -8px\n\t//       content ''\n\t//       display block\n\t//       border 8px solid transparent\n\t//     &:before\n\t//       top -16px\n\t//       border-bottom-color rgba(0, 0, 0, 0.18)\n\t//     &:after\n\t//       top -15px\n\t//       border-bottom-color white\n\t//     .dropdown-item\n\t//       padding 20px\n\t//       position relative\n\t//       color #282F31\n\t//       display block\n\t//       font-size 14px\n\t//       font-weight 700\n\t//       padding 2px 5px 2px 13px\n\t//       margin-bottom 3px\n\t//       z-index: 20;\n\t//       &:last-child\n\t//         opacity 0.6\n\t//       &:hover\n\t//         color #00BDEF\n\t//         &:last-child\n\t//           opacity 0.6\n\t//           color #EF0031\n\t//     .dropdown-divider\n\t//       border-top: 1px solid #ddd\n\t//       opacity 0.75\n\t//       margin: 8px 0\n\t//     .avatar\n\t//       margin-left 14px\n\t//     .name\n\t//       position relative\n\t//       margin-left 54px\n\t//       margin-top -38px\n\t// </style>\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// <template>\n\t// \t<section class=\"login\" @click=\"stop($event)\">\n\t// \t\t<button type=\"button\" class=\"cancel\" @click=\"cancel\"></button>\n\t// \t\t<h2> Code Review</h2>\n\t// \t\t<div class=\"form\">\n\t// \t\t\t<ul class=\"row\">\n\t// \t\t\t\t<li>\n\t// \t\t\t\t\t<input type=\"text\" class=\"phone\" v-model=\"phone\" placeholder=\"\">\n\t// \t\t\t\t</li>\n\t// \t\t\t\t<li>\n\t// \t\t\t\t\t<input type=\"password\"  class=\"password\" v-model=\"password\" placeholder=\"\">\n\t// \t\t\t\t</li>\n\t// \t\t\t</ul>\n\t// \t\t\t<button type=\"button\" @click=\"login\"></button>\n\t// <!-- \t\t\t<p></p> -->\n\t// \t\t</div>\n\t// \t\t<p style=\"padding-top: 30px;\"><strong></strong></p>\n\t// \t</section>\n\t// </template>\n\t// <script>\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _blueimpMd = __webpack_require__(7);\n\t\n\tvar _blueimpMd2 = _interopRequireDefault(_blueimpMd);\n\t\n\tvar _util = __webpack_require__(2);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _serviceUrl = __webpack_require__(5);\n\t\n\tvar _serviceUrl2 = _interopRequireDefault(_serviceUrl);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar debug = __webpack_require__(3)('components');\n\tdebug(_util2.default);\n\texports.default = {\n\t\tdata: function data() {\n\t\t\treturn {\n\t\t\t\tphone: '13261630925',\n\t\t\t\tpassword: '123456'\n\t\t\t};\n\t\t},\n\t\n\t\tmethods: {\n\t\t\tstop: function stop(e) {\n\t\t\t\te.stopPropagation();\n\t\t\t},\n\t\t\tcancel: function cancel() {\n\t\t\t\tthis.$parent.overlay = false;\n\t\t\t},\n\t\t\tlogin: function login() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tthis.$http.post(_serviceUrl2.default.login, {\n\t\t\t\t\tmobilePhoneNumber: this.phone,\n\t\t\t\t\tpassword: (0, _blueimpMd2.default)(this.password)\n\t\t\t\t}, {\n\t\t\t\t\temulateJSON: true\n\t\t\t\t}).then(function (res) {\n\t\t\t\t\tif (_util2.default.filterError(_this, res)) {\n\t\t\t\t\t\t_this.$parent.overlay = false;\n\t\t\t\t\t\t_util2.default.updateNavUser(_this, res.data.result);\n\t\t\t\t\t}\n\t\t\t\t}, _util2.default.httpErrorFn(this));\n\t\t\t}\n\t\t}\n\t};\n\t// </script>\n\t// <style lang=\"stylus\">\n\t// blue = #00BDEF\n\n\t// green = #33C96F\n\n\t// \t.login\n\t// \t\tbackground white\n\t// \t\twidth 500px\n\t// \t\theight 500px\n\t// \t\tpadding 50px\n\t// \t\tposition absolute\n\t// \t\tleft 50%\n\t// \t\ttop 50%\n\t// \t\tmargin -250px 0 0 -250px\n\t// \t\t.cancel\n\t// \t\t\tposition absolute\n\t// \t\t\tright 20px\n\t// \t\t\ttop 20px\n\t// \t\tp\n\t// \t\t\tfont-size 0.8rem\n\t// \t\t\ttext-align center\n\t// \t\t\tstrong\n\t// \t\t\t\tcolor blue\n\t// \t\th2\n\t// \t\t\tfont-size 1.5rem\n\t// \t\t\ttext-align center\n\t// \t\t.form\n\t// \t\t\tborder-top 1px solid #E9EAEC\n\t// \t\t\tborder-bottom 1px solid #E9EAEC\n\t// \t\t\tpadding 30px 0\n\t// \t\t\tmargin-top 20px\n\t// \t\t\tp\n\t// \t\t\t\tcolor blue\n\t// \t\t\t\tmargin-bottom 10px\n\t// \t\t\tbutton\n\t// \t\t\t\twidth 100%\n\t// \t\t\t\theight 55px\n\t// \t\t\t\tcolor white\n\t// \t\t\t\tfont-size 1rem\n\t// \t\t\t\ttext-align center\n\t// \t\t\t\tline-height 55px\n\t// \t\t\t\tbackground green\n\t// \t\t\t\tborder-radius 3px\n\t// \t\t\t\tmargin-top 50px\n\t// \t\t\t\tmargin-bottom 30px\n\t// \t\t.row\n\t// \t\t\twidth 100%\n\t// \t\t\theight 116px\n\t// \t\t\tborder 1px solid rgba(40,47,49,.3)\n\t// \t\t\tborder-radius 3px\n\t// \t\t\tli\n\t// \t\t\t\theight 57px\n\t// \t\t\t\tpadding-left 30px\n\t// \t\t\tli:first-child\n\t// \t\t\t\tborder-bottom 1px solid rgba(40,47,49,.3)\n\t// \t\t\tinput\n\t// \t\t\t\twidth 100%\n\t// \t\t\t\theight 55px\n\t// \t\t\t\tmargin-top 1px\n\t// \t\t\t\tborder none\n\t// \t\t\t\toutline none\n\n\t// </style>\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// <template>\n\t//   <div class=\"overlay\" @click=\"hide\" v-show=\"overlay\">\n\t//     <slot></slot>\n\t//   </div>\n\t// </template>\n\t\n\t// <script>\n\tmodule.exports = {\n\t  props: ['overlay'],\n\t  methods: {\n\t    hide: function hide() {\n\t      this.overlay = false;\n\t    }\n\t  }\n\t};\n\t// </script>\n\t\n\t// <style lang=\"stylus\">\n\t// .overlay\n\t//   position fixed\n\t//   left 0\n\t//   right 0\n\t//   top 0\n\t//   bottom 0\n\t//   z-index 9998\n\t//   background-color rgba(0,0,0,.5)\n\t//   transition opacity .5s ease\n\t// </style>\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _blueimpMd = __webpack_require__(7);\n\t\n\tvar _blueimpMd2 = _interopRequireDefault(_blueimpMd);\n\t\n\tvar _util = __webpack_require__(2);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _serviceUrl = __webpack_require__(5);\n\t\n\tvar _serviceUrl2 = _interopRequireDefault(_serviceUrl);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar debug = __webpack_require__(3)('components'); // <template>\n\t// \t<section class=\"sign-up\" @click=\"stop($event)\">\n\t// \t\t<button type=\"button\" class=\"close\" @click=\"close\">X</button>\n\t// \t\t<h2> Code Review </h2>\n\t// \t\t<div class=\"form\">\n\t// \t\t\t\t<div class=\"row\">\n\t// \t\t\t\t\t<input type=\"text\" v-model=\"phone\" placeholder=\"\">\n\t// \t\t\t\t</div>\n\t// \t\t\t\t<div class=\"code\">\n\t// \t\t\t\t\t<div class=\"row\" style=\"width: 250px;\">\n\t// \t\t\t\t\t\t<input type=\"text\" v-model=\"smsCode\" placeholder=\"\">\n\t// \t\t\t\t\t</div>\n\t// \t\t\t\t\t<button class=\"send\" type=\"button\" @click=\"requestSmsCode\"></button>\n\t// \t\t\t\t</div>\n\t// \t\t\t\t<div class=\"row\">\n\t// \t\t\t\t\t<input type=\"password\"  v-model=\"password\" placeholder=\"\">\n\t// \t\t\t\t</div>\n\t// \t\t\t\t<div class=\"row\">\n\t// \t\t\t\t\t<input type=\"text\"  v-model=\"username\" placeholder=\"\">\n\t// \t\t\t\t</div>\n\t// \t\t\t<button type=\"button\" @click=\"register\"></button>\n\t// \t\t\t<a href=\"/statement.html\"><p> <strong></strong>  <strong></strong></p></a>\n\t// \t\t</div>\n\t// \t\t<p style=\"padding-top: 30px;\">? <strong>  </strong></p>\n\t// \t</section>\n\t// </template>\n\t// <script>\n\t\n\texports.default = {\n\t\tdata: function data() {\n\t\t\treturn {\n\t\t\t\tphone: '13261630925',\n\t\t\t\tsmsCode: '5555',\n\t\t\t\tpassword: '123456',\n\t\t\t\tusername: 'lzwjava1'\n\t\t\t};\n\t\t},\n\t\n\t\tmethods: {\n\t\t\tstop: function stop(e) {\n\t\t\t\te.stopPropagation();\n\t\t\t},\n\t\t\tclose: function close() {\n\t\t\t\tthis.$parent.overlay = false;\n\t\t\t},\n\t\t\tregister: function register() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tthis.$http.post(_serviceUrl2.default.register, {\n\t\t\t\t\tmobilePhoneNumber: this.phone,\n\t\t\t\t\tpassword: (0, _blueimpMd2.default)(this.password),\n\t\t\t\t\tusername: this.username,\n\t\t\t\t\tsmsCode: this.smsCode,\n\t\t\t\t\ttype: 0\n\t\t\t\t}, {\n\t\t\t\t\temulateJSON: true\n\t\t\t\t}).then(function (res) {\n\t\t\t\t\tif (_util2.default.filterError(_this, res)) {\n\t\t\t\t\t\t_this.$parent.overlay = false;\n\t\t\t\t\t\t_util2.default.updateNavUser(_this, res.data.result);\n\t\t\t\t\t}\n\t\t\t\t}, _util2.default.httpErrorFn(this));\n\t\t\t},\n\t\t\trequestSmsCode: function requestSmsCode() {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tthis.$http.post('/api/user/requestSmsCode', {\n\t\t\t\t\tmobilePhoneNumber: this.phone\n\t\t\t\t}, {\n\t\t\t\t\temulateJSON: true\n\t\t\t\t}).then(function (res) {\n\t\t\t\t\tif (_util2.default.filterError(_this2, res)) {\n\t\t\t\t\t\tdebug('send succeed');\n\t\t\t\t\t}\n\t\t\t\t}, _util2.default.httpErrorFn(this));\n\t\t\t}\n\t\t}\n\t};\n\t// </script>\n\t// <style lang=\"stylus\">\n\t// @import \"../stylus/variables.styl\";\n\n\t// \t.sign-up\n\t// \t\tbackground white\n\t// \t\twidth 500px\n\t// \t\theight 600px\n\t// \t\tpadding 50px\n\t// \t\tposition absolute\n\t// \t\tleft 50%\n\t// \t\ttop 50%\n\t// \t\tmargin -300px 0 0 -250px\n\t// \t\t.close\n\t// \t\t\tposition absolute\n\t// \t\t\twidth 20px\n\t// \t\t\theight 20px\n\t// \t\t\tright 20px\n\t// \t\t\ttop 20px\n\t// \t\tp\n\t// \t\t\tfont-size 0.8rem\n\t// \t\t\ttext-align center\n\t// \t\t\tstrong\n\t// \t\t\t\tcolor blue\n\t// \t\th2\n\t// \t\t\tfont-size 1.5rem\n\t// \t\t\ttext-align center\n\t// \t\t.form\n\t// \t\t\tborder-top 1px solid #E9EAEC\n\t// \t\t\tborder-bottom 1px solid #E9EAEC\n\t// \t\t\tpadding 30px 0\n\t// \t\t\tmargin-top 20px\n\t// \t\t\t.code\n\t// \t\t\t\tclearfix()\n\t// \t\t\t\t.row\n\t// \t\t\t\t\tfloat left\n\t// \t\t\t\t\twidth 250px\n\t// \t\t\t\t.send\n\t// \t\t\t\t\tfloat right\n\t// \t\t\t\t\tmargin 0\n\t// \t\t\t\t\twidth 135px\n\t// \t\t\t\t\tbackground blue\n\t// \t\t\tp\n\t// \t\t\t\tmargin-bottom 10px\n\t// \t\t\tbutton\n\t// \t\t\t\twidth 100%\n\t// \t\t\t\theight 55px\n\t// \t\t\t\tcolor white\n\t// \t\t\t\tfont-size 1rem\n\t// \t\t\t\ttext-align center\n\t// \t\t\t\tline-height 55px\n\t// \t\t\t\tbackground green\n\t// \t\t\t\tborder-radius 3px\n\t// \t\t\t\tmargin-top 50px\n\t// \t\t\t\tmargin-bottom 30px\n\n\t// \t\t.row\n\t// \t\t\twidth 100%\n\t// \t\t\theight 58px\n\t// \t\t\tborder 1px solid rgba(40,47,49,.3)\n\t// \t\t\tborder-radius 3px\n\t// \t\t\tpadding-left 30px\n\t// \t\t\tmargin-bottom 10px\n\t// \t\t\tinput\n\t// \t\t\t\twidth 100%\n\t// \t\t\t\theight 55px\n\t// \t\t\t\tmargin-top 1px\n\t// \t\t\t\tborder none\n\t// \t\t\t\toutline none\n\n\t// </style>\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// <template>\n\t//   <a v-el:avatar class=\"avatar\" aria-label=\"View @{{user.username}} profile\">\n\t//     <img v-if=\"user.avatarUrl\" :src=\"user.avatarUrl\" :alt=\"user.username\" />\n\t//     <span v-if=\"!user.avatarUrl\" style=\"{background-color: spanBgColor, color: spanColor}\">{{user.username}}</span>\n\t//   </a>\n\t// </template>\n\t// <script>\n\tvar debug = __webpack_require__(3)('components');\n\tvar escape = __webpack_require__(2).escape;\n\tvar wordColor = __webpack_require__(72);\n\tmodule.exports = {\n\t  props: ['user'],\n\t  data: function data() {\n\t    return {\n\t      spanBgColor: '',\n\t      spanColor: 'white'\n\t    };\n\t  },\n\t\n\t  compiled: function compiled() {\n\t    var user = this.user;\n\t    if (!user.username) {\n\t      //  user \n\t      return;\n\t    }\n\t    debug('user: %j', user);\n\t    if (!user.avatarUrl) {\n\t      var bg = wordColor.rgb(user.username);\n\t      if (bg[0] * 299 + bg[1] * 587 + bg[2] * 114 > 200000) {\n\t        this.spanColor = 'black';\n\t      }\n\t      this.spanBgColor = 'rgb(' + bg.join(',') + ')';\n\t      user.username = escape(user.username.charAt(0).toUpperCase());\n\t      debug('avatarUrl: ' + user.avatarUrl);\n\t    } else {\n\t      //debug('avatarUrl: ' + user.avatarUrl);\n\t    }\n\t  }\n\t};\n\t// </script>\n\t\n\t// <style>\n\t//   .avatar {\n\t//     display: inline-block;\n\t//     text-decoration: none;\n\t//   }\n\t//   .avatar.small {\n\t//     width: 36px;\n\t//     height: 36px;\n\t//     line-height: 36px;\n\t//   }\n\t//   .avatar:hover {\n\t//     opacity: 0.8;\n\t//   }\n\t//   .avatar span, .avatar img {\n\t//     display: inline-block;\n\t//     width: 70%;\n\t//     height: 70%;\n\t//     color: white;\n\t//     text-align: center;\n\t//     font-size: 24px;\n\t//     border-radius: 50%;\n\t//   }\n\t//   .avatar img{\n\t//     position:relative;\n\t//     vertical-align: middle;\n\t//   }\n\t//   .avatar.small span {\n\t//     font-size: 18px;\n\t//   }\n\t//   .avatar.circle span, .avatar.circle img {\n\t//     border-radius: 50%;\n\t//   }\n\t// </style>\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t// <template>\n\t// \t<footer>\n\t//     <p>&copy; 2015 Company, Inc. &middot; <a href=\"#\">Privacy</a> &middot; <a href=\"#\">Terms</a></p>\n\t// \t</footer>\n\t// </template>\n\t\n\t// <script type=\"text/javascript\">\n\texports.default = {};\n\t// </script>\n\n\t// <style lang=\"stylus\">\n\n\t// footer\n\t//   max-width 1080px\n\t//   margin 0 auto\n\t//   height 70px\n\t//   padding 20px\n\t//   text-align center\n\t//   p\n\t//     line-height 30px\n\n\t// </style>\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(6);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _overlay = __webpack_require__(15);\n\t\n\tvar _overlay2 = _interopRequireDefault(_overlay);\n\t\n\tvar _login = __webpack_require__(45);\n\t\n\tvar _login2 = _interopRequireDefault(_login);\n\t\n\tvar _signup = __webpack_require__(46);\n\t\n\tvar _signup2 = _interopRequireDefault(_signup);\n\t\n\tvar _dropdown = __webpack_require__(44);\n\t\n\tvar _dropdown2 = _interopRequireDefault(_dropdown);\n\t\n\tvar _userAvatar = __webpack_require__(16);\n\t\n\tvar _userAvatar2 = _interopRequireDefault(_userAvatar);\n\t\n\tvar _serviceUrl = __webpack_require__(5);\n\t\n\tvar _serviceUrl2 = _interopRequireDefault(_serviceUrl);\n\t\n\tvar _util = __webpack_require__(2);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar debug = __webpack_require__(3)('components'); // <template>\n\t//   <overlay :overlay.sync=\"overlayStatus\">\n\t//     <component :is=\"currentView\"></component>\n\t//   </overlay>\n\t// \t<nav class=\"navbar\">\n\t//       <div class=\"container\">\n\t\n\t//         <a href=\"/\">\n\t//           <div class=\"left\">\n\t//             <img class=\"navbar-brand\" src=\"../img/header_logo.png\">\n\t//             <div class=\"title\">\n\t//               <span class=\"light\">Code</span>\n\t//               <span class=\"bold\">Review</span>\n\t//             </div>\n\t//           </div>\n\t//         </a>\n\t\n\t//         <div class=\"right\">\n\t//           <ul class=\"list\">\n\t//             <a href=\"/reviewers.html\"><li class=\"hover-btn\"></li></a>\n\t//             <a href=\"/case.html\"><li class=\"hover-btn\"></li></a>\n\t//             <li class=\"hover-btn\" v-if=\"!userStatus\" class=\"signup\" @click=\"signup\"></li>\n\t//             <li class=\"hover-btn\" v-if=\"!userStatus\" @click=\"signin\"></li>\n\t//             <li v-if=\"userStatus\">\n\t//               <dropdown>\n\t//                 <user-avatar slot=\"showText\" :user=\"user\" @click=\"viewUserDropdown\"></user-avatar>\n\t//                 <div slot=\"options\">\n\t//                   <div><user-avatar :user=\"user\"></user-avatar>\n\t//                     <div class=\"name\">{{user.username}}</div>\n\t//                   <div>\n\t//                   <div class=\"dropdown-divider\"></div>\n\t//                   <a class=\"dropdown-item\" href=\"setting.html\"></a>\n\t//                   <a class=\"dropdown-item\" href=\"order.html\">Code Review </a>\n\t//                   <div class=\"dropdown-divider\"></div>\n\t//                   <a class=\"dropdown-item\" @click=\"logout\" href=\"/\"></a>\n\t//                 </div>\n\t//               </dropdown>\n\t//             </li>\n\t//           </ul>\n\t//         </div>\n\t\n\t//       </div>\n\t//     </nav>\n\t//     <div id=\"message\" aria-live=\"assertive\">\n\t//       <div class=\"message message-{{msg.type}}\" v-for=\"msg in messages\" v-text=\"msg.text\" transition=\"fade\"></div>\n\t//     </div>\n\t// </template>\n\t// <script>\n\t\n\tvar clock = new Date().getFullYear();\n\texports.default = {\n\t  components: {\n\t    overlay: _overlay2.default,\n\t    login: _login2.default,\n\t    signup: _signup2.default,\n\t    dropdown: _dropdown2.default,\n\t    'user-avatar': _userAvatar2.default\n\t  },\n\t  data: function data() {\n\t    return {\n\t      userStatus: false,\n\t      overlayStatus: false,\n\t      currentView: 'login',\n\t      messages: [],\n\t      user: {}\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    logout: function logout(e) {\n\t      var _this = this;\n\t\n\t      e && e.preventDefault();\n\t      this.$http.get(_serviceUrl2.default.logout).then(function (resp) {\n\t        _this.user = {};\n\t        _this.userStatus = false;\n\t        window.localStorage.removeItem('user');\n\t        window.location = '/';\n\t      }, _util2.default.httpErrorFn(this));\n\t    },\n\t    signin: function signin() {\n\t      this.overlayStatus = true;\n\t      this.currentView = 'login';\n\t    },\n\t    signup: function signup() {\n\t      this.overlayStatus = true;\n\t      this.currentView = 'signup';\n\t    },\n\t    viewUserDropdown: function viewUserDropdown(e) {\n\t      e && e.preventDefault();\n\t      this.showUserDropdown = true;\n\t    },\n\t    flush: function flush() {\n\t      this.messages = [];\n\t    },\n\t    clear: function clear(index) {\n\t      clearTimeout(clock);\n\t      this.messages.splice(index, 1);\n\t      clock = setTimeout(this.flush.bind(this), 4000);\n\t    },\n\t    show: function show(type, text) {\n\t      //  errorwarnsuccess \n\t      var msg = { type: type, text: text };\n\t      if (!unique(msg, this.messages)) return;\n\t\n\t      this.messages.push(msg);\n\t      var index = this.messages.length - 1;\n\t      setTimeout((function () {\n\t        this.clear(index);\n\t      }).bind(this), 3000);\n\t    }\n\t  },\n\t  created: function created() {\n\t    // console.log('created nav');\n\t    /*this.$http.get(serviceUrl.userStatus).then((res) => {\n\t      if (res.data.code != 0) {\n\t        this.userStatus = false;\n\t        this.user = {}\n\t      } else {\n\t        this.userStatus = true;\n\t        this.user = res.data.result;\n\t        debug('user %j', this.user)\n\t      }\n\t    }, (res) => {\n\t     })*/\n\t    if (window.localStorage.getItem('user')) {\n\t      this.userStatus = true;\n\t      this.user = JSON.parse(window.localStorage.getItem('user'));\n\t    }\n\t  }\n\t};\n\t\n\tfunction unique(item, list) {\n\t  return !list.some(function (data) {\n\t    return (0, _stringify2.default)(data) === (0, _stringify2.default)(item);\n\t  });\n\t}\n\t// </script>\n\t// <style lang=\"stylus\">\n\t// @import '../stylus/base.styl';\n\t\n\t// .navbar\n\t//   height totalHeight = 50px\n\t//   padding paddingTop=5px 150px\n\t//   background white\n\t//   border-bottom 1px solid rgba(0,0,0,0.15)\n\t//   box-shadow 0 2px 1px 0px rgba(135,135,135,.15)\n\t//   min-width 1200px\n\t//   left 0\n\t//   right 0\n\t//   .container\n\t//     margin 0 auto\n\t//     line-height totalHeight - 2 * paddingTop\n\t//     width 100%\n\t//     height 100%\n\t//   .navbar-brand\n\t//     width 35px\n\t//     top 3px\n\t//     position relative\n\t//   .left\n\t//     pull-left()\n\t//     .title\n\t//       font-size 20px\n\t//       margin-left 10px\n\t//       display inline-block\n\t//       .light\n\t//         font-family Raleway-Light\n\t//         top -2px\n\t//         position relative\n\t//       .bold\n\t//         font-family Raleway-SemiBold\n\t//         top -2px\n\t//         position relative\n\t//   .right\n\t//     pull-right()\n\t//   .list\n\t//     li\n\t//       padding-left 20px\n\t//       padding-right 20px\n\t//       text-align left\n\t//       cursor pointer\n\t//       font-size 14px\n\t//       top -2px\n\t//       position relative\n\t//       &.hover-btn\n\t//         border 1px solid #ffff // hover\n\t//         font-weight 600\n\t//       &.hover-btn:hover\n\t//         color #00CFF5\n\t//     .dropdown-inner\n\t//       width 220px\n\t//       right 0\n\t//       &:before,&:after\n\t//         left 90%\n\t//   .avatar\n\t//     width totalHeight - 2 * paddingTop\n\t//     height totalHeight - 2 * paddingTop\n\t\n\t// #message\n\t//   position fixed\n\t//   top 0\n\t//   left 0\n\t//   width 100%\n\t//   text-align center\n\t//   z-index 99999\n\t\n\t// .message\n\t//   font-size 1rem\n\t//   line-height 1.8\n\t//   padding 10px 20px\n\t//   box-sizing border-box\n\t//   border-bottom 1px solid #efefef\n\t//   background-color rgba(255, 255, 255, 0.9)\n\t//   color #565656\n\t\n\t// .message-success\n\t//   background-color rgba(66, 185, 131, 0.9)\n\t//   border-color rgb(66, 185, 131)\n\t//   color white\n\t\n\t// .message-error\n\t//   background-color rgba(255, 68, 68, 0.9)\n\t//   border-color rgb(255, 68, 68)\n\t//   color white\n\t\n\t// .message-warn\n\t//   background-color rgba(255, 220, 0, 0.9)\n\t//   border-color rgb(255, 220, 0)\n\t\n\t// </style>\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar urlParser = document.createElement('a');\n\t\n\texports.domain = function (url) {\n\t  urlParser.href = url;\n\t  return urlParser.hostname;\n\t};\n\t\n\texports.fromNow = function (time) {\n\t  var between = Date.now() / 1000 - Number(time);\n\t  if (between < 3600) {\n\t    return pluralize(~ ~(between / 60), ' minute');\n\t  } else if (between < 86400) {\n\t    return pluralize(~ ~(between / 3600), ' hour');\n\t  } else {\n\t    return pluralize(~ ~(between / 86400), ' day');\n\t  }\n\t};\n\t\n\texports.reviewStatus = function (state) {\n\t  var text = '';\n\t  switch (state) {\n\t    case 'unpaid':\n\t      text = '';break;\n\t    case 'paid':\n\t      text = '';break;\n\t    case 'finished':\n\t      text = '';break;\n\t    case 'consented':\n\t      text = '';break;\n\t    case 'rejected':\n\t      text = '';break;\n\t  }\n\t  return text;\n\t};\n\t\n\texports.integer = function (val) {\n\t  return val.split('.')[0];\n\t};\n\t\n\texports.pluralize = function (time, label) {\n\t  if (time === 1) {\n\t    return time + label;\n\t  }\n\t\n\t  return time + label + 's';\n\t};\n\t\n\texports.moneyAsYuan = function (money) {\n\t  if (!money) {\n\t    return 0;\n\t  } else {\n\t    return money / 100;\n\t  }\n\t};\n\t\n\texports.truncate = function (s, len) {\n\t  if (s && s.length > len) {\n\t    return s.substring(0, len);\n\t  } else {\n\t    return s;\n\t  }\n\t};\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar core = __webpack_require__(17);\n\tmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n\t  return (core.JSON && core.JSON.stringify || JSON.stringify).apply(JSON, arguments);\n\t};\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/**\n\t * This is the common logic for both the Node.js and web browser\n\t * implementations of `debug()`.\n\t *\n\t * Expose `debug()` as the module.\n\t */\n\t\n\texports = module.exports = debug;\n\texports.coerce = coerce;\n\texports.disable = disable;\n\texports.enable = enable;\n\texports.enabled = enabled;\n\texports.humanize = __webpack_require__(28);\n\t\n\t/**\n\t * The currently active debug mode names, and names to skip.\n\t */\n\t\n\texports.names = [];\n\texports.skips = [];\n\t\n\t/**\n\t * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t *\n\t * Valid key names are a single, lowercased letter, i.e. \"n\".\n\t */\n\t\n\texports.formatters = {};\n\t\n\t/**\n\t * Previously assigned color.\n\t */\n\t\n\tvar prevColor = 0;\n\t\n\t/**\n\t * Previous log timestamp.\n\t */\n\t\n\tvar prevTime;\n\t\n\t/**\n\t * Select a color.\n\t *\n\t * @return {Number}\n\t * @api private\n\t */\n\t\n\tfunction selectColor() {\n\t  return exports.colors[prevColor++ % exports.colors.length];\n\t}\n\t\n\t/**\n\t * Create a debugger with the given `namespace`.\n\t *\n\t * @param {String} namespace\n\t * @return {Function}\n\t * @api public\n\t */\n\t\n\tfunction debug(namespace) {\n\t\n\t  // define the `disabled` version\n\t  function disabled() {\n\t  }\n\t  disabled.enabled = false;\n\t\n\t  // define the `enabled` version\n\t  function enabled() {\n\t\n\t    var self = enabled;\n\t\n\t    // set `diff` timestamp\n\t    var curr = +new Date();\n\t    var ms = curr - (prevTime || curr);\n\t    self.diff = ms;\n\t    self.prev = prevTime;\n\t    self.curr = curr;\n\t    prevTime = curr;\n\t\n\t    // add the `color` if not set\n\t    if (null == self.useColors) self.useColors = exports.useColors();\n\t    if (null == self.color && self.useColors) self.color = selectColor();\n\t\n\t    var args = Array.prototype.slice.call(arguments);\n\t\n\t    args[0] = exports.coerce(args[0]);\n\t\n\t    if ('string' !== typeof args[0]) {\n\t      // anything else let's inspect with %o\n\t      args = ['%o'].concat(args);\n\t    }\n\t\n\t    // apply any `formatters` transformations\n\t    var index = 0;\n\t    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n\t      // if we encounter an escaped % then don't increase the array index\n\t      if (match === '%%') return match;\n\t      index++;\n\t      var formatter = exports.formatters[format];\n\t      if ('function' === typeof formatter) {\n\t        var val = args[index];\n\t        match = formatter.call(self, val);\n\t\n\t        // now we need to remove `args[index]` since it's inlined in the `format`\n\t        args.splice(index, 1);\n\t        index--;\n\t      }\n\t      return match;\n\t    });\n\t\n\t    if ('function' === typeof exports.formatArgs) {\n\t      args = exports.formatArgs.apply(self, args);\n\t    }\n\t    var logFn = enabled.log || exports.log || console.log.bind(console);\n\t    logFn.apply(self, args);\n\t  }\n\t  enabled.enabled = true;\n\t\n\t  var fn = exports.enabled(namespace) ? enabled : disabled;\n\t\n\t  fn.namespace = namespace;\n\t\n\t  return fn;\n\t}\n\t\n\t/**\n\t * Enables a debug mode by namespaces. This can include modes\n\t * separated by a colon and wildcards.\n\t *\n\t * @param {String} namespaces\n\t * @api public\n\t */\n\t\n\tfunction enable(namespaces) {\n\t  exports.save(namespaces);\n\t\n\t  var split = (namespaces || '').split(/[\\s,]+/);\n\t  var len = split.length;\n\t\n\t  for (var i = 0; i < len; i++) {\n\t    if (!split[i]) continue; // ignore empty strings\n\t    namespaces = split[i].replace(/\\*/g, '.*?');\n\t    if (namespaces[0] === '-') {\n\t      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t    } else {\n\t      exports.names.push(new RegExp('^' + namespaces + '$'));\n\t    }\n\t  }\n\t}\n\t\n\t/**\n\t * Disable debug output.\n\t *\n\t * @api public\n\t */\n\t\n\tfunction disable() {\n\t  exports.enable('');\n\t}\n\t\n\t/**\n\t * Returns true if the given mode name is enabled, false otherwise.\n\t *\n\t * @param {String} name\n\t * @return {Boolean}\n\t * @api public\n\t */\n\t\n\tfunction enabled(name) {\n\t  var i, len;\n\t  for (i = 0, len = exports.skips.length; i < len; i++) {\n\t    if (exports.skips[i].test(name)) {\n\t      return false;\n\t    }\n\t  }\n\t  for (i = 0, len = exports.names.length; i < len; i++) {\n\t    if (exports.names[i].test(name)) {\n\t      return true;\n\t    }\n\t  }\n\t  return false;\n\t}\n\t\n\t/**\n\t * Coerce `val`.\n\t *\n\t * @param {Mixed} val\n\t * @return {Mixed}\n\t * @api private\n\t */\n\t\n\tfunction coerce(val) {\n\t  if (val instanceof Error) return val.stack || val.message;\n\t  return val;\n\t}\n\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Helpers.\n\t */\n\t\n\tvar s = 1000;\n\tvar m = s * 60;\n\tvar h = m * 60;\n\tvar d = h * 24;\n\tvar y = d * 365.25;\n\t\n\t/**\n\t * Parse or format the given `val`.\n\t *\n\t * Options:\n\t *\n\t *  - `long` verbose formatting [false]\n\t *\n\t * @param {String|Number} val\n\t * @param {Object} options\n\t * @return {String|Number}\n\t * @api public\n\t */\n\t\n\tmodule.exports = function(val, options){\n\t  options = options || {};\n\t  if ('string' == typeof val) return parse(val);\n\t  return options.long\n\t    ? long(val)\n\t    : short(val);\n\t};\n\t\n\t/**\n\t * Parse the given `str` and return milliseconds.\n\t *\n\t * @param {String} str\n\t * @return {Number}\n\t * @api private\n\t */\n\t\n\tfunction parse(str) {\n\t  str = '' + str;\n\t  if (str.length > 10000) return;\n\t  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\n\t  if (!match) return;\n\t  var n = parseFloat(match[1]);\n\t  var type = (match[2] || 'ms').toLowerCase();\n\t  switch (type) {\n\t    case 'years':\n\t    case 'year':\n\t    case 'yrs':\n\t    case 'yr':\n\t    case 'y':\n\t      return n * y;\n\t    case 'days':\n\t    case 'day':\n\t    case 'd':\n\t      return n * d;\n\t    case 'hours':\n\t    case 'hour':\n\t    case 'hrs':\n\t    case 'hr':\n\t    case 'h':\n\t      return n * h;\n\t    case 'minutes':\n\t    case 'minute':\n\t    case 'mins':\n\t    case 'min':\n\t    case 'm':\n\t      return n * m;\n\t    case 'seconds':\n\t    case 'second':\n\t    case 'secs':\n\t    case 'sec':\n\t    case 's':\n\t      return n * s;\n\t    case 'milliseconds':\n\t    case 'millisecond':\n\t    case 'msecs':\n\t    case 'msec':\n\t    case 'ms':\n\t      return n;\n\t  }\n\t}\n\t\n\t/**\n\t * Short format for `ms`.\n\t *\n\t * @param {Number} ms\n\t * @return {String}\n\t * @api private\n\t */\n\t\n\tfunction short(ms) {\n\t  if (ms >= d) return Math.round(ms / d) + 'd';\n\t  if (ms >= h) return Math.round(ms / h) + 'h';\n\t  if (ms >= m) return Math.round(ms / m) + 'm';\n\t  if (ms >= s) return Math.round(ms / s) + 's';\n\t  return ms + 'ms';\n\t}\n\t\n\t/**\n\t * Long format for `ms`.\n\t *\n\t * @param {Number} ms\n\t * @return {String}\n\t * @api private\n\t */\n\t\n\tfunction long(ms) {\n\t  return plural(ms, d, 'day')\n\t    || plural(ms, h, 'hour')\n\t    || plural(ms, m, 'minute')\n\t    || plural(ms, s, 'second')\n\t    || ms + ' ms';\n\t}\n\t\n\t/**\n\t * Pluralization helper.\n\t */\n\t\n\tfunction plural(ms, n, name) {\n\t  if (ms < n) return;\n\t  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n\t  return Math.ceil(ms / n) + ' ' + name + 's';\n\t}\n\n\n/***/ },\n/* 29 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 30 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 32 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 33 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 34 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 35 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 36 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"data:image/png;base64,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\"\n\n/***/ },\n/* 37 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=dropdown><div class=dropdown-mask @click=\\\"show=!show\\\"><slot name=showText></slot></div><div class=dropdown-inner @click=choose v-show=show><slot name=options></slot></div></div>\";\n\n/***/ },\n/* 38 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<section class=login @click=stop($event)><button type=button class=cancel @click=cancel></button><h2> Code Review</h2><div class=form><ul class=row><li><input class=phone v-model=phone placeholder=></li><li><input type=password class=password v-model=password placeholder=></li></ul><button type=button @click=login></button></div><p style=\\\"padding-top: 30px\\\"><strong></strong></p></section>\";\n\n/***/ },\n/* 39 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=overlay @click=hide v-show=overlay><slot></slot></div>\";\n\n/***/ },\n/* 40 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<section class=sign-up @click=stop($event)><button type=button class=close @click=close>X</button><h2> Code Review </h2><div class=form><div class=row><input v-model=phone placeholder=></div><div class=code><div class=row style=\\\"width: 250px\\\"><input v-model=smsCode placeholder=></div><button class=send type=button @click=requestSmsCode></button></div><div class=row><input type=password v-model=password placeholder=></div><div class=row><input v-model=username placeholder=></div><button type=button @click=register></button> <a href=/statement.html><p> <strong></strong>  <strong></strong></p></a></div><p style=\\\"padding-top: 30px\\\">? <strong></strong></p></section>\";\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<a v-el:avatar class=avatar aria-label=\\\"View @{{user.username}} profile\\\"><img v-if=user.avatarUrl :src=user.avatarUrl :alt=\\\"user.username\\\"> <span v-if=!user.avatarUrl style=\\\"{background-color: spanBgColor, color: spanColor}\\\">{{user.username}}</span></a>\";\n\n/***/ },\n/* 42 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<footer><p>&copy; 2015 Company, Inc. &middot; <a href=#>Privacy</a> &middot; <a href=#>Terms</a></p></footer>\";\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = \"<overlay :overlay.sync=overlayStatus><component :is=currentView></component></overlay><nav class=navbar><div class=container><a href=\\\"/\\\"><div class=left><img class=navbar-brand src=\" + __webpack_require__(36) + \"><div class=title><span class=light>Code</span> <span class=bold>Review</span></div></div></a><div class=right><ul class=list><a href=/reviewers.html><li class=hover-btn></li></a> <a href=/case.html><li class=hover-btn></li></a><li class=hover-btn v-if=!userStatus class=signup @click=signup></li><li class=hover-btn v-if=!userStatus @click=signin></li><li v-if=userStatus><dropdown><user-avatar slot=showText :user=user @click=viewUserDropdown></user-avatar><div slot=options><div><user-avatar :user=user></user-avatar><div class=name>{{user.username}}</div><div><div class=dropdown-divider></div><a class=dropdown-item href=setting.html></a> <a class=dropdown-item href=order.html>Code Review </a><div class=dropdown-divider></div><a class=dropdown-item @click=logout href=\\\"/\\\"></a></div></div></div></dropdown></li></ul></div></div></nav><div id=message aria-live=assertive><div class=\\\"message message-{{msg.type}}\\\" v-for=\\\"msg in messages\\\" v-text=msg.text transition=fade></div></div>\";\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(34)\n\tmodule.exports = __webpack_require__(18)\n\t\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\t;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __webpack_require__(37)\n\tif (false) {(function () {  module.hot.accept()\n\t  var hotAPI = require(\"vue-hot-reload-api\")\n\t  hotAPI.install(require(\"vue\"), true)\n\t  if (!hotAPI.compatible) return\n\t  var id = \"/Users/yuqiu/github/code-review-web/src/components/dropdown.vue\"\n\t  if (!module.hot.data) {\n\t    hotAPI.createRecord(id, module.exports)\n\t  } else {\n\t    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n\t  }\n\t})()}\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(32)\n\tmodule.exports = __webpack_require__(19)\n\t\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\t;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __webpack_require__(38)\n\tif (false) {(function () {  module.hot.accept()\n\t  var hotAPI = require(\"vue-hot-reload-api\")\n\t  hotAPI.install(require(\"vue\"), true)\n\t  if (!hotAPI.compatible) return\n\t  var id = \"/Users/yuqiu/github/code-review-web/src/components/login.vue\"\n\t  if (!module.hot.data) {\n\t    hotAPI.createRecord(id, module.exports)\n\t  } else {\n\t    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n\t  }\n\t})()}\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(35)\n\tmodule.exports = __webpack_require__(21)\n\t\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\t;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __webpack_require__(40)\n\tif (false) {(function () {  module.hot.accept()\n\t  var hotAPI = require(\"vue-hot-reload-api\")\n\t  hotAPI.install(require(\"vue\"), true)\n\t  if (!hotAPI.compatible) return\n\t  var id = \"/Users/yuqiu/github/code-review-web/src/components/signup.vue\"\n\t  if (!module.hot.data) {\n\t    hotAPI.createRecord(id, module.exports)\n\t  } else {\n\t    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n\t  }\n\t})()}\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(29)\n\tmodule.exports = __webpack_require__(23)\n\t\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\t;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __webpack_require__(42)\n\tif (false) {(function () {  module.hot.accept()\n\t  var hotAPI = require(\"vue-hot-reload-api\")\n\t  hotAPI.install(require(\"vue\"), true)\n\t  if (!hotAPI.compatible) return\n\t  var id = \"/Users/yuqiu/github/code-review-web/src/views/footer.vue\"\n\t  if (!module.hot.data) {\n\t    hotAPI.createRecord(id, module.exports)\n\t  } else {\n\t    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n\t  }\n\t})()}\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(33)\n\tmodule.exports = __webpack_require__(24)\n\t\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\t;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __webpack_require__(43)\n\tif (false) {(function () {  module.hot.accept()\n\t  var hotAPI = require(\"vue-hot-reload-api\")\n\t  hotAPI.install(require(\"vue\"), true)\n\t  if (!hotAPI.compatible) return\n\t  var id = \"/Users/yuqiu/github/code-review-web/src/views/nav.vue\"\n\t  if (!module.hot.data) {\n\t    hotAPI.createRecord(id, module.exports)\n\t  } else {\n\t    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n\t  }\n\t})()}\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Before Interceptor.\n\t */\n\t\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = {\n\t\n\t    request: function (request) {\n\t\n\t        if (_.isFunction(request.beforeSend)) {\n\t            request.beforeSend.call(this, request);\n\t        }\n\t\n\t        return request;\n\t    }\n\t\n\t};\n\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Default client.\n\t */\n\t\n\tvar xhrClient = __webpack_require__(53);\n\t\n\tmodule.exports = function (request) {\n\t    return (request.client || xhrClient)(request);\n\t};\n\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * JSONP client.\n\t */\n\t\n\tvar _ = __webpack_require__(1);\n\tvar Promise = __webpack_require__(4);\n\t\n\tmodule.exports = function (request) {\n\t    return new Promise(function (resolve) {\n\t\n\t        var callback = '_jsonp' + Math.random().toString(36).substr(2), response = {request: request, data: null}, handler, script;\n\t\n\t        request.params[request.jsonp] = callback;\n\t        request.cancel = function () {\n\t            handler({type: 'cancel'});\n\t        };\n\t\n\t        script = document.createElement('script');\n\t        script.src = _.url(request);\n\t        script.type = 'text/javascript';\n\t        script.async = true;\n\t\n\t        window[callback] = function (data) {\n\t            response.data = data;\n\t        };\n\t\n\t        handler = function (event) {\n\t\n\t            if (event.type === 'load' && response.data !== null) {\n\t                response.status = 200;\n\t            } else if (event.type === 'error') {\n\t                response.status = 404;\n\t            } else {\n\t                response.status = 0;\n\t            }\n\t\n\t            resolve(response);\n\t\n\t            delete window[callback];\n\t            document.body.removeChild(script);\n\t        };\n\t\n\t        script.onload = handler;\n\t        script.onerror = handler;\n\t\n\t        document.body.appendChild(script);\n\t    });\n\t};\n\n\n/***/ },\n/* 52 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * XDomain client (Internet Explorer).\n\t */\n\t\n\tvar _ = __webpack_require__(1);\n\tvar Promise = __webpack_require__(4);\n\t\n\tmodule.exports = function (request) {\n\t    return new Promise(function (resolve) {\n\t\n\t        var xdr = new XDomainRequest(), response = {request: request}, handler;\n\t\n\t        request.cancel = function () {\n\t            xdr.abort();\n\t        };\n\t\n\t        xdr.open(request.method, _.url(request), true);\n\t\n\t        handler = function (event) {\n\t\n\t            response.data = xdr.responseText;\n\t            response.status = xdr.status;\n\t            response.statusText = xdr.statusText;\n\t\n\t            resolve(response);\n\t        };\n\t\n\t        xdr.timeout = 0;\n\t        xdr.onload = handler;\n\t        xdr.onabort = handler;\n\t        xdr.onerror = handler;\n\t        xdr.ontimeout = function () {};\n\t        xdr.onprogress = function () {};\n\t\n\t        xdr.send(request.data);\n\t    });\n\t};\n\n\n/***/ },\n/* 53 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * XMLHttp client.\n\t */\n\t\n\tvar _ = __webpack_require__(1);\n\tvar Promise = __webpack_require__(4);\n\t\n\tmodule.exports = function (request) {\n\t    return new Promise(function (resolve) {\n\t\n\t        var xhr = new XMLHttpRequest(), response = {request: request}, handler;\n\t\n\t        request.cancel = function () {\n\t            xhr.abort();\n\t        };\n\t\n\t        xhr.open(request.method, _.url(request), true);\n\t\n\t        if (_.isPlainObject(request.xhr)) {\n\t            _.extend(xhr, request.xhr);\n\t        }\n\t\n\t        _.each(request.headers || {}, function (value, header) {\n\t            xhr.setRequestHeader(header, value);\n\t        });\n\t\n\t        handler = function (event) {\n\t\n\t            response.data = xhr.responseText;\n\t            response.status = xhr.status;\n\t            response.statusText = xhr.statusText;\n\t            response.headers = getHeaders(xhr);\n\t\n\t            resolve(response);\n\t        };\n\t\n\t        xhr.onload = handler;\n\t        xhr.onabort = handler;\n\t        xhr.onerror = handler;\n\t\n\t        xhr.send(request.data);\n\t    });\n\t};\n\t\n\tfunction getHeaders(xhr) {\n\t\n\t    var headers;\n\t\n\t    if (!headers) {\n\t        headers = parseHeaders(xhr.getAllResponseHeaders());\n\t    }\n\t\n\t    return function (name) {\n\t\n\t        if (name) {\n\t            return headers[_.toLower(name)];\n\t        }\n\t\n\t        return headers;\n\t    };\n\t}\n\t\n\tfunction parseHeaders(str) {\n\t\n\t    var headers = {}, value, name, i;\n\t\n\t    if (_.isString(str)) {\n\t        _.each(str.split('\\n'), function (row) {\n\t\n\t            i = row.indexOf(':');\n\t            name = _.trim(_.toLower(row.slice(0, i)));\n\t            value = _.trim(row.slice(i + 1));\n\t\n\t            if (headers[name]) {\n\t\n\t                if (_.isArray(headers[name])) {\n\t                    headers[name].push(value);\n\t                } else {\n\t                    headers[name] = [headers[name], value];\n\t                }\n\t\n\t            } else {\n\t\n\t                headers[name] = value;\n\t            }\n\t\n\t        });\n\t    }\n\t\n\t    return headers;\n\t}\n\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * CORS Interceptor.\n\t */\n\t\n\tvar _ = __webpack_require__(1);\n\tvar xdrClient = __webpack_require__(52);\n\tvar xhrCors = 'withCredentials' in new XMLHttpRequest();\n\tvar originUrl = _.url.parse(location.href);\n\t\n\tmodule.exports = {\n\t\n\t    request: function (request) {\n\t\n\t        if (request.crossOrigin === null) {\n\t            request.crossOrigin = crossOrigin(request);\n\t        }\n\t\n\t        if (request.crossOrigin) {\n\t\n\t            if (!xhrCors) {\n\t                request.client = xdrClient;\n\t            }\n\t\n\t            request.emulateHTTP = false;\n\t        }\n\t\n\t        return request;\n\t    }\n\t\n\t};\n\t\n\tfunction crossOrigin(request) {\n\t\n\t    var requestUrl = _.url.parse(_.url(request));\n\t\n\t    return (requestUrl.protocol !== originUrl.protocol || requestUrl.host !== originUrl.host);\n\t}\n\n\n/***/ },\n/* 55 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Header Interceptor.\n\t */\n\t\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = {\n\t\n\t    request: function (request) {\n\t\n\t        request.method = request.method.toUpperCase();\n\t        request.headers = _.extend({}, _.http.headers.common,\n\t            !request.crossOrigin ? _.http.headers.custom : {},\n\t            _.http.headers[request.method.toLowerCase()],\n\t            request.headers\n\t        );\n\t\n\t        if (_.isPlainObject(request.data) && /^(GET|JSONP)$/i.test(request.method)) {\n\t            _.extend(request.params, request.data);\n\t            delete request.data;\n\t        }\n\t\n\t        return request;\n\t    }\n\t\n\t};\n\n\n/***/ },\n/* 56 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Service for sending network requests.\n\t */\n\t\n\tvar _ = __webpack_require__(1);\n\tvar Promise = __webpack_require__(4);\n\tvar interceptor = __webpack_require__(57);\n\tvar defaultClient = __webpack_require__(50);\n\tvar jsonType = {'Content-Type': 'application/json'};\n\t\n\tfunction Http(url, options) {\n\t\n\t    var client = defaultClient, request, promise;\n\t\n\t    Http.interceptors.forEach(function (handler) {\n\t        client = interceptor(handler, this.$vm)(client);\n\t    }, this);\n\t\n\t    options = _.isObject(url) ? url : _.extend({url: url}, options);\n\t    request = _.merge({}, Http.options, this.$options, options);\n\t    promise = client(request).bind(this.$vm).then(function (response) {\n\t\n\t        response.ok = response.status >= 200 && response.status < 300;\n\t        return response.ok ? response : Promise.reject(response);\n\t\n\t    }, function (response) {\n\t\n\t        if (response instanceof Error) {\n\t            _.error(response);\n\t        }\n\t\n\t        return Promise.reject(response);\n\t    });\n\t\n\t    if (request.success) {\n\t        promise.success(request.success);\n\t    }\n\t\n\t    if (request.error) {\n\t        promise.error(request.error);\n\t    }\n\t\n\t    return promise;\n\t}\n\t\n\tHttp.options = {\n\t    method: 'get',\n\t    data: '',\n\t    params: {},\n\t    headers: {},\n\t    xhr: null,\n\t    jsonp: 'callback',\n\t    beforeSend: null,\n\t    crossOrigin: null,\n\t    emulateHTTP: false,\n\t    emulateJSON: false,\n\t    timeout: 0\n\t};\n\t\n\tHttp.interceptors = [\n\t    __webpack_require__(49),\n\t    __webpack_require__(61),\n\t    __webpack_require__(58),\n\t    __webpack_require__(59),\n\t    __webpack_require__(60),\n\t    __webpack_require__(55),\n\t    __webpack_require__(54)\n\t];\n\t\n\tHttp.headers = {\n\t    put: jsonType,\n\t    post: jsonType,\n\t    patch: jsonType,\n\t    delete: jsonType,\n\t    common: {'Accept': 'application/json, text/plain, */*'},\n\t    custom: {'X-Requested-With': 'XMLHttpRequest'}\n\t};\n\t\n\t['get', 'put', 'post', 'patch', 'delete', 'jsonp'].forEach(function (method) {\n\t\n\t    Http[method] = function (url, data, success, options) {\n\t\n\t        if (_.isFunction(data)) {\n\t            options = success;\n\t            success = data;\n\t            data = undefined;\n\t        }\n\t\n\t        if (_.isObject(success)) {\n\t            options = success;\n\t            success = undefined;\n\t        }\n\t\n\t        return this(url, _.extend({method: method, data: data, success: success}, options));\n\t    };\n\t});\n\t\n\tmodule.exports = _.http = Http;\n\n\n/***/ },\n/* 57 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Interceptor factory.\n\t */\n\t\n\tvar _ = __webpack_require__(1);\n\tvar Promise = __webpack_require__(4);\n\t\n\tmodule.exports = function (handler, vm) {\n\t\n\t    return function (client) {\n\t\n\t        if (_.isFunction(handler)) {\n\t            handler = handler.call(vm, Promise);\n\t        }\n\t\n\t        return function (request) {\n\t\n\t            if (_.isFunction(handler.request)) {\n\t                request = handler.request.call(vm, request);\n\t            }\n\t\n\t            return when(request, function (request) {\n\t                return when(client(request), function (response) {\n\t\n\t                    if (_.isFunction(handler.response)) {\n\t                        response = handler.response.call(vm, response);\n\t                    }\n\t\n\t                    return response;\n\t                });\n\t            });\n\t        };\n\t    };\n\t};\n\t\n\tfunction when(value, fulfilled, rejected) {\n\t\n\t    var promise = Promise.resolve(value);\n\t\n\t    if (arguments.length < 2) {\n\t        return promise;\n\t    }\n\t\n\t    return promise.then(fulfilled, rejected);\n\t}\n\n\n/***/ },\n/* 58 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * JSONP Interceptor.\n\t */\n\t\n\tvar jsonpClient = __webpack_require__(51);\n\t\n\tmodule.exports = {\n\t\n\t    request: function (request) {\n\t\n\t        if (request.method == 'JSONP') {\n\t            request.client = jsonpClient;\n\t        }\n\t\n\t        return request;\n\t    }\n\t\n\t};\n\n\n/***/ },\n/* 59 */\n/***/ function(module, exports) {\n\n\t/**\n\t * HTTP method override Interceptor.\n\t */\n\t\n\tmodule.exports = {\n\t\n\t    request: function (request) {\n\t\n\t        if (request.emulateHTTP && /^(PUT|PATCH|DELETE)$/i.test(request.method)) {\n\t            request.headers['X-HTTP-Method-Override'] = request.method;\n\t            request.method = 'POST';\n\t        }\n\t\n\t        return request;\n\t    }\n\t\n\t};\n\n\n/***/ },\n/* 60 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Mime Interceptor.\n\t */\n\t\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = {\n\t\n\t    request: function (request) {\n\t\n\t        if (request.emulateJSON && _.isPlainObject(request.data)) {\n\t            request.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n\t            request.data = _.url.params(request.data);\n\t        }\n\t\n\t        if (_.isObject(request.data) && /FormData/i.test(request.data.toString())) {\n\t            delete request.headers['Content-Type'];\n\t        }\n\t\n\t        if (_.isPlainObject(request.data)) {\n\t            request.data = JSON.stringify(request.data);\n\t        }\n\t\n\t        return request;\n\t    },\n\t\n\t    response: function (response) {\n\t\n\t        try {\n\t            response.data = JSON.parse(response.data);\n\t        } catch (e) {}\n\t\n\t        return response;\n\t    }\n\t\n\t};\n\n\n/***/ },\n/* 61 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Timeout Interceptor.\n\t */\n\t\n\tmodule.exports = function () {\n\t\n\t    var timeout;\n\t\n\t    return {\n\t\n\t        request: function (request) {\n\t\n\t            if (request.timeout) {\n\t                timeout = setTimeout(function () {\n\t                    request.cancel();\n\t                }, request.timeout);\n\t            }\n\t\n\t            return request;\n\t        },\n\t\n\t        response: function (response) {\n\t\n\t            clearTimeout(timeout);\n\t\n\t            return response;\n\t        }\n\t\n\t    };\n\t};\n\n\n/***/ },\n/* 62 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Install plugin.\n\t */\n\t\n\tfunction install(Vue) {\n\t\n\t    var _ = __webpack_require__(1);\n\t\n\t    _.config = Vue.config;\n\t    _.warning = Vue.util.warn;\n\t    _.nextTick = Vue.util.nextTick;\n\t\n\t    Vue.url = __webpack_require__(66);\n\t    Vue.http = __webpack_require__(56);\n\t    Vue.resource = __webpack_require__(65);\n\t    Vue.Promise = __webpack_require__(4);\n\t\n\t    Object.defineProperties(Vue.prototype, {\n\t\n\t        $url: {\n\t            get: function () {\n\t                return _.options(Vue.url, this, this.$options.url);\n\t            }\n\t        },\n\t\n\t        $http: {\n\t            get: function () {\n\t                return _.options(Vue.http, this, this.$options.http);\n\t            }\n\t        },\n\t\n\t        $resource: {\n\t            get: function () {\n\t                return Vue.resource.bind(this);\n\t            }\n\t        },\n\t\n\t        $promise: {\n\t            get: function () {\n\t                return function (executor) {\n\t                    return new Vue.Promise(executor, this);\n\t                }.bind(this);\n\t            }\n\t        }\n\t\n\t    });\n\t}\n\t\n\tif (window.Vue) {\n\t    Vue.use(install);\n\t}\n\t\n\tmodule.exports = install;\n\n\n/***/ },\n/* 63 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Promises/A+ polyfill v1.1.4 (https://github.com/bramstein/promis)\n\t */\n\t\n\tvar _ = __webpack_require__(1);\n\t\n\tvar RESOLVED = 0;\n\tvar REJECTED = 1;\n\tvar PENDING  = 2;\n\t\n\tfunction Promise(executor) {\n\t\n\t    this.state = PENDING;\n\t    this.value = undefined;\n\t    this.deferred = [];\n\t\n\t    var promise = this;\n\t\n\t    try {\n\t        executor(function (x) {\n\t            promise.resolve(x);\n\t        }, function (r) {\n\t            promise.reject(r);\n\t        });\n\t    } catch (e) {\n\t        promise.reject(e);\n\t    }\n\t}\n\t\n\tPromise.reject = function (r) {\n\t    return new Promise(function (resolve, reject) {\n\t        reject(r);\n\t    });\n\t};\n\t\n\tPromise.resolve = function (x) {\n\t    return new Promise(function (resolve, reject) {\n\t        resolve(x);\n\t    });\n\t};\n\t\n\tPromise.all = function all(iterable) {\n\t    return new Promise(function (resolve, reject) {\n\t        var count = 0, result = [];\n\t\n\t        if (iterable.length === 0) {\n\t            resolve(result);\n\t        }\n\t\n\t        function resolver(i) {\n\t            return function (x) {\n\t                result[i] = x;\n\t                count += 1;\n\t\n\t                if (count === iterable.length) {\n\t                    resolve(result);\n\t                }\n\t            };\n\t        }\n\t\n\t        for (var i = 0; i < iterable.length; i += 1) {\n\t            Promise.resolve(iterable[i]).then(resolver(i), reject);\n\t        }\n\t    });\n\t};\n\t\n\tPromise.race = function race(iterable) {\n\t    return new Promise(function (resolve, reject) {\n\t        for (var i = 0; i < iterable.length; i += 1) {\n\t            Promise.resolve(iterable[i]).then(resolve, reject);\n\t        }\n\t    });\n\t};\n\t\n\tvar p = Promise.prototype;\n\t\n\tp.resolve = function resolve(x) {\n\t    var promise = this;\n\t\n\t    if (promise.state === PENDING) {\n\t        if (x === promise) {\n\t            throw new TypeError('Promise settled with itself.');\n\t        }\n\t\n\t        var called = false;\n\t\n\t        try {\n\t            var then = x && x['then'];\n\t\n\t            if (x !== null && typeof x === 'object' && typeof then === 'function') {\n\t                then.call(x, function (x) {\n\t                    if (!called) {\n\t                        promise.resolve(x);\n\t                    }\n\t                    called = true;\n\t\n\t                }, function (r) {\n\t                    if (!called) {\n\t                        promise.reject(r);\n\t                    }\n\t                    called = true;\n\t                });\n\t                return;\n\t            }\n\t        } catch (e) {\n\t            if (!called) {\n\t                promise.reject(e);\n\t            }\n\t            return;\n\t        }\n\t\n\t        promise.state = RESOLVED;\n\t        promise.value = x;\n\t        promise.notify();\n\t    }\n\t};\n\t\n\tp.reject = function reject(reason) {\n\t    var promise = this;\n\t\n\t    if (promise.state === PENDING) {\n\t        if (reason === promise) {\n\t            throw new TypeError('Promise settled with itself.');\n\t        }\n\t\n\t        promise.state = REJECTED;\n\t        promise.value = reason;\n\t        promise.notify();\n\t    }\n\t};\n\t\n\tp.notify = function notify() {\n\t    var promise = this;\n\t\n\t    _.nextTick(function () {\n\t        if (promise.state !== PENDING) {\n\t            while (promise.deferred.length) {\n\t                var deferred = promise.deferred.shift(),\n\t                    onResolved = deferred[0],\n\t                    onRejected = deferred[1],\n\t                    resolve = deferred[2],\n\t                    reject = deferred[3];\n\t\n\t                try {\n\t                    if (promise.state === RESOLVED) {\n\t                        if (typeof onResolved === 'function') {\n\t                            resolve(onResolved.call(undefined, promise.value));\n\t                        } else {\n\t                            resolve(promise.value);\n\t                        }\n\t                    } else if (promise.state === REJECTED) {\n\t                        if (typeof onRejected === 'function') {\n\t                            resolve(onRejected.call(undefined, promise.value));\n\t                        } else {\n\t                            reject(promise.value);\n\t                        }\n\t                    }\n\t                } catch (e) {\n\t                    reject(e);\n\t                }\n\t            }\n\t        }\n\t    });\n\t};\n\t\n\tp.then = function then(onResolved, onRejected) {\n\t    var promise = this;\n\t\n\t    return new Promise(function (resolve, reject) {\n\t        promise.deferred.push([onResolved, onRejected, resolve, reject]);\n\t        promise.notify();\n\t    });\n\t};\n\t\n\tp.catch = function (onRejected) {\n\t    return this.then(undefined, onRejected);\n\t};\n\t\n\tmodule.exports = Promise;\n\n\n/***/ },\n/* 64 */\n/***/ function(module, exports) {\n\n\t/**\n\t * URL Template v2.0.6 (https://github.com/bramstein/url-template)\n\t */\n\t\n\texports.expand = function (url, params, variables) {\n\t\n\t    var tmpl = this.parse(url), expanded = tmpl.expand(params);\n\t\n\t    if (variables) {\n\t        variables.push.apply(variables, tmpl.vars);\n\t    }\n\t\n\t    return expanded;\n\t};\n\t\n\texports.parse = function (template) {\n\t\n\t    var operators = ['+', '#', '.', '/', ';', '?', '&'], variables = [];\n\t\n\t    return {\n\t        vars: variables,\n\t        expand: function (context) {\n\t            return template.replace(/\\{([^\\{\\}]+)\\}|([^\\{\\}]+)/g, function (_, expression, literal) {\n\t                if (expression) {\n\t\n\t                    var operator = null, values = [];\n\t\n\t                    if (operators.indexOf(expression.charAt(0)) !== -1) {\n\t                        operator = expression.charAt(0);\n\t                        expression = expression.substr(1);\n\t                    }\n\t\n\t                    expression.split(/,/g).forEach(function (variable) {\n\t                        var tmp = /([^:\\*]*)(?::(\\d+)|(\\*))?/.exec(variable);\n\t                        values.push.apply(values, exports.getValues(context, operator, tmp[1], tmp[2] || tmp[3]));\n\t                        variables.push(tmp[1]);\n\t                    });\n\t\n\t                    if (operator && operator !== '+') {\n\t\n\t                        var separator = ',';\n\t\n\t                        if (operator === '?') {\n\t                            separator = '&';\n\t                        } else if (operator !== '#') {\n\t                            separator = operator;\n\t                        }\n\t\n\t                        return (values.length !== 0 ? operator : '') + values.join(separator);\n\t                    } else {\n\t                        return values.join(',');\n\t                    }\n\t\n\t                } else {\n\t                    return exports.encodeReserved(literal);\n\t                }\n\t            });\n\t        }\n\t    };\n\t};\n\t\n\texports.getValues = function (context, operator, key, modifier) {\n\t\n\t    var value = context[key], result = [];\n\t\n\t    if (this.isDefined(value) && value !== '') {\n\t        if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n\t            value = value.toString();\n\t\n\t            if (modifier && modifier !== '*') {\n\t                value = value.substring(0, parseInt(modifier, 10));\n\t            }\n\t\n\t            result.push(this.encodeValue(operator, value, this.isKeyOperator(operator) ? key : null));\n\t        } else {\n\t            if (modifier === '*') {\n\t                if (Array.isArray(value)) {\n\t                    value.filter(this.isDefined).forEach(function (value) {\n\t                        result.push(this.encodeValue(operator, value, this.isKeyOperator(operator) ? key : null));\n\t                    }, this);\n\t                } else {\n\t                    Object.keys(value).forEach(function (k) {\n\t                        if (this.isDefined(value[k])) {\n\t                            result.push(this.encodeValue(operator, value[k], k));\n\t                        }\n\t                    }, this);\n\t                }\n\t            } else {\n\t                var tmp = [];\n\t\n\t                if (Array.isArray(value)) {\n\t                    value.filter(this.isDefined).forEach(function (value) {\n\t                        tmp.push(this.encodeValue(operator, value));\n\t                    }, this);\n\t                } else {\n\t                    Object.keys(value).forEach(function (k) {\n\t                        if (this.isDefined(value[k])) {\n\t                            tmp.push(encodeURIComponent(k));\n\t                            tmp.push(this.encodeValue(operator, value[k].toString()));\n\t                        }\n\t                    }, this);\n\t                }\n\t\n\t                if (this.isKeyOperator(operator)) {\n\t                    result.push(encodeURIComponent(key) + '=' + tmp.join(','));\n\t                } else if (tmp.length !== 0) {\n\t                    result.push(tmp.join(','));\n\t                }\n\t            }\n\t        }\n\t    } else {\n\t        if (operator === ';') {\n\t            result.push(encodeURIComponent(key));\n\t        } else if (value === '' && (operator === '&' || operator === '?')) {\n\t            result.push(encodeURIComponent(key) + '=');\n\t        } else if (value === '') {\n\t            result.push('');\n\t        }\n\t    }\n\t\n\t    return result;\n\t};\n\t\n\texports.isDefined = function (value) {\n\t    return value !== undefined && value !== null;\n\t};\n\t\n\texports.isKeyOperator = function (operator) {\n\t    return operator === ';' || operator === '&' || operator === '?';\n\t};\n\t\n\texports.encodeValue = function (operator, value, key) {\n\t\n\t    value = (operator === '+' || operator === '#') ? this.encodeReserved(value) : encodeURIComponent(value);\n\t\n\t    if (key) {\n\t        return encodeURIComponent(key) + '=' + value;\n\t    } else {\n\t        return value;\n\t    }\n\t};\n\t\n\texports.encodeReserved = function (str) {\n\t    return str.split(/(%[0-9A-Fa-f]{2})/g).map(function (part) {\n\t        if (!/%[0-9A-Fa-f]/.test(part)) {\n\t            part = encodeURI(part);\n\t        }\n\t        return part;\n\t    }).join('');\n\t};\n\n\n/***/ },\n/* 65 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Service for interacting with RESTful services.\n\t */\n\t\n\tvar _ = __webpack_require__(1);\n\t\n\tfunction Resource(url, params, actions, options) {\n\t\n\t    var self = this, resource = {};\n\t\n\t    actions = _.extend({},\n\t        Resource.actions,\n\t        actions\n\t    );\n\t\n\t    _.each(actions, function (action, name) {\n\t\n\t        action = _.merge({url: url, params: params || {}}, options, action);\n\t\n\t        resource[name] = function () {\n\t            return (self.$http || _.http)(opts(action, arguments));\n\t        };\n\t    });\n\t\n\t    return resource;\n\t}\n\t\n\tfunction opts(action, args) {\n\t\n\t    var options = _.extend({}, action), params = {}, data, success, error;\n\t\n\t    switch (args.length) {\n\t\n\t        case 4:\n\t\n\t            error = args[3];\n\t            success = args[2];\n\t\n\t        case 3:\n\t        case 2:\n\t\n\t            if (_.isFunction(args[1])) {\n\t\n\t                if (_.isFunction(args[0])) {\n\t\n\t                    success = args[0];\n\t                    error = args[1];\n\t\n\t                    break;\n\t                }\n\t\n\t                success = args[1];\n\t                error = args[2];\n\t\n\t            } else {\n\t\n\t                params = args[0];\n\t                data = args[1];\n\t                success = args[2];\n\t\n\t                break;\n\t            }\n\t\n\t        case 1:\n\t\n\t            if (_.isFunction(args[0])) {\n\t                success = args[0];\n\t            } else if (/^(POST|PUT|PATCH)$/i.test(options.method)) {\n\t                data = args[0];\n\t            } else {\n\t                params = args[0];\n\t            }\n\t\n\t            break;\n\t\n\t        case 0:\n\t\n\t            break;\n\t\n\t        default:\n\t\n\t            throw 'Expected up to 4 arguments [params, data, success, error], got ' + args.length + ' arguments';\n\t    }\n\t\n\t    options.data = data;\n\t    options.params = _.extend({}, options.params, params);\n\t\n\t    if (success) {\n\t        options.success = success;\n\t    }\n\t\n\t    if (error) {\n\t        options.error = error;\n\t    }\n\t\n\t    return options;\n\t}\n\t\n\tResource.actions = {\n\t\n\t    get: {method: 'GET'},\n\t    save: {method: 'POST'},\n\t    query: {method: 'GET'},\n\t    update: {method: 'PUT'},\n\t    remove: {method: 'DELETE'},\n\t    delete: {method: 'DELETE'}\n\t\n\t};\n\t\n\tmodule.exports = _.resource = Resource;\n\n\n/***/ },\n/* 66 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Service for URL templating.\n\t */\n\t\n\tvar _ = __webpack_require__(1);\n\tvar ie = document.documentMode;\n\tvar el = document.createElement('a');\n\t\n\tfunction Url(url, params) {\n\t\n\t    var options = url, transform;\n\t\n\t    if (_.isString(url)) {\n\t        options = {url: url, params: params};\n\t    }\n\t\n\t    options = _.merge({}, Url.options, this.$options, options);\n\t\n\t    Url.transforms.forEach(function (handler) {\n\t        transform = factory(handler, transform, this.$vm);\n\t    }, this);\n\t\n\t    return transform(options);\n\t};\n\t\n\t/**\n\t * Url options.\n\t */\n\t\n\tUrl.options = {\n\t    url: '',\n\t    root: null,\n\t    params: {}\n\t};\n\t\n\t/**\n\t * Url transforms.\n\t */\n\t\n\tUrl.transforms = [\n\t    __webpack_require__(70),\n\t    __webpack_require__(67),\n\t    __webpack_require__(68),\n\t    __webpack_require__(69)\n\t];\n\t\n\t/**\n\t * Encodes a Url parameter string.\n\t *\n\t * @param {Object} obj\n\t */\n\t\n\tUrl.params = function (obj) {\n\t\n\t    var params = [], escape = encodeURIComponent;\n\t\n\t    params.add = function (key, value) {\n\t\n\t        if (_.isFunction(value)) {\n\t            value = value();\n\t        }\n\t\n\t        if (value === null) {\n\t            value = '';\n\t        }\n\t\n\t        this.push(escape(key) + '=' + escape(value));\n\t    };\n\t\n\t    serialize(params, obj);\n\t\n\t    return params.join('&').replace(/%20/g, '+');\n\t};\n\t\n\t/**\n\t * Parse a URL and return its components.\n\t *\n\t * @param {String} url\n\t */\n\t\n\tUrl.parse = function (url) {\n\t\n\t    if (ie) {\n\t        el.href = url;\n\t        url = el.href;\n\t    }\n\t\n\t    el.href = url;\n\t\n\t    return {\n\t        href: el.href,\n\t        protocol: el.protocol ? el.protocol.replace(/:$/, '') : '',\n\t        port: el.port,\n\t        host: el.host,\n\t        hostname: el.hostname,\n\t        pathname: el.pathname.charAt(0) === '/' ? el.pathname : '/' + el.pathname,\n\t        search: el.search ? el.search.replace(/^\\?/, '') : '',\n\t        hash: el.hash ? el.hash.replace(/^#/, '') : ''\n\t    };\n\t};\n\t\n\tfunction factory(handler, next, vm) {\n\t    return function (options) {\n\t        return handler.call(vm, options, next);\n\t    };\n\t}\n\t\n\tfunction serialize(params, obj, scope) {\n\t\n\t    var array = _.isArray(obj), plain = _.isPlainObject(obj), hash;\n\t\n\t    _.each(obj, function (value, key) {\n\t\n\t        hash = _.isObject(value) || _.isArray(value);\n\t\n\t        if (scope) {\n\t            key = scope + '[' + (plain || hash ? key : '') + ']';\n\t        }\n\t\n\t        if (!scope && array) {\n\t            params.add(value.name, value.value);\n\t        } else if (hash) {\n\t            serialize(params, value, key);\n\t        } else {\n\t            params.add(key, value);\n\t        }\n\t    });\n\t}\n\t\n\tmodule.exports = _.url = Url;\n\n\n/***/ },\n/* 67 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Legacy Transform.\n\t */\n\t\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = function (options, next) {\n\t\n\t    var variables = [], url = next(options);\n\t\n\t    url = url.replace(/(\\/?):([a-z]\\w*)/gi, function (match, slash, name) {\n\t\n\t        _.warn('The `:' + name + '` parameter syntax has been deprecated. Use the `{' + name + '}` syntax instead.');\n\t\n\t        if (options.params[name]) {\n\t            variables.push(name);\n\t            return slash + encodeUriSegment(options.params[name]);\n\t        }\n\t\n\t        return '';\n\t    });\n\t\n\t    variables.forEach(function (key) {\n\t        delete options.params[key];\n\t    });\n\t\n\t    return url;\n\t};\n\t\n\tfunction encodeUriSegment(value) {\n\t\n\t    return encodeUriQuery(value, true).\n\t        replace(/%26/gi, '&').\n\t        replace(/%3D/gi, '=').\n\t        replace(/%2B/gi, '+');\n\t}\n\t\n\tfunction encodeUriQuery(value, spaces) {\n\t\n\t    return encodeURIComponent(value).\n\t        replace(/%40/gi, '@').\n\t        replace(/%3A/gi, ':').\n\t        replace(/%24/g, '$').\n\t        replace(/%2C/gi, ',').\n\t        replace(/%20/g, (spaces ? '%20' : '+'));\n\t}\n\n\n/***/ },\n/* 68 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Query Parameter Transform.\n\t */\n\t\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = function (options, next) {\n\t\n\t    var urlParams = Object.keys(_.url.options.params), query = {}, url = next(options);\n\t\n\t   _.each(options.params, function (value, key) {\n\t        if (urlParams.indexOf(key) === -1) {\n\t            query[key] = value;\n\t        }\n\t    });\n\t\n\t    query = _.url.params(query);\n\t\n\t    if (query) {\n\t        url += (url.indexOf('?') == -1 ? '?' : '&') + query;\n\t    }\n\t\n\t    return url;\n\t};\n\n\n/***/ },\n/* 69 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Root Prefix Transform.\n\t */\n\t\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = function (options, next) {\n\t\n\t    var url = next(options);\n\t\n\t    if (_.isString(options.root) && !url.match(/^(https?:)?\\//)) {\n\t        url = options.root + '/' + url;\n\t    }\n\t\n\t    return url;\n\t};\n\n\n/***/ },\n/* 70 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * URL Template (RFC 6570) Transform.\n\t */\n\t\n\tvar UrlTemplate = __webpack_require__(64);\n\t\n\tmodule.exports = function (options) {\n\t\n\t    var variables = [], url = UrlTemplate.expand(options.url, options.params, variables);\n\t\n\t    variables.forEach(function (key) {\n\t        delete options.params[key];\n\t    });\n\t\n\t    return url;\n\t};\n\n\n/***/ },\n/* 71 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*!\n\t * Vue.js v1.0.11\n\t * (c) 2015 Evan You\n\t * Released under the MIT License.\n\t */\n\t'use strict';\n\t\n\tfunction set(obj, key, val) {\n\t  if (hasOwn(obj, key)) {\n\t    obj[key] = val;\n\t    return;\n\t  }\n\t  if (obj._isVue) {\n\t    set(obj._data, key, val);\n\t    return;\n\t  }\n\t  var ob = obj.__ob__;\n\t  if (!ob) {\n\t    obj[key] = val;\n\t    return;\n\t  }\n\t  ob.convert(key, val);\n\t  ob.dep.notify();\n\t  if (ob.vms) {\n\t    var i = ob.vms.length;\n\t    while (i--) {\n\t      var vm = ob.vms[i];\n\t      vm._proxy(key);\n\t      vm._digest();\n\t    }\n\t  }\n\t  return val;\n\t}\n\t\n\t/**\n\t * Delete a property and trigger change if necessary.\n\t *\n\t * @param {Object} obj\n\t * @param {String} key\n\t */\n\t\n\tfunction del(obj, key) {\n\t  if (!hasOwn(obj, key)) {\n\t    return;\n\t  }\n\t  delete obj[key];\n\t  var ob = obj.__ob__;\n\t  if (!ob) {\n\t    return;\n\t  }\n\t  ob.dep.notify();\n\t  if (ob.vms) {\n\t    var i = ob.vms.length;\n\t    while (i--) {\n\t      var vm = ob.vms[i];\n\t      vm._unproxy(key);\n\t      vm._digest();\n\t    }\n\t  }\n\t}\n\t\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\t/**\n\t * Check whether the object has the property.\n\t *\n\t * @param {Object} obj\n\t * @param {String} key\n\t * @return {Boolean}\n\t */\n\t\n\tfunction hasOwn(obj, key) {\n\t  return hasOwnProperty.call(obj, key);\n\t}\n\t\n\t/**\n\t * Check if an expression is a literal value.\n\t *\n\t * @param {String} exp\n\t * @return {Boolean}\n\t */\n\t\n\tvar literalValueRE = /^\\s?(true|false|[\\d\\.]+|'[^']*'|\"[^\"]*\")\\s?$/;\n\t\n\tfunction isLiteral(exp) {\n\t  return literalValueRE.test(exp);\n\t}\n\t\n\t/**\n\t * Check if a string starts with $ or _\n\t *\n\t * @param {String} str\n\t * @return {Boolean}\n\t */\n\t\n\tfunction isReserved(str) {\n\t  var c = (str + '').charCodeAt(0);\n\t  return c === 0x24 || c === 0x5F;\n\t}\n\t\n\t/**\n\t * Guard text output, make sure undefined outputs\n\t * empty string\n\t *\n\t * @param {*} value\n\t * @return {String}\n\t */\n\t\n\tfunction _toString(value) {\n\t  return value == null ? '' : value.toString();\n\t}\n\t\n\t/**\n\t * Check and convert possible numeric strings to numbers\n\t * before setting back to data\n\t *\n\t * @param {*} value\n\t * @return {*|Number}\n\t */\n\t\n\tfunction toNumber(value) {\n\t  if (typeof value !== 'string') {\n\t    return value;\n\t  } else {\n\t    var parsed = Number(value);\n\t    return isNaN(parsed) ? value : parsed;\n\t  }\n\t}\n\t\n\t/**\n\t * Convert string boolean literals into real booleans.\n\t *\n\t * @param {*} value\n\t * @return {*|Boolean}\n\t */\n\t\n\tfunction toBoolean(value) {\n\t  return value === 'true' ? true : value === 'false' ? false : value;\n\t}\n\t\n\t/**\n\t * Strip quotes from a string\n\t *\n\t * @param {String} str\n\t * @return {String | false}\n\t */\n\t\n\tfunction stripQuotes(str) {\n\t  var a = str.charCodeAt(0);\n\t  var b = str.charCodeAt(str.length - 1);\n\t  return a === b && (a === 0x22 || a === 0x27) ? str.slice(1, -1) : str;\n\t}\n\t\n\t/**\n\t * Camelize a hyphen-delmited string.\n\t *\n\t * @param {String} str\n\t * @return {String}\n\t */\n\t\n\tvar camelizeRE = /-(\\w)/g;\n\t\n\tfunction camelize(str) {\n\t  return str.replace(camelizeRE, toUpper);\n\t}\n\t\n\tfunction toUpper(_, c) {\n\t  return c ? c.toUpperCase() : '';\n\t}\n\t\n\t/**\n\t * Hyphenate a camelCase string.\n\t *\n\t * @param {String} str\n\t * @return {String}\n\t */\n\t\n\tvar hyphenateRE = /([a-z\\d])([A-Z])/g;\n\t\n\tfunction hyphenate(str) {\n\t  return str.replace(hyphenateRE, '$1-$2').toLowerCase();\n\t}\n\t\n\t/**\n\t * Converts hyphen/underscore/slash delimitered names into\n\t * camelized classNames.\n\t *\n\t * e.g. my-component => MyComponent\n\t *      some_else    => SomeElse\n\t *      some/comp    => SomeComp\n\t *\n\t * @param {String} str\n\t * @return {String}\n\t */\n\t\n\tvar classifyRE = /(?:^|[-_\\/])(\\w)/g;\n\t\n\tfunction classify(str) {\n\t  return str.replace(classifyRE, toUpper);\n\t}\n\t\n\t/**\n\t * Simple bind, faster than native\n\t *\n\t * @param {Function} fn\n\t * @param {Object} ctx\n\t * @return {Function}\n\t */\n\t\n\tfunction bind$1(fn, ctx) {\n\t  return function (a) {\n\t    var l = arguments.length;\n\t    return l ? l > 1 ? fn.apply(ctx, arguments) : fn.call(ctx, a) : fn.call(ctx);\n\t  };\n\t}\n\t\n\t/**\n\t * Convert an Array-like object to a real Array.\n\t *\n\t * @param {Array-like} list\n\t * @param {Number} [start] - start index\n\t * @return {Array}\n\t */\n\t\n\tfunction toArray(list, start) {\n\t  start = start || 0;\n\t  var i = list.length - start;\n\t  var ret = new Array(i);\n\t  while (i--) {\n\t    ret[i] = list[i + start];\n\t  }\n\t  return ret;\n\t}\n\t\n\t/**\n\t * Mix properties into target object.\n\t *\n\t * @param {Object} to\n\t * @param {Object} from\n\t */\n\t\n\tfunction extend(to, from) {\n\t  var keys = Object.keys(from);\n\t  var i = keys.length;\n\t  while (i--) {\n\t    to[keys[i]] = from[keys[i]];\n\t  }\n\t  return to;\n\t}\n\t\n\t/**\n\t * Quick object check - this is primarily used to tell\n\t * Objects from primitive values when we know the value\n\t * is a JSON-compliant type.\n\t *\n\t * @param {*} obj\n\t * @return {Boolean}\n\t */\n\t\n\tfunction isObject(obj) {\n\t  return obj !== null && typeof obj === 'object';\n\t}\n\t\n\t/**\n\t * Strict object type check. Only returns true\n\t * for plain JavaScript objects.\n\t *\n\t * @param {*} obj\n\t * @return {Boolean}\n\t */\n\t\n\tvar toString = Object.prototype.toString;\n\tvar OBJECT_STRING = '[object Object]';\n\t\n\tfunction isPlainObject(obj) {\n\t  return toString.call(obj) === OBJECT_STRING;\n\t}\n\t\n\t/**\n\t * Array type check.\n\t *\n\t * @param {*} obj\n\t * @return {Boolean}\n\t */\n\t\n\tvar isArray = Array.isArray;\n\t\n\t/**\n\t * Define a non-enumerable property\n\t *\n\t * @param {Object} obj\n\t * @param {String} key\n\t * @param {*} val\n\t * @param {Boolean} [enumerable]\n\t */\n\t\n\tfunction def(obj, key, val, enumerable) {\n\t  Object.defineProperty(obj, key, {\n\t    value: val,\n\t    enumerable: !!enumerable,\n\t    writable: true,\n\t    configurable: true\n\t  });\n\t}\n\t\n\t/**\n\t * Debounce a function so it only gets called after the\n\t * input stops arriving after the given wait period.\n\t *\n\t * @param {Function} func\n\t * @param {Number} wait\n\t * @return {Function} - the debounced function\n\t */\n\t\n\tfunction _debounce(func, wait) {\n\t  var timeout, args, context, timestamp, result;\n\t  var later = function later() {\n\t    var last = Date.now() - timestamp;\n\t    if (last < wait && last >= 0) {\n\t      timeout = setTimeout(later, wait - last);\n\t    } else {\n\t      timeout = null;\n\t      result = func.apply(context, args);\n\t      if (!timeout) context = args = null;\n\t    }\n\t  };\n\t  return function () {\n\t    context = this;\n\t    args = arguments;\n\t    timestamp = Date.now();\n\t    if (!timeout) {\n\t      timeout = setTimeout(later, wait);\n\t    }\n\t    return result;\n\t  };\n\t}\n\t\n\t/**\n\t * Manual indexOf because it's slightly faster than\n\t * native.\n\t *\n\t * @param {Array} arr\n\t * @param {*} obj\n\t */\n\t\n\tfunction indexOf(arr, obj) {\n\t  var i = arr.length;\n\t  while (i--) {\n\t    if (arr[i] === obj) return i;\n\t  }\n\t  return -1;\n\t}\n\t\n\t/**\n\t * Make a cancellable version of an async callback.\n\t *\n\t * @param {Function} fn\n\t * @return {Function}\n\t */\n\t\n\tfunction cancellable(fn) {\n\t  var cb = function cb() {\n\t    if (!cb.cancelled) {\n\t      return fn.apply(this, arguments);\n\t    }\n\t  };\n\t  cb.cancel = function () {\n\t    cb.cancelled = true;\n\t  };\n\t  return cb;\n\t}\n\t\n\t/**\n\t * Check if two values are loosely equal - that is,\n\t * if they are plain objects, do they have the same shape?\n\t *\n\t * @param {*} a\n\t * @param {*} b\n\t * @return {Boolean}\n\t */\n\t\n\tfunction looseEqual(a, b) {\n\t  /* eslint-disable eqeqeq */\n\t  return a == b || (isObject(a) && isObject(b) ? JSON.stringify(a) === JSON.stringify(b) : false);\n\t  /* eslint-enable eqeqeq */\n\t}\n\t\n\tvar hasProto = ('__proto__' in {});\n\t\n\t// Browser environment sniffing\n\tvar inBrowser = typeof window !== 'undefined' && Object.prototype.toString.call(window) !== '[object Object]';\n\t\n\tvar isIE9 = inBrowser && navigator.userAgent.toLowerCase().indexOf('msie 9.0') > 0;\n\t\n\tvar isAndroid = inBrowser && navigator.userAgent.toLowerCase().indexOf('android') > 0;\n\t\n\tvar transitionProp = undefined;\n\tvar transitionEndEvent = undefined;\n\tvar animationProp = undefined;\n\tvar animationEndEvent = undefined;\n\t\n\t// Transition property/event sniffing\n\tif (inBrowser && !isIE9) {\n\t  var isWebkitTrans = window.ontransitionend === undefined && window.onwebkittransitionend !== undefined;\n\t  var isWebkitAnim = window.onanimationend === undefined && window.onwebkitanimationend !== undefined;\n\t  transitionProp = isWebkitTrans ? 'WebkitTransition' : 'transition';\n\t  transitionEndEvent = isWebkitTrans ? 'webkitTransitionEnd' : 'transitionend';\n\t  animationProp = isWebkitAnim ? 'WebkitAnimation' : 'animation';\n\t  animationEndEvent = isWebkitAnim ? 'webkitAnimationEnd' : 'animationend';\n\t}\n\t\n\t/**\n\t * Defer a task to execute it asynchronously. Ideally this\n\t * should be executed as a microtask, so we leverage\n\t * MutationObserver if it's available, and fallback to\n\t * setTimeout(0).\n\t *\n\t * @param {Function} cb\n\t * @param {Object} ctx\n\t */\n\t\n\tvar nextTick = (function () {\n\t  var callbacks = [];\n\t  var pending = false;\n\t  var timerFunc;\n\t  function nextTickHandler() {\n\t    pending = false;\n\t    var copies = callbacks.slice(0);\n\t    callbacks = [];\n\t    for (var i = 0; i < copies.length; i++) {\n\t      copies[i]();\n\t    }\n\t  }\n\t  /* istanbul ignore if */\n\t  if (typeof MutationObserver !== 'undefined') {\n\t    var counter = 1;\n\t    var observer = new MutationObserver(nextTickHandler);\n\t    var textNode = document.createTextNode(counter);\n\t    observer.observe(textNode, {\n\t      characterData: true\n\t    });\n\t    timerFunc = function () {\n\t      counter = (counter + 1) % 2;\n\t      textNode.data = counter;\n\t    };\n\t  } else {\n\t    timerFunc = setTimeout;\n\t  }\n\t  return function (cb, ctx) {\n\t    var func = ctx ? function () {\n\t      cb.call(ctx);\n\t    } : cb;\n\t    callbacks.push(func);\n\t    if (pending) return;\n\t    pending = true;\n\t    timerFunc(nextTickHandler, 0);\n\t  };\n\t})();\n\t\n\tfunction Cache(limit) {\n\t  this.size = 0;\n\t  this.limit = limit;\n\t  this.head = this.tail = undefined;\n\t  this._keymap = Object.create(null);\n\t}\n\t\n\tvar p = Cache.prototype;\n\t\n\t/**\n\t * Put <value> into the cache associated with <key>.\n\t * Returns the entry which was removed to make room for\n\t * the new entry. Otherwise undefined is returned.\n\t * (i.e. if there was enough room already).\n\t *\n\t * @param {String} key\n\t * @param {*} value\n\t * @return {Entry|undefined}\n\t */\n\t\n\tp.put = function (key, value) {\n\t  var entry = {\n\t    key: key,\n\t    value: value\n\t  };\n\t  this._keymap[key] = entry;\n\t  if (this.tail) {\n\t    this.tail.newer = entry;\n\t    entry.older = this.tail;\n\t  } else {\n\t    this.head = entry;\n\t  }\n\t  this.tail = entry;\n\t  if (this.size === this.limit) {\n\t    return this.shift();\n\t  } else {\n\t    this.size++;\n\t  }\n\t};\n\t\n\t/**\n\t * Purge the least recently used (oldest) entry from the\n\t * cache. Returns the removed entry or undefined if the\n\t * cache was empty.\n\t */\n\t\n\tp.shift = function () {\n\t  var entry = this.head;\n\t  if (entry) {\n\t    this.head = this.head.newer;\n\t    this.head.older = undefined;\n\t    entry.newer = entry.older = undefined;\n\t    this._keymap[entry.key] = undefined;\n\t  }\n\t  return entry;\n\t};\n\t\n\t/**\n\t * Get and register recent use of <key>. Returns the value\n\t * associated with <key> or undefined if not in cache.\n\t *\n\t * @param {String} key\n\t * @param {Boolean} returnEntry\n\t * @return {Entry|*}\n\t */\n\t\n\tp.get = function (key, returnEntry) {\n\t  var entry = this._keymap[key];\n\t  if (entry === undefined) return;\n\t  if (entry === this.tail) {\n\t    return returnEntry ? entry : entry.value;\n\t  }\n\t  // HEAD--------------TAIL\n\t  //   <.older   .newer>\n\t  //  <--- add direction --\n\t  //   A  B  C  <D>  E\n\t  if (entry.newer) {\n\t    if (entry === this.head) {\n\t      this.head = entry.newer;\n\t    }\n\t    entry.newer.older = entry.older; // C <-- E.\n\t  }\n\t  if (entry.older) {\n\t    entry.older.newer = entry.newer; // C. --> E\n\t  }\n\t  entry.newer = undefined; // D --x\n\t  entry.older = this.tail; // D. --> E\n\t  if (this.tail) {\n\t    this.tail.newer = entry; // E. <-- D\n\t  }\n\t  this.tail = entry;\n\t  return returnEntry ? entry : entry.value;\n\t};\n\t\n\tvar cache$1 = new Cache(1000);\n\tvar filterTokenRE = /[^\\s'\"]+|'[^']*'|\"[^\"]*\"/g;\n\tvar reservedArgRE = /^in$|^-?\\d+/;\n\t\n\t/**\n\t * Parser state\n\t */\n\t\n\tvar str;\n\tvar dir;\n\tvar c;\n\tvar prev;\n\tvar i;\n\tvar l;\n\tvar lastFilterIndex;\n\tvar inSingle;\n\tvar inDouble;\n\tvar curly;\n\tvar square;\n\tvar paren;\n\t/**\n\t * Push a filter to the current directive object\n\t */\n\t\n\tfunction pushFilter() {\n\t  var exp = str.slice(lastFilterIndex, i).trim();\n\t  var filter;\n\t  if (exp) {\n\t    filter = {};\n\t    var tokens = exp.match(filterTokenRE);\n\t    filter.name = tokens[0];\n\t    if (tokens.length > 1) {\n\t      filter.args = tokens.slice(1).map(processFilterArg);\n\t    }\n\t  }\n\t  if (filter) {\n\t    (dir.filters = dir.filters || []).push(filter);\n\t  }\n\t  lastFilterIndex = i + 1;\n\t}\n\t\n\t/**\n\t * Check if an argument is dynamic and strip quotes.\n\t *\n\t * @param {String} arg\n\t * @return {Object}\n\t */\n\t\n\tfunction processFilterArg(arg) {\n\t  if (reservedArgRE.test(arg)) {\n\t    return {\n\t      value: toNumber(arg),\n\t      dynamic: false\n\t    };\n\t  } else {\n\t    var stripped = stripQuotes(arg);\n\t    var dynamic = stripped === arg;\n\t    return {\n\t      value: dynamic ? arg : stripped,\n\t      dynamic: dynamic\n\t    };\n\t  }\n\t}\n\t\n\t/**\n\t * Parse a directive value and extract the expression\n\t * and its filters into a descriptor.\n\t *\n\t * Example:\n\t *\n\t * \"a + 1 | uppercase\" will yield:\n\t * {\n\t *   expression: 'a + 1',\n\t *   filters: [\n\t *     { name: 'uppercase', args: null }\n\t *   ]\n\t * }\n\t *\n\t * @param {String} str\n\t * @return {Object}\n\t */\n\t\n\tfunction parseDirective(s) {\n\t\n\t  var hit = cache$1.get(s);\n\t  if (hit) {\n\t    return hit;\n\t  }\n\t\n\t  // reset parser state\n\t  str = s;\n\t  inSingle = inDouble = false;\n\t  curly = square = paren = 0;\n\t  lastFilterIndex = 0;\n\t  dir = {};\n\t\n\t  for (i = 0, l = str.length; i < l; i++) {\n\t    prev = c;\n\t    c = str.charCodeAt(i);\n\t    if (inSingle) {\n\t      // check single quote\n\t      if (c === 0x27 && prev !== 0x5C) inSingle = !inSingle;\n\t    } else if (inDouble) {\n\t      // check double quote\n\t      if (c === 0x22 && prev !== 0x5C) inDouble = !inDouble;\n\t    } else if (c === 0x7C && // pipe\n\t    str.charCodeAt(i + 1) !== 0x7C && str.charCodeAt(i - 1) !== 0x7C) {\n\t      if (dir.expression == null) {\n\t        // first filter, end of expression\n\t        lastFilterIndex = i + 1;\n\t        dir.expression = str.slice(0, i).trim();\n\t      } else {\n\t        // already has filter\n\t        pushFilter();\n\t      }\n\t    } else {\n\t      switch (c) {\n\t        case 0x22:\n\t          inDouble = true;break; // \"\n\t        case 0x27:\n\t          inSingle = true;break; // '\n\t        case 0x28:\n\t          paren++;break; // (\n\t        case 0x29:\n\t          paren--;break; // )\n\t        case 0x5B:\n\t          square++;break; // [\n\t        case 0x5D:\n\t          square--;break; // ]\n\t        case 0x7B:\n\t          curly++;break; // {\n\t        case 0x7D:\n\t          curly--;break; // }\n\t      }\n\t    }\n\t  }\n\t\n\t  if (dir.expression == null) {\n\t    dir.expression = str.slice(0, i).trim();\n\t  } else if (lastFilterIndex !== 0) {\n\t    pushFilter();\n\t  }\n\t\n\t  cache$1.put(s, dir);\n\t  return dir;\n\t}\n\t\n\tvar directive = Object.freeze({\n\t  parseDirective: parseDirective\n\t});\n\t\n\tvar regexEscapeRE = /[-.*+?^${}()|[\\]\\/\\\\]/g;\n\tvar cache = undefined;\n\tvar tagRE = undefined;\n\tvar htmlRE = undefined;\n\t/**\n\t * Escape a string so it can be used in a RegExp\n\t * constructor.\n\t *\n\t * @param {String} str\n\t */\n\t\n\tfunction escapeRegex(str) {\n\t  return str.replace(regexEscapeRE, '\\\\$&');\n\t}\n\t\n\tfunction compileRegex() {\n\t  var open = escapeRegex(config.delimiters[0]);\n\t  var close = escapeRegex(config.delimiters[1]);\n\t  var unsafeOpen = escapeRegex(config.unsafeDelimiters[0]);\n\t  var unsafeClose = escapeRegex(config.unsafeDelimiters[1]);\n\t  tagRE = new RegExp(unsafeOpen + '(.+?)' + unsafeClose + '|' + open + '(.+?)' + close, 'g');\n\t  htmlRE = new RegExp('^' + unsafeOpen + '.*' + unsafeClose + '$');\n\t  // reset cache\n\t  cache = new Cache(1000);\n\t}\n\t\n\t/**\n\t * Parse a template text string into an array of tokens.\n\t *\n\t * @param {String} text\n\t * @return {Array<Object> | null}\n\t *               - {String} type\n\t *               - {String} value\n\t *               - {Boolean} [html]\n\t *               - {Boolean} [oneTime]\n\t */\n\t\n\tfunction parseText(text) {\n\t  if (!cache) {\n\t    compileRegex();\n\t  }\n\t  var hit = cache.get(text);\n\t  if (hit) {\n\t    return hit;\n\t  }\n\t  text = text.replace(/\\n/g, '');\n\t  if (!tagRE.test(text)) {\n\t    return null;\n\t  }\n\t  var tokens = [];\n\t  var lastIndex = tagRE.lastIndex = 0;\n\t  var match, index, html, value, first, oneTime;\n\t  /* eslint-disable no-cond-assign */\n\t  while (match = tagRE.exec(text)) {\n\t    /* eslint-enable no-cond-assign */\n\t    index = match.index;\n\t    // push text token\n\t    if (index > lastIndex) {\n\t      tokens.push({\n\t        value: text.slice(lastIndex, index)\n\t      });\n\t    }\n\t    // tag token\n\t    html = htmlRE.test(match[0]);\n\t    value = html ? match[1] : match[2];\n\t    first = value.charCodeAt(0);\n\t    oneTime = first === 42; // *\n\t    value = oneTime ? value.slice(1) : value;\n\t    tokens.push({\n\t      tag: true,\n\t      value: value.trim(),\n\t      html: html,\n\t      oneTime: oneTime\n\t    });\n\t    lastIndex = index + match[0].length;\n\t  }\n\t  if (lastIndex < text.length) {\n\t    tokens.push({\n\t      value: text.slice(lastIndex)\n\t    });\n\t  }\n\t  cache.put(text, tokens);\n\t  return tokens;\n\t}\n\t\n\t/**\n\t * Format a list of tokens into an expression.\n\t * e.g. tokens parsed from 'a {{b}} c' can be serialized\n\t * into one single expression as '\"a \" + b + \" c\"'.\n\t *\n\t * @param {Array} tokens\n\t * @return {String}\n\t */\n\t\n\tfunction tokensToExp(tokens) {\n\t  if (tokens.length > 1) {\n\t    return tokens.map(function (token) {\n\t      return formatToken(token);\n\t    }).join('+');\n\t  } else {\n\t    return formatToken(tokens[0], true);\n\t  }\n\t}\n\t\n\t/**\n\t * Format a single token.\n\t *\n\t * @param {Object} token\n\t * @param {Boolean} single\n\t * @return {String}\n\t */\n\t\n\tfunction formatToken(token, single) {\n\t  return token.tag ? inlineFilters(token.value, single) : '\"' + token.value + '\"';\n\t}\n\t\n\t/**\n\t * For an attribute with multiple interpolation tags,\n\t * e.g. attr=\"some-{{thing | filter}}\", in order to combine\n\t * the whole thing into a single watchable expression, we\n\t * have to inline those filters. This function does exactly\n\t * that. This is a bit hacky but it avoids heavy changes\n\t * to directive parser and watcher mechanism.\n\t *\n\t * @param {String} exp\n\t * @param {Boolean} single\n\t * @return {String}\n\t */\n\t\n\tvar filterRE$1 = /[^|]\\|[^|]/;\n\tfunction inlineFilters(exp, single) {\n\t  if (!filterRE$1.test(exp)) {\n\t    return single ? exp : '(' + exp + ')';\n\t  } else {\n\t    var dir = parseDirective(exp);\n\t    if (!dir.filters) {\n\t      return '(' + exp + ')';\n\t    } else {\n\t      return 'this._applyFilters(' + dir.expression + // value\n\t      ',null,' + // oldValue (null for read)\n\t      JSON.stringify(dir.filters) + // filter descriptors\n\t      ',false)'; // write?\n\t    }\n\t  }\n\t}\n\t\n\t/**\n\t * Replace all interpolation tags in a piece of text.\n\t *\n\t * @param {String} text\n\t * @return {String}\n\t */\n\t\n\tfunction removeTags(text) {\n\t  return text.replace(tagRE, '');\n\t}\n\t\n\tvar text$1 = Object.freeze({\n\t  compileRegex: compileRegex,\n\t  parseText: parseText,\n\t  tokensToExp: tokensToExp,\n\t  removeTags: removeTags\n\t});\n\t\n\tvar delimiters = ['{{', '}}'];\n\tvar unsafeDelimiters = ['{{{', '}}}'];\n\t\n\tvar config = Object.defineProperties({\n\t\n\t  /**\n\t   * Whether to print debug messages.\n\t   * Also enables stack trace for warnings.\n\t   *\n\t   * @type {Boolean}\n\t   */\n\t\n\t  debug: false,\n\t\n\t  /**\n\t   * Whether to suppress warnings.\n\t   *\n\t   * @type {Boolean}\n\t   */\n\t\n\t  silent: false,\n\t\n\t  /**\n\t   * Whether to use async rendering.\n\t   */\n\t\n\t  async: true,\n\t\n\t  /**\n\t   * Whether to warn against errors caught when evaluating\n\t   * expressions.\n\t   */\n\t\n\t  warnExpressionErrors: true,\n\t\n\t  /**\n\t   * Whether or not to handle fully object properties which\n\t   * are already backed by getters and seters. Depending on\n\t   * use case and environment, this might introduce non-neglible\n\t   * performance penalties.\n\t   */\n\t  convertAllProperties: false,\n\t\n\t  /**\n\t   * Internal flag to indicate the delimiters have been\n\t   * changed.\n\t   *\n\t   * @type {Boolean}\n\t   */\n\t\n\t  _delimitersChanged: true,\n\t\n\t  /**\n\t   * List of asset types that a component can own.\n\t   *\n\t   * @type {Array}\n\t   */\n\t\n\t  _assetTypes: ['component', 'directive', 'elementDirective', 'filter', 'transition', 'partial'],\n\t\n\t  /**\n\t   * prop binding modes\n\t   */\n\t\n\t  _propBindingModes: {\n\t    ONE_WAY: 0,\n\t    TWO_WAY: 1,\n\t    ONE_TIME: 2\n\t  },\n\t\n\t  /**\n\t   * Max circular updates allowed in a batcher flush cycle.\n\t   */\n\t\n\t  _maxUpdateCount: 100\n\t\n\t}, {\n\t  delimiters: { /**\n\t                 * Interpolation delimiters. Changing these would trigger\n\t                 * the text parser to re-compile the regular expressions.\n\t                 *\n\t                 * @type {Array<String>}\n\t                 */\n\t\n\t    get: function get() {\n\t      return delimiters;\n\t    },\n\t    set: function set(val) {\n\t      delimiters = val;\n\t      compileRegex();\n\t    },\n\t    configurable: true,\n\t    enumerable: true\n\t  },\n\t  unsafeDelimiters: {\n\t    get: function get() {\n\t      return unsafeDelimiters;\n\t    },\n\t    set: function set(val) {\n\t      unsafeDelimiters = val;\n\t      compileRegex();\n\t    },\n\t    configurable: true,\n\t    enumerable: true\n\t  }\n\t});\n\t\n\tvar warn = undefined;\n\t\n\tif (false) {\n\t  (function () {\n\t    var hasConsole = typeof console !== 'undefined';\n\t    warn = function (msg, e) {\n\t      if (hasConsole && (!config.silent || config.debug)) {\n\t        console.warn('[Vue warn]: ' + msg);\n\t        /* istanbul ignore if */\n\t        if (config.debug) {\n\t          if (e) {\n\t            throw e;\n\t          } else {\n\t            console.warn(new Error('Warning Stack Trace').stack);\n\t          }\n\t        }\n\t      }\n\t    };\n\t  })();\n\t}\n\t\n\t/**\n\t * Append with transition.\n\t *\n\t * @param {Element} el\n\t * @param {Element} target\n\t * @param {Vue} vm\n\t * @param {Function} [cb]\n\t */\n\t\n\tfunction appendWithTransition(el, target, vm, cb) {\n\t  applyTransition(el, 1, function () {\n\t    target.appendChild(el);\n\t  }, vm, cb);\n\t}\n\t\n\t/**\n\t * InsertBefore with transition.\n\t *\n\t * @param {Element} el\n\t * @param {Element} target\n\t * @param {Vue} vm\n\t * @param {Function} [cb]\n\t */\n\t\n\tfunction beforeWithTransition(el, target, vm, cb) {\n\t  applyTransition(el, 1, function () {\n\t    before(el, target);\n\t  }, vm, cb);\n\t}\n\t\n\t/**\n\t * Remove with transition.\n\t *\n\t * @param {Element} el\n\t * @param {Vue} vm\n\t * @param {Function} [cb]\n\t */\n\t\n\tfunction removeWithTransition(el, vm, cb) {\n\t  applyTransition(el, -1, function () {\n\t    remove(el);\n\t  }, vm, cb);\n\t}\n\t\n\t/**\n\t * Apply transitions with an operation callback.\n\t *\n\t * @param {Element} el\n\t * @param {Number} direction\n\t *                  1: enter\n\t *                 -1: leave\n\t * @param {Function} op - the actual DOM operation\n\t * @param {Vue} vm\n\t * @param {Function} [cb]\n\t */\n\t\n\tfunction applyTransition(el, direction, op, vm, cb) {\n\t  var transition = el.__v_trans;\n\t  if (!transition ||\n\t  // skip if there are no js hooks and CSS transition is\n\t  // not supported\n\t  !transition.hooks && !transitionEndEvent ||\n\t  // skip transitions for initial compile\n\t  !vm._isCompiled ||\n\t  // if the vm is being manipulated by a parent directive\n\t  // during the parent's compilation phase, skip the\n\t  // animation.\n\t  vm.$parent && !vm.$parent._isCompiled) {\n\t    op();\n\t    if (cb) cb();\n\t    return;\n\t  }\n\t  var action = direction > 0 ? 'enter' : 'leave';\n\t  transition[action](op, cb);\n\t}\n\t\n\t/**\n\t * Query an element selector if it's not an element already.\n\t *\n\t * @param {String|Element} el\n\t * @return {Element}\n\t */\n\t\n\tfunction query(el) {\n\t  if (typeof el === 'string') {\n\t    var selector = el;\n\t    el = document.querySelector(el);\n\t    if (!el) {\n\t      (\"production\") !== 'production' && warn('Cannot find element: ' + selector);\n\t    }\n\t  }\n\t  return el;\n\t}\n\t\n\t/**\n\t * Check if a node is in the document.\n\t * Note: document.documentElement.contains should work here\n\t * but always returns false for comment nodes in phantomjs,\n\t * making unit tests difficult. This is fixed by doing the\n\t * contains() check on the node's parentNode instead of\n\t * the node itself.\n\t *\n\t * @param {Node} node\n\t * @return {Boolean}\n\t */\n\t\n\tfunction inDoc(node) {\n\t  var doc = document.documentElement;\n\t  var parent = node && node.parentNode;\n\t  return doc === node || doc === parent || !!(parent && parent.nodeType === 1 && doc.contains(parent));\n\t}\n\t\n\t/**\n\t * Get and remove an attribute from a node.\n\t *\n\t * @param {Node} node\n\t * @param {String} _attr\n\t */\n\t\n\tfunction getAttr(node, _attr) {\n\t  var val = node.getAttribute(_attr);\n\t  if (val !== null) {\n\t    node.removeAttribute(_attr);\n\t  }\n\t  return val;\n\t}\n\t\n\t/**\n\t * Get an attribute with colon or v-bind: prefix.\n\t *\n\t * @param {Node} node\n\t * @param {String} name\n\t * @return {String|null}\n\t */\n\t\n\tfunction getBindAttr(node, name) {\n\t  var val = getAttr(node, ':' + name);\n\t  if (val === null) {\n\t    val = getAttr(node, 'v-bind:' + name);\n\t  }\n\t  return val;\n\t}\n\t\n\t/**\n\t * Check the presence of a bind attribute.\n\t *\n\t * @param {Node} node\n\t * @param {String} name\n\t * @return {Boolean}\n\t */\n\t\n\tfunction hasBindAttr(node, name) {\n\t  return node.hasAttribute(name) || node.hasAttribute(':' + name) || node.hasAttribute('v-bind:' + name);\n\t}\n\t\n\t/**\n\t * Insert el before target\n\t *\n\t * @param {Element} el\n\t * @param {Element} target\n\t */\n\t\n\tfunction before(el, target) {\n\t  target.parentNode.insertBefore(el, target);\n\t}\n\t\n\t/**\n\t * Insert el after target\n\t *\n\t * @param {Element} el\n\t * @param {Element} target\n\t */\n\t\n\tfunction after(el, target) {\n\t  if (target.nextSibling) {\n\t    before(el, target.nextSibling);\n\t  } else {\n\t    target.parentNode.appendChild(el);\n\t  }\n\t}\n\t\n\t/**\n\t * Remove el from DOM\n\t *\n\t * @param {Element} el\n\t */\n\t\n\tfunction remove(el) {\n\t  el.parentNode.removeChild(el);\n\t}\n\t\n\t/**\n\t * Prepend el to target\n\t *\n\t * @param {Element} el\n\t * @param {Element} target\n\t */\n\t\n\tfunction prepend(el, target) {\n\t  if (target.firstChild) {\n\t    before(el, target.firstChild);\n\t  } else {\n\t    target.appendChild(el);\n\t  }\n\t}\n\t\n\t/**\n\t * Replace target with el\n\t *\n\t * @param {Element} target\n\t * @param {Element} el\n\t */\n\t\n\tfunction replace(target, el) {\n\t  var parent = target.parentNode;\n\t  if (parent) {\n\t    parent.replaceChild(el, target);\n\t  }\n\t}\n\t\n\t/**\n\t * Add event listener shorthand.\n\t *\n\t * @param {Element} el\n\t * @param {String} event\n\t * @param {Function} cb\n\t */\n\t\n\tfunction on$1(el, event, cb) {\n\t  el.addEventListener(event, cb);\n\t}\n\t\n\t/**\n\t * Remove event listener shorthand.\n\t *\n\t * @param {Element} el\n\t * @param {String} event\n\t * @param {Function} cb\n\t */\n\t\n\tfunction off(el, event, cb) {\n\t  el.removeEventListener(event, cb);\n\t}\n\t\n\t/**\n\t * In IE9, setAttribute('class') will result in empty class\n\t * if the element also has the :class attribute; However in\n\t * PhantomJS, setting `className` does not work on SVG elements...\n\t * So we have to do a conditional check here.\n\t *\n\t * @param {Element} el\n\t * @param {String} cls\n\t */\n\t\n\tfunction setClass(el, cls) {\n\t  /* istanbul ignore if */\n\t  if (isIE9 && el.hasOwnProperty('className')) {\n\t    el.className = cls;\n\t  } else {\n\t    el.setAttribute('class', cls);\n\t  }\n\t}\n\t\n\t/**\n\t * Add class with compatibility for IE & SVG\n\t *\n\t * @param {Element} el\n\t * @param {String} cls\n\t */\n\t\n\tfunction addClass(el, cls) {\n\t  if (el.classList) {\n\t    el.classList.add(cls);\n\t  } else {\n\t    var cur = ' ' + (el.getAttribute('class') || '') + ' ';\n\t    if (cur.indexOf(' ' + cls + ' ') < 0) {\n\t      setClass(el, (cur + cls).trim());\n\t    }\n\t  }\n\t}\n\t\n\t/**\n\t * Remove class with compatibility for IE & SVG\n\t *\n\t * @param {Element} el\n\t * @param {String} cls\n\t */\n\t\n\tfunction removeClass(el, cls) {\n\t  if (el.classList) {\n\t    el.classList.remove(cls);\n\t  } else {\n\t    var cur = ' ' + (el.getAttribute('class') || '') + ' ';\n\t    var tar = ' ' + cls + ' ';\n\t    while (cur.indexOf(tar) >= 0) {\n\t      cur = cur.replace(tar, ' ');\n\t    }\n\t    setClass(el, cur.trim());\n\t  }\n\t  if (!el.className) {\n\t    el.removeAttribute('class');\n\t  }\n\t}\n\t\n\t/**\n\t * Extract raw content inside an element into a temporary\n\t * container div\n\t *\n\t * @param {Element} el\n\t * @param {Boolean} asFragment\n\t * @return {Element}\n\t */\n\t\n\tfunction extractContent(el, asFragment) {\n\t  var child;\n\t  var rawContent;\n\t  /* istanbul ignore if */\n\t  if (isTemplate(el) && el.content instanceof DocumentFragment) {\n\t    el = el.content;\n\t  }\n\t  if (el.hasChildNodes()) {\n\t    trimNode(el);\n\t    rawContent = asFragment ? document.createDocumentFragment() : document.createElement('div');\n\t    /* eslint-disable no-cond-assign */\n\t    while (child = el.firstChild) {\n\t      /* eslint-enable no-cond-assign */\n\t      rawContent.appendChild(child);\n\t    }\n\t  }\n\t  return rawContent;\n\t}\n\t\n\t/**\n\t * Trim possible empty head/tail textNodes inside a parent.\n\t *\n\t * @param {Node} node\n\t */\n\t\n\tfunction trimNode(node) {\n\t  trim(node, node.firstChild);\n\t  trim(node, node.lastChild);\n\t}\n\t\n\tfunction trim(parent, node) {\n\t  if (node && node.nodeType === 3 && !node.data.trim()) {\n\t    parent.removeChild(node);\n\t  }\n\t}\n\t\n\t/**\n\t * Check if an element is a template tag.\n\t * Note if the template appears inside an SVG its tagName\n\t * will be in lowercase.\n\t *\n\t * @param {Element} el\n\t */\n\t\n\tfunction isTemplate(el) {\n\t  return el.tagName && el.tagName.toLowerCase() === 'template';\n\t}\n\t\n\t/**\n\t * Create an \"anchor\" for performing dom insertion/removals.\n\t * This is used in a number of scenarios:\n\t * - fragment instance\n\t * - v-html\n\t * - v-if\n\t * - v-for\n\t * - component\n\t *\n\t * @param {String} content\n\t * @param {Boolean} persist - IE trashes empty textNodes on\n\t *                            cloneNode(true), so in certain\n\t *                            cases the anchor needs to be\n\t *                            non-empty to be persisted in\n\t *                            templates.\n\t * @return {Comment|Text}\n\t */\n\t\n\tfunction createAnchor(content, persist) {\n\t  var anchor = config.debug ? document.createComment(content) : document.createTextNode(persist ? ' ' : '');\n\t  anchor.__vue_anchor = true;\n\t  return anchor;\n\t}\n\t\n\t/**\n\t * Find a component ref attribute that starts with $.\n\t *\n\t * @param {Element} node\n\t * @return {String|undefined}\n\t */\n\t\n\tvar refRE = /^v-ref:/;\n\t\n\tfunction findRef(node) {\n\t  if (node.hasAttributes()) {\n\t    var attrs = node.attributes;\n\t    for (var i = 0, l = attrs.length; i < l; i++) {\n\t      var name = attrs[i].name;\n\t      if (refRE.test(name)) {\n\t        return camelize(name.replace(refRE, ''));\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\t/**\n\t * Map a function to a range of nodes .\n\t *\n\t * @param {Node} node\n\t * @param {Node} end\n\t * @param {Function} op\n\t */\n\t\n\tfunction mapNodeRange(node, end, op) {\n\t  var next;\n\t  while (node !== end) {\n\t    next = node.nextSibling;\n\t    op(node);\n\t    node = next;\n\t  }\n\t  op(end);\n\t}\n\t\n\t/**\n\t * Remove a range of nodes with transition, store\n\t * the nodes in a fragment with correct ordering,\n\t * and call callback when done.\n\t *\n\t * @param {Node} start\n\t * @param {Node} end\n\t * @param {Vue} vm\n\t * @param {DocumentFragment} frag\n\t * @param {Function} cb\n\t */\n\t\n\tfunction removeNodeRange(start, end, vm, frag, cb) {\n\t  var done = false;\n\t  var removed = 0;\n\t  var nodes = [];\n\t  mapNodeRange(start, end, function (node) {\n\t    if (node === end) done = true;\n\t    nodes.push(node);\n\t    removeWithTransition(node, vm, onRemoved);\n\t  });\n\t  function onRemoved() {\n\t    removed++;\n\t    if (done && removed >= nodes.length) {\n\t      for (var i = 0; i < nodes.length; i++) {\n\t        frag.appendChild(nodes[i]);\n\t      }\n\t      cb && cb();\n\t    }\n\t  }\n\t}\n\t\n\tvar commonTagRE = /^(div|p|span|img|a|b|i|br|ul|ol|li|h1|h2|h3|h4|h5|h6|code|pre|table|th|td|tr|form|label|input|select|option|nav|article|section|header|footer)$/;\n\t\n\t/**\n\t * Check if an element is a component, if yes return its\n\t * component id.\n\t *\n\t * @param {Element} el\n\t * @param {Object} options\n\t * @return {Object|undefined}\n\t */\n\t\n\tfunction checkComponentAttr(el, options) {\n\t  var tag = el.tagName.toLowerCase();\n\t  var hasAttrs = el.hasAttributes();\n\t  if (!commonTagRE.test(tag) && tag !== 'component') {\n\t    if (resolveAsset(options, 'components', tag)) {\n\t      return { id: tag };\n\t    } else {\n\t      var is = hasAttrs && getIsBinding(el);\n\t      if (is) {\n\t        return is;\n\t      } else if (false) {\n\t        if (tag.indexOf('-') > -1 || /HTMLUnknownElement/.test(el.toString()) &&\n\t        // Chrome returns unknown for several HTML5 elements.\n\t        // https://code.google.com/p/chromium/issues/detail?id=540526\n\t        !/^(data|time|rtc|rb)$/.test(tag)) {\n\t          warn('Unknown custom element: <' + tag + '> - did you ' + 'register the component correctly?');\n\t        }\n\t      }\n\t    }\n\t  } else if (hasAttrs) {\n\t    return getIsBinding(el);\n\t  }\n\t}\n\t\n\t/**\n\t * Get \"is\" binding from an element.\n\t *\n\t * @param {Element} el\n\t * @return {Object|undefined}\n\t */\n\t\n\tfunction getIsBinding(el) {\n\t  // dynamic syntax\n\t  var exp = getAttr(el, 'is');\n\t  if (exp != null) {\n\t    return { id: exp };\n\t  } else {\n\t    exp = getBindAttr(el, 'is');\n\t    if (exp != null) {\n\t      return { id: exp, dynamic: true };\n\t    }\n\t  }\n\t}\n\t\n\t/**\n\t * Set a prop's initial value on a vm and its data object.\n\t *\n\t * @param {Vue} vm\n\t * @param {Object} prop\n\t * @param {*} value\n\t */\n\t\n\tfunction initProp(vm, prop, value) {\n\t  var key = prop.path;\n\t  vm[key] = vm._data[key] = assertProp(prop, value) ? value : undefined;\n\t}\n\t\n\t/**\n\t * Assert whether a prop is valid.\n\t *\n\t * @param {Object} prop\n\t * @param {*} value\n\t */\n\t\n\tfunction assertProp(prop, value) {\n\t  // if a prop is not provided and is not required,\n\t  // skip the check.\n\t  if (prop.raw === null && !prop.required) {\n\t    return true;\n\t  }\n\t  var options = prop.options;\n\t  var type = options.type;\n\t  var valid = true;\n\t  var expectedType;\n\t  if (type) {\n\t    if (type === String) {\n\t      expectedType = 'string';\n\t      valid = typeof value === expectedType;\n\t    } else if (type === Number) {\n\t      expectedType = 'number';\n\t      valid = typeof value === 'number';\n\t    } else if (type === Boolean) {\n\t      expectedType = 'boolean';\n\t      valid = typeof value === 'boolean';\n\t    } else if (type === Function) {\n\t      expectedType = 'function';\n\t      valid = typeof value === 'function';\n\t    } else if (type === Object) {\n\t      expectedType = 'object';\n\t      valid = isPlainObject(value);\n\t    } else if (type === Array) {\n\t      expectedType = 'array';\n\t      valid = isArray(value);\n\t    } else {\n\t      valid = value instanceof type;\n\t    }\n\t  }\n\t  if (!valid) {\n\t    (\"production\") !== 'production' && warn('Invalid prop: type check failed for ' + prop.path + '=\"' + prop.raw + '\".' + ' Expected ' + formatType(expectedType) + ', got ' + formatValue(value) + '.');\n\t    return false;\n\t  }\n\t  var validator = options.validator;\n\t  if (validator) {\n\t    if (!validator.call(null, value)) {\n\t      (\"production\") !== 'production' && warn('Invalid prop: custom validator check failed for ' + prop.path + '=\"' + prop.raw + '\"');\n\t      return false;\n\t    }\n\t  }\n\t  return true;\n\t}\n\t\n\tfunction formatType(val) {\n\t  return val ? val.charAt(0).toUpperCase() + val.slice(1) : 'custom type';\n\t}\n\t\n\tfunction formatValue(val) {\n\t  return Object.prototype.toString.call(val).slice(8, -1);\n\t}\n\t\n\t/**\n\t * Option overwriting strategies are functions that handle\n\t * how to merge a parent option value and a child option\n\t * value into the final value.\n\t *\n\t * All strategy functions follow the same signature:\n\t *\n\t * @param {*} parentVal\n\t * @param {*} childVal\n\t * @param {Vue} [vm]\n\t */\n\t\n\tvar strats = config.optionMergeStrategies = Object.create(null);\n\t\n\t/**\n\t * Helper that recursively merges two data objects together.\n\t */\n\t\n\tfunction mergeData(to, from) {\n\t  var key, toVal, fromVal;\n\t  for (key in from) {\n\t    toVal = to[key];\n\t    fromVal = from[key];\n\t    if (!hasOwn(to, key)) {\n\t      set(to, key, fromVal);\n\t    } else if (isObject(toVal) && isObject(fromVal)) {\n\t      mergeData(toVal, fromVal);\n\t    }\n\t  }\n\t  return to;\n\t}\n\t\n\t/**\n\t * Data\n\t */\n\t\n\tstrats.data = function (parentVal, childVal, vm) {\n\t  if (!vm) {\n\t    // in a Vue.extend merge, both should be functions\n\t    if (!childVal) {\n\t      return parentVal;\n\t    }\n\t    if (typeof childVal !== 'function') {\n\t      (\"production\") !== 'production' && warn('The \"data\" option should be a function ' + 'that returns a per-instance value in component ' + 'definitions.');\n\t      return parentVal;\n\t    }\n\t    if (!parentVal) {\n\t      return childVal;\n\t    }\n\t    // when parentVal & childVal are both present,\n\t    // we need to return a function that returns the\n\t    // merged result of both functions... no need to\n\t    // check if parentVal is a function here because\n\t    // it has to be a function to pass previous merges.\n\t    return function mergedDataFn() {\n\t      return mergeData(childVal.call(this), parentVal.call(this));\n\t    };\n\t  } else if (parentVal || childVal) {\n\t    return function mergedInstanceDataFn() {\n\t      // instance merge\n\t      var instanceData = typeof childVal === 'function' ? childVal.call(vm) : childVal;\n\t      var defaultData = typeof parentVal === 'function' ? parentVal.call(vm) : undefined;\n\t      if (instanceData) {\n\t        return mergeData(instanceData, defaultData);\n\t      } else {\n\t        return defaultData;\n\t      }\n\t    };\n\t  }\n\t};\n\t\n\t/**\n\t * El\n\t */\n\t\n\tstrats.el = function (parentVal, childVal, vm) {\n\t  if (!vm && childVal && typeof childVal !== 'function') {\n\t    (\"production\") !== 'production' && warn('The \"el\" option should be a function ' + 'that returns a per-instance value in component ' + 'definitions.');\n\t    return;\n\t  }\n\t  var ret = childVal || parentVal;\n\t  // invoke the element factory if this is instance merge\n\t  return vm && typeof ret === 'function' ? ret.call(vm) : ret;\n\t};\n\t\n\t/**\n\t * Hooks and param attributes are merged as arrays.\n\t */\n\t\n\tstrats.init = strats.created = strats.ready = strats.attached = strats.detached = strats.beforeCompile = strats.compiled = strats.beforeDestroy = strats.destroyed = function (parentVal, childVal) {\n\t  return childVal ? parentVal ? parentVal.concat(childVal) : isArray(childVal) ? childVal : [childVal] : parentVal;\n\t};\n\t\n\t/**\n\t * 0.11 deprecation warning\n\t */\n\t\n\tstrats.paramAttributes = function () {\n\t  /* istanbul ignore next */\n\t  (\"production\") !== 'production' && warn('\"paramAttributes\" option has been deprecated in 0.12. ' + 'Use \"props\" instead.');\n\t};\n\t\n\t/**\n\t * Assets\n\t *\n\t * When a vm is present (instance creation), we need to do\n\t * a three-way merge between constructor options, instance\n\t * options and parent options.\n\t */\n\t\n\tfunction mergeAssets(parentVal, childVal) {\n\t  var res = Object.create(parentVal);\n\t  return childVal ? extend(res, guardArrayAssets(childVal)) : res;\n\t}\n\t\n\tconfig._assetTypes.forEach(function (type) {\n\t  strats[type + 's'] = mergeAssets;\n\t});\n\t\n\t/**\n\t * Events & Watchers.\n\t *\n\t * Events & watchers hashes should not overwrite one\n\t * another, so we merge them as arrays.\n\t */\n\t\n\tstrats.watch = strats.events = function (parentVal, childVal) {\n\t  if (!childVal) return parentVal;\n\t  if (!parentVal) return childVal;\n\t  var ret = {};\n\t  extend(ret, parentVal);\n\t  for (var key in childVal) {\n\t    var parent = ret[key];\n\t    var child = childVal[key];\n\t    if (parent && !isArray(parent)) {\n\t      parent = [parent];\n\t    }\n\t    ret[key] = parent ? parent.concat(child) : [child];\n\t  }\n\t  return ret;\n\t};\n\t\n\t/**\n\t * Other object hashes.\n\t */\n\t\n\tstrats.props = strats.methods = strats.computed = function (parentVal, childVal) {\n\t  if (!childVal) return parentVal;\n\t  if (!parentVal) return childVal;\n\t  var ret = Object.create(null);\n\t  extend(ret, parentVal);\n\t  extend(ret, childVal);\n\t  return ret;\n\t};\n\t\n\t/**\n\t * Default strategy.\n\t */\n\t\n\tvar defaultStrat = function defaultStrat(parentVal, childVal) {\n\t  return childVal === undefined ? parentVal : childVal;\n\t};\n\t\n\t/**\n\t * Make sure component options get converted to actual\n\t * constructors.\n\t *\n\t * @param {Object} options\n\t */\n\t\n\tfunction guardComponents(options) {\n\t  if (options.components) {\n\t    var components = options.components = guardArrayAssets(options.components);\n\t    var def;\n\t    var ids = Object.keys(components);\n\t    for (var i = 0, l = ids.length; i < l; i++) {\n\t      var key = ids[i];\n\t      if (commonTagRE.test(key)) {\n\t        (\"production\") !== 'production' && warn('Do not use built-in HTML elements as component ' + 'id: ' + key);\n\t        continue;\n\t      }\n\t      def = components[key];\n\t      if (isPlainObject(def)) {\n\t        components[key] = Vue.extend(def);\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\t/**\n\t * Ensure all props option syntax are normalized into the\n\t * Object-based format.\n\t *\n\t * @param {Object} options\n\t */\n\t\n\tfunction guardProps(options) {\n\t  var props = options.props;\n\t  var i, val;\n\t  if (isArray(props)) {\n\t    options.props = {};\n\t    i = props.length;\n\t    while (i--) {\n\t      val = props[i];\n\t      if (typeof val === 'string') {\n\t        options.props[val] = null;\n\t      } else if (val.name) {\n\t        options.props[val.name] = val;\n\t      }\n\t    }\n\t  } else if (isPlainObject(props)) {\n\t    var keys = Object.keys(props);\n\t    i = keys.length;\n\t    while (i--) {\n\t      val = props[keys[i]];\n\t      if (typeof val === 'function') {\n\t        props[keys[i]] = { type: val };\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\t/**\n\t * Guard an Array-format assets option and converted it\n\t * into the key-value Object format.\n\t *\n\t * @param {Object|Array} assets\n\t * @return {Object}\n\t */\n\t\n\tfunction guardArrayAssets(assets) {\n\t  if (isArray(assets)) {\n\t    var res = {};\n\t    var i = assets.length;\n\t    var asset;\n\t    while (i--) {\n\t      asset = assets[i];\n\t      var id = typeof asset === 'function' ? asset.options && asset.options.name || asset.id : asset.name || asset.id;\n\t      if (!id) {\n\t        (\"production\") !== 'production' && warn('Array-syntax assets must provide a \"name\" or \"id\" field.');\n\t      } else {\n\t        res[id] = asset;\n\t      }\n\t    }\n\t    return res;\n\t  }\n\t  return assets;\n\t}\n\t\n\t/**\n\t * Merge two option objects into a new one.\n\t * Core utility used in both instantiation and inheritance.\n\t *\n\t * @param {Object} parent\n\t * @param {Object} child\n\t * @param {Vue} [vm] - if vm is present, indicates this is\n\t *                     an instantiation merge.\n\t */\n\t\n\tfunction mergeOptions(parent, child, vm) {\n\t  guardComponents(child);\n\t  guardProps(child);\n\t  var options = {};\n\t  var key;\n\t  if (child.mixins) {\n\t    for (var i = 0, l = child.mixins.length; i < l; i++) {\n\t      parent = mergeOptions(parent, child.mixins[i], vm);\n\t    }\n\t  }\n\t  for (key in parent) {\n\t    mergeField(key);\n\t  }\n\t  for (key in child) {\n\t    if (!hasOwn(parent, key)) {\n\t      mergeField(key);\n\t    }\n\t  }\n\t  function mergeField(key) {\n\t    var strat = strats[key] || defaultStrat;\n\t    options[key] = strat(parent[key], child[key], vm, key);\n\t  }\n\t  return options;\n\t}\n\t\n\t/**\n\t * Resolve an asset.\n\t * This function is used because child instances need access\n\t * to assets defined in its ancestor chain.\n\t *\n\t * @param {Object} options\n\t * @param {String} type\n\t * @param {String} id\n\t * @return {Object|Function}\n\t */\n\t\n\tfunction resolveAsset(options, type, id) {\n\t  var assets = options[type];\n\t  var camelizedId;\n\t  return assets[id] ||\n\t  // camelCase ID\n\t  assets[camelizedId = camelize(id)] ||\n\t  // Pascal Case ID\n\t  assets[camelizedId.charAt(0).toUpperCase() + camelizedId.slice(1)];\n\t}\n\t\n\t/**\n\t * Assert asset exists\n\t */\n\t\n\tfunction assertAsset(val, type, id) {\n\t  if (!val) {\n\t    (\"production\") !== 'production' && warn('Failed to resolve ' + type + ': ' + id);\n\t  }\n\t}\n\t\n\tvar arrayProto = Array.prototype;\n\tvar arrayMethods = Object.create(arrayProto)\n\t\n\t/**\n\t * Intercept mutating methods and emit events\n\t */\n\t\n\t;['push', 'pop', 'shift', 'unshift', 'splice', 'sort', 'reverse'].forEach(function (method) {\n\t  // cache original method\n\t  var original = arrayProto[method];\n\t  def(arrayMethods, method, function mutator() {\n\t    // avoid leaking arguments:\n\t    // http://jsperf.com/closure-with-arguments\n\t    var i = arguments.length;\n\t    var args = new Array(i);\n\t    while (i--) {\n\t      args[i] = arguments[i];\n\t    }\n\t    var result = original.apply(this, args);\n\t    var ob = this.__ob__;\n\t    var inserted;\n\t    switch (method) {\n\t      case 'push':\n\t        inserted = args;\n\t        break;\n\t      case 'unshift':\n\t        inserted = args;\n\t        break;\n\t      case 'splice':\n\t        inserted = args.slice(2);\n\t        break;\n\t    }\n\t    if (inserted) ob.observeArray(inserted);\n\t    // notify change\n\t    ob.dep.notify();\n\t    return result;\n\t  });\n\t});\n\t\n\t/**\n\t * Swap the element at the given index with a new value\n\t * and emits corresponding event.\n\t *\n\t * @param {Number} index\n\t * @param {*} val\n\t * @return {*} - replaced element\n\t */\n\t\n\tdef(arrayProto, '$set', function $set(index, val) {\n\t  if (index >= this.length) {\n\t    this.length = index + 1;\n\t  }\n\t  return this.splice(index, 1, val)[0];\n\t});\n\t\n\t/**\n\t * Convenience method to remove the element at given index.\n\t *\n\t * @param {Number} index\n\t * @param {*} val\n\t */\n\t\n\tdef(arrayProto, '$remove', function $remove(item) {\n\t  /* istanbul ignore if */\n\t  if (!this.length) return;\n\t  var index = indexOf(this, item);\n\t  if (index > -1) {\n\t    return this.splice(index, 1);\n\t  }\n\t});\n\t\n\tvar uid$3 = 0;\n\t\n\t/**\n\t * A dep is an observable that can have multiple\n\t * directives subscribing to it.\n\t *\n\t * @constructor\n\t */\n\tfunction Dep() {\n\t  this.id = uid$3++;\n\t  this.subs = [];\n\t}\n\t\n\t// the current target watcher being evaluated.\n\t// this is globally unique because there could be only one\n\t// watcher being evaluated at any time.\n\tDep.target = null;\n\t\n\t/**\n\t * Add a directive subscriber.\n\t *\n\t * @param {Directive} sub\n\t */\n\t\n\tDep.prototype.addSub = function (sub) {\n\t  this.subs.push(sub);\n\t};\n\t\n\t/**\n\t * Remove a directive subscriber.\n\t *\n\t * @param {Directive} sub\n\t */\n\t\n\tDep.prototype.removeSub = function (sub) {\n\t  this.subs.$remove(sub);\n\t};\n\t\n\t/**\n\t * Add self as a dependency to the target watcher.\n\t */\n\t\n\tDep.prototype.depend = function () {\n\t  Dep.target.addDep(this);\n\t};\n\t\n\t/**\n\t * Notify all subscribers of a new value.\n\t */\n\t\n\tDep.prototype.notify = function () {\n\t  // stablize the subscriber list first\n\t  var subs = toArray(this.subs);\n\t  for (var i = 0, l = subs.length; i < l; i++) {\n\t    subs[i].update();\n\t  }\n\t};\n\t\n\tvar arrayKeys = Object.getOwnPropertyNames(arrayMethods);\n\t\n\t/**\n\t * Observer class that are attached to each observed\n\t * object. Once attached, the observer converts target\n\t * object's property keys into getter/setters that\n\t * collect dependencies and dispatches updates.\n\t *\n\t * @param {Array|Object} value\n\t * @constructor\n\t */\n\t\n\tfunction Observer(value) {\n\t  this.value = value;\n\t  this.dep = new Dep();\n\t  def(value, '__ob__', this);\n\t  if (isArray(value)) {\n\t    var augment = hasProto ? protoAugment : copyAugment;\n\t    augment(value, arrayMethods, arrayKeys);\n\t    this.observeArray(value);\n\t  } else {\n\t    this.walk(value);\n\t  }\n\t}\n\t\n\t// Instance methods\n\t\n\t/**\n\t * Walk through each property and convert them into\n\t * getter/setters. This method should only be called when\n\t * value type is Object.\n\t *\n\t * @param {Object} obj\n\t */\n\t\n\tObserver.prototype.walk = function (obj) {\n\t  var keys = Object.keys(obj);\n\t  var i = keys.length;\n\t  while (i--) {\n\t    this.convert(keys[i], obj[keys[i]]);\n\t  }\n\t};\n\t\n\t/**\n\t * Observe a list of Array items.\n\t *\n\t * @param {Array} items\n\t */\n\t\n\tObserver.prototype.observeArray = function (items) {\n\t  var i = items.length;\n\t  while (i--) {\n\t    observe(items[i]);\n\t  }\n\t};\n\t\n\t/**\n\t * Convert a property into getter/setter so we can emit\n\t * the events when the property is accessed/changed.\n\t *\n\t * @param {String} key\n\t * @param {*} val\n\t */\n\t\n\tObserver.prototype.convert = function (key, val) {\n\t  defineReactive(this.value, key, val);\n\t};\n\t\n\t/**\n\t * Add an owner vm, so that when $set/$delete mutations\n\t * happen we can notify owner vms to proxy the keys and\n\t * digest the watchers. This is only called when the object\n\t * is observed as an instance's root $data.\n\t *\n\t * @param {Vue} vm\n\t */\n\t\n\tObserver.prototype.addVm = function (vm) {\n\t  (this.vms || (this.vms = [])).push(vm);\n\t};\n\t\n\t/**\n\t * Remove an owner vm. This is called when the object is\n\t * swapped out as an instance's $data object.\n\t *\n\t * @param {Vue} vm\n\t */\n\t\n\tObserver.prototype.removeVm = function (vm) {\n\t  this.vms.$remove(vm);\n\t};\n\t\n\t// helpers\n\t\n\t/**\n\t * Augment an target Object or Array by intercepting\n\t * the prototype chain using __proto__\n\t *\n\t * @param {Object|Array} target\n\t * @param {Object} proto\n\t */\n\t\n\tfunction protoAugment(target, src) {\n\t  target.__proto__ = src;\n\t}\n\t\n\t/**\n\t * Augment an target Object or Array by defining\n\t * hidden properties.\n\t *\n\t * @param {Object|Array} target\n\t * @param {Object} proto\n\t */\n\t\n\tfunction copyAugment(target, src, keys) {\n\t  var i = keys.length;\n\t  var key;\n\t  while (i--) {\n\t    key = keys[i];\n\t    def(target, key, src[key]);\n\t  }\n\t}\n\t\n\t/**\n\t * Attempt to create an observer instance for a value,\n\t * returns the new observer if successfully observed,\n\t * or the existing observer if the value already has one.\n\t *\n\t * @param {*} value\n\t * @param {Vue} [vm]\n\t * @return {Observer|undefined}\n\t * @static\n\t */\n\t\n\tfunction observe(value, vm) {\n\t  if (!value || typeof value !== 'object') {\n\t    return;\n\t  }\n\t  var ob;\n\t  if (hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {\n\t    ob = value.__ob__;\n\t  } else if ((isArray(value) || isPlainObject(value)) && Object.isExtensible(value) && !value._isVue) {\n\t    ob = new Observer(value);\n\t  }\n\t  if (ob && vm) {\n\t    ob.addVm(vm);\n\t  }\n\t  return ob;\n\t}\n\t\n\t/**\n\t * Define a reactive property on an Object.\n\t *\n\t * @param {Object} obj\n\t * @param {String} key\n\t * @param {*} val\n\t */\n\t\n\tfunction defineReactive(obj, key, val) {\n\t  var dep = new Dep();\n\t\n\t  // cater for pre-defined getter/setters\n\t  var getter, setter;\n\t  if (config.convertAllProperties) {\n\t    var property = Object.getOwnPropertyDescriptor(obj, key);\n\t    if (property && property.configurable === false) {\n\t      return;\n\t    }\n\t    getter = property && property.get;\n\t    setter = property && property.set;\n\t  }\n\t\n\t  var childOb = observe(val);\n\t  Object.defineProperty(obj, key, {\n\t    enumerable: true,\n\t    configurable: true,\n\t    get: function reactiveGetter() {\n\t      var value = getter ? getter.call(obj) : val;\n\t      if (Dep.target) {\n\t        dep.depend();\n\t        if (childOb) {\n\t          childOb.dep.depend();\n\t        }\n\t        if (isArray(value)) {\n\t          for (var e, i = 0, l = value.length; i < l; i++) {\n\t            e = value[i];\n\t            e && e.__ob__ && e.__ob__.dep.depend();\n\t          }\n\t        }\n\t      }\n\t      return value;\n\t    },\n\t    set: function reactiveSetter(newVal) {\n\t      var value = getter ? getter.call(obj) : val;\n\t      if (newVal === value) {\n\t        return;\n\t      }\n\t      if (setter) {\n\t        setter.call(obj, newVal);\n\t      } else {\n\t        val = newVal;\n\t      }\n\t      childOb = observe(newVal);\n\t      dep.notify();\n\t    }\n\t  });\n\t}\n\t\n\tvar util = Object.freeze({\n\t\tdefineReactive: defineReactive,\n\t\tset: set,\n\t\tdel: del,\n\t\thasOwn: hasOwn,\n\t\tisLiteral: isLiteral,\n\t\tisReserved: isReserved,\n\t\t_toString: _toString,\n\t\ttoNumber: toNumber,\n\t\ttoBoolean: toBoolean,\n\t\tstripQuotes: stripQuotes,\n\t\tcamelize: camelize,\n\t\thyphenate: hyphenate,\n\t\tclassify: classify,\n\t\tbind: bind$1,\n\t\ttoArray: toArray,\n\t\textend: extend,\n\t\tisObject: isObject,\n\t\tisPlainObject: isPlainObject,\n\t\tdef: def,\n\t\tdebounce: _debounce,\n\t\tindexOf: indexOf,\n\t\tcancellable: cancellable,\n\t\tlooseEqual: looseEqual,\n\t\tisArray: isArray,\n\t\thasProto: hasProto,\n\t\tinBrowser: inBrowser,\n\t\tisIE9: isIE9,\n\t\tisAndroid: isAndroid,\n\t\tget transitionProp () { return transitionProp; },\n\t\tget transitionEndEvent () { return transitionEndEvent; },\n\t\tget animationProp () { return animationProp; },\n\t\tget animationEndEvent () { return animationEndEvent; },\n\t\tnextTick: nextTick,\n\t\tquery: query,\n\t\tinDoc: inDoc,\n\t\tgetAttr: getAttr,\n\t\tgetBindAttr: getBindAttr,\n\t\thasBindAttr: hasBindAttr,\n\t\tbefore: before,\n\t\tafter: after,\n\t\tremove: remove,\n\t\tprepend: prepend,\n\t\treplace: replace,\n\t\ton: on$1,\n\t\toff: off,\n\t\taddClass: addClass,\n\t\tremoveClass: removeClass,\n\t\textractContent: extractContent,\n\t\ttrimNode: trimNode,\n\t\tisTemplate: isTemplate,\n\t\tcreateAnchor: createAnchor,\n\t\tfindRef: findRef,\n\t\tmapNodeRange: mapNodeRange,\n\t\tremoveNodeRange: removeNodeRange,\n\t\tmergeOptions: mergeOptions,\n\t\tresolveAsset: resolveAsset,\n\t\tassertAsset: assertAsset,\n\t\tcheckComponentAttr: checkComponentAttr,\n\t\tinitProp: initProp,\n\t\tassertProp: assertProp,\n\t\tcommonTagRE: commonTagRE,\n\t\tget warn () { return warn; }\n\t});\n\t\n\tvar uid = 0;\n\t\n\tfunction initMixin (Vue) {\n\t\n\t  /**\n\t   * The main init sequence. This is called for every\n\t   * instance, including ones that are created from extended\n\t   * constructors.\n\t   *\n\t   * @param {Object} options - this options object should be\n\t   *                           the result of merging class\n\t   *                           options and the options passed\n\t   *                           in to the constructor.\n\t   */\n\t\n\t  Vue.prototype._init = function (options) {\n\t\n\t    options = options || {};\n\t\n\t    this.$el = null;\n\t    this.$parent = options.parent;\n\t    this.$root = this.$parent ? this.$parent.$root : this;\n\t    this.$children = [];\n\t    this.$refs = {}; // child vm references\n\t    this.$els = {}; // element references\n\t    this._watchers = []; // all watchers as an array\n\t    this._directives = []; // all directives\n\t\n\t    // a uid\n\t    this._uid = uid++;\n\t\n\t    // a flag to avoid this being observed\n\t    this._isVue = true;\n\t\n\t    // events bookkeeping\n\t    this._events = {}; // registered callbacks\n\t    this._eventsCount = {}; // for $broadcast optimization\n\t\n\t    // fragment instance properties\n\t    this._isFragment = false;\n\t    this._fragment = // @type {DocumentFragment}\n\t    this._fragmentStart = // @type {Text|Comment}\n\t    this._fragmentEnd = null; // @type {Text|Comment}\n\t\n\t    // lifecycle state\n\t    this._isCompiled = this._isDestroyed = this._isReady = this._isAttached = this._isBeingDestroyed = false;\n\t    this._unlinkFn = null;\n\t\n\t    // context:\n\t    // if this is a transcluded component, context\n\t    // will be the common parent vm of this instance\n\t    // and its host.\n\t    this._context = options._context || this.$parent;\n\t\n\t    // scope:\n\t    // if this is inside an inline v-for, the scope\n\t    // will be the intermediate scope created for this\n\t    // repeat fragment. this is used for linking props\n\t    // and container directives.\n\t    this._scope = options._scope;\n\t\n\t    // fragment:\n\t    // if this instance is compiled inside a Fragment, it\n\t    // needs to reigster itself as a child of that fragment\n\t    // for attach/detach to work properly.\n\t    this._frag = options._frag;\n\t    if (this._frag) {\n\t      this._frag.children.push(this);\n\t    }\n\t\n\t    // push self into parent / transclusion host\n\t    if (this.$parent) {\n\t      this.$parent.$children.push(this);\n\t    }\n\t\n\t    // merge options.\n\t    options = this.$options = mergeOptions(this.constructor.options, options, this);\n\t\n\t    // set ref\n\t    this._updateRef();\n\t\n\t    // initialize data as empty object.\n\t    // it will be filled up in _initScope().\n\t    this._data = {};\n\t\n\t    // call init hook\n\t    this._callHook('init');\n\t\n\t    // initialize data observation and scope inheritance.\n\t    this._initState();\n\t\n\t    // setup event system and option events.\n\t    this._initEvents();\n\t\n\t    // call created hook\n\t    this._callHook('created');\n\t\n\t    // if `el` option is passed, start compilation.\n\t    if (options.el) {\n\t      this.$mount(options.el);\n\t    }\n\t  };\n\t}\n\t\n\tvar pathCache = new Cache(1000);\n\t\n\t// actions\n\tvar APPEND = 0;\n\tvar PUSH = 1;\n\tvar INC_SUB_PATH_DEPTH = 2;\n\tvar PUSH_SUB_PATH = 3;\n\t\n\t// states\n\tvar BEFORE_PATH = 0;\n\tvar IN_PATH = 1;\n\tvar BEFORE_IDENT = 2;\n\tvar IN_IDENT = 3;\n\tvar IN_SUB_PATH = 4;\n\tvar IN_SINGLE_QUOTE = 5;\n\tvar IN_DOUBLE_QUOTE = 6;\n\tvar AFTER_PATH = 7;\n\tvar ERROR = 8;\n\t\n\tvar pathStateMachine = [];\n\t\n\tpathStateMachine[BEFORE_PATH] = {\n\t  'ws': [BEFORE_PATH],\n\t  'ident': [IN_IDENT, APPEND],\n\t  '[': [IN_SUB_PATH],\n\t  'eof': [AFTER_PATH]\n\t};\n\t\n\tpathStateMachine[IN_PATH] = {\n\t  'ws': [IN_PATH],\n\t  '.': [BEFORE_IDENT],\n\t  '[': [IN_SUB_PATH],\n\t  'eof': [AFTER_PATH]\n\t};\n\t\n\tpathStateMachine[BEFORE_IDENT] = {\n\t  'ws': [BEFORE_IDENT],\n\t  'ident': [IN_IDENT, APPEND]\n\t};\n\t\n\tpathStateMachine[IN_IDENT] = {\n\t  'ident': [IN_IDENT, APPEND],\n\t  '0': [IN_IDENT, APPEND],\n\t  'number': [IN_IDENT, APPEND],\n\t  'ws': [IN_PATH, PUSH],\n\t  '.': [BEFORE_IDENT, PUSH],\n\t  '[': [IN_SUB_PATH, PUSH],\n\t  'eof': [AFTER_PATH, PUSH]\n\t};\n\t\n\tpathStateMachine[IN_SUB_PATH] = {\n\t  \"'\": [IN_SINGLE_QUOTE, APPEND],\n\t  '\"': [IN_DOUBLE_QUOTE, APPEND],\n\t  '[': [IN_SUB_PATH, INC_SUB_PATH_DEPTH],\n\t  ']': [IN_PATH, PUSH_SUB_PATH],\n\t  'eof': ERROR,\n\t  'else': [IN_SUB_PATH, APPEND]\n\t};\n\t\n\tpathStateMachine[IN_SINGLE_QUOTE] = {\n\t  \"'\": [IN_SUB_PATH, APPEND],\n\t  'eof': ERROR,\n\t  'else': [IN_SINGLE_QUOTE, APPEND]\n\t};\n\t\n\tpathStateMachine[IN_DOUBLE_QUOTE] = {\n\t  '\"': [IN_SUB_PATH, APPEND],\n\t  'eof': ERROR,\n\t  'else': [IN_DOUBLE_QUOTE, APPEND]\n\t};\n\t\n\t/**\n\t * Determine the type of a character in a keypath.\n\t *\n\t * @param {Char} ch\n\t * @return {String} type\n\t */\n\t\n\tfunction getPathCharType(ch) {\n\t  if (ch === undefined) {\n\t    return 'eof';\n\t  }\n\t\n\t  var code = ch.charCodeAt(0);\n\t\n\t  switch (code) {\n\t    case 0x5B: // [\n\t    case 0x5D: // ]\n\t    case 0x2E: // .\n\t    case 0x22: // \"\n\t    case 0x27: // '\n\t    case 0x30:\n\t      // 0\n\t      return ch;\n\t\n\t    case 0x5F: // _\n\t    case 0x24:\n\t      // $\n\t      return 'ident';\n\t\n\t    case 0x20: // Space\n\t    case 0x09: // Tab\n\t    case 0x0A: // Newline\n\t    case 0x0D: // Return\n\t    case 0xA0: // No-break space\n\t    case 0xFEFF: // Byte Order Mark\n\t    case 0x2028: // Line Separator\n\t    case 0x2029:\n\t      // Paragraph Separator\n\t      return 'ws';\n\t  }\n\t\n\t  // a-z, A-Z\n\t  if (code >= 0x61 && code <= 0x7A || code >= 0x41 && code <= 0x5A) {\n\t    return 'ident';\n\t  }\n\t\n\t  // 1-9\n\t  if (code >= 0x31 && code <= 0x39) {\n\t    return 'number';\n\t  }\n\t\n\t  return 'else';\n\t}\n\t\n\t/**\n\t * Format a subPath, return its plain form if it is\n\t * a literal string or number. Otherwise prepend the\n\t * dynamic indicator (*).\n\t *\n\t * @param {String} path\n\t * @return {String}\n\t */\n\t\n\tfunction formatSubPath(path) {\n\t  var trimmed = path.trim();\n\t  // invalid leading 0\n\t  if (path.charAt(0) === '0' && isNaN(path)) {\n\t    return false;\n\t  }\n\t  return isLiteral(trimmed) ? stripQuotes(trimmed) : '*' + trimmed;\n\t}\n\t\n\t/**\n\t * Parse a string path into an array of segments\n\t *\n\t * @param {String} path\n\t * @return {Array|undefined}\n\t */\n\t\n\tfunction parse(path) {\n\t  var keys = [];\n\t  var index = -1;\n\t  var mode = BEFORE_PATH;\n\t  var subPathDepth = 0;\n\t  var c, newChar, key, type, transition, action, typeMap;\n\t\n\t  var actions = [];\n\t\n\t  actions[PUSH] = function () {\n\t    if (key !== undefined) {\n\t      keys.push(key);\n\t      key = undefined;\n\t    }\n\t  };\n\t\n\t  actions[APPEND] = function () {\n\t    if (key === undefined) {\n\t      key = newChar;\n\t    } else {\n\t      key += newChar;\n\t    }\n\t  };\n\t\n\t  actions[INC_SUB_PATH_DEPTH] = function () {\n\t    actions[APPEND]();\n\t    subPathDepth++;\n\t  };\n\t\n\t  actions[PUSH_SUB_PATH] = function () {\n\t    if (subPathDepth > 0) {\n\t      subPathDepth--;\n\t      mode = IN_SUB_PATH;\n\t      actions[APPEND]();\n\t    } else {\n\t      subPathDepth = 0;\n\t      key = formatSubPath(key);\n\t      if (key === false) {\n\t        return false;\n\t      } else {\n\t        actions[PUSH]();\n\t      }\n\t    }\n\t  };\n\t\n\t  function maybeUnescapeQuote() {\n\t    var nextChar = path[index + 1];\n\t    if (mode === IN_SINGLE_QUOTE && nextChar === \"'\" || mode === IN_DOUBLE_QUOTE && nextChar === '\"') {\n\t      index++;\n\t      newChar = '\\\\' + nextChar;\n\t      actions[APPEND]();\n\t      return true;\n\t    }\n\t  }\n\t\n\t  while (mode != null) {\n\t    index++;\n\t    c = path[index];\n\t\n\t    if (c === '\\\\' && maybeUnescapeQuote()) {\n\t      continue;\n\t    }\n\t\n\t    type = getPathCharType(c);\n\t    typeMap = pathStateMachine[mode];\n\t    transition = typeMap[type] || typeMap['else'] || ERROR;\n\t\n\t    if (transition === ERROR) {\n\t      return; // parse error\n\t    }\n\t\n\t    mode = transition[0];\n\t    action = actions[transition[1]];\n\t    if (action) {\n\t      newChar = transition[2];\n\t      newChar = newChar === undefined ? c : newChar;\n\t      if (action() === false) {\n\t        return;\n\t      }\n\t    }\n\t\n\t    if (mode === AFTER_PATH) {\n\t      keys.raw = path;\n\t      return keys;\n\t    }\n\t  }\n\t}\n\t\n\t/**\n\t * External parse that check for a cache hit first\n\t *\n\t * @param {String} path\n\t * @return {Array|undefined}\n\t */\n\t\n\tfunction parsePath(path) {\n\t  var hit = pathCache.get(path);\n\t  if (!hit) {\n\t    hit = parse(path);\n\t    if (hit) {\n\t      pathCache.put(path, hit);\n\t    }\n\t  }\n\t  return hit;\n\t}\n\t\n\t/**\n\t * Get from an object from a path string\n\t *\n\t * @param {Object} obj\n\t * @param {String} path\n\t */\n\t\n\tfunction getPath(obj, path) {\n\t  return parseExpression(path).get(obj);\n\t}\n\t\n\t/**\n\t * Warn against setting non-existent root path on a vm.\n\t */\n\t\n\tvar warnNonExistent;\n\tif (false) {\n\t  warnNonExistent = function (path) {\n\t    warn('You are setting a non-existent path \"' + path.raw + '\" ' + 'on a vm instance. Consider pre-initializing the property ' + 'with the \"data\" option for more reliable reactivity ' + 'and better performance.');\n\t  };\n\t}\n\t\n\t/**\n\t * Set on an object from a path\n\t *\n\t * @param {Object} obj\n\t * @param {String | Array} path\n\t * @param {*} val\n\t */\n\t\n\tfunction setPath(obj, path, val) {\n\t  var original = obj;\n\t  if (typeof path === 'string') {\n\t    path = parse(path);\n\t  }\n\t  if (!path || !isObject(obj)) {\n\t    return false;\n\t  }\n\t  var last, key;\n\t  for (var i = 0, l = path.length; i < l; i++) {\n\t    last = obj;\n\t    key = path[i];\n\t    if (key.charAt(0) === '*') {\n\t      key = parseExpression(key.slice(1)).get.call(original, original);\n\t    }\n\t    if (i < l - 1) {\n\t      obj = obj[key];\n\t      if (!isObject(obj)) {\n\t        obj = {};\n\t        if (false) {\n\t          warnNonExistent(path);\n\t        }\n\t        set(last, key, obj);\n\t      }\n\t    } else {\n\t      if (isArray(obj)) {\n\t        obj.$set(key, val);\n\t      } else if (key in obj) {\n\t        obj[key] = val;\n\t      } else {\n\t        if (false) {\n\t          warnNonExistent(path);\n\t        }\n\t        set(obj, key, val);\n\t      }\n\t    }\n\t  }\n\t  return true;\n\t}\n\t\n\tvar path = Object.freeze({\n\t  parsePath: parsePath,\n\t  getPath: getPath,\n\t  setPath: setPath\n\t});\n\t\n\tvar expressionCache = new Cache(1000);\n\t\n\tvar allowedKeywords = 'Math,Date,this,true,false,null,undefined,Infinity,NaN,' + 'isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,' + 'encodeURIComponent,parseInt,parseFloat';\n\tvar allowedKeywordsRE = new RegExp('^(' + allowedKeywords.replace(/,/g, '\\\\b|') + '\\\\b)');\n\t\n\t// keywords that don't make sense inside expressions\n\tvar improperKeywords = 'break,case,class,catch,const,continue,debugger,default,' + 'delete,do,else,export,extends,finally,for,function,if,' + 'import,in,instanceof,let,return,super,switch,throw,try,' + 'var,while,with,yield,enum,await,implements,package,' + 'proctected,static,interface,private,public';\n\tvar improperKeywordsRE = new RegExp('^(' + improperKeywords.replace(/,/g, '\\\\b|') + '\\\\b)');\n\t\n\tvar wsRE = /\\s/g;\n\tvar newlineRE = /\\n/g;\n\tvar saveRE = /[\\{,]\\s*[\\w\\$_]+\\s*:|('(?:[^'\\\\]|\\\\.)*'|\"(?:[^\"\\\\]|\\\\.)*\")|new |typeof |void /g;\n\tvar restoreRE = /\"(\\d+)\"/g;\n\tvar pathTestRE = /^[A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['.*?'\\]|\\[\".*?\"\\]|\\[\\d+\\]|\\[[A-Za-z_$][\\w$]*\\])*$/;\n\tvar identRE = /[^\\w$\\.](?:[A-Za-z_$][\\w$]*)/g;\n\tvar booleanLiteralRE = /^(?:true|false)$/;\n\t\n\t/**\n\t * Save / Rewrite / Restore\n\t *\n\t * When rewriting paths found in an expression, it is\n\t * possible for the same letter sequences to be found in\n\t * strings and Object literal property keys. Therefore we\n\t * remove and store these parts in a temporary array, and\n\t * restore them after the path rewrite.\n\t */\n\t\n\tvar saved = [];\n\t\n\t/**\n\t * Save replacer\n\t *\n\t * The save regex can match two possible cases:\n\t * 1. An opening object literal\n\t * 2. A string\n\t * If matched as a plain string, we need to escape its\n\t * newlines, since the string needs to be preserved when\n\t * generating the function body.\n\t *\n\t * @param {String} str\n\t * @param {String} isString - str if matched as a string\n\t * @return {String} - placeholder with index\n\t */\n\t\n\tfunction save(str, isString) {\n\t  var i = saved.length;\n\t  saved[i] = isString ? str.replace(newlineRE, '\\\\n') : str;\n\t  return '\"' + i + '\"';\n\t}\n\t\n\t/**\n\t * Path rewrite replacer\n\t *\n\t * @param {String} raw\n\t * @return {String}\n\t */\n\t\n\tfunction rewrite(raw) {\n\t  var c = raw.charAt(0);\n\t  var path = raw.slice(1);\n\t  if (allowedKeywordsRE.test(path)) {\n\t    return raw;\n\t  } else {\n\t    path = path.indexOf('\"') > -1 ? path.replace(restoreRE, restore) : path;\n\t    return c + 'scope.' + path;\n\t  }\n\t}\n\t\n\t/**\n\t * Restore replacer\n\t *\n\t * @param {String} str\n\t * @param {String} i - matched save index\n\t * @return {String}\n\t */\n\t\n\tfunction restore(str, i) {\n\t  return saved[i];\n\t}\n\t\n\t/**\n\t * Rewrite an expression, prefixing all path accessors with\n\t * `scope.` and generate getter/setter functions.\n\t *\n\t * @param {String} exp\n\t * @return {Function}\n\t */\n\t\n\tfunction compileGetter(exp) {\n\t  if (improperKeywordsRE.test(exp)) {\n\t    (\"production\") !== 'production' && warn('Avoid using reserved keywords in expression: ' + exp);\n\t  }\n\t  // reset state\n\t  saved.length = 0;\n\t  // save strings and object literal keys\n\t  var body = exp.replace(saveRE, save).replace(wsRE, '');\n\t  // rewrite all paths\n\t  // pad 1 space here becaue the regex matches 1 extra char\n\t  body = (' ' + body).replace(identRE, rewrite).replace(restoreRE, restore);\n\t  return makeGetterFn(body);\n\t}\n\t\n\t/**\n\t * Build a getter function. Requires eval.\n\t *\n\t * We isolate the try/catch so it doesn't affect the\n\t * optimization of the parse function when it is not called.\n\t *\n\t * @param {String} body\n\t * @return {Function|undefined}\n\t */\n\t\n\tfunction makeGetterFn(body) {\n\t  try {\n\t    return new Function('scope', 'return ' + body + ';');\n\t  } catch (e) {\n\t    (\"production\") !== 'production' && warn('Invalid expression. ' + 'Generated function body: ' + body);\n\t  }\n\t}\n\t\n\t/**\n\t * Compile a setter function for the expression.\n\t *\n\t * @param {String} exp\n\t * @return {Function|undefined}\n\t */\n\t\n\tfunction compileSetter(exp) {\n\t  var path = parsePath(exp);\n\t  if (path) {\n\t    return function (scope, val) {\n\t      setPath(scope, path, val);\n\t    };\n\t  } else {\n\t    (\"production\") !== 'production' && warn('Invalid setter expression: ' + exp);\n\t  }\n\t}\n\t\n\t/**\n\t * Parse an expression into re-written getter/setters.\n\t *\n\t * @param {String} exp\n\t * @param {Boolean} needSet\n\t * @return {Function}\n\t */\n\t\n\tfunction parseExpression(exp, needSet) {\n\t  exp = exp.trim();\n\t  // try cache\n\t  var hit = expressionCache.get(exp);\n\t  if (hit) {\n\t    if (needSet && !hit.set) {\n\t      hit.set = compileSetter(hit.exp);\n\t    }\n\t    return hit;\n\t  }\n\t  var res = { exp: exp };\n\t  res.get = isSimplePath(exp) && exp.indexOf('[') < 0\n\t  // optimized super simple getter\n\t  ? makeGetterFn('scope.' + exp)\n\t  // dynamic getter\n\t  : compileGetter(exp);\n\t  if (needSet) {\n\t    res.set = compileSetter(exp);\n\t  }\n\t  expressionCache.put(exp, res);\n\t  return res;\n\t}\n\t\n\t/**\n\t * Check if an expression is a simple path.\n\t *\n\t * @param {String} exp\n\t * @return {Boolean}\n\t */\n\t\n\tfunction isSimplePath(exp) {\n\t  return pathTestRE.test(exp) &&\n\t  // don't treat true/false as paths\n\t  !booleanLiteralRE.test(exp) &&\n\t  // Math constants e.g. Math.PI, Math.E etc.\n\t  exp.slice(0, 5) !== 'Math.';\n\t}\n\t\n\tvar expression = Object.freeze({\n\t  parseExpression: parseExpression,\n\t  isSimplePath: isSimplePath\n\t});\n\t\n\t// we have two separate queues: one for directive updates\n\t// and one for user watcher registered via $watch().\n\t// we want to guarantee directive updates to be called\n\t// before user watchers so that when user watchers are\n\t// triggered, the DOM would have already been in updated\n\t// state.\n\tvar queue = [];\n\tvar userQueue = [];\n\tvar has = {};\n\tvar circular = {};\n\tvar waiting = false;\n\tvar internalQueueDepleted = false;\n\t\n\t/**\n\t * Reset the batcher's state.\n\t */\n\t\n\tfunction resetBatcherState() {\n\t  queue = [];\n\t  userQueue = [];\n\t  has = {};\n\t  circular = {};\n\t  waiting = internalQueueDepleted = false;\n\t}\n\t\n\t/**\n\t * Flush both queues and run the watchers.\n\t */\n\t\n\tfunction flushBatcherQueue() {\n\t  runBatcherQueue(queue);\n\t  internalQueueDepleted = true;\n\t  runBatcherQueue(userQueue);\n\t  // dev tool hook\n\t  /* istanbul ignore if */\n\t  if (false) {\n\t    if (inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__) {\n\t      window.__VUE_DEVTOOLS_GLOBAL_HOOK__.emit('flush');\n\t    }\n\t  }\n\t  resetBatcherState();\n\t}\n\t\n\t/**\n\t * Run the watchers in a single queue.\n\t *\n\t * @param {Array} queue\n\t */\n\t\n\tfunction runBatcherQueue(queue) {\n\t  // do not cache length because more watchers might be pushed\n\t  // as we run existing watchers\n\t  for (var i = 0; i < queue.length; i++) {\n\t    var watcher = queue[i];\n\t    var id = watcher.id;\n\t    has[id] = null;\n\t    watcher.run();\n\t    // in dev build, check and stop circular updates.\n\t    if (false) {\n\t      circular[id] = (circular[id] || 0) + 1;\n\t      if (circular[id] > config._maxUpdateCount) {\n\t        queue.splice(has[id], 1);\n\t        warn('You may have an infinite update loop for watcher ' + 'with expression: ' + watcher.expression);\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\t/**\n\t * Push a watcher into the watcher queue.\n\t * Jobs with duplicate IDs will be skipped unless it's\n\t * pushed when the queue is being flushed.\n\t *\n\t * @param {Watcher} watcher\n\t *   properties:\n\t *   - {Number} id\n\t *   - {Function} run\n\t */\n\t\n\tfunction pushWatcher(watcher) {\n\t  var id = watcher.id;\n\t  if (has[id] == null) {\n\t    // if an internal watcher is pushed, but the internal\n\t    // queue is already depleted, we run it immediately.\n\t    if (internalQueueDepleted && !watcher.user) {\n\t      watcher.run();\n\t      return;\n\t    }\n\t    // push watcher into appropriate queue\n\t    var q = watcher.user ? userQueue : queue;\n\t    has[id] = q.length;\n\t    q.push(watcher);\n\t    // queue the flush\n\t    if (!waiting) {\n\t      waiting = true;\n\t      nextTick(flushBatcherQueue);\n\t    }\n\t  }\n\t}\n\t\n\tvar uid$2 = 0;\n\t\n\t/**\n\t * A watcher parses an expression, collects dependencies,\n\t * and fires callback when the expression value changes.\n\t * This is used for both the $watch() api and directives.\n\t *\n\t * @param {Vue} vm\n\t * @param {String} expression\n\t * @param {Function} cb\n\t * @param {Object} options\n\t *                 - {Array} filters\n\t *                 - {Boolean} twoWay\n\t *                 - {Boolean} deep\n\t *                 - {Boolean} user\n\t *                 - {Boolean} sync\n\t *                 - {Boolean} lazy\n\t *                 - {Function} [preProcess]\n\t *                 - {Function} [postProcess]\n\t * @constructor\n\t */\n\tfunction Watcher(vm, expOrFn, cb, options) {\n\t  // mix in options\n\t  if (options) {\n\t    extend(this, options);\n\t  }\n\t  var isFn = typeof expOrFn === 'function';\n\t  this.vm = vm;\n\t  vm._watchers.push(this);\n\t  this.expression = isFn ? expOrFn.toString() : expOrFn;\n\t  this.cb = cb;\n\t  this.id = ++uid$2; // uid for batching\n\t  this.active = true;\n\t  this.dirty = this.lazy; // for lazy watchers\n\t  this.deps = Object.create(null);\n\t  this.newDeps = null;\n\t  this.prevError = null; // for async error stacks\n\t  // parse expression for getter/setter\n\t  if (isFn) {\n\t    this.getter = expOrFn;\n\t    this.setter = undefined;\n\t  } else {\n\t    var res = parseExpression(expOrFn, this.twoWay);\n\t    this.getter = res.get;\n\t    this.setter = res.set;\n\t  }\n\t  this.value = this.lazy ? undefined : this.get();\n\t  // state for avoiding false triggers for deep and Array\n\t  // watchers during vm._digest()\n\t  this.queued = this.shallow = false;\n\t}\n\t\n\t/**\n\t * Add a dependency to this directive.\n\t *\n\t * @param {Dep} dep\n\t */\n\t\n\tWatcher.prototype.addDep = function (dep) {\n\t  var id = dep.id;\n\t  if (!this.newDeps[id]) {\n\t    this.newDeps[id] = dep;\n\t    if (!this.deps[id]) {\n\t      this.deps[id] = dep;\n\t      dep.addSub(this);\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Evaluate the getter, and re-collect dependencies.\n\t */\n\t\n\tWatcher.prototype.get = function () {\n\t  this.beforeGet();\n\t  var scope = this.scope || this.vm;\n\t  var value;\n\t  try {\n\t    value = this.getter.call(scope, scope);\n\t  } catch (e) {\n\t    if (false) {\n\t      warn('Error when evaluating expression \"' + this.expression + '\". ' + (config.debug ? '' : 'Turn on debug mode to see stack trace.'), e);\n\t    }\n\t  }\n\t  // \"touch\" every property so they are all tracked as\n\t  // dependencies for deep watching\n\t  if (this.deep) {\n\t    traverse(value);\n\t  }\n\t  if (this.preProcess) {\n\t    value = this.preProcess(value);\n\t  }\n\t  if (this.filters) {\n\t    value = scope._applyFilters(value, null, this.filters, false);\n\t  }\n\t  if (this.postProcess) {\n\t    value = this.postProcess(value);\n\t  }\n\t  this.afterGet();\n\t  return value;\n\t};\n\t\n\t/**\n\t * Set the corresponding value with the setter.\n\t *\n\t * @param {*} value\n\t */\n\t\n\tWatcher.prototype.set = function (value) {\n\t  var scope = this.scope || this.vm;\n\t  if (this.filters) {\n\t    value = scope._applyFilters(value, this.value, this.filters, true);\n\t  }\n\t  try {\n\t    this.setter.call(scope, scope, value);\n\t  } catch (e) {\n\t    if (false) {\n\t      warn('Error when evaluating setter \"' + this.expression + '\"', e);\n\t    }\n\t  }\n\t  // two-way sync for v-for alias\n\t  var forContext = scope.$forContext;\n\t  if (forContext && forContext.alias === this.expression) {\n\t    if (forContext.filters) {\n\t      (\"production\") !== 'production' && warn('It seems you are using two-way binding on ' + 'a v-for alias (' + this.expression + '), and the ' + 'v-for has filters. This will not work properly. ' + 'Either remove the filters or use an array of ' + 'objects and bind to object properties instead.');\n\t      return;\n\t    }\n\t    forContext._withLock(function () {\n\t      if (scope.$key) {\n\t        // original is an object\n\t        forContext.rawValue[scope.$key] = value;\n\t      } else {\n\t        forContext.rawValue.$set(scope.$index, value);\n\t      }\n\t    });\n\t  }\n\t};\n\t\n\t/**\n\t * Prepare for dependency collection.\n\t */\n\t\n\tWatcher.prototype.beforeGet = function () {\n\t  Dep.target = this;\n\t  this.newDeps = Object.create(null);\n\t};\n\t\n\t/**\n\t * Clean up for dependency collection.\n\t */\n\t\n\tWatcher.prototype.afterGet = function () {\n\t  Dep.target = null;\n\t  var ids = Object.keys(this.deps);\n\t  var i = ids.length;\n\t  while (i--) {\n\t    var id = ids[i];\n\t    if (!this.newDeps[id]) {\n\t      this.deps[id].removeSub(this);\n\t    }\n\t  }\n\t  this.deps = this.newDeps;\n\t};\n\t\n\t/**\n\t * Subscriber interface.\n\t * Will be called when a dependency changes.\n\t *\n\t * @param {Boolean} shallow\n\t */\n\t\n\tWatcher.prototype.update = function (shallow) {\n\t  if (this.lazy) {\n\t    this.dirty = true;\n\t  } else if (this.sync || !config.async) {\n\t    this.run();\n\t  } else {\n\t    // if queued, only overwrite shallow with non-shallow,\n\t    // but not the other way around.\n\t    this.shallow = this.queued ? shallow ? this.shallow : false : !!shallow;\n\t    this.queued = true;\n\t    // record before-push error stack in debug mode\n\t    /* istanbul ignore if */\n\t    if (false) {\n\t      this.prevError = new Error('[vue] async stack trace');\n\t    }\n\t    pushWatcher(this);\n\t  }\n\t};\n\t\n\t/**\n\t * Batcher job interface.\n\t * Will be called by the batcher.\n\t */\n\t\n\tWatcher.prototype.run = function () {\n\t  if (this.active) {\n\t    var value = this.get();\n\t    if (value !== this.value ||\n\t    // Deep watchers and Array watchers should fire even\n\t    // when the value is the same, because the value may\n\t    // have mutated; but only do so if this is a\n\t    // non-shallow update (caused by a vm digest).\n\t    (isArray(value) || this.deep) && !this.shallow) {\n\t      // set new value\n\t      var oldValue = this.value;\n\t      this.value = value;\n\t      // in debug + async mode, when a watcher callbacks\n\t      // throws, we also throw the saved before-push error\n\t      // so the full cross-tick stack trace is available.\n\t      var prevError = this.prevError;\n\t      /* istanbul ignore if */\n\t      if (false) {\n\t        this.prevError = null;\n\t        try {\n\t          this.cb.call(this.vm, value, oldValue);\n\t        } catch (e) {\n\t          nextTick(function () {\n\t            throw prevError;\n\t          }, 0);\n\t          throw e;\n\t        }\n\t      } else {\n\t        this.cb.call(this.vm, value, oldValue);\n\t      }\n\t    }\n\t    this.queued = this.shallow = false;\n\t  }\n\t};\n\t\n\t/**\n\t * Evaluate the value of the watcher.\n\t * This only gets called for lazy watchers.\n\t */\n\t\n\tWatcher.prototype.evaluate = function () {\n\t  // avoid overwriting another watcher that is being\n\t  // collected.\n\t  var current = Dep.target;\n\t  this.value = this.get();\n\t  this.dirty = false;\n\t  Dep.target = current;\n\t};\n\t\n\t/**\n\t * Depend on all deps collected by this watcher.\n\t */\n\t\n\tWatcher.prototype.depend = function () {\n\t  var depIds = Object.keys(this.deps);\n\t  var i = depIds.length;\n\t  while (i--) {\n\t    this.deps[depIds[i]].depend();\n\t  }\n\t};\n\t\n\t/**\n\t * Remove self from all dependencies' subcriber list.\n\t */\n\t\n\tWatcher.prototype.teardown = function () {\n\t  if (this.active) {\n\t    // remove self from vm's watcher list\n\t    // we can skip this if the vm if being destroyed\n\t    // which can improve teardown performance.\n\t    if (!this.vm._isBeingDestroyed) {\n\t      this.vm._watchers.$remove(this);\n\t    }\n\t    var depIds = Object.keys(this.deps);\n\t    var i = depIds.length;\n\t    while (i--) {\n\t      this.deps[depIds[i]].removeSub(this);\n\t    }\n\t    this.active = false;\n\t    this.vm = this.cb = this.value = null;\n\t  }\n\t};\n\t\n\t/**\n\t * Recrusively traverse an object to evoke all converted\n\t * getters, so that every nested property inside the object\n\t * is collected as a \"deep\" dependency.\n\t *\n\t * @param {*} val\n\t */\n\t\n\tfunction traverse(val) {\n\t  var i, keys;\n\t  if (isArray(val)) {\n\t    i = val.length;\n\t    while (i--) traverse(val[i]);\n\t  } else if (isObject(val)) {\n\t    keys = Object.keys(val);\n\t    i = keys.length;\n\t    while (i--) traverse(val[keys[i]]);\n\t  }\n\t}\n\t\n\tvar cloak = {\n\t  bind: function bind() {\n\t    var el = this.el;\n\t    this.vm.$once('hook:compiled', function () {\n\t      el.removeAttribute('v-cloak');\n\t    });\n\t  }\n\t};\n\t\n\tvar ref = {\n\t  bind: function bind() {\n\t    (\"production\") !== 'production' && warn('v-ref:' + this.arg + ' must be used on a child ' + 'component. Found on <' + this.el.tagName.toLowerCase() + '>.');\n\t  }\n\t};\n\t\n\tvar el = {\n\t\n\t  priority: 1500,\n\t\n\t  bind: function bind() {\n\t    /* istanbul ignore if */\n\t    if (!this.arg) {\n\t      return;\n\t    }\n\t    var id = this.id = camelize(this.arg);\n\t    var refs = (this._scope || this.vm).$els;\n\t    if (hasOwn(refs, id)) {\n\t      refs[id] = this.el;\n\t    } else {\n\t      defineReactive(refs, id, this.el);\n\t    }\n\t  },\n\t\n\t  unbind: function unbind() {\n\t    var refs = (this._scope || this.vm).$els;\n\t    if (refs[this.id] === this.el) {\n\t      refs[this.id] = null;\n\t    }\n\t  }\n\t};\n\t\n\tvar prefixes = ['-webkit-', '-moz-', '-ms-'];\n\tvar camelPrefixes = ['Webkit', 'Moz', 'ms'];\n\tvar importantRE = /!important;?$/;\n\tvar propCache = Object.create(null);\n\t\n\tvar testEl = null;\n\t\n\tvar style = {\n\t\n\t  deep: true,\n\t\n\t  update: function update(value) {\n\t    if (typeof value === 'string') {\n\t      this.el.style.cssText = value;\n\t    } else if (isArray(value)) {\n\t      this.handleObject(value.reduce(extend, {}));\n\t    } else {\n\t      this.handleObject(value || {});\n\t    }\n\t  },\n\t\n\t  handleObject: function handleObject(value) {\n\t    // cache object styles so that only changed props\n\t    // are actually updated.\n\t    var cache = this.cache || (this.cache = {});\n\t    var name, val;\n\t    for (name in cache) {\n\t      if (!(name in value)) {\n\t        this.handleSingle(name, null);\n\t        delete cache[name];\n\t      }\n\t    }\n\t    for (name in value) {\n\t      val = value[name];\n\t      if (val !== cache[name]) {\n\t        cache[name] = val;\n\t        this.handleSingle(name, val);\n\t      }\n\t    }\n\t  },\n\t\n\t  handleSingle: function handleSingle(prop, value) {\n\t    prop = normalize(prop);\n\t    if (!prop) return; // unsupported prop\n\t    // cast possible numbers/booleans into strings\n\t    if (value != null) value += '';\n\t    if (value) {\n\t      var isImportant = importantRE.test(value) ? 'important' : '';\n\t      if (isImportant) {\n\t        value = value.replace(importantRE, '').trim();\n\t      }\n\t      this.el.style.setProperty(prop, value, isImportant);\n\t    } else {\n\t      this.el.style.removeProperty(prop);\n\t    }\n\t  }\n\t\n\t};\n\t\n\t/**\n\t * Normalize a CSS property name.\n\t * - cache result\n\t * - auto prefix\n\t * - camelCase -> dash-case\n\t *\n\t * @param {String} prop\n\t * @return {String}\n\t */\n\t\n\tfunction normalize(prop) {\n\t  if (propCache[prop]) {\n\t    return propCache[prop];\n\t  }\n\t  var res = prefix(prop);\n\t  propCache[prop] = propCache[res] = res;\n\t  return res;\n\t}\n\t\n\t/**\n\t * Auto detect the appropriate prefix for a CSS property.\n\t * https://gist.github.com/paulirish/523692\n\t *\n\t * @param {String} prop\n\t * @return {String}\n\t */\n\t\n\tfunction prefix(prop) {\n\t  prop = hyphenate(prop);\n\t  var camel = camelize(prop);\n\t  var upper = camel.charAt(0).toUpperCase() + camel.slice(1);\n\t  if (!testEl) {\n\t    testEl = document.createElement('div');\n\t  }\n\t  if (camel in testEl.style) {\n\t    return prop;\n\t  }\n\t  var i = prefixes.length;\n\t  var prefixed;\n\t  while (i--) {\n\t    prefixed = camelPrefixes[i] + upper;\n\t    if (prefixed in testEl.style) {\n\t      return prefixes[i] + prop;\n\t    }\n\t  }\n\t}\n\t\n\t// xlink\n\tvar xlinkNS = 'http://www.w3.org/1999/xlink';\n\tvar xlinkRE = /^xlink:/;\n\t\n\t// these input element attributes should also set their\n\t// corresponding properties\n\tvar inputProps = {\n\t  value: 1,\n\t  checked: 1,\n\t  selected: 1\n\t};\n\t\n\t// these attributes should set a hidden property for\n\t// binding v-model to object values\n\tvar modelProps = {\n\t  value: '_value',\n\t  'true-value': '_trueValue',\n\t  'false-value': '_falseValue'\n\t};\n\t\n\t// check for attributes that prohibit interpolations\n\tvar disallowedInterpAttrRE = /^v-|^:|^@|^(is|transition|transition-mode|debounce|track-by|stagger|enter-stagger|leave-stagger)$/;\n\t\n\tvar bind = {\n\t\n\t  priority: 850,\n\t\n\t  bind: function bind() {\n\t    var attr = this.arg;\n\t    var tag = this.el.tagName;\n\t    // should be deep watch on object mode\n\t    if (!attr) {\n\t      this.deep = true;\n\t    }\n\t    // handle interpolation bindings\n\t    if (this.descriptor.interp) {\n\t      // only allow binding on native attributes\n\t      if (disallowedInterpAttrRE.test(attr) || attr === 'name' && (tag === 'PARTIAL' || tag === 'SLOT')) {\n\t        (\"production\") !== 'production' && warn(attr + '=\"' + this.descriptor.raw + '\": ' + 'attribute interpolation is not allowed in Vue.js ' + 'directives and special attributes.');\n\t        this.el.removeAttribute(attr);\n\t        this.invalid = true;\n\t      }\n\t\n\t      /* istanbul ignore if */\n\t      if (false) {\n\t        var raw = attr + '=\"' + this.descriptor.raw + '\": ';\n\t        // warn src\n\t        if (attr === 'src') {\n\t          warn(raw + 'interpolation in \"src\" attribute will cause ' + 'a 404 request. Use v-bind:src instead.');\n\t        }\n\t\n\t        // warn style\n\t        if (attr === 'style') {\n\t          warn(raw + 'interpolation in \"style\" attribute will cause ' + 'the attribute to be discarded in Internet Explorer. ' + 'Use v-bind:style instead.');\n\t        }\n\t      }\n\t    }\n\t  },\n\t\n\t  update: function update(value) {\n\t    if (this.invalid) {\n\t      return;\n\t    }\n\t    var attr = this.arg;\n\t    if (this.arg) {\n\t      this.handleSingle(attr, value);\n\t    } else {\n\t      this.handleObject(value || {});\n\t    }\n\t  },\n\t\n\t  // share object handler with v-bind:class\n\t  handleObject: style.handleObject,\n\t\n\t  handleSingle: function handleSingle(attr, value) {\n\t    if (inputProps[attr] && attr in this.el) {\n\t      this.el[attr] = attr === 'value' ? value || '' : // IE9 will set input.value to \"null\" for null...\n\t      value;\n\t    }\n\t    // set model props\n\t    var modelProp = modelProps[attr];\n\t    if (modelProp) {\n\t      this.el[modelProp] = value;\n\t      // update v-model if present\n\t      var model = this.el.__v_model;\n\t      if (model) {\n\t        model.listener();\n\t      }\n\t    }\n\t    // do not set value attribute for textarea\n\t    if (attr === 'value' && this.el.tagName === 'TEXTAREA') {\n\t      this.el.removeAttribute(attr);\n\t      return;\n\t    }\n\t    // update attribute\n\t    if (value != null && value !== false) {\n\t      if (xlinkRE.test(attr)) {\n\t        this.el.setAttributeNS(xlinkNS, attr, value);\n\t      } else {\n\t        this.el.setAttribute(attr, value);\n\t      }\n\t    } else {\n\t      this.el.removeAttribute(attr);\n\t    }\n\t  }\n\t};\n\t\n\t// keyCode aliases\n\tvar keyCodes = {\n\t  esc: 27,\n\t  tab: 9,\n\t  enter: 13,\n\t  space: 32,\n\t  'delete': 46,\n\t  up: 38,\n\t  left: 37,\n\t  right: 39,\n\t  down: 40\n\t};\n\t\n\tfunction keyFilter(handler, keys) {\n\t  var codes = keys.map(function (key) {\n\t    var charCode = key.charCodeAt(0);\n\t    if (charCode > 47 && charCode < 58) {\n\t      return parseInt(key, 10);\n\t    }\n\t    if (key.length === 1) {\n\t      charCode = key.toUpperCase().charCodeAt(0);\n\t      if (charCode > 64 && charCode < 91) {\n\t        return charCode;\n\t      }\n\t    }\n\t    return keyCodes[key];\n\t  });\n\t  return function keyHandler(e) {\n\t    if (codes.indexOf(e.keyCode) > -1) {\n\t      return handler.call(this, e);\n\t    }\n\t  };\n\t}\n\t\n\tfunction stopFilter(handler) {\n\t  return function stopHandler(e) {\n\t    e.stopPropagation();\n\t    return handler.call(this, e);\n\t  };\n\t}\n\t\n\tfunction preventFilter(handler) {\n\t  return function preventHandler(e) {\n\t    e.preventDefault();\n\t    return handler.call(this, e);\n\t  };\n\t}\n\t\n\tvar on = {\n\t\n\t  acceptStatement: true,\n\t  priority: 700,\n\t\n\t  bind: function bind() {\n\t    // deal with iframes\n\t    if (this.el.tagName === 'IFRAME' && this.arg !== 'load') {\n\t      var self = this;\n\t      this.iframeBind = function () {\n\t        on$1(self.el.contentWindow, self.arg, self.handler);\n\t      };\n\t      this.on('load', this.iframeBind);\n\t    }\n\t  },\n\t\n\t  update: function update(handler) {\n\t    // stub a noop for v-on with no value,\n\t    // e.g. @mousedown.prevent\n\t    if (!this.descriptor.raw) {\n\t      handler = function () {};\n\t    }\n\t\n\t    if (typeof handler !== 'function') {\n\t      (\"production\") !== 'production' && warn('v-on:' + this.arg + '=\"' + this.expression + '\" expects a function value, ' + 'got ' + handler);\n\t      return;\n\t    }\n\t\n\t    // apply modifiers\n\t    if (this.modifiers.stop) {\n\t      handler = stopFilter(handler);\n\t    }\n\t    if (this.modifiers.prevent) {\n\t      handler = preventFilter(handler);\n\t    }\n\t    // key filter\n\t    var keys = Object.keys(this.modifiers).filter(function (key) {\n\t      return key !== 'stop' && key !== 'prevent';\n\t    });\n\t    if (keys.length) {\n\t      handler = keyFilter(handler, keys);\n\t    }\n\t\n\t    this.reset();\n\t    this.handler = handler;\n\t\n\t    if (this.iframeBind) {\n\t      this.iframeBind();\n\t    } else {\n\t      on$1(this.el, this.arg, this.handler);\n\t    }\n\t  },\n\t\n\t  reset: function reset() {\n\t    var el = this.iframeBind ? this.el.contentWindow : this.el;\n\t    if (this.handler) {\n\t      off(el, this.arg, this.handler);\n\t    }\n\t  },\n\t\n\t  unbind: function unbind() {\n\t    this.reset();\n\t  }\n\t};\n\t\n\tvar checkbox = {\n\t\n\t  bind: function bind() {\n\t    var self = this;\n\t    var el = this.el;\n\t\n\t    this.getValue = function () {\n\t      return el.hasOwnProperty('_value') ? el._value : self.params.number ? toNumber(el.value) : el.value;\n\t    };\n\t\n\t    function getBooleanValue() {\n\t      var val = el.checked;\n\t      if (val && el.hasOwnProperty('_trueValue')) {\n\t        return el._trueValue;\n\t      }\n\t      if (!val && el.hasOwnProperty('_falseValue')) {\n\t        return el._falseValue;\n\t      }\n\t      return val;\n\t    }\n\t\n\t    this.listener = function () {\n\t      var model = self._watcher.value;\n\t      if (isArray(model)) {\n\t        var val = self.getValue();\n\t        if (el.checked) {\n\t          if (indexOf(model, val) < 0) {\n\t            model.push(val);\n\t          }\n\t        } else {\n\t          model.$remove(val);\n\t        }\n\t      } else {\n\t        self.set(getBooleanValue());\n\t      }\n\t    };\n\t\n\t    this.on('change', this.listener);\n\t    if (el.hasAttribute('checked')) {\n\t      this.afterBind = this.listener;\n\t    }\n\t  },\n\t\n\t  update: function update(value) {\n\t    var el = this.el;\n\t    if (isArray(value)) {\n\t      el.checked = indexOf(value, this.getValue()) > -1;\n\t    } else {\n\t      if (el.hasOwnProperty('_trueValue')) {\n\t        el.checked = looseEqual(value, el._trueValue);\n\t      } else {\n\t        el.checked = !!value;\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\tvar select = {\n\t\n\t  bind: function bind() {\n\t    var self = this;\n\t    var el = this.el;\n\t\n\t    // method to force update DOM using latest value.\n\t    this.forceUpdate = function () {\n\t      if (self._watcher) {\n\t        self.update(self._watcher.get());\n\t      }\n\t    };\n\t\n\t    // check if this is a multiple select\n\t    var multiple = this.multiple = el.hasAttribute('multiple');\n\t\n\t    // attach listener\n\t    this.listener = function () {\n\t      var value = getValue(el, multiple);\n\t      value = self.params.number ? isArray(value) ? value.map(toNumber) : toNumber(value) : value;\n\t      self.set(value);\n\t    };\n\t    this.on('change', this.listener);\n\t\n\t    // if has initial value, set afterBind\n\t    var initValue = getValue(el, multiple, true);\n\t    if (multiple && initValue.length || !multiple && initValue !== null) {\n\t      this.afterBind = this.listener;\n\t    }\n\t\n\t    // All major browsers except Firefox resets\n\t    // selectedIndex with value -1 to 0 when the element\n\t    // is appended to a new parent, therefore we have to\n\t    // force a DOM update whenever that happens...\n\t    this.vm.$on('hook:attached', this.forceUpdate);\n\t  },\n\t\n\t  update: function update(value) {\n\t    var el = this.el;\n\t    el.selectedIndex = -1;\n\t    var multi = this.multiple && isArray(value);\n\t    var options = el.options;\n\t    var i = options.length;\n\t    var op, val;\n\t    while (i--) {\n\t      op = options[i];\n\t      val = op.hasOwnProperty('_value') ? op._value : op.value;\n\t      /* eslint-disable eqeqeq */\n\t      op.selected = multi ? indexOf$1(value, val) > -1 : looseEqual(value, val);\n\t      /* eslint-enable eqeqeq */\n\t    }\n\t  },\n\t\n\t  unbind: function unbind() {\n\t    /* istanbul ignore next */\n\t    this.vm.$off('hook:attached', this.forceUpdate);\n\t  }\n\t};\n\t\n\t/**\n\t * Get select value\n\t *\n\t * @param {SelectElement} el\n\t * @param {Boolean} multi\n\t * @param {Boolean} init\n\t * @return {Array|*}\n\t */\n\t\n\tfunction getValue(el, multi, init) {\n\t  var res = multi ? [] : null;\n\t  var op, val, selected;\n\t  for (var i = 0, l = el.options.length; i < l; i++) {\n\t    op = el.options[i];\n\t    selected = init ? op.hasAttribute('selected') : op.selected;\n\t    if (selected) {\n\t      val = op.hasOwnProperty('_value') ? op._value : op.value;\n\t      if (multi) {\n\t        res.push(val);\n\t      } else {\n\t        return val;\n\t      }\n\t    }\n\t  }\n\t  return res;\n\t}\n\t\n\t/**\n\t * Native Array.indexOf uses strict equal, but in this\n\t * case we need to match string/numbers with custom equal.\n\t *\n\t * @param {Array} arr\n\t * @param {*} val\n\t */\n\t\n\tfunction indexOf$1(arr, val) {\n\t  var i = arr.length;\n\t  while (i--) {\n\t    if (looseEqual(arr[i], val)) {\n\t      return i;\n\t    }\n\t  }\n\t  return -1;\n\t}\n\t\n\tvar radio = {\n\t\n\t  bind: function bind() {\n\t    var self = this;\n\t    var el = this.el;\n\t\n\t    this.getValue = function () {\n\t      // value overwrite via v-bind:value\n\t      if (el.hasOwnProperty('_value')) {\n\t        return el._value;\n\t      }\n\t      var val = el.value;\n\t      if (self.params.number) {\n\t        val = toNumber(val);\n\t      }\n\t      return val;\n\t    };\n\t\n\t    this.listener = function () {\n\t      self.set(self.getValue());\n\t    };\n\t    this.on('change', this.listener);\n\t\n\t    if (el.hasAttribute('checked')) {\n\t      this.afterBind = this.listener;\n\t    }\n\t  },\n\t\n\t  update: function update(value) {\n\t    this.el.checked = looseEqual(value, this.getValue());\n\t  }\n\t};\n\t\n\tvar text$2 = {\n\t\n\t  bind: function bind() {\n\t    var self = this;\n\t    var el = this.el;\n\t    var isRange = el.type === 'range';\n\t    var lazy = this.params.lazy;\n\t    var number = this.params.number;\n\t    var debounce = this.params.debounce;\n\t\n\t    // handle composition events.\n\t    //   http://blog.evanyou.me/2014/01/03/composition-event/\n\t    // skip this for Android because it handles composition\n\t    // events quite differently. Android doesn't trigger\n\t    // composition events for language input methods e.g.\n\t    // Chinese, but instead triggers them for spelling\n\t    // suggestions... (see Discussion/#162)\n\t    var composing = false;\n\t    if (!isAndroid && !isRange) {\n\t      this.on('compositionstart', function () {\n\t        composing = true;\n\t      });\n\t      this.on('compositionend', function () {\n\t        composing = false;\n\t        // in IE11 the \"compositionend\" event fires AFTER\n\t        // the \"input\" event, so the input handler is blocked\n\t        // at the end... have to call it here.\n\t        //\n\t        // #1327: in lazy mode this is unecessary.\n\t        if (!lazy) {\n\t          self.listener();\n\t        }\n\t      });\n\t    }\n\t\n\t    // prevent messing with the input when user is typing,\n\t    // and force update on blur.\n\t    this.focused = false;\n\t    if (!isRange) {\n\t      this.on('focus', function () {\n\t        self.focused = true;\n\t      });\n\t      this.on('blur', function () {\n\t        self.focused = false;\n\t        self.listener();\n\t      });\n\t    }\n\t\n\t    // Now attach the main listener\n\t    this.listener = function () {\n\t      if (composing) return;\n\t      var val = number || isRange ? toNumber(el.value) : el.value;\n\t      self.set(val);\n\t      // force update on next tick to avoid lock & same value\n\t      // also only update when user is not typing\n\t      nextTick(function () {\n\t        if (self._bound && !self.focused) {\n\t          self.update(self._watcher.value);\n\t        }\n\t      });\n\t    };\n\t\n\t    // apply debounce\n\t    if (debounce) {\n\t      this.listener = _debounce(this.listener, debounce);\n\t    }\n\t\n\t    // Support jQuery events, since jQuery.trigger() doesn't\n\t    // trigger native events in some cases and some plugins\n\t    // rely on $.trigger()\n\t    //\n\t    // We want to make sure if a listener is attached using\n\t    // jQuery, it is also removed with jQuery, that's why\n\t    // we do the check for each directive instance and\n\t    // store that check result on itself. This also allows\n\t    // easier test coverage control by unsetting the global\n\t    // jQuery variable in tests.\n\t    this.hasjQuery = typeof jQuery === 'function';\n\t    if (this.hasjQuery) {\n\t      jQuery(el).on('change', this.listener);\n\t      if (!lazy) {\n\t        jQuery(el).on('input', this.listener);\n\t      }\n\t    } else {\n\t      this.on('change', this.listener);\n\t      if (!lazy) {\n\t        this.on('input', this.listener);\n\t      }\n\t    }\n\t\n\t    // IE9 doesn't fire input event on backspace/del/cut\n\t    if (!lazy && isIE9) {\n\t      this.on('cut', function () {\n\t        nextTick(self.listener);\n\t      });\n\t      this.on('keyup', function (e) {\n\t        if (e.keyCode === 46 || e.keyCode === 8) {\n\t          self.listener();\n\t        }\n\t      });\n\t    }\n\t\n\t    // set initial value if present\n\t    if (el.hasAttribute('value') || el.tagName === 'TEXTAREA' && el.value.trim()) {\n\t      this.afterBind = this.listener;\n\t    }\n\t  },\n\t\n\t  update: function update(value) {\n\t    this.el.value = _toString(value);\n\t  },\n\t\n\t  unbind: function unbind() {\n\t    var el = this.el;\n\t    if (this.hasjQuery) {\n\t      jQuery(el).off('change', this.listener);\n\t      jQuery(el).off('input', this.listener);\n\t    }\n\t  }\n\t};\n\t\n\tvar handlers = {\n\t  text: text$2,\n\t  radio: radio,\n\t  select: select,\n\t  checkbox: checkbox\n\t};\n\t\n\tvar model = {\n\t\n\t  priority: 800,\n\t  twoWay: true,\n\t  handlers: handlers,\n\t  params: ['lazy', 'number', 'debounce'],\n\t\n\t  /**\n\t   * Possible elements:\n\t   *   <select>\n\t   *   <textarea>\n\t   *   <input type=\"*\">\n\t   *     - text\n\t   *     - checkbox\n\t   *     - radio\n\t   *     - number\n\t   */\n\t\n\t  bind: function bind() {\n\t    // friendly warning...\n\t    this.checkFilters();\n\t    if (this.hasRead && !this.hasWrite) {\n\t      (\"production\") !== 'production' && warn('It seems you are using a read-only filter with ' + 'v-model. You might want to use a two-way filter ' + 'to ensure correct behavior.');\n\t    }\n\t    var el = this.el;\n\t    var tag = el.tagName;\n\t    var handler;\n\t    if (tag === 'INPUT') {\n\t      handler = handlers[el.type] || handlers.text;\n\t    } else if (tag === 'SELECT') {\n\t      handler = handlers.select;\n\t    } else if (tag === 'TEXTAREA') {\n\t      handler = handlers.text;\n\t    } else {\n\t      (\"production\") !== 'production' && warn('v-model does not support element type: ' + tag);\n\t      return;\n\t    }\n\t    el.__v_model = this;\n\t    handler.bind.call(this);\n\t    this.update = handler.update;\n\t    this._unbind = handler.unbind;\n\t  },\n\t\n\t  /**\n\t   * Check read/write filter stats.\n\t   */\n\t\n\t  checkFilters: function checkFilters() {\n\t    var filters = this.filters;\n\t    if (!filters) return;\n\t    var i = filters.length;\n\t    while (i--) {\n\t      var filter = resolveAsset(this.vm.$options, 'filters', filters[i].name);\n\t      if (typeof filter === 'function' || filter.read) {\n\t        this.hasRead = true;\n\t      }\n\t      if (filter.write) {\n\t        this.hasWrite = true;\n\t      }\n\t    }\n\t  },\n\t\n\t  unbind: function unbind() {\n\t    this.el.__v_model = null;\n\t    this._unbind && this._unbind();\n\t  }\n\t};\n\t\n\tvar show = {\n\t\n\t  bind: function bind() {\n\t    // check else block\n\t    var next = this.el.nextElementSibling;\n\t    if (next && getAttr(next, 'v-else') !== null) {\n\t      this.elseEl = next;\n\t    }\n\t  },\n\t\n\t  update: function update(value) {\n\t    this.apply(this.el, value);\n\t    if (this.elseEl) {\n\t      this.apply(this.elseEl, !value);\n\t    }\n\t  },\n\t\n\t  apply: function apply(el, value) {\n\t    applyTransition(el, value ? 1 : -1, function () {\n\t      el.style.display = value ? '' : 'none';\n\t    }, this.vm);\n\t  }\n\t};\n\t\n\tvar templateCache = new Cache(1000);\n\tvar idSelectorCache = new Cache(1000);\n\t\n\tvar map = {\n\t  efault: [0, '', ''],\n\t  legend: [1, '<fieldset>', '</fieldset>'],\n\t  tr: [2, '<table><tbody>', '</tbody></table>'],\n\t  col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>']\n\t};\n\t\n\tmap.td = map.th = [3, '<table><tbody><tr>', '</tr></tbody></table>'];\n\t\n\tmap.option = map.optgroup = [1, '<select multiple=\"multiple\">', '</select>'];\n\t\n\tmap.thead = map.tbody = map.colgroup = map.caption = map.tfoot = [1, '<table>', '</table>'];\n\t\n\tmap.g = map.defs = map.symbol = map.use = map.image = map.text = map.circle = map.ellipse = map.line = map.path = map.polygon = map.polyline = map.rect = [1, '<svg ' + 'xmlns=\"http://www.w3.org/2000/svg\" ' + 'xmlns:xlink=\"http://www.w3.org/1999/xlink\" ' + 'xmlns:ev=\"http://www.w3.org/2001/xml-events\"' + 'version=\"1.1\">', '</svg>'];\n\t\n\t/**\n\t * Check if a node is a supported template node with a\n\t * DocumentFragment content.\n\t *\n\t * @param {Node} node\n\t * @return {Boolean}\n\t */\n\t\n\tfunction isRealTemplate(node) {\n\t  return isTemplate(node) && node.content instanceof DocumentFragment;\n\t}\n\t\n\tvar tagRE$1 = /<([\\w:]+)/;\n\tvar entityRE = /&\\w+;|&#\\d+;|&#x[\\dA-F]+;/;\n\t\n\t/**\n\t * Convert a string template to a DocumentFragment.\n\t * Determines correct wrapping by tag types. Wrapping\n\t * strategy found in jQuery & component/domify.\n\t *\n\t * @param {String} templateString\n\t * @param {Boolean} raw\n\t * @return {DocumentFragment}\n\t */\n\t\n\tfunction stringToFragment(templateString, raw) {\n\t  // try a cache hit first\n\t  var hit = templateCache.get(templateString);\n\t  if (hit) {\n\t    return hit;\n\t  }\n\t\n\t  var frag = document.createDocumentFragment();\n\t  var tagMatch = templateString.match(tagRE$1);\n\t  var entityMatch = entityRE.test(templateString);\n\t\n\t  if (!tagMatch && !entityMatch) {\n\t    // text only, return a single text node.\n\t    frag.appendChild(document.createTextNode(templateString));\n\t  } else {\n\t\n\t    var tag = tagMatch && tagMatch[1];\n\t    var wrap = map[tag] || map.efault;\n\t    var depth = wrap[0];\n\t    var prefix = wrap[1];\n\t    var suffix = wrap[2];\n\t    var node = document.createElement('div');\n\t\n\t    if (!raw) {\n\t      templateString = templateString.trim();\n\t    }\n\t    node.innerHTML = prefix + templateString + suffix;\n\t    while (depth--) {\n\t      node = node.lastChild;\n\t    }\n\t\n\t    var child;\n\t    /* eslint-disable no-cond-assign */\n\t    while (child = node.firstChild) {\n\t      /* eslint-enable no-cond-assign */\n\t      frag.appendChild(child);\n\t    }\n\t  }\n\t\n\t  templateCache.put(templateString, frag);\n\t  return frag;\n\t}\n\t\n\t/**\n\t * Convert a template node to a DocumentFragment.\n\t *\n\t * @param {Node} node\n\t * @return {DocumentFragment}\n\t */\n\t\n\tfunction nodeToFragment(node) {\n\t  // if its a template tag and the browser supports it,\n\t  // its content is already a document fragment.\n\t  if (isRealTemplate(node)) {\n\t    trimNode(node.content);\n\t    return node.content;\n\t  }\n\t  // script template\n\t  if (node.tagName === 'SCRIPT') {\n\t    return stringToFragment(node.textContent);\n\t  }\n\t  // normal node, clone it to avoid mutating the original\n\t  var clonedNode = cloneNode(node);\n\t  var frag = document.createDocumentFragment();\n\t  var child;\n\t  /* eslint-disable no-cond-assign */\n\t  while (child = clonedNode.firstChild) {\n\t    /* eslint-enable no-cond-assign */\n\t    frag.appendChild(child);\n\t  }\n\t  trimNode(frag);\n\t  return frag;\n\t}\n\t\n\t// Test for the presence of the Safari template cloning bug\n\t// https://bugs.webkit.org/showug.cgi?id=137755\n\tvar hasBrokenTemplate = (function () {\n\t  /* istanbul ignore else */\n\t  if (inBrowser) {\n\t    var a = document.createElement('div');\n\t    a.innerHTML = '<template>1</template>';\n\t    return !a.cloneNode(true).firstChild.innerHTML;\n\t  } else {\n\t    return false;\n\t  }\n\t})();\n\t\n\t// Test for IE10/11 textarea placeholder clone bug\n\tvar hasTextareaCloneBug = (function () {\n\t  /* istanbul ignore else */\n\t  if (inBrowser) {\n\t    var t = document.createElement('textarea');\n\t    t.placeholder = 't';\n\t    return t.cloneNode(true).value === 't';\n\t  } else {\n\t    return false;\n\t  }\n\t})();\n\t\n\t/**\n\t * 1. Deal with Safari cloning nested <template> bug by\n\t *    manually cloning all template instances.\n\t * 2. Deal with IE10/11 textarea placeholder bug by setting\n\t *    the correct value after cloning.\n\t *\n\t * @param {Element|DocumentFragment} node\n\t * @return {Element|DocumentFragment}\n\t */\n\t\n\tfunction cloneNode(node) {\n\t  if (!node.querySelectorAll) {\n\t    return node.cloneNode();\n\t  }\n\t  var res = node.cloneNode(true);\n\t  var i, original, cloned;\n\t  /* istanbul ignore if */\n\t  if (hasBrokenTemplate) {\n\t    var tempClone = res;\n\t    if (isRealTemplate(node)) {\n\t      node = node.content;\n\t      tempClone = res.content;\n\t    }\n\t    original = node.querySelectorAll('template');\n\t    if (original.length) {\n\t      cloned = tempClone.querySelectorAll('template');\n\t      i = cloned.length;\n\t      while (i--) {\n\t        cloned[i].parentNode.replaceChild(cloneNode(original[i]), cloned[i]);\n\t      }\n\t    }\n\t  }\n\t  /* istanbul ignore if */\n\t  if (hasTextareaCloneBug) {\n\t    if (node.tagName === 'TEXTAREA') {\n\t      res.value = node.value;\n\t    } else {\n\t      original = node.querySelectorAll('textarea');\n\t      if (original.length) {\n\t        cloned = res.querySelectorAll('textarea');\n\t        i = cloned.length;\n\t        while (i--) {\n\t          cloned[i].value = original[i].value;\n\t        }\n\t      }\n\t    }\n\t  }\n\t  return res;\n\t}\n\t\n\t/**\n\t * Process the template option and normalizes it into a\n\t * a DocumentFragment that can be used as a partial or a\n\t * instance template.\n\t *\n\t * @param {*} template\n\t *        Possible values include:\n\t *        - DocumentFragment object\n\t *        - Node object of type Template\n\t *        - id selector: '#some-template-id'\n\t *        - template string: '<div><span>{{msg}}</span></div>'\n\t * @param {Boolean} shouldClone\n\t * @param {Boolean} raw\n\t *        inline HTML interpolation. Do not check for id\n\t *        selector and keep whitespace in the string.\n\t * @return {DocumentFragment|undefined}\n\t */\n\t\n\tfunction parseTemplate(template, shouldClone, raw) {\n\t  var node, frag;\n\t\n\t  // if the template is already a document fragment,\n\t  // do nothing\n\t  if (template instanceof DocumentFragment) {\n\t    trimNode(template);\n\t    return shouldClone ? cloneNode(template) : template;\n\t  }\n\t\n\t  if (typeof template === 'string') {\n\t    // id selector\n\t    if (!raw && template.charAt(0) === '#') {\n\t      // id selector can be cached too\n\t      frag = idSelectorCache.get(template);\n\t      if (!frag) {\n\t        node = document.getElementById(template.slice(1));\n\t        if (node) {\n\t          frag = nodeToFragment(node);\n\t          // save selector to cache\n\t          idSelectorCache.put(template, frag);\n\t        }\n\t      }\n\t    } else {\n\t      // normal string template\n\t      frag = stringToFragment(template, raw);\n\t    }\n\t  } else if (template.nodeType) {\n\t    // a direct node\n\t    frag = nodeToFragment(template);\n\t  }\n\t\n\t  return frag && shouldClone ? cloneNode(frag) : frag;\n\t}\n\t\n\tvar template = Object.freeze({\n\t  cloneNode: cloneNode,\n\t  parseTemplate: parseTemplate\n\t});\n\t\n\t/**\n\t * Abstraction for a partially-compiled fragment.\n\t * Can optionally compile content with a child scope.\n\t *\n\t * @param {Function} linker\n\t * @param {Vue} vm\n\t * @param {DocumentFragment} frag\n\t * @param {Vue} [host]\n\t * @param {Object} [scope]\n\t */\n\tfunction Fragment(linker, vm, frag, host, scope, parentFrag) {\n\t  this.children = [];\n\t  this.childFrags = [];\n\t  this.vm = vm;\n\t  this.scope = scope;\n\t  this.inserted = false;\n\t  this.parentFrag = parentFrag;\n\t  if (parentFrag) {\n\t    parentFrag.childFrags.push(this);\n\t  }\n\t  this.unlink = linker(vm, frag, host, scope, this);\n\t  var single = this.single = frag.childNodes.length === 1 &&\n\t  // do not go single mode if the only node is an anchor\n\t  !frag.childNodes[0].__vue_anchor;\n\t  if (single) {\n\t    this.node = frag.childNodes[0];\n\t    this.before = singleBefore;\n\t    this.remove = singleRemove;\n\t  } else {\n\t    this.node = createAnchor('fragment-start');\n\t    this.end = createAnchor('fragment-end');\n\t    this.frag = frag;\n\t    prepend(this.node, frag);\n\t    frag.appendChild(this.end);\n\t    this.before = multiBefore;\n\t    this.remove = multiRemove;\n\t  }\n\t  this.node.__vfrag__ = this;\n\t}\n\t\n\t/**\n\t * Call attach/detach for all components contained within\n\t * this fragment. Also do so recursively for all child\n\t * fragments.\n\t *\n\t * @param {Function} hook\n\t */\n\t\n\tFragment.prototype.callHook = function (hook) {\n\t  var i, l;\n\t  for (i = 0, l = this.children.length; i < l; i++) {\n\t    hook(this.children[i]);\n\t  }\n\t  for (i = 0, l = this.childFrags.length; i < l; i++) {\n\t    this.childFrags[i].callHook(hook);\n\t  }\n\t};\n\t\n\t/**\n\t * Destroy the fragment.\n\t */\n\t\n\tFragment.prototype.destroy = function () {\n\t  if (this.parentFrag) {\n\t    this.parentFrag.childFrags.$remove(this);\n\t  }\n\t  this.unlink();\n\t};\n\t\n\t/**\n\t * Insert fragment before target, single node version\n\t *\n\t * @param {Node} target\n\t * @param {Boolean} withTransition\n\t */\n\t\n\tfunction singleBefore(target, withTransition) {\n\t  this.inserted = true;\n\t  var method = withTransition !== false ? beforeWithTransition : before;\n\t  method(this.node, target, this.vm);\n\t  if (inDoc(this.node)) {\n\t    this.callHook(attach);\n\t  }\n\t}\n\t\n\t/**\n\t * Remove fragment, single node version\n\t */\n\t\n\tfunction singleRemove() {\n\t  this.inserted = false;\n\t  var shouldCallRemove = inDoc(this.node);\n\t  var self = this;\n\t  self.callHook(destroyChild);\n\t  removeWithTransition(this.node, this.vm, function () {\n\t    if (shouldCallRemove) {\n\t      self.callHook(detach);\n\t    }\n\t    self.destroy();\n\t  });\n\t}\n\t\n\t/**\n\t * Insert fragment before target, multi-nodes version\n\t *\n\t * @param {Node} target\n\t * @param {Boolean} withTransition\n\t */\n\t\n\tfunction multiBefore(target, withTransition) {\n\t  this.inserted = true;\n\t  var vm = this.vm;\n\t  var method = withTransition !== false ? beforeWithTransition : before;\n\t  mapNodeRange(this.node, this.end, function (node) {\n\t    method(node, target, vm);\n\t  });\n\t  if (inDoc(this.node)) {\n\t    this.callHook(attach);\n\t  }\n\t}\n\t\n\t/**\n\t * Remove fragment, multi-nodes version\n\t */\n\t\n\tfunction multiRemove() {\n\t  this.inserted = false;\n\t  var self = this;\n\t  var shouldCallRemove = inDoc(this.node);\n\t  self.callHook(destroyChild);\n\t  removeNodeRange(this.node, this.end, this.vm, this.frag, function () {\n\t    if (shouldCallRemove) {\n\t      self.callHook(detach);\n\t    }\n\t    self.destroy();\n\t  });\n\t}\n\t\n\t/**\n\t * Call attach hook for a Vue instance.\n\t *\n\t * @param {Vue} child\n\t */\n\t\n\tfunction attach(child) {\n\t  if (!child._isAttached) {\n\t    child._callHook('attached');\n\t  }\n\t}\n\t\n\t/**\n\t * Call destroy for all contained instances,\n\t * with remove:false and defer:true.\n\t * Defer is necessary because we need to\n\t * keep the children to call detach hooks\n\t * on them.\n\t *\n\t * @param {Vue} child\n\t */\n\t\n\tfunction destroyChild(child) {\n\t  child.$destroy(false, true);\n\t}\n\t\n\t/**\n\t * Call detach hook for a Vue instance.\n\t *\n\t * @param {Vue} child\n\t */\n\t\n\tfunction detach(child) {\n\t  if (child._isAttached) {\n\t    child._callHook('detached');\n\t  }\n\t}\n\t\n\tvar linkerCache = new Cache(5000);\n\t\n\t/**\n\t * A factory that can be used to create instances of a\n\t * fragment. Caches the compiled linker if possible.\n\t *\n\t * @param {Vue} vm\n\t * @param {Element|String} el\n\t */\n\tfunction FragmentFactory(vm, el) {\n\t  this.vm = vm;\n\t  var template;\n\t  var isString = typeof el === 'string';\n\t  if (isString || isTemplate(el)) {\n\t    template = parseTemplate(el, true);\n\t  } else {\n\t    template = document.createDocumentFragment();\n\t    template.appendChild(el);\n\t  }\n\t  this.template = template;\n\t  // linker can be cached, but only for components\n\t  var linker;\n\t  var cid = vm.constructor.cid;\n\t  if (cid > 0) {\n\t    var cacheId = cid + (isString ? el : el.outerHTML);\n\t    linker = linkerCache.get(cacheId);\n\t    if (!linker) {\n\t      linker = compile(template, vm.$options, true);\n\t      linkerCache.put(cacheId, linker);\n\t    }\n\t  } else {\n\t    linker = compile(template, vm.$options, true);\n\t  }\n\t  this.linker = linker;\n\t}\n\t\n\t/**\n\t * Create a fragment instance with given host and scope.\n\t *\n\t * @param {Vue} host\n\t * @param {Object} scope\n\t * @param {Fragment} parentFrag\n\t */\n\t\n\tFragmentFactory.prototype.create = function (host, scope, parentFrag) {\n\t  var frag = cloneNode(this.template);\n\t  return new Fragment(this.linker, this.vm, frag, host, scope, parentFrag);\n\t};\n\t\n\tvar vIf = {\n\t\n\t  priority: 2000,\n\t\n\t  bind: function bind() {\n\t    var el = this.el;\n\t    if (!el.__vue__) {\n\t      // check else block\n\t      var next = el.nextElementSibling;\n\t      if (next && getAttr(next, 'v-else') !== null) {\n\t        remove(next);\n\t        this.elseFactory = new FragmentFactory(this.vm, next);\n\t      }\n\t      // check main block\n\t      this.anchor = createAnchor('v-if');\n\t      replace(el, this.anchor);\n\t      this.factory = new FragmentFactory(this.vm, el);\n\t    } else {\n\t      (\"production\") !== 'production' && warn('v-if=\"' + this.expression + '\" cannot be ' + 'used on an instance root element.');\n\t      this.invalid = true;\n\t    }\n\t  },\n\t\n\t  update: function update(value) {\n\t    if (this.invalid) return;\n\t    if (value) {\n\t      if (!this.frag) {\n\t        this.insert();\n\t      }\n\t    } else {\n\t      this.remove();\n\t    }\n\t  },\n\t\n\t  insert: function insert() {\n\t    if (this.elseFrag) {\n\t      this.elseFrag.remove();\n\t      this.elseFrag = null;\n\t    }\n\t    this.frag = this.factory.create(this._host, this._scope, this._frag);\n\t    this.frag.before(this.anchor);\n\t  },\n\t\n\t  remove: function remove() {\n\t    if (this.frag) {\n\t      this.frag.remove();\n\t      this.frag = null;\n\t    }\n\t    if (this.elseFactory && !this.elseFrag) {\n\t      this.elseFrag = this.elseFactory.create(this._host, this._scope, this._frag);\n\t      this.elseFrag.before(this.anchor);\n\t    }\n\t  },\n\t\n\t  unbind: function unbind() {\n\t    if (this.frag) {\n\t      this.frag.destroy();\n\t    }\n\t  }\n\t};\n\t\n\tvar uid$1 = 0;\n\t\n\tvar vFor = {\n\t\n\t  priority: 2000,\n\t\n\t  params: ['track-by', 'stagger', 'enter-stagger', 'leave-stagger'],\n\t\n\t  bind: function bind() {\n\t    // support \"item in items\" syntax\n\t    var inMatch = this.expression.match(/(.*) in (.*)/);\n\t    if (inMatch) {\n\t      var itMatch = inMatch[1].match(/\\((.*),(.*)\\)/);\n\t      if (itMatch) {\n\t        this.iterator = itMatch[1].trim();\n\t        this.alias = itMatch[2].trim();\n\t      } else {\n\t        this.alias = inMatch[1].trim();\n\t      }\n\t      this.expression = inMatch[2];\n\t    }\n\t\n\t    if (!this.alias) {\n\t      (\"production\") !== 'production' && warn('Alias is required in v-for.');\n\t      return;\n\t    }\n\t\n\t    // uid as a cache identifier\n\t    this.id = '__v-for__' + ++uid$1;\n\t\n\t    // check if this is an option list,\n\t    // so that we know if we need to update the <select>'s\n\t    // v-model when the option list has changed.\n\t    // because v-model has a lower priority than v-for,\n\t    // the v-model is not bound here yet, so we have to\n\t    // retrive it in the actual updateModel() function.\n\t    var tag = this.el.tagName;\n\t    this.isOption = (tag === 'OPTION' || tag === 'OPTGROUP') && this.el.parentNode.tagName === 'SELECT';\n\t\n\t    // setup anchor nodes\n\t    this.start = createAnchor('v-for-start');\n\t    this.end = createAnchor('v-for-end');\n\t    replace(this.el, this.end);\n\t    before(this.start, this.end);\n\t\n\t    // cache\n\t    this.cache = Object.create(null);\n\t\n\t    // fragment factory\n\t    this.factory = new FragmentFactory(this.vm, this.el);\n\t  },\n\t\n\t  update: function update(data) {\n\t    this.diff(data);\n\t    this.updateRef();\n\t    this.updateModel();\n\t  },\n\t\n\t  /**\n\t   * Diff, based on new data and old data, determine the\n\t   * minimum amount of DOM manipulations needed to make the\n\t   * DOM reflect the new data Array.\n\t   *\n\t   * The algorithm diffs the new data Array by storing a\n\t   * hidden reference to an owner vm instance on previously\n\t   * seen data. This allows us to achieve O(n) which is\n\t   * better than a levenshtein distance based algorithm,\n\t   * which is O(m * n).\n\t   *\n\t   * @param {Array} data\n\t   */\n\t\n\t  diff: function diff(data) {\n\t    // check if the Array was converted from an Object\n\t    var item = data[0];\n\t    var convertedFromObject = this.fromObject = isObject(item) && hasOwn(item, '$key') && hasOwn(item, '$value');\n\t\n\t    var trackByKey = this.params.trackBy;\n\t    var oldFrags = this.frags;\n\t    var frags = this.frags = new Array(data.length);\n\t    var alias = this.alias;\n\t    var iterator = this.iterator;\n\t    var start = this.start;\n\t    var end = this.end;\n\t    var inDocument = inDoc(start);\n\t    var init = !oldFrags;\n\t    var i, l, frag, key, value, primitive;\n\t\n\t    // First pass, go through the new Array and fill up\n\t    // the new frags array. If a piece of data has a cached\n\t    // instance for it, we reuse it. Otherwise build a new\n\t    // instance.\n\t    for (i = 0, l = data.length; i < l; i++) {\n\t      item = data[i];\n\t      key = convertedFromObject ? item.$key : null;\n\t      value = convertedFromObject ? item.$value : item;\n\t      primitive = !isObject(value);\n\t      frag = !init && this.getCachedFrag(value, i, key);\n\t      if (frag) {\n\t        // reusable fragment\n\t        frag.reused = true;\n\t        // update $index\n\t        frag.scope.$index = i;\n\t        // update $key\n\t        if (key) {\n\t          frag.scope.$key = key;\n\t        }\n\t        // update iterator\n\t        if (iterator) {\n\t          frag.scope[iterator] = key !== null ? key : i;\n\t        }\n\t        // update data for track-by, object repeat &\n\t        // primitive values.\n\t        if (trackByKey || convertedFromObject || primitive) {\n\t          frag.scope[alias] = value;\n\t        }\n\t      } else {\n\t        // new isntance\n\t        frag = this.create(value, alias, i, key);\n\t        frag.fresh = !init;\n\t      }\n\t      frags[i] = frag;\n\t      if (init) {\n\t        frag.before(end);\n\t      }\n\t    }\n\t\n\t    // we're done for the initial render.\n\t    if (init) {\n\t      return;\n\t    }\n\t\n\t    // Second pass, go through the old fragments and\n\t    // destroy those who are not reused (and remove them\n\t    // from cache)\n\t    var removalIndex = 0;\n\t    var totalRemoved = oldFrags.length - frags.length;\n\t    for (i = 0, l = oldFrags.length; i < l; i++) {\n\t      frag = oldFrags[i];\n\t      if (!frag.reused) {\n\t        this.deleteCachedFrag(frag);\n\t        this.remove(frag, removalIndex++, totalRemoved, inDocument);\n\t      }\n\t    }\n\t\n\t    // Final pass, move/insert new fragments into the\n\t    // right place.\n\t    var targetPrev, prevEl, currentPrev;\n\t    var insertionIndex = 0;\n\t    for (i = 0, l = frags.length; i < l; i++) {\n\t      frag = frags[i];\n\t      // this is the frag that we should be after\n\t      targetPrev = frags[i - 1];\n\t      prevEl = targetPrev ? targetPrev.staggerCb ? targetPrev.staggerAnchor : targetPrev.end || targetPrev.node : start;\n\t      if (frag.reused && !frag.staggerCb) {\n\t        currentPrev = findPrevFrag(frag, start, this.id);\n\t        if (currentPrev !== targetPrev && (!currentPrev ||\n\t        // optimization for moving a single item.\n\t        // thanks to suggestions by @livoras in #1807\n\t        findPrevFrag(currentPrev, start, this.id) !== targetPrev)) {\n\t          this.move(frag, prevEl);\n\t        }\n\t      } else {\n\t        // new instance, or still in stagger.\n\t        // insert with updated stagger index.\n\t        this.insert(frag, insertionIndex++, prevEl, inDocument);\n\t      }\n\t      frag.reused = frag.fresh = false;\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Create a new fragment instance.\n\t   *\n\t   * @param {*} value\n\t   * @param {String} alias\n\t   * @param {Number} index\n\t   * @param {String} [key]\n\t   * @return {Fragment}\n\t   */\n\t\n\t  create: function create(value, alias, index, key) {\n\t    var host = this._host;\n\t    // create iteration scope\n\t    var parentScope = this._scope || this.vm;\n\t    var scope = Object.create(parentScope);\n\t    // ref holder for the scope\n\t    scope.$refs = Object.create(parentScope.$refs);\n\t    scope.$els = Object.create(parentScope.$els);\n\t    // make sure point $parent to parent scope\n\t    scope.$parent = parentScope;\n\t    // for two-way binding on alias\n\t    scope.$forContext = this;\n\t    // define scope properties\n\t    defineReactive(scope, alias, value);\n\t    defineReactive(scope, '$index', index);\n\t    if (key) {\n\t      defineReactive(scope, '$key', key);\n\t    } else if (scope.$key) {\n\t      // avoid accidental fallback\n\t      def(scope, '$key', null);\n\t    }\n\t    if (this.iterator) {\n\t      defineReactive(scope, this.iterator, key !== null ? key : index);\n\t    }\n\t    var frag = this.factory.create(host, scope, this._frag);\n\t    frag.forId = this.id;\n\t    this.cacheFrag(value, frag, index, key);\n\t    return frag;\n\t  },\n\t\n\t  /**\n\t   * Update the v-ref on owner vm.\n\t   */\n\t\n\t  updateRef: function updateRef() {\n\t    var ref = this.descriptor.ref;\n\t    if (!ref) return;\n\t    var hash = (this._scope || this.vm).$refs;\n\t    var refs;\n\t    if (!this.fromObject) {\n\t      refs = this.frags.map(findVmFromFrag);\n\t    } else {\n\t      refs = {};\n\t      this.frags.forEach(function (frag) {\n\t        refs[frag.scope.$key] = findVmFromFrag(frag);\n\t      });\n\t    }\n\t    hash[ref] = refs;\n\t  },\n\t\n\t  /**\n\t   * For option lists, update the containing v-model on\n\t   * parent <select>.\n\t   */\n\t\n\t  updateModel: function updateModel() {\n\t    if (this.isOption) {\n\t      var parent = this.start.parentNode;\n\t      var model = parent && parent.__v_model;\n\t      if (model) {\n\t        model.forceUpdate();\n\t      }\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Insert a fragment. Handles staggering.\n\t   *\n\t   * @param {Fragment} frag\n\t   * @param {Number} index\n\t   * @param {Node} prevEl\n\t   * @param {Boolean} inDocument\n\t   */\n\t\n\t  insert: function insert(frag, index, prevEl, inDocument) {\n\t    if (frag.staggerCb) {\n\t      frag.staggerCb.cancel();\n\t      frag.staggerCb = null;\n\t    }\n\t    var staggerAmount = this.getStagger(frag, index, null, 'enter');\n\t    if (inDocument && staggerAmount) {\n\t      // create an anchor and insert it synchronously,\n\t      // so that we can resolve the correct order without\n\t      // worrying about some elements not inserted yet\n\t      var anchor = frag.staggerAnchor;\n\t      if (!anchor) {\n\t        anchor = frag.staggerAnchor = createAnchor('stagger-anchor');\n\t        anchor.__vfrag__ = frag;\n\t      }\n\t      after(anchor, prevEl);\n\t      var op = frag.staggerCb = cancellable(function () {\n\t        frag.staggerCb = null;\n\t        frag.before(anchor);\n\t        remove(anchor);\n\t      });\n\t      setTimeout(op, staggerAmount);\n\t    } else {\n\t      frag.before(prevEl.nextSibling);\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Remove a fragment. Handles staggering.\n\t   *\n\t   * @param {Fragment} frag\n\t   * @param {Number} index\n\t   * @param {Number} total\n\t   * @param {Boolean} inDocument\n\t   */\n\t\n\t  remove: function remove(frag, index, total, inDocument) {\n\t    if (frag.staggerCb) {\n\t      frag.staggerCb.cancel();\n\t      frag.staggerCb = null;\n\t      // it's not possible for the same frag to be removed\n\t      // twice, so if we have a pending stagger callback,\n\t      // it means this frag is queued for enter but removed\n\t      // before its transition started. Since it is already\n\t      // destroyed, we can just leave it in detached state.\n\t      return;\n\t    }\n\t    var staggerAmount = this.getStagger(frag, index, total, 'leave');\n\t    if (inDocument && staggerAmount) {\n\t      var op = frag.staggerCb = cancellable(function () {\n\t        frag.staggerCb = null;\n\t        frag.remove();\n\t      });\n\t      setTimeout(op, staggerAmount);\n\t    } else {\n\t      frag.remove();\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Move a fragment to a new position.\n\t   * Force no transition.\n\t   *\n\t   * @param {Fragment} frag\n\t   * @param {Node} prevEl\n\t   */\n\t\n\t  move: function move(frag, prevEl) {\n\t    frag.before(prevEl.nextSibling, false);\n\t  },\n\t\n\t  /**\n\t   * Cache a fragment using track-by or the object key.\n\t   *\n\t   * @param {*} value\n\t   * @param {Fragment} frag\n\t   * @param {Number} index\n\t   * @param {String} [key]\n\t   */\n\t\n\t  cacheFrag: function cacheFrag(value, frag, index, key) {\n\t    var trackByKey = this.params.trackBy;\n\t    var cache = this.cache;\n\t    var primitive = !isObject(value);\n\t    var id;\n\t    if (key || trackByKey || primitive) {\n\t      id = trackByKey ? trackByKey === '$index' ? index : value[trackByKey] : key || value;\n\t      if (!cache[id]) {\n\t        cache[id] = frag;\n\t      } else if (trackByKey !== '$index') {\n\t        (\"production\") !== 'production' && this.warnDuplicate(value);\n\t      }\n\t    } else {\n\t      id = this.id;\n\t      if (hasOwn(value, id)) {\n\t        if (value[id] === null) {\n\t          value[id] = frag;\n\t        } else {\n\t          (\"production\") !== 'production' && this.warnDuplicate(value);\n\t        }\n\t      } else {\n\t        def(value, id, frag);\n\t      }\n\t    }\n\t    frag.raw = value;\n\t  },\n\t\n\t  /**\n\t   * Get a cached fragment from the value/index/key\n\t   *\n\t   * @param {*} value\n\t   * @param {Number} index\n\t   * @param {String} key\n\t   * @return {Fragment}\n\t   */\n\t\n\t  getCachedFrag: function getCachedFrag(value, index, key) {\n\t    var trackByKey = this.params.trackBy;\n\t    var primitive = !isObject(value);\n\t    var frag;\n\t    if (key || trackByKey || primitive) {\n\t      var id = trackByKey ? trackByKey === '$index' ? index : value[trackByKey] : key || value;\n\t      frag = this.cache[id];\n\t    } else {\n\t      frag = value[this.id];\n\t    }\n\t    if (frag && (frag.reused || frag.fresh)) {\n\t      (\"production\") !== 'production' && this.warnDuplicate(value);\n\t    }\n\t    return frag;\n\t  },\n\t\n\t  /**\n\t   * Delete a fragment from cache.\n\t   *\n\t   * @param {Fragment} frag\n\t   */\n\t\n\t  deleteCachedFrag: function deleteCachedFrag(frag) {\n\t    var value = frag.raw;\n\t    var trackByKey = this.params.trackBy;\n\t    var scope = frag.scope;\n\t    var index = scope.$index;\n\t    // fix #948: avoid accidentally fall through to\n\t    // a parent repeater which happens to have $key.\n\t    var key = hasOwn(scope, '$key') && scope.$key;\n\t    var primitive = !isObject(value);\n\t    if (trackByKey || key || primitive) {\n\t      var id = trackByKey ? trackByKey === '$index' ? index : value[trackByKey] : key || value;\n\t      this.cache[id] = null;\n\t    } else {\n\t      value[this.id] = null;\n\t      frag.raw = null;\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Get the stagger amount for an insertion/removal.\n\t   *\n\t   * @param {Fragment} frag\n\t   * @param {Number} index\n\t   * @param {Number} total\n\t   * @param {String} type\n\t   */\n\t\n\t  getStagger: function getStagger(frag, index, total, type) {\n\t    type = type + 'Stagger';\n\t    var trans = frag.node.__v_trans;\n\t    var hooks = trans && trans.hooks;\n\t    var hook = hooks && (hooks[type] || hooks.stagger);\n\t    return hook ? hook.call(frag, index, total) : index * parseInt(this.params[type] || this.params.stagger, 10);\n\t  },\n\t\n\t  /**\n\t   * Pre-process the value before piping it through the\n\t   * filters. This is passed to and called by the watcher.\n\t   */\n\t\n\t  _preProcess: function _preProcess(value) {\n\t    // regardless of type, store the un-filtered raw value.\n\t    this.rawValue = value;\n\t    return value;\n\t  },\n\t\n\t  /**\n\t   * Post-process the value after it has been piped through\n\t   * the filters. This is passed to and called by the watcher.\n\t   *\n\t   * It is necessary for this to be called during the\n\t   * wathcer's dependency collection phase because we want\n\t   * the v-for to update when the source Object is mutated.\n\t   */\n\t\n\t  _postProcess: function _postProcess(value) {\n\t    if (isArray(value)) {\n\t      return value;\n\t    } else if (isPlainObject(value)) {\n\t      // convert plain object to array.\n\t      var keys = Object.keys(value);\n\t      var i = keys.length;\n\t      var res = new Array(i);\n\t      var key;\n\t      while (i--) {\n\t        key = keys[i];\n\t        res[i] = {\n\t          $key: key,\n\t          $value: value[key]\n\t        };\n\t      }\n\t      return res;\n\t    } else {\n\t      if (typeof value === 'number') {\n\t        value = range(value);\n\t      }\n\t      return value || [];\n\t    }\n\t  },\n\t\n\t  unbind: function unbind() {\n\t    if (this.descriptor.ref) {\n\t      (this._scope || this.vm).$refs[this.descriptor.ref] = null;\n\t    }\n\t    if (this.frags) {\n\t      var i = this.frags.length;\n\t      var frag;\n\t      while (i--) {\n\t        frag = this.frags[i];\n\t        this.deleteCachedFrag(frag);\n\t        frag.destroy();\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Helper to find the previous element that is a fragment\n\t * anchor. This is necessary because a destroyed frag's\n\t * element could still be lingering in the DOM before its\n\t * leaving transition finishes, but its inserted flag\n\t * should have been set to false so we can skip them.\n\t *\n\t * If this is a block repeat, we want to make sure we only\n\t * return frag that is bound to this v-for. (see #929)\n\t *\n\t * @param {Fragment} frag\n\t * @param {Comment|Text} anchor\n\t * @param {String} id\n\t * @return {Fragment}\n\t */\n\t\n\tfunction findPrevFrag(frag, anchor, id) {\n\t  var el = frag.node.previousSibling;\n\t  /* istanbul ignore if */\n\t  if (!el) return;\n\t  frag = el.__vfrag__;\n\t  while ((!frag || frag.forId !== id || !frag.inserted) && el !== anchor) {\n\t    el = el.previousSibling;\n\t    /* istanbul ignore if */\n\t    if (!el) return;\n\t    frag = el.__vfrag__;\n\t  }\n\t  return frag;\n\t}\n\t\n\t/**\n\t * Find a vm from a fragment.\n\t *\n\t * @param {Fragment} frag\n\t * @return {Vue|undefined}\n\t */\n\t\n\tfunction findVmFromFrag(frag) {\n\t  var node = frag.node;\n\t  // handle multi-node frag\n\t  if (frag.end) {\n\t    while (!node.__vue__ && node !== frag.end && node.nextSibling) {\n\t      node = node.nextSibling;\n\t    }\n\t  }\n\t  return node.__vue__;\n\t}\n\t\n\t/**\n\t * Create a range array from given number.\n\t *\n\t * @param {Number} n\n\t * @return {Array}\n\t */\n\t\n\tfunction range(n) {\n\t  var i = -1;\n\t  var ret = new Array(n);\n\t  while (++i < n) {\n\t    ret[i] = i;\n\t  }\n\t  return ret;\n\t}\n\t\n\tif (false) {\n\t  vFor.warnDuplicate = function (value) {\n\t    warn('Duplicate value found in v-for=\"' + this.descriptor.raw + '\": ' + JSON.stringify(value) + '. Use track-by=\"$index\" if ' + 'you are expecting duplicate values.');\n\t  };\n\t}\n\t\n\tvar html = {\n\t\n\t  bind: function bind() {\n\t    // a comment node means this is a binding for\n\t    // {{{ inline unescaped html }}}\n\t    if (this.el.nodeType === 8) {\n\t      // hold nodes\n\t      this.nodes = [];\n\t      // replace the placeholder with proper anchor\n\t      this.anchor = createAnchor('v-html');\n\t      replace(this.el, this.anchor);\n\t    }\n\t  },\n\t\n\t  update: function update(value) {\n\t    value = _toString(value);\n\t    if (this.nodes) {\n\t      this.swap(value);\n\t    } else {\n\t      this.el.innerHTML = value;\n\t    }\n\t  },\n\t\n\t  swap: function swap(value) {\n\t    // remove old nodes\n\t    var i = this.nodes.length;\n\t    while (i--) {\n\t      remove(this.nodes[i]);\n\t    }\n\t    // convert new value to a fragment\n\t    // do not attempt to retrieve from id selector\n\t    var frag = parseTemplate(value, true, true);\n\t    // save a reference to these nodes so we can remove later\n\t    this.nodes = toArray(frag.childNodes);\n\t    before(frag, this.anchor);\n\t  }\n\t};\n\t\n\tvar text = {\n\t\n\t  bind: function bind() {\n\t    this.attr = this.el.nodeType === 3 ? 'data' : 'textContent';\n\t  },\n\t\n\t  update: function update(value) {\n\t    this.el[this.attr] = _toString(value);\n\t  }\n\t};\n\t\n\t// must export plain object\n\tvar publicDirectives = {\n\t  text: text,\n\t  html: html,\n\t  'for': vFor,\n\t  'if': vIf,\n\t  show: show,\n\t  model: model,\n\t  on: on,\n\t  bind: bind,\n\t  el: el,\n\t  ref: ref,\n\t  cloak: cloak\n\t};\n\t\n\tvar queue$1 = [];\n\tvar queued = false;\n\t\n\t/**\n\t * Push a job into the queue.\n\t *\n\t * @param {Function} job\n\t */\n\t\n\tfunction pushJob(job) {\n\t  queue$1.push(job);\n\t  if (!queued) {\n\t    queued = true;\n\t    nextTick(flush);\n\t  }\n\t}\n\t\n\t/**\n\t * Flush the queue, and do one forced reflow before\n\t * triggering transitions.\n\t */\n\t\n\tfunction flush() {\n\t  // Force layout\n\t  var f = document.documentElement.offsetHeight;\n\t  for (var i = 0; i < queue$1.length; i++) {\n\t    queue$1[i]();\n\t  }\n\t  queue$1 = [];\n\t  queued = false;\n\t  // dummy return, so js linters don't complain about\n\t  // unused variable f\n\t  return f;\n\t}\n\t\n\tvar TYPE_TRANSITION = 1;\n\tvar TYPE_ANIMATION = 2;\n\tvar transDurationProp = transitionProp + 'Duration';\n\tvar animDurationProp = animationProp + 'Duration';\n\t\n\t/**\n\t * A Transition object that encapsulates the state and logic\n\t * of the transition.\n\t *\n\t * @param {Element} el\n\t * @param {String} id\n\t * @param {Object} hooks\n\t * @param {Vue} vm\n\t */\n\tfunction Transition(el, id, hooks, vm) {\n\t  this.id = id;\n\t  this.el = el;\n\t  this.enterClass = id + '-enter';\n\t  this.leaveClass = id + '-leave';\n\t  this.hooks = hooks;\n\t  this.vm = vm;\n\t  // async state\n\t  this.pendingCssEvent = this.pendingCssCb = this.cancel = this.pendingJsCb = this.op = this.cb = null;\n\t  this.justEntered = false;\n\t  this.entered = this.left = false;\n\t  this.typeCache = {};\n\t  // bind\n\t  var self = this;['enterNextTick', 'enterDone', 'leaveNextTick', 'leaveDone'].forEach(function (m) {\n\t    self[m] = bind$1(self[m], self);\n\t  });\n\t}\n\t\n\tvar p$1 = Transition.prototype;\n\t\n\t/**\n\t * Start an entering transition.\n\t *\n\t * 1. enter transition triggered\n\t * 2. call beforeEnter hook\n\t * 3. add enter class\n\t * 4. insert/show element\n\t * 5. call enter hook (with possible explicit js callback)\n\t * 6. reflow\n\t * 7. based on transition type:\n\t *    - transition:\n\t *        remove class now, wait for transitionend,\n\t *        then done if there's no explicit js callback.\n\t *    - animation:\n\t *        wait for animationend, remove class,\n\t *        then done if there's no explicit js callback.\n\t *    - no css transition:\n\t *        done now if there's no explicit js callback.\n\t * 8. wait for either done or js callback, then call\n\t *    afterEnter hook.\n\t *\n\t * @param {Function} op - insert/show the element\n\t * @param {Function} [cb]\n\t */\n\t\n\tp$1.enter = function (op, cb) {\n\t  this.cancelPending();\n\t  this.callHook('beforeEnter');\n\t  this.cb = cb;\n\t  addClass(this.el, this.enterClass);\n\t  op();\n\t  this.entered = false;\n\t  this.callHookWithCb('enter');\n\t  if (this.entered) {\n\t    return; // user called done synchronously.\n\t  }\n\t  this.cancel = this.hooks && this.hooks.enterCancelled;\n\t  pushJob(this.enterNextTick);\n\t};\n\t\n\t/**\n\t * The \"nextTick\" phase of an entering transition, which is\n\t * to be pushed into a queue and executed after a reflow so\n\t * that removing the class can trigger a CSS transition.\n\t */\n\t\n\tp$1.enterNextTick = function () {\n\t\n\t  // Important hack:\n\t  // in Chrome, if a just-entered element is applied the\n\t  // leave class while its interpolated property still has\n\t  // a very small value (within one frame), Chrome will\n\t  // skip the leave transition entirely and not firing the\n\t  // transtionend event. Therefore we need to protected\n\t  // against such cases using a one-frame timeout.\n\t  this.justEntered = true;\n\t  var self = this;\n\t  setTimeout(function () {\n\t    self.justEntered = false;\n\t  }, 17);\n\t\n\t  var enterDone = this.enterDone;\n\t  var type = this.getCssTransitionType(this.enterClass);\n\t  if (!this.pendingJsCb) {\n\t    if (type === TYPE_TRANSITION) {\n\t      // trigger transition by removing enter class now\n\t      removeClass(this.el, this.enterClass);\n\t      this.setupCssCb(transitionEndEvent, enterDone);\n\t    } else if (type === TYPE_ANIMATION) {\n\t      this.setupCssCb(animationEndEvent, enterDone);\n\t    } else {\n\t      enterDone();\n\t    }\n\t  } else if (type === TYPE_TRANSITION) {\n\t    removeClass(this.el, this.enterClass);\n\t  }\n\t};\n\t\n\t/**\n\t * The \"cleanup\" phase of an entering transition.\n\t */\n\t\n\tp$1.enterDone = function () {\n\t  this.entered = true;\n\t  this.cancel = this.pendingJsCb = null;\n\t  removeClass(this.el, this.enterClass);\n\t  this.callHook('afterEnter');\n\t  if (this.cb) this.cb();\n\t};\n\t\n\t/**\n\t * Start a leaving transition.\n\t *\n\t * 1. leave transition triggered.\n\t * 2. call beforeLeave hook\n\t * 3. add leave class (trigger css transition)\n\t * 4. call leave hook (with possible explicit js callback)\n\t * 5. reflow if no explicit js callback is provided\n\t * 6. based on transition type:\n\t *    - transition or animation:\n\t *        wait for end event, remove class, then done if\n\t *        there's no explicit js callback.\n\t *    - no css transition:\n\t *        done if there's no explicit js callback.\n\t * 7. wait for either done or js callback, then call\n\t *    afterLeave hook.\n\t *\n\t * @param {Function} op - remove/hide the element\n\t * @param {Function} [cb]\n\t */\n\t\n\tp$1.leave = function (op, cb) {\n\t  this.cancelPending();\n\t  this.callHook('beforeLeave');\n\t  this.op = op;\n\t  this.cb = cb;\n\t  addClass(this.el, this.leaveClass);\n\t  this.left = false;\n\t  this.callHookWithCb('leave');\n\t  if (this.left) {\n\t    return; // user called done synchronously.\n\t  }\n\t  this.cancel = this.hooks && this.hooks.leaveCancelled;\n\t  // only need to handle leaveDone if\n\t  // 1. the transition is already done (synchronously called\n\t  //    by the user, which causes this.op set to null)\n\t  // 2. there's no explicit js callback\n\t  if (this.op && !this.pendingJsCb) {\n\t    // if a CSS transition leaves immediately after enter,\n\t    // the transitionend event never fires. therefore we\n\t    // detect such cases and end the leave immediately.\n\t    if (this.justEntered) {\n\t      this.leaveDone();\n\t    } else {\n\t      pushJob(this.leaveNextTick);\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * The \"nextTick\" phase of a leaving transition.\n\t */\n\t\n\tp$1.leaveNextTick = function () {\n\t  var type = this.getCssTransitionType(this.leaveClass);\n\t  if (type) {\n\t    var event = type === TYPE_TRANSITION ? transitionEndEvent : animationEndEvent;\n\t    this.setupCssCb(event, this.leaveDone);\n\t  } else {\n\t    this.leaveDone();\n\t  }\n\t};\n\t\n\t/**\n\t * The \"cleanup\" phase of a leaving transition.\n\t */\n\t\n\tp$1.leaveDone = function () {\n\t  this.left = true;\n\t  this.cancel = this.pendingJsCb = null;\n\t  this.op();\n\t  removeClass(this.el, this.leaveClass);\n\t  this.callHook('afterLeave');\n\t  if (this.cb) this.cb();\n\t  this.op = null;\n\t};\n\t\n\t/**\n\t * Cancel any pending callbacks from a previously running\n\t * but not finished transition.\n\t */\n\t\n\tp$1.cancelPending = function () {\n\t  this.op = this.cb = null;\n\t  var hasPending = false;\n\t  if (this.pendingCssCb) {\n\t    hasPending = true;\n\t    off(this.el, this.pendingCssEvent, this.pendingCssCb);\n\t    this.pendingCssEvent = this.pendingCssCb = null;\n\t  }\n\t  if (this.pendingJsCb) {\n\t    hasPending = true;\n\t    this.pendingJsCb.cancel();\n\t    this.pendingJsCb = null;\n\t  }\n\t  if (hasPending) {\n\t    removeClass(this.el, this.enterClass);\n\t    removeClass(this.el, this.leaveClass);\n\t  }\n\t  if (this.cancel) {\n\t    this.cancel.call(this.vm, this.el);\n\t    this.cancel = null;\n\t  }\n\t};\n\t\n\t/**\n\t * Call a user-provided synchronous hook function.\n\t *\n\t * @param {String} type\n\t */\n\t\n\tp$1.callHook = function (type) {\n\t  if (this.hooks && this.hooks[type]) {\n\t    this.hooks[type].call(this.vm, this.el);\n\t  }\n\t};\n\t\n\t/**\n\t * Call a user-provided, potentially-async hook function.\n\t * We check for the length of arguments to see if the hook\n\t * expects a `done` callback. If true, the transition's end\n\t * will be determined by when the user calls that callback;\n\t * otherwise, the end is determined by the CSS transition or\n\t * animation.\n\t *\n\t * @param {String} type\n\t */\n\t\n\tp$1.callHookWithCb = function (type) {\n\t  var hook = this.hooks && this.hooks[type];\n\t  if (hook) {\n\t    if (hook.length > 1) {\n\t      this.pendingJsCb = cancellable(this[type + 'Done']);\n\t    }\n\t    hook.call(this.vm, this.el, this.pendingJsCb);\n\t  }\n\t};\n\t\n\t/**\n\t * Get an element's transition type based on the\n\t * calculated styles.\n\t *\n\t * @param {String} className\n\t * @return {Number}\n\t */\n\t\n\tp$1.getCssTransitionType = function (className) {\n\t  /* istanbul ignore if */\n\t  if (!transitionEndEvent ||\n\t  // skip CSS transitions if page is not visible -\n\t  // this solves the issue of transitionend events not\n\t  // firing until the page is visible again.\n\t  // pageVisibility API is supported in IE10+, same as\n\t  // CSS transitions.\n\t  document.hidden ||\n\t  // explicit js-only transition\n\t  this.hooks && this.hooks.css === false ||\n\t  // element is hidden\n\t  isHidden(this.el)) {\n\t    return;\n\t  }\n\t  var type = this.typeCache[className];\n\t  if (type) return type;\n\t  var inlineStyles = this.el.style;\n\t  var computedStyles = window.getComputedStyle(this.el);\n\t  var transDuration = inlineStyles[transDurationProp] || computedStyles[transDurationProp];\n\t  if (transDuration && transDuration !== '0s') {\n\t    type = TYPE_TRANSITION;\n\t  } else {\n\t    var animDuration = inlineStyles[animDurationProp] || computedStyles[animDurationProp];\n\t    if (animDuration && animDuration !== '0s') {\n\t      type = TYPE_ANIMATION;\n\t    }\n\t  }\n\t  if (type) {\n\t    this.typeCache[className] = type;\n\t  }\n\t  return type;\n\t};\n\t\n\t/**\n\t * Setup a CSS transitionend/animationend callback.\n\t *\n\t * @param {String} event\n\t * @param {Function} cb\n\t */\n\t\n\tp$1.setupCssCb = function (event, cb) {\n\t  this.pendingCssEvent = event;\n\t  var self = this;\n\t  var el = this.el;\n\t  var onEnd = this.pendingCssCb = function (e) {\n\t    if (e.target === el) {\n\t      off(el, event, onEnd);\n\t      self.pendingCssEvent = self.pendingCssCb = null;\n\t      if (!self.pendingJsCb && cb) {\n\t        cb();\n\t      }\n\t    }\n\t  };\n\t  on$1(el, event, onEnd);\n\t};\n\t\n\t/**\n\t * Check if an element is hidden - in that case we can just\n\t * skip the transition alltogether.\n\t *\n\t * @param {Element} el\n\t * @return {Boolean}\n\t */\n\t\n\tfunction isHidden(el) {\n\t  return !(el.offsetWidth || el.offsetHeight || el.getClientRects().length);\n\t}\n\t\n\tvar transition = {\n\t\n\t  priority: 1100,\n\t\n\t  update: function update(id, oldId) {\n\t    var el = this.el;\n\t    // resolve on owner vm\n\t    var hooks = resolveAsset(this.vm.$options, 'transitions', id);\n\t    id = id || 'v';\n\t    // apply on closest vm\n\t    el.__v_trans = new Transition(el, id, hooks, this.el.__vue__ || this.vm);\n\t    if (oldId) {\n\t      removeClass(el, oldId + '-transition');\n\t    }\n\t    addClass(el, id + '-transition');\n\t  }\n\t};\n\t\n\tvar bindingModes = config._propBindingModes;\n\t\n\tvar propDef = {\n\t\n\t  bind: function bind() {\n\t\n\t    var child = this.vm;\n\t    var parent = child._context;\n\t    // passed in from compiler directly\n\t    var prop = this.descriptor.prop;\n\t    var childKey = prop.path;\n\t    var parentKey = prop.parentPath;\n\t    var twoWay = prop.mode === bindingModes.TWO_WAY;\n\t\n\t    var parentWatcher = this.parentWatcher = new Watcher(parent, parentKey, function (val) {\n\t      if (assertProp(prop, val)) {\n\t        child[childKey] = val;\n\t      }\n\t    }, {\n\t      twoWay: twoWay,\n\t      filters: prop.filters,\n\t      // important: props need to be observed on the\n\t      // v-for scope if present\n\t      scope: this._scope\n\t    });\n\t\n\t    // set the child initial value.\n\t    initProp(child, prop, parentWatcher.value);\n\t\n\t    // setup two-way binding\n\t    if (twoWay) {\n\t      // important: defer the child watcher creation until\n\t      // the created hook (after data observation)\n\t      var self = this;\n\t      child.$once('hook:created', function () {\n\t        self.childWatcher = new Watcher(child, childKey, function (val) {\n\t          parentWatcher.set(val);\n\t        }, {\n\t          // ensure sync upward before parent sync down.\n\t          // this is necessary in cases e.g. the child\n\t          // mutates a prop array, then replaces it. (#1683)\n\t          sync: true\n\t        });\n\t      });\n\t    }\n\t  },\n\t\n\t  unbind: function unbind() {\n\t    this.parentWatcher.teardown();\n\t    if (this.childWatcher) {\n\t      this.childWatcher.teardown();\n\t    }\n\t  }\n\t};\n\t\n\tvar component = {\n\t\n\t  priority: 1500,\n\t\n\t  params: ['keep-alive', 'transition-mode', 'inline-template'],\n\t\n\t  /**\n\t   * Setup. Two possible usages:\n\t   *\n\t   * - static:\n\t   *   <comp> or <div v-component=\"comp\">\n\t   *\n\t   * - dynamic:\n\t   *   <component :is=\"view\">\n\t   */\n\t\n\t  bind: function bind() {\n\t    if (!this.el.__vue__) {\n\t      // keep-alive cache\n\t      this.keepAlive = this.params.keepAlive;\n\t      if (this.keepAlive) {\n\t        this.cache = {};\n\t      }\n\t      // check inline-template\n\t      if (this.params.inlineTemplate) {\n\t        // extract inline template as a DocumentFragment\n\t        this.inlineTemplate = extractContent(this.el, true);\n\t      }\n\t      // component resolution related state\n\t      this.pendingComponentCb = this.Component = null;\n\t      // transition related state\n\t      this.pendingRemovals = 0;\n\t      this.pendingRemovalCb = null;\n\t      // create a ref anchor\n\t      this.anchor = createAnchor('v-component');\n\t      replace(this.el, this.anchor);\n\t      // remove is attribute.\n\t      // this is removed during compilation, but because compilation is\n\t      // cached, when the component is used elsewhere this attribute\n\t      // will remain at link time.\n\t      this.el.removeAttribute('is');\n\t      // remove ref, same as above\n\t      if (this.descriptor.ref) {\n\t        this.el.removeAttribute('v-ref:' + hyphenate(this.descriptor.ref));\n\t      }\n\t      // if static, build right now.\n\t      if (this.literal) {\n\t        this.setComponent(this.expression);\n\t      }\n\t    } else {\n\t      (\"production\") !== 'production' && warn('cannot mount component \"' + this.expression + '\" ' + 'on already mounted element: ' + this.el);\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Public update, called by the watcher in the dynamic\n\t   * literal scenario, e.g. <component :is=\"view\">\n\t   */\n\t\n\t  update: function update(value) {\n\t    if (!this.literal) {\n\t      this.setComponent(value);\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Switch dynamic components. May resolve the component\n\t   * asynchronously, and perform transition based on\n\t   * specified transition mode. Accepts a few additional\n\t   * arguments specifically for vue-router.\n\t   *\n\t   * The callback is called when the full transition is\n\t   * finished.\n\t   *\n\t   * @param {String} value\n\t   * @param {Function} [cb]\n\t   */\n\t\n\t  setComponent: function setComponent(value, cb) {\n\t    this.invalidatePending();\n\t    if (!value) {\n\t      // just remove current\n\t      this.unbuild(true);\n\t      this.remove(this.childVM, cb);\n\t      this.childVM = null;\n\t    } else {\n\t      var self = this;\n\t      this.resolveComponent(value, function () {\n\t        self.mountComponent(cb);\n\t      });\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Resolve the component constructor to use when creating\n\t   * the child vm.\n\t   */\n\t\n\t  resolveComponent: function resolveComponent(id, cb) {\n\t    var self = this;\n\t    this.pendingComponentCb = cancellable(function (Component) {\n\t      self.ComponentName = Component.options.name || id;\n\t      self.Component = Component;\n\t      cb();\n\t    });\n\t    this.vm._resolveComponent(id, this.pendingComponentCb);\n\t  },\n\t\n\t  /**\n\t   * Create a new instance using the current constructor and\n\t   * replace the existing instance. This method doesn't care\n\t   * whether the new component and the old one are actually\n\t   * the same.\n\t   *\n\t   * @param {Function} [cb]\n\t   */\n\t\n\t  mountComponent: function mountComponent(cb) {\n\t    // actual mount\n\t    this.unbuild(true);\n\t    var self = this;\n\t    var activateHook = this.Component.options.activate;\n\t    var cached = this.getCached();\n\t    var newComponent = this.build();\n\t    if (activateHook && !cached) {\n\t      this.waitingFor = newComponent;\n\t      activateHook.call(newComponent, function () {\n\t        if (self.waitingFor !== newComponent) {\n\t          return;\n\t        }\n\t        self.waitingFor = null;\n\t        self.transition(newComponent, cb);\n\t      });\n\t    } else {\n\t      // update ref for kept-alive component\n\t      if (cached) {\n\t        newComponent._updateRef();\n\t      }\n\t      this.transition(newComponent, cb);\n\t    }\n\t  },\n\t\n\t  /**\n\t   * When the component changes or unbinds before an async\n\t   * constructor is resolved, we need to invalidate its\n\t   * pending callback.\n\t   */\n\t\n\t  invalidatePending: function invalidatePending() {\n\t    if (this.pendingComponentCb) {\n\t      this.pendingComponentCb.cancel();\n\t      this.pendingComponentCb = null;\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Instantiate/insert a new child vm.\n\t   * If keep alive and has cached instance, insert that\n\t   * instance; otherwise build a new one and cache it.\n\t   *\n\t   * @param {Object} [extraOptions]\n\t   * @return {Vue} - the created instance\n\t   */\n\t\n\t  build: function build(extraOptions) {\n\t    var cached = this.getCached();\n\t    if (cached) {\n\t      return cached;\n\t    }\n\t    if (this.Component) {\n\t      // default options\n\t      var options = {\n\t        name: this.ComponentName,\n\t        el: cloneNode(this.el),\n\t        template: this.inlineTemplate,\n\t        // make sure to add the child with correct parent\n\t        // if this is a transcluded component, its parent\n\t        // should be the transclusion host.\n\t        parent: this._host || this.vm,\n\t        // if no inline-template, then the compiled\n\t        // linker can be cached for better performance.\n\t        _linkerCachable: !this.inlineTemplate,\n\t        _ref: this.descriptor.ref,\n\t        _asComponent: true,\n\t        _isRouterView: this._isRouterView,\n\t        // if this is a transcluded component, context\n\t        // will be the common parent vm of this instance\n\t        // and its host.\n\t        _context: this.vm,\n\t        // if this is inside an inline v-for, the scope\n\t        // will be the intermediate scope created for this\n\t        // repeat fragment. this is used for linking props\n\t        // and container directives.\n\t        _scope: this._scope,\n\t        // pass in the owner fragment of this component.\n\t        // this is necessary so that the fragment can keep\n\t        // track of its contained components in order to\n\t        // call attach/detach hooks for them.\n\t        _frag: this._frag\n\t      };\n\t      // extra options\n\t      // in 1.0.0 this is used by vue-router only\n\t      /* istanbul ignore if */\n\t      if (extraOptions) {\n\t        extend(options, extraOptions);\n\t      }\n\t      var child = new this.Component(options);\n\t      if (this.keepAlive) {\n\t        this.cache[this.Component.cid] = child;\n\t      }\n\t      /* istanbul ignore if */\n\t      if (false) {\n\t        warn('Transitions will not work on a fragment instance. ' + 'Template: ' + child.$options.template);\n\t      }\n\t      return child;\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Try to get a cached instance of the current component.\n\t   *\n\t   * @return {Vue|undefined}\n\t   */\n\t\n\t  getCached: function getCached() {\n\t    return this.keepAlive && this.cache[this.Component.cid];\n\t  },\n\t\n\t  /**\n\t   * Teardown the current child, but defers cleanup so\n\t   * that we can separate the destroy and removal steps.\n\t   *\n\t   * @param {Boolean} defer\n\t   */\n\t\n\t  unbuild: function unbuild(defer) {\n\t    if (this.waitingFor) {\n\t      this.waitingFor.$destroy();\n\t      this.waitingFor = null;\n\t    }\n\t    var child = this.childVM;\n\t    if (!child || this.keepAlive) {\n\t      if (child) {\n\t        // remove ref\n\t        child._updateRef(true);\n\t      }\n\t      return;\n\t    }\n\t    // the sole purpose of `deferCleanup` is so that we can\n\t    // \"deactivate\" the vm right now and perform DOM removal\n\t    // later.\n\t    child.$destroy(false, defer);\n\t  },\n\t\n\t  /**\n\t   * Remove current destroyed child and manually do\n\t   * the cleanup after removal.\n\t   *\n\t   * @param {Function} cb\n\t   */\n\t\n\t  remove: function remove(child, cb) {\n\t    var keepAlive = this.keepAlive;\n\t    if (child) {\n\t      // we may have a component switch when a previous\n\t      // component is still being transitioned out.\n\t      // we want to trigger only one lastest insertion cb\n\t      // when the existing transition finishes. (#1119)\n\t      this.pendingRemovals++;\n\t      this.pendingRemovalCb = cb;\n\t      var self = this;\n\t      child.$remove(function () {\n\t        self.pendingRemovals--;\n\t        if (!keepAlive) child._cleanup();\n\t        if (!self.pendingRemovals && self.pendingRemovalCb) {\n\t          self.pendingRemovalCb();\n\t          self.pendingRemovalCb = null;\n\t        }\n\t      });\n\t    } else if (cb) {\n\t      cb();\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Actually swap the components, depending on the\n\t   * transition mode. Defaults to simultaneous.\n\t   *\n\t   * @param {Vue} target\n\t   * @param {Function} [cb]\n\t   */\n\t\n\t  transition: function transition(target, cb) {\n\t    var self = this;\n\t    var current = this.childVM;\n\t    // for devtool inspection\n\t    if (false) {\n\t      if (current) current._inactive = true;\n\t      target._inactive = false;\n\t    }\n\t    this.childVM = target;\n\t    switch (self.params.transitionMode) {\n\t      case 'in-out':\n\t        target.$before(self.anchor, function () {\n\t          self.remove(current, cb);\n\t        });\n\t        break;\n\t      case 'out-in':\n\t        self.remove(current, function () {\n\t          target.$before(self.anchor, cb);\n\t        });\n\t        break;\n\t      default:\n\t        self.remove(current);\n\t        target.$before(self.anchor, cb);\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Unbind.\n\t   */\n\t\n\t  unbind: function unbind() {\n\t    this.invalidatePending();\n\t    // Do not defer cleanup when unbinding\n\t    this.unbuild();\n\t    // destroy all keep-alive cached instances\n\t    if (this.cache) {\n\t      for (var key in this.cache) {\n\t        this.cache[key].$destroy();\n\t      }\n\t      this.cache = null;\n\t    }\n\t  }\n\t};\n\t\n\tvar vClass = {\n\t\n\t  deep: true,\n\t\n\t  update: function update(value) {\n\t    if (value && typeof value === 'string') {\n\t      this.handleObject(stringToObject(value));\n\t    } else if (isPlainObject(value)) {\n\t      this.handleObject(value);\n\t    } else if (isArray(value)) {\n\t      this.handleArray(value);\n\t    } else {\n\t      this.cleanup();\n\t    }\n\t  },\n\t\n\t  handleObject: function handleObject(value) {\n\t    this.cleanup(value);\n\t    var keys = this.prevKeys = Object.keys(value);\n\t    for (var i = 0, l = keys.length; i < l; i++) {\n\t      var key = keys[i];\n\t      if (value[key]) {\n\t        addClass(this.el, key);\n\t      } else {\n\t        removeClass(this.el, key);\n\t      }\n\t    }\n\t  },\n\t\n\t  handleArray: function handleArray(value) {\n\t    this.cleanup(value);\n\t    for (var i = 0, l = value.length; i < l; i++) {\n\t      if (value[i]) {\n\t        addClass(this.el, value[i]);\n\t      }\n\t    }\n\t    this.prevKeys = value.slice();\n\t  },\n\t\n\t  cleanup: function cleanup(value) {\n\t    if (this.prevKeys) {\n\t      var i = this.prevKeys.length;\n\t      while (i--) {\n\t        var key = this.prevKeys[i];\n\t        if (key && (!value || !contains$1(value, key))) {\n\t          removeClass(this.el, key);\n\t        }\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\tfunction stringToObject(value) {\n\t  var res = {};\n\t  var keys = value.trim().split(/\\s+/);\n\t  var i = keys.length;\n\t  while (i--) {\n\t    res[keys[i]] = true;\n\t  }\n\t  return res;\n\t}\n\t\n\tfunction contains$1(value, key) {\n\t  return isArray(value) ? value.indexOf(key) > -1 : hasOwn(value, key);\n\t}\n\t\n\tvar internalDirectives = {\n\t  style: style,\n\t  'class': vClass,\n\t  component: component,\n\t  prop: propDef,\n\t  transition: transition\n\t};\n\t\n\tvar propBindingModes = config._propBindingModes;\n\tvar empty = {};\n\t\n\t// regexes\n\tvar identRE$1 = /^[$_a-zA-Z]+[\\w$]*$/;\n\tvar settablePathRE = /^[A-Za-z_$][\\w$]*(\\.[A-Za-z_$][\\w$]*|\\[[^\\[\\]]+\\])*$/;\n\t\n\t/**\n\t * Compile props on a root element and return\n\t * a props link function.\n\t *\n\t * @param {Element|DocumentFragment} el\n\t * @param {Array} propOptions\n\t * @return {Function} propsLinkFn\n\t */\n\t\n\tfunction compileProps(el, propOptions) {\n\t  var props = [];\n\t  var names = Object.keys(propOptions);\n\t  var i = names.length;\n\t  var options, name, attr, value, path, parsed, prop;\n\t  while (i--) {\n\t    name = names[i];\n\t    options = propOptions[name] || empty;\n\t\n\t    if (false) {\n\t      warn('Do not use $data as prop.');\n\t      continue;\n\t    }\n\t\n\t    // props could contain dashes, which will be\n\t    // interpreted as minus calculations by the parser\n\t    // so we need to camelize the path here\n\t    path = camelize(name);\n\t    if (!identRE$1.test(path)) {\n\t      (\"production\") !== 'production' && warn('Invalid prop key: \"' + name + '\". Prop keys ' + 'must be valid identifiers.');\n\t      continue;\n\t    }\n\t\n\t    prop = {\n\t      name: name,\n\t      path: path,\n\t      options: options,\n\t      mode: propBindingModes.ONE_WAY,\n\t      raw: null\n\t    };\n\t\n\t    attr = hyphenate(name);\n\t    // first check dynamic version\n\t    if ((value = getBindAttr(el, attr)) === null) {\n\t      if ((value = getBindAttr(el, attr + '.sync')) !== null) {\n\t        prop.mode = propBindingModes.TWO_WAY;\n\t      } else if ((value = getBindAttr(el, attr + '.once')) !== null) {\n\t        prop.mode = propBindingModes.ONE_TIME;\n\t      }\n\t    }\n\t    if (value !== null) {\n\t      // has dynamic binding!\n\t      prop.raw = value;\n\t      parsed = parseDirective(value);\n\t      value = parsed.expression;\n\t      prop.filters = parsed.filters;\n\t      // check binding type\n\t      if (isLiteral(value)) {\n\t        // for expressions containing literal numbers and\n\t        // booleans, there's no need to setup a prop binding,\n\t        // so we can optimize them as a one-time set.\n\t        prop.optimizedLiteral = true;\n\t      } else {\n\t        prop.dynamic = true;\n\t        // check non-settable path for two-way bindings\n\t        if (false) {\n\t          prop.mode = propBindingModes.ONE_WAY;\n\t          warn('Cannot bind two-way prop with non-settable ' + 'parent path: ' + value);\n\t        }\n\t      }\n\t      prop.parentPath = value;\n\t\n\t      // warn required two-way\n\t      if (false) {\n\t        warn('Prop \"' + name + '\" expects a two-way binding type.');\n\t      }\n\t    } else if ((value = getAttr(el, attr)) !== null) {\n\t      // has literal binding!\n\t      prop.raw = value;\n\t    } else if (options.required) {\n\t      // warn missing required\n\t      (\"production\") !== 'production' && warn('Missing required prop: ' + name);\n\t    }\n\t    // push prop\n\t    props.push(prop);\n\t  }\n\t  return makePropsLinkFn(props);\n\t}\n\t\n\t/**\n\t * Build a function that applies props to a vm.\n\t *\n\t * @param {Array} props\n\t * @return {Function} propsLinkFn\n\t */\n\t\n\tfunction makePropsLinkFn(props) {\n\t  return function propsLinkFn(vm, scope) {\n\t    // store resolved props info\n\t    vm._props = {};\n\t    var i = props.length;\n\t    var prop, path, options, value, raw;\n\t    while (i--) {\n\t      prop = props[i];\n\t      raw = prop.raw;\n\t      path = prop.path;\n\t      options = prop.options;\n\t      vm._props[path] = prop;\n\t      if (raw === null) {\n\t        // initialize absent prop\n\t        initProp(vm, prop, getDefault(vm, options));\n\t      } else if (prop.dynamic) {\n\t        // dynamic prop\n\t        if (vm._context) {\n\t          if (prop.mode === propBindingModes.ONE_TIME) {\n\t            // one time binding\n\t            value = (scope || vm._context).$get(prop.parentPath);\n\t            initProp(vm, prop, value);\n\t          } else {\n\t            // dynamic binding\n\t            vm._bindDir({\n\t              name: 'prop',\n\t              def: propDef,\n\t              prop: prop\n\t            }, null, null, scope); // el, host, scope\n\t          }\n\t        } else {\n\t            (\"production\") !== 'production' && warn('Cannot bind dynamic prop on a root instance' + ' with no parent: ' + prop.name + '=\"' + raw + '\"');\n\t          }\n\t      } else if (prop.optimizedLiteral) {\n\t        // optimized literal, cast it and just set once\n\t        var stripped = stripQuotes(raw);\n\t        value = stripped === raw ? toBoolean(toNumber(raw)) : stripped;\n\t        initProp(vm, prop, value);\n\t      } else {\n\t        // string literal, but we need to cater for\n\t        // Boolean props with no value\n\t        value = options.type === Boolean && raw === '' ? true : raw;\n\t        initProp(vm, prop, value);\n\t      }\n\t    }\n\t  };\n\t}\n\t\n\t/**\n\t * Get the default value of a prop.\n\t *\n\t * @param {Vue} vm\n\t * @param {Object} options\n\t * @return {*}\n\t */\n\t\n\tfunction getDefault(vm, options) {\n\t  // no default, return undefined\n\t  if (!hasOwn(options, 'default')) {\n\t    // absent boolean value defaults to false\n\t    return options.type === Boolean ? false : undefined;\n\t  }\n\t  var def = options['default'];\n\t  // warn against non-factory defaults for Object & Array\n\t  if (isObject(def)) {\n\t    (\"production\") !== 'production' && warn('Object/Array as default prop values will be shared ' + 'across multiple instances. Use a factory function ' + 'to return the default value instead.');\n\t  }\n\t  // call factory function for non-Function types\n\t  return typeof def === 'function' && options.type !== Function ? def.call(vm) : def;\n\t}\n\t\n\t// special binding prefixes\n\tvar bindRE = /^v-bind:|^:/;\n\tvar onRE = /^v-on:|^@/;\n\tvar argRE = /:(.*)$/;\n\tvar modifierRE = /\\.[^\\.]+/g;\n\tvar transitionRE = /^(v-bind:|:)?transition$/;\n\t\n\t// terminal directives\n\tvar terminalDirectives = ['for', 'if'];\n\t\n\t// default directive priority\n\tvar DEFAULT_PRIORITY = 1000;\n\t\n\t/**\n\t * Compile a template and return a reusable composite link\n\t * function, which recursively contains more link functions\n\t * inside. This top level compile function would normally\n\t * be called on instance root nodes, but can also be used\n\t * for partial compilation if the partial argument is true.\n\t *\n\t * The returned composite link function, when called, will\n\t * return an unlink function that tearsdown all directives\n\t * created during the linking phase.\n\t *\n\t * @param {Element|DocumentFragment} el\n\t * @param {Object} options\n\t * @param {Boolean} partial\n\t * @return {Function}\n\t */\n\t\n\tfunction compile(el, options, partial) {\n\t  // link function for the node itself.\n\t  var nodeLinkFn = partial || !options._asComponent ? compileNode(el, options) : null;\n\t  // link function for the childNodes\n\t  var childLinkFn = !(nodeLinkFn && nodeLinkFn.terminal) && el.tagName !== 'SCRIPT' && el.hasChildNodes() ? compileNodeList(el.childNodes, options) : null;\n\t\n\t  /**\n\t   * A composite linker function to be called on a already\n\t   * compiled piece of DOM, which instantiates all directive\n\t   * instances.\n\t   *\n\t   * @param {Vue} vm\n\t   * @param {Element|DocumentFragment} el\n\t   * @param {Vue} [host] - host vm of transcluded content\n\t   * @param {Object} [scope] - v-for scope\n\t   * @param {Fragment} [frag] - link context fragment\n\t   * @return {Function|undefined}\n\t   */\n\t\n\t  return function compositeLinkFn(vm, el, host, scope, frag) {\n\t    // cache childNodes before linking parent, fix #657\n\t    var childNodes = toArray(el.childNodes);\n\t    // link\n\t    var dirs = linkAndCapture(function compositeLinkCapturer() {\n\t      if (nodeLinkFn) nodeLinkFn(vm, el, host, scope, frag);\n\t      if (childLinkFn) childLinkFn(vm, childNodes, host, scope, frag);\n\t    }, vm);\n\t    return makeUnlinkFn(vm, dirs);\n\t  };\n\t}\n\t\n\t/**\n\t * Apply a linker to a vm/element pair and capture the\n\t * directives created during the process.\n\t *\n\t * @param {Function} linker\n\t * @param {Vue} vm\n\t */\n\t\n\tfunction linkAndCapture(linker, vm) {\n\t  var originalDirCount = vm._directives.length;\n\t  linker();\n\t  var dirs = vm._directives.slice(originalDirCount);\n\t  dirs.sort(directiveComparator);\n\t  for (var i = 0, l = dirs.length; i < l; i++) {\n\t    dirs[i]._bind();\n\t  }\n\t  return dirs;\n\t}\n\t\n\t/**\n\t * Directive priority sort comparator\n\t *\n\t * @param {Object} a\n\t * @param {Object} b\n\t */\n\t\n\tfunction directiveComparator(a, b) {\n\t  a = a.descriptor.def.priority || DEFAULT_PRIORITY;\n\t  b = b.descriptor.def.priority || DEFAULT_PRIORITY;\n\t  return a > b ? -1 : a === b ? 0 : 1;\n\t}\n\t\n\t/**\n\t * Linker functions return an unlink function that\n\t * tearsdown all directives instances generated during\n\t * the process.\n\t *\n\t * We create unlink functions with only the necessary\n\t * information to avoid retaining additional closures.\n\t *\n\t * @param {Vue} vm\n\t * @param {Array} dirs\n\t * @param {Vue} [context]\n\t * @param {Array} [contextDirs]\n\t * @return {Function}\n\t */\n\t\n\tfunction makeUnlinkFn(vm, dirs, context, contextDirs) {\n\t  return function unlink(destroying) {\n\t    teardownDirs(vm, dirs, destroying);\n\t    if (context && contextDirs) {\n\t      teardownDirs(context, contextDirs);\n\t    }\n\t  };\n\t}\n\t\n\t/**\n\t * Teardown partial linked directives.\n\t *\n\t * @param {Vue} vm\n\t * @param {Array} dirs\n\t * @param {Boolean} destroying\n\t */\n\t\n\tfunction teardownDirs(vm, dirs, destroying) {\n\t  var i = dirs.length;\n\t  while (i--) {\n\t    dirs[i]._teardown();\n\t    if (!destroying) {\n\t      vm._directives.$remove(dirs[i]);\n\t    }\n\t  }\n\t}\n\t\n\t/**\n\t * Compile link props on an instance.\n\t *\n\t * @param {Vue} vm\n\t * @param {Element} el\n\t * @param {Object} props\n\t * @param {Object} [scope]\n\t * @return {Function}\n\t */\n\t\n\tfunction compileAndLinkProps(vm, el, props, scope) {\n\t  var propsLinkFn = compileProps(el, props);\n\t  var propDirs = linkAndCapture(function () {\n\t    propsLinkFn(vm, scope);\n\t  }, vm);\n\t  return makeUnlinkFn(vm, propDirs);\n\t}\n\t\n\t/**\n\t * Compile the root element of an instance.\n\t *\n\t * 1. attrs on context container (context scope)\n\t * 2. attrs on the component template root node, if\n\t *    replace:true (child scope)\n\t *\n\t * If this is a fragment instance, we only need to compile 1.\n\t *\n\t * @param {Vue} vm\n\t * @param {Element} el\n\t * @param {Object} options\n\t * @param {Object} contextOptions\n\t * @return {Function}\n\t */\n\t\n\tfunction compileRoot(el, options, contextOptions) {\n\t  var containerAttrs = options._containerAttrs;\n\t  var replacerAttrs = options._replacerAttrs;\n\t  var contextLinkFn, replacerLinkFn;\n\t\n\t  // only need to compile other attributes for\n\t  // non-fragment instances\n\t  if (el.nodeType !== 11) {\n\t    // for components, container and replacer need to be\n\t    // compiled separately and linked in different scopes.\n\t    if (options._asComponent) {\n\t      // 2. container attributes\n\t      if (containerAttrs && contextOptions) {\n\t        contextLinkFn = compileDirectives(containerAttrs, contextOptions);\n\t      }\n\t      if (replacerAttrs) {\n\t        // 3. replacer attributes\n\t        replacerLinkFn = compileDirectives(replacerAttrs, options);\n\t      }\n\t    } else {\n\t      // non-component, just compile as a normal element.\n\t      replacerLinkFn = compileDirectives(el.attributes, options);\n\t    }\n\t  } else if (false) {\n\t    // warn container directives for fragment instances\n\t    var names = containerAttrs.filter(function (attr) {\n\t      // allow vue-loader/vueify scoped css attributes\n\t      return attr.name.indexOf('_v-') < 0 &&\n\t      // allow event listeners\n\t      !onRE.test(attr.name) &&\n\t      // allow slots\n\t      attr.name !== 'slot';\n\t    }).map(function (attr) {\n\t      return '\"' + attr.name + '\"';\n\t    });\n\t    if (names.length) {\n\t      var plural = names.length > 1;\n\t      warn('Attribute' + (plural ? 's ' : ' ') + names.join(', ') + (plural ? ' are' : ' is') + ' ignored on component ' + '<' + options.el.tagName.toLowerCase() + '> because ' + 'the component is a fragment instance: ' + 'http://vuejs.org/guide/components.html#Fragment_Instance');\n\t    }\n\t  }\n\t\n\t  return function rootLinkFn(vm, el, scope) {\n\t    // link context scope dirs\n\t    var context = vm._context;\n\t    var contextDirs;\n\t    if (context && contextLinkFn) {\n\t      contextDirs = linkAndCapture(function () {\n\t        contextLinkFn(context, el, null, scope);\n\t      }, context);\n\t    }\n\t\n\t    // link self\n\t    var selfDirs = linkAndCapture(function () {\n\t      if (replacerLinkFn) replacerLinkFn(vm, el);\n\t    }, vm);\n\t\n\t    // return the unlink function that tearsdown context\n\t    // container directives.\n\t    return makeUnlinkFn(vm, selfDirs, context, contextDirs);\n\t  };\n\t}\n\t\n\t/**\n\t * Compile a node and return a nodeLinkFn based on the\n\t * node type.\n\t *\n\t * @param {Node} node\n\t * @param {Object} options\n\t * @return {Function|null}\n\t */\n\t\n\tfunction compileNode(node, options) {\n\t  var type = node.nodeType;\n\t  if (type === 1 && node.tagName !== 'SCRIPT') {\n\t    return compileElement(node, options);\n\t  } else if (type === 3 && node.data.trim()) {\n\t    return compileTextNode(node, options);\n\t  } else {\n\t    return null;\n\t  }\n\t}\n\t\n\t/**\n\t * Compile an element and return a nodeLinkFn.\n\t *\n\t * @param {Element} el\n\t * @param {Object} options\n\t * @return {Function|null}\n\t */\n\t\n\tfunction compileElement(el, options) {\n\t  // preprocess textareas.\n\t  // textarea treats its text content as the initial value.\n\t  // just bind it as an attr directive for value.\n\t  if (el.tagName === 'TEXTAREA') {\n\t    var tokens = parseText(el.value);\n\t    if (tokens) {\n\t      el.setAttribute(':value', tokensToExp(tokens));\n\t      el.value = '';\n\t    }\n\t  }\n\t  var linkFn;\n\t  var hasAttrs = el.hasAttributes();\n\t  // check terminal directives (for & if)\n\t  if (hasAttrs) {\n\t    linkFn = checkTerminalDirectives(el, options);\n\t  }\n\t  // check element directives\n\t  if (!linkFn) {\n\t    linkFn = checkElementDirectives(el, options);\n\t  }\n\t  // check component\n\t  if (!linkFn) {\n\t    linkFn = checkComponent(el, options);\n\t  }\n\t  // normal directives\n\t  if (!linkFn && hasAttrs) {\n\t    linkFn = compileDirectives(el.attributes, options);\n\t  }\n\t  return linkFn;\n\t}\n\t\n\t/**\n\t * Compile a textNode and return a nodeLinkFn.\n\t *\n\t * @param {TextNode} node\n\t * @param {Object} options\n\t * @return {Function|null} textNodeLinkFn\n\t */\n\t\n\tfunction compileTextNode(node, options) {\n\t  // skip marked text nodes\n\t  if (node._skip) {\n\t    return removeText;\n\t  }\n\t\n\t  var tokens = parseText(node.wholeText);\n\t  if (!tokens) {\n\t    return null;\n\t  }\n\t\n\t  // mark adjacent text nodes as skipped,\n\t  // because we are using node.wholeText to compile\n\t  // all adjacent text nodes together. This fixes\n\t  // issues in IE where sometimes it splits up a single\n\t  // text node into multiple ones.\n\t  var next = node.nextSibling;\n\t  while (next && next.nodeType === 3) {\n\t    next._skip = true;\n\t    next = next.nextSibling;\n\t  }\n\t\n\t  var frag = document.createDocumentFragment();\n\t  var el, token;\n\t  for (var i = 0, l = tokens.length; i < l; i++) {\n\t    token = tokens[i];\n\t    el = token.tag ? processTextToken(token, options) : document.createTextNode(token.value);\n\t    frag.appendChild(el);\n\t  }\n\t  return makeTextNodeLinkFn(tokens, frag, options);\n\t}\n\t\n\t/**\n\t * Linker for an skipped text node.\n\t *\n\t * @param {Vue} vm\n\t * @param {Text} node\n\t */\n\t\n\tfunction removeText(vm, node) {\n\t  remove(node);\n\t}\n\t\n\t/**\n\t * Process a single text token.\n\t *\n\t * @param {Object} token\n\t * @param {Object} options\n\t * @return {Node}\n\t */\n\t\n\tfunction processTextToken(token, options) {\n\t  var el;\n\t  if (token.oneTime) {\n\t    el = document.createTextNode(token.value);\n\t  } else {\n\t    if (token.html) {\n\t      el = document.createComment('v-html');\n\t      setTokenType('html');\n\t    } else {\n\t      // IE will clean up empty textNodes during\n\t      // frag.cloneNode(true), so we have to give it\n\t      // something here...\n\t      el = document.createTextNode(' ');\n\t      setTokenType('text');\n\t    }\n\t  }\n\t  function setTokenType(type) {\n\t    if (token.descriptor) return;\n\t    var parsed = parseDirective(token.value);\n\t    token.descriptor = {\n\t      name: type,\n\t      def: publicDirectives[type],\n\t      expression: parsed.expression,\n\t      filters: parsed.filters\n\t    };\n\t  }\n\t  return el;\n\t}\n\t\n\t/**\n\t * Build a function that processes a textNode.\n\t *\n\t * @param {Array<Object>} tokens\n\t * @param {DocumentFragment} frag\n\t */\n\t\n\tfunction makeTextNodeLinkFn(tokens, frag) {\n\t  return function textNodeLinkFn(vm, el, host, scope) {\n\t    var fragClone = frag.cloneNode(true);\n\t    var childNodes = toArray(fragClone.childNodes);\n\t    var token, value, node;\n\t    for (var i = 0, l = tokens.length; i < l; i++) {\n\t      token = tokens[i];\n\t      value = token.value;\n\t      if (token.tag) {\n\t        node = childNodes[i];\n\t        if (token.oneTime) {\n\t          value = (scope || vm).$eval(value);\n\t          if (token.html) {\n\t            replace(node, parseTemplate(value, true));\n\t          } else {\n\t            node.data = value;\n\t          }\n\t        } else {\n\t          vm._bindDir(token.descriptor, node, host, scope);\n\t        }\n\t      }\n\t    }\n\t    replace(el, fragClone);\n\t  };\n\t}\n\t\n\t/**\n\t * Compile a node list and return a childLinkFn.\n\t *\n\t * @param {NodeList} nodeList\n\t * @param {Object} options\n\t * @return {Function|undefined}\n\t */\n\t\n\tfunction compileNodeList(nodeList, options) {\n\t  var linkFns = [];\n\t  var nodeLinkFn, childLinkFn, node;\n\t  for (var i = 0, l = nodeList.length; i < l; i++) {\n\t    node = nodeList[i];\n\t    nodeLinkFn = compileNode(node, options);\n\t    childLinkFn = !(nodeLinkFn && nodeLinkFn.terminal) && node.tagName !== 'SCRIPT' && node.hasChildNodes() ? compileNodeList(node.childNodes, options) : null;\n\t    linkFns.push(nodeLinkFn, childLinkFn);\n\t  }\n\t  return linkFns.length ? makeChildLinkFn(linkFns) : null;\n\t}\n\t\n\t/**\n\t * Make a child link function for a node's childNodes.\n\t *\n\t * @param {Array<Function>} linkFns\n\t * @return {Function} childLinkFn\n\t */\n\t\n\tfunction makeChildLinkFn(linkFns) {\n\t  return function childLinkFn(vm, nodes, host, scope, frag) {\n\t    var node, nodeLinkFn, childrenLinkFn;\n\t    for (var i = 0, n = 0, l = linkFns.length; i < l; n++) {\n\t      node = nodes[n];\n\t      nodeLinkFn = linkFns[i++];\n\t      childrenLinkFn = linkFns[i++];\n\t      // cache childNodes before linking parent, fix #657\n\t      var childNodes = toArray(node.childNodes);\n\t      if (nodeLinkFn) {\n\t        nodeLinkFn(vm, node, host, scope, frag);\n\t      }\n\t      if (childrenLinkFn) {\n\t        childrenLinkFn(vm, childNodes, host, scope, frag);\n\t      }\n\t    }\n\t  };\n\t}\n\t\n\t/**\n\t * Check for element directives (custom elements that should\n\t * be resovled as terminal directives).\n\t *\n\t * @param {Element} el\n\t * @param {Object} options\n\t */\n\t\n\tfunction checkElementDirectives(el, options) {\n\t  var tag = el.tagName.toLowerCase();\n\t  if (commonTagRE.test(tag)) return;\n\t  // special case: give named slot a higher priority\n\t  // than unnamed slots\n\t  if (tag === 'slot' && hasBindAttr(el, 'name')) {\n\t    tag = '_namedSlot';\n\t  }\n\t  var def = resolveAsset(options, 'elementDirectives', tag);\n\t  if (def) {\n\t    return makeTerminalNodeLinkFn(el, tag, '', options, def);\n\t  }\n\t}\n\t\n\t/**\n\t * Check if an element is a component. If yes, return\n\t * a component link function.\n\t *\n\t * @param {Element} el\n\t * @param {Object} options\n\t * @return {Function|undefined}\n\t */\n\t\n\tfunction checkComponent(el, options) {\n\t  var component = checkComponentAttr(el, options);\n\t  if (component) {\n\t    var ref = findRef(el);\n\t    var descriptor = {\n\t      name: 'component',\n\t      ref: ref,\n\t      expression: component.id,\n\t      def: internalDirectives.component,\n\t      modifiers: {\n\t        literal: !component.dynamic\n\t      }\n\t    };\n\t    var componentLinkFn = function componentLinkFn(vm, el, host, scope, frag) {\n\t      if (ref) {\n\t        defineReactive((scope || vm).$refs, ref, null);\n\t      }\n\t      vm._bindDir(descriptor, el, host, scope, frag);\n\t    };\n\t    componentLinkFn.terminal = true;\n\t    return componentLinkFn;\n\t  }\n\t}\n\t\n\t/**\n\t * Check an element for terminal directives in fixed order.\n\t * If it finds one, return a terminal link function.\n\t *\n\t * @param {Element} el\n\t * @param {Object} options\n\t * @return {Function} terminalLinkFn\n\t */\n\t\n\tfunction checkTerminalDirectives(el, options) {\n\t  // skip v-pre\n\t  if (getAttr(el, 'v-pre') !== null) {\n\t    return skip;\n\t  }\n\t  // skip v-else block, but only if following v-if\n\t  if (el.hasAttribute('v-else')) {\n\t    var prev = el.previousElementSibling;\n\t    if (prev && prev.hasAttribute('v-if')) {\n\t      return skip;\n\t    }\n\t  }\n\t  var value, dirName;\n\t  for (var i = 0, l = terminalDirectives.length; i < l; i++) {\n\t    dirName = terminalDirectives[i];\n\t    /* eslint-disable no-cond-assign */\n\t    if (value = el.getAttribute('v-' + dirName)) {\n\t      return makeTerminalNodeLinkFn(el, dirName, value, options);\n\t    }\n\t    /* eslint-enable no-cond-assign */\n\t  }\n\t}\n\t\n\tfunction skip() {}\n\tskip.terminal = true;\n\t\n\t/**\n\t * Build a node link function for a terminal directive.\n\t * A terminal link function terminates the current\n\t * compilation recursion and handles compilation of the\n\t * subtree in the directive.\n\t *\n\t * @param {Element} el\n\t * @param {String} dirName\n\t * @param {String} value\n\t * @param {Object} options\n\t * @param {Object} [def]\n\t * @return {Function} terminalLinkFn\n\t */\n\t\n\tfunction makeTerminalNodeLinkFn(el, dirName, value, options, def) {\n\t  var parsed = parseDirective(value);\n\t  var descriptor = {\n\t    name: dirName,\n\t    expression: parsed.expression,\n\t    filters: parsed.filters,\n\t    raw: value,\n\t    // either an element directive, or if/for\n\t    def: def || publicDirectives[dirName]\n\t  };\n\t  // check ref for v-for and router-view\n\t  if (dirName === 'for' || dirName === 'router-view') {\n\t    descriptor.ref = findRef(el);\n\t  }\n\t  var fn = function terminalNodeLinkFn(vm, el, host, scope, frag) {\n\t    if (descriptor.ref) {\n\t      defineReactive((scope || vm).$refs, descriptor.ref, null);\n\t    }\n\t    vm._bindDir(descriptor, el, host, scope, frag);\n\t  };\n\t  fn.terminal = true;\n\t  return fn;\n\t}\n\t\n\t/**\n\t * Compile the directives on an element and return a linker.\n\t *\n\t * @param {Array|NamedNodeMap} attrs\n\t * @param {Object} options\n\t * @return {Function}\n\t */\n\t\n\tfunction compileDirectives(attrs, options) {\n\t  var i = attrs.length;\n\t  var dirs = [];\n\t  var attr, name, value, rawName, rawValue, dirName, arg, modifiers, dirDef, tokens;\n\t  while (i--) {\n\t    attr = attrs[i];\n\t    name = rawName = attr.name;\n\t    value = rawValue = attr.value;\n\t    tokens = parseText(value);\n\t    // reset arg\n\t    arg = null;\n\t    // check modifiers\n\t    modifiers = parseModifiers(name);\n\t    name = name.replace(modifierRE, '');\n\t\n\t    // attribute interpolations\n\t    if (tokens) {\n\t      value = tokensToExp(tokens);\n\t      if (name === 'class') {\n\t        pushDir('class', internalDirectives['class'], true);\n\t      } else {\n\t        arg = name;\n\t        pushDir('bind', publicDirectives.bind, true);\n\t      }\n\t      // warn against mixing mustaches with v-bind\n\t      if (false) {\n\t        if (name === 'class' && Array.prototype.some.call(attrs, function (attr) {\n\t          return attr.name === ':class' || attr.name === 'v-bind:class';\n\t        })) {\n\t          warn('class=\"' + rawValue + '\": Do not mix mustache interpolation ' + 'and v-bind for \"class\" on the same element. Use one or the other.');\n\t        }\n\t      }\n\t    } else\n\t\n\t      // special attribute: transition\n\t      if (transitionRE.test(name)) {\n\t        modifiers.literal = !bindRE.test(name);\n\t        pushDir('transition', internalDirectives.transition);\n\t      } else\n\t\n\t        // event handlers\n\t        if (onRE.test(name)) {\n\t          arg = name.replace(onRE, '');\n\t          pushDir('on', publicDirectives.on);\n\t        } else\n\t\n\t          // attribute bindings\n\t          if (bindRE.test(name)) {\n\t            dirName = name.replace(bindRE, '');\n\t            if (dirName === 'style' || dirName === 'class') {\n\t              pushDir(dirName, internalDirectives[dirName]);\n\t            } else {\n\t              arg = dirName;\n\t              pushDir('bind', publicDirectives.bind);\n\t            }\n\t          } else\n\t\n\t            // normal directives\n\t            if (name.indexOf('v-') === 0) {\n\t              // check arg\n\t              arg = (arg = name.match(argRE)) && arg[1];\n\t              if (arg) {\n\t                name = name.replace(argRE, '');\n\t              }\n\t              // extract directive name\n\t              dirName = name.slice(2);\n\t\n\t              // skip v-else (when used with v-show)\n\t              if (dirName === 'else') {\n\t                continue;\n\t              }\n\t\n\t              dirDef = resolveAsset(options, 'directives', dirName);\n\t\n\t              if (false) {\n\t                assertAsset(dirDef, 'directive', dirName);\n\t              }\n\t\n\t              if (dirDef) {\n\t                pushDir(dirName, dirDef);\n\t              }\n\t            }\n\t  }\n\t\n\t  /**\n\t   * Push a directive.\n\t   *\n\t   * @param {String} dirName\n\t   * @param {Object|Function} def\n\t   * @param {Boolean} [interp]\n\t   */\n\t\n\t  function pushDir(dirName, def, interp) {\n\t    var parsed = parseDirective(value);\n\t    dirs.push({\n\t      name: dirName,\n\t      attr: rawName,\n\t      raw: rawValue,\n\t      def: def,\n\t      arg: arg,\n\t      modifiers: modifiers,\n\t      expression: parsed.expression,\n\t      filters: parsed.filters,\n\t      interp: interp\n\t    });\n\t  }\n\t\n\t  if (dirs.length) {\n\t    return makeNodeLinkFn(dirs);\n\t  }\n\t}\n\t\n\t/**\n\t * Parse modifiers from directive attribute name.\n\t *\n\t * @param {String} name\n\t * @return {Object}\n\t */\n\t\n\tfunction parseModifiers(name) {\n\t  var res = Object.create(null);\n\t  var match = name.match(modifierRE);\n\t  if (match) {\n\t    var i = match.length;\n\t    while (i--) {\n\t      res[match[i].slice(1)] = true;\n\t    }\n\t  }\n\t  return res;\n\t}\n\t\n\t/**\n\t * Build a link function for all directives on a single node.\n\t *\n\t * @param {Array} directives\n\t * @return {Function} directivesLinkFn\n\t */\n\t\n\tfunction makeNodeLinkFn(directives) {\n\t  return function nodeLinkFn(vm, el, host, scope, frag) {\n\t    // reverse apply because it's sorted low to high\n\t    var i = directives.length;\n\t    while (i--) {\n\t      vm._bindDir(directives[i], el, host, scope, frag);\n\t    }\n\t  };\n\t}\n\t\n\tvar specialCharRE = /[^\\w\\-:\\.]/;\n\t\n\t/**\n\t * Process an element or a DocumentFragment based on a\n\t * instance option object. This allows us to transclude\n\t * a template node/fragment before the instance is created,\n\t * so the processed fragment can then be cloned and reused\n\t * in v-for.\n\t *\n\t * @param {Element} el\n\t * @param {Object} options\n\t * @return {Element|DocumentFragment}\n\t */\n\t\n\tfunction transclude(el, options) {\n\t  // extract container attributes to pass them down\n\t  // to compiler, because they need to be compiled in\n\t  // parent scope. we are mutating the options object here\n\t  // assuming the same object will be used for compile\n\t  // right after this.\n\t  if (options) {\n\t    options._containerAttrs = extractAttrs(el);\n\t  }\n\t  // for template tags, what we want is its content as\n\t  // a documentFragment (for fragment instances)\n\t  if (isTemplate(el)) {\n\t    el = parseTemplate(el);\n\t  }\n\t  if (options) {\n\t    if (options._asComponent && !options.template) {\n\t      options.template = '<slot></slot>';\n\t    }\n\t    if (options.template) {\n\t      options._content = extractContent(el);\n\t      el = transcludeTemplate(el, options);\n\t    }\n\t  }\n\t  if (el instanceof DocumentFragment) {\n\t    // anchors for fragment instance\n\t    // passing in `persist: true` to avoid them being\n\t    // discarded by IE during template cloning\n\t    prepend(createAnchor('v-start', true), el);\n\t    el.appendChild(createAnchor('v-end', true));\n\t  }\n\t  return el;\n\t}\n\t\n\t/**\n\t * Process the template option.\n\t * If the replace option is true this will swap the $el.\n\t *\n\t * @param {Element} el\n\t * @param {Object} options\n\t * @return {Element|DocumentFragment}\n\t */\n\t\n\tfunction transcludeTemplate(el, options) {\n\t  var template = options.template;\n\t  var frag = parseTemplate(template, true);\n\t  if (frag) {\n\t    var replacer = frag.firstChild;\n\t    var tag = replacer.tagName && replacer.tagName.toLowerCase();\n\t    if (options.replace) {\n\t      /* istanbul ignore if */\n\t      if (el === document.body) {\n\t        (\"production\") !== 'production' && warn('You are mounting an instance with a template to ' + '<body>. This will replace <body> entirely. You ' + 'should probably use `replace: false` here.');\n\t      }\n\t      // there are many cases where the instance must\n\t      // become a fragment instance: basically anything that\n\t      // can create more than 1 root nodes.\n\t      if (\n\t      // multi-children template\n\t      frag.childNodes.length > 1 ||\n\t      // non-element template\n\t      replacer.nodeType !== 1 ||\n\t      // single nested component\n\t      tag === 'component' || resolveAsset(options, 'components', tag) || hasBindAttr(replacer, 'is') ||\n\t      // element directive\n\t      resolveAsset(options, 'elementDirectives', tag) ||\n\t      // for block\n\t      replacer.hasAttribute('v-for') ||\n\t      // if block\n\t      replacer.hasAttribute('v-if')) {\n\t        return frag;\n\t      } else {\n\t        options._replacerAttrs = extractAttrs(replacer);\n\t        mergeAttrs(el, replacer);\n\t        return replacer;\n\t      }\n\t    } else {\n\t      el.appendChild(frag);\n\t      return el;\n\t    }\n\t  } else {\n\t    (\"production\") !== 'production' && warn('Invalid template option: ' + template);\n\t  }\n\t}\n\t\n\t/**\n\t * Helper to extract a component container's attributes\n\t * into a plain object array.\n\t *\n\t * @param {Element} el\n\t * @return {Array}\n\t */\n\t\n\tfunction extractAttrs(el) {\n\t  if (el.nodeType === 1 && el.hasAttributes()) {\n\t    return toArray(el.attributes);\n\t  }\n\t}\n\t\n\t/**\n\t * Merge the attributes of two elements, and make sure\n\t * the class names are merged properly.\n\t *\n\t * @param {Element} from\n\t * @param {Element} to\n\t */\n\t\n\tfunction mergeAttrs(from, to) {\n\t  var attrs = from.attributes;\n\t  var i = attrs.length;\n\t  var name, value;\n\t  while (i--) {\n\t    name = attrs[i].name;\n\t    value = attrs[i].value;\n\t    if (!to.hasAttribute(name) && !specialCharRE.test(name)) {\n\t      to.setAttribute(name, value);\n\t    } else if (name === 'class') {\n\t      value.split(/\\s+/).forEach(function (cls) {\n\t        addClass(to, cls);\n\t      });\n\t    }\n\t  }\n\t}\n\t\n\tvar compiler = Object.freeze({\n\t\tcompile: compile,\n\t\tcompileAndLinkProps: compileAndLinkProps,\n\t\tcompileRoot: compileRoot,\n\t\ttransclude: transclude\n\t});\n\t\n\tfunction stateMixin (Vue) {\n\t\n\t  /**\n\t   * Accessor for `$data` property, since setting $data\n\t   * requires observing the new object and updating\n\t   * proxied properties.\n\t   */\n\t\n\t  Object.defineProperty(Vue.prototype, '$data', {\n\t    get: function get() {\n\t      return this._data;\n\t    },\n\t    set: function set(newData) {\n\t      if (newData !== this._data) {\n\t        this._setData(newData);\n\t      }\n\t    }\n\t  });\n\t\n\t  /**\n\t   * Setup the scope of an instance, which contains:\n\t   * - observed data\n\t   * - computed properties\n\t   * - user methods\n\t   * - meta properties\n\t   */\n\t\n\t  Vue.prototype._initState = function () {\n\t    this._initProps();\n\t    this._initMeta();\n\t    this._initMethods();\n\t    this._initData();\n\t    this._initComputed();\n\t  };\n\t\n\t  /**\n\t   * Initialize props.\n\t   */\n\t\n\t  Vue.prototype._initProps = function () {\n\t    var options = this.$options;\n\t    var el = options.el;\n\t    var props = options.props;\n\t    if (props && !el) {\n\t      (\"production\") !== 'production' && warn('Props will not be compiled if no `el` option is ' + 'provided at instantiation.');\n\t    }\n\t    // make sure to convert string selectors into element now\n\t    el = options.el = query(el);\n\t    this._propsUnlinkFn = el && el.nodeType === 1 && props\n\t    // props must be linked in proper scope if inside v-for\n\t    ? compileAndLinkProps(this, el, props, this._scope) : null;\n\t  };\n\t\n\t  /**\n\t   * Initialize the data.\n\t   */\n\t\n\t  Vue.prototype._initData = function () {\n\t    var propsData = this._data;\n\t    var optionsDataFn = this.$options.data;\n\t    var optionsData = optionsDataFn && optionsDataFn();\n\t    if (optionsData) {\n\t      this._data = optionsData;\n\t      for (var prop in propsData) {\n\t        if (false) {\n\t          warn('Data field \"' + prop + '\" is already defined ' + 'as a prop. Use prop default value instead.');\n\t        }\n\t        if (this._props[prop].raw !== null || !hasOwn(optionsData, prop)) {\n\t          set(optionsData, prop, propsData[prop]);\n\t        }\n\t      }\n\t    }\n\t    var data = this._data;\n\t    // proxy data on instance\n\t    var keys = Object.keys(data);\n\t    var i, key;\n\t    i = keys.length;\n\t    while (i--) {\n\t      key = keys[i];\n\t      this._proxy(key);\n\t    }\n\t    // observe data\n\t    observe(data, this);\n\t  };\n\t\n\t  /**\n\t   * Swap the instance's $data. Called in $data's setter.\n\t   *\n\t   * @param {Object} newData\n\t   */\n\t\n\t  Vue.prototype._setData = function (newData) {\n\t    newData = newData || {};\n\t    var oldData = this._data;\n\t    this._data = newData;\n\t    var keys, key, i;\n\t    // unproxy keys not present in new data\n\t    keys = Object.keys(oldData);\n\t    i = keys.length;\n\t    while (i--) {\n\t      key = keys[i];\n\t      if (!(key in newData)) {\n\t        this._unproxy(key);\n\t      }\n\t    }\n\t    // proxy keys not already proxied,\n\t    // and trigger change for changed values\n\t    keys = Object.keys(newData);\n\t    i = keys.length;\n\t    while (i--) {\n\t      key = keys[i];\n\t      if (!hasOwn(this, key)) {\n\t        // new property\n\t        this._proxy(key);\n\t      }\n\t    }\n\t    oldData.__ob__.removeVm(this);\n\t    observe(newData, this);\n\t    this._digest();\n\t  };\n\t\n\t  /**\n\t   * Proxy a property, so that\n\t   * vm.prop === vm._data.prop\n\t   *\n\t   * @param {String} key\n\t   */\n\t\n\t  Vue.prototype._proxy = function (key) {\n\t    if (!isReserved(key)) {\n\t      // need to store ref to self here\n\t      // because these getter/setters might\n\t      // be called by child scopes via\n\t      // prototype inheritance.\n\t      var self = this;\n\t      Object.defineProperty(self, key, {\n\t        configurable: true,\n\t        enumerable: true,\n\t        get: function proxyGetter() {\n\t          return self._data[key];\n\t        },\n\t        set: function proxySetter(val) {\n\t          self._data[key] = val;\n\t        }\n\t      });\n\t    }\n\t  };\n\t\n\t  /**\n\t   * Unproxy a property.\n\t   *\n\t   * @param {String} key\n\t   */\n\t\n\t  Vue.prototype._unproxy = function (key) {\n\t    if (!isReserved(key)) {\n\t      delete this[key];\n\t    }\n\t  };\n\t\n\t  /**\n\t   * Force update on every watcher in scope.\n\t   */\n\t\n\t  Vue.prototype._digest = function () {\n\t    for (var i = 0, l = this._watchers.length; i < l; i++) {\n\t      this._watchers[i].update(true); // shallow updates\n\t    }\n\t  };\n\t\n\t  /**\n\t   * Setup computed properties. They are essentially\n\t   * special getter/setters\n\t   */\n\t\n\t  function noop() {}\n\t  Vue.prototype._initComputed = function () {\n\t    var computed = this.$options.computed;\n\t    if (computed) {\n\t      for (var key in computed) {\n\t        var userDef = computed[key];\n\t        var def = {\n\t          enumerable: true,\n\t          configurable: true\n\t        };\n\t        if (typeof userDef === 'function') {\n\t          def.get = makeComputedGetter(userDef, this);\n\t          def.set = noop;\n\t        } else {\n\t          def.get = userDef.get ? userDef.cache !== false ? makeComputedGetter(userDef.get, this) : bind$1(userDef.get, this) : noop;\n\t          def.set = userDef.set ? bind$1(userDef.set, this) : noop;\n\t        }\n\t        Object.defineProperty(this, key, def);\n\t      }\n\t    }\n\t  };\n\t\n\t  function makeComputedGetter(getter, owner) {\n\t    var watcher = new Watcher(owner, getter, null, {\n\t      lazy: true\n\t    });\n\t    return function computedGetter() {\n\t      if (watcher.dirty) {\n\t        watcher.evaluate();\n\t      }\n\t      if (Dep.target) {\n\t        watcher.depend();\n\t      }\n\t      return watcher.value;\n\t    };\n\t  }\n\t\n\t  /**\n\t   * Setup instance methods. Methods must be bound to the\n\t   * instance since they might be passed down as a prop to\n\t   * child components.\n\t   */\n\t\n\t  Vue.prototype._initMethods = function () {\n\t    var methods = this.$options.methods;\n\t    if (methods) {\n\t      for (var key in methods) {\n\t        this[key] = bind$1(methods[key], this);\n\t      }\n\t    }\n\t  };\n\t\n\t  /**\n\t   * Initialize meta information like $index, $key & $value.\n\t   */\n\t\n\t  Vue.prototype._initMeta = function () {\n\t    var metas = this.$options._meta;\n\t    if (metas) {\n\t      for (var key in metas) {\n\t        defineReactive(this, key, metas[key]);\n\t      }\n\t    }\n\t  };\n\t}\n\t\n\tvar eventRE = /^v-on:|^@/;\n\t\n\tfunction eventsMixin (Vue) {\n\t\n\t  /**\n\t   * Setup the instance's option events & watchers.\n\t   * If the value is a string, we pull it from the\n\t   * instance's methods by name.\n\t   */\n\t\n\t  Vue.prototype._initEvents = function () {\n\t    var options = this.$options;\n\t    if (options._asComponent) {\n\t      registerComponentEvents(this, options.el);\n\t    }\n\t    registerCallbacks(this, '$on', options.events);\n\t    registerCallbacks(this, '$watch', options.watch);\n\t  };\n\t\n\t  /**\n\t   * Register v-on events on a child component\n\t   *\n\t   * @param {Vue} vm\n\t   * @param {Element} el\n\t   */\n\t\n\t  function registerComponentEvents(vm, el) {\n\t    var attrs = el.attributes;\n\t    var name, handler;\n\t    for (var i = 0, l = attrs.length; i < l; i++) {\n\t      name = attrs[i].name;\n\t      if (eventRE.test(name)) {\n\t        name = name.replace(eventRE, '');\n\t        handler = (vm._scope || vm._context).$eval(attrs[i].value, true);\n\t        vm.$on(name.replace(eventRE), handler);\n\t      }\n\t    }\n\t  }\n\t\n\t  /**\n\t   * Register callbacks for option events and watchers.\n\t   *\n\t   * @param {Vue} vm\n\t   * @param {String} action\n\t   * @param {Object} hash\n\t   */\n\t\n\t  function registerCallbacks(vm, action, hash) {\n\t    if (!hash) return;\n\t    var handlers, key, i, j;\n\t    for (key in hash) {\n\t      handlers = hash[key];\n\t      if (isArray(handlers)) {\n\t        for (i = 0, j = handlers.length; i < j; i++) {\n\t          register(vm, action, key, handlers[i]);\n\t        }\n\t      } else {\n\t        register(vm, action, key, handlers);\n\t      }\n\t    }\n\t  }\n\t\n\t  /**\n\t   * Helper to register an event/watch callback.\n\t   *\n\t   * @param {Vue} vm\n\t   * @param {String} action\n\t   * @param {String} key\n\t   * @param {Function|String|Object} handler\n\t   * @param {Object} [options]\n\t   */\n\t\n\t  function register(vm, action, key, handler, options) {\n\t    var type = typeof handler;\n\t    if (type === 'function') {\n\t      vm[action](key, handler, options);\n\t    } else if (type === 'string') {\n\t      var methods = vm.$options.methods;\n\t      var method = methods && methods[handler];\n\t      if (method) {\n\t        vm[action](key, method, options);\n\t      } else {\n\t        (\"production\") !== 'production' && warn('Unknown method: \"' + handler + '\" when ' + 'registering callback for ' + action + ': \"' + key + '\".');\n\t      }\n\t    } else if (handler && type === 'object') {\n\t      register(vm, action, key, handler.handler, handler);\n\t    }\n\t  }\n\t\n\t  /**\n\t   * Setup recursive attached/detached calls\n\t   */\n\t\n\t  Vue.prototype._initDOMHooks = function () {\n\t    this.$on('hook:attached', onAttached);\n\t    this.$on('hook:detached', onDetached);\n\t  };\n\t\n\t  /**\n\t   * Callback to recursively call attached hook on children\n\t   */\n\t\n\t  function onAttached() {\n\t    if (!this._isAttached) {\n\t      this._isAttached = true;\n\t      this.$children.forEach(callAttach);\n\t    }\n\t  }\n\t\n\t  /**\n\t   * Iterator to call attached hook\n\t   *\n\t   * @param {Vue} child\n\t   */\n\t\n\t  function callAttach(child) {\n\t    if (!child._isAttached && inDoc(child.$el)) {\n\t      child._callHook('attached');\n\t    }\n\t  }\n\t\n\t  /**\n\t   * Callback to recursively call detached hook on children\n\t   */\n\t\n\t  function onDetached() {\n\t    if (this._isAttached) {\n\t      this._isAttached = false;\n\t      this.$children.forEach(callDetach);\n\t    }\n\t  }\n\t\n\t  /**\n\t   * Iterator to call detached hook\n\t   *\n\t   * @param {Vue} child\n\t   */\n\t\n\t  function callDetach(child) {\n\t    if (child._isAttached && !inDoc(child.$el)) {\n\t      child._callHook('detached');\n\t    }\n\t  }\n\t\n\t  /**\n\t   * Trigger all handlers for a hook\n\t   *\n\t   * @param {String} hook\n\t   */\n\t\n\t  Vue.prototype._callHook = function (hook) {\n\t    var handlers = this.$options[hook];\n\t    if (handlers) {\n\t      for (var i = 0, j = handlers.length; i < j; i++) {\n\t        handlers[i].call(this);\n\t      }\n\t    }\n\t    this.$emit('hook:' + hook);\n\t  };\n\t}\n\t\n\tfunction noop() {}\n\t\n\t/**\n\t * A directive links a DOM element with a piece of data,\n\t * which is the result of evaluating an expression.\n\t * It registers a watcher with the expression and calls\n\t * the DOM update function when a change is triggered.\n\t *\n\t * @param {String} name\n\t * @param {Node} el\n\t * @param {Vue} vm\n\t * @param {Object} descriptor\n\t *                 - {String} name\n\t *                 - {Object} def\n\t *                 - {String} expression\n\t *                 - {Array<Object>} [filters]\n\t *                 - {Boolean} literal\n\t *                 - {String} attr\n\t *                 - {String} raw\n\t * @param {Object} def - directive definition object\n\t * @param {Vue} [host] - transclusion host component\n\t * @param {Object} [scope] - v-for scope\n\t * @param {Fragment} [frag] - owner fragment\n\t * @constructor\n\t */\n\tfunction Directive(descriptor, vm, el, host, scope, frag) {\n\t  this.vm = vm;\n\t  this.el = el;\n\t  // copy descriptor properties\n\t  this.descriptor = descriptor;\n\t  this.name = descriptor.name;\n\t  this.expression = descriptor.expression;\n\t  this.arg = descriptor.arg;\n\t  this.modifiers = descriptor.modifiers;\n\t  this.filters = descriptor.filters;\n\t  this.literal = this.modifiers && this.modifiers.literal;\n\t  // private\n\t  this._locked = false;\n\t  this._bound = false;\n\t  this._listeners = null;\n\t  // link context\n\t  this._host = host;\n\t  this._scope = scope;\n\t  this._frag = frag;\n\t  // store directives on node in dev mode\n\t  if (false) {\n\t    this.el._vue_directives = this.el._vue_directives || [];\n\t    this.el._vue_directives.push(this);\n\t  }\n\t}\n\t\n\t/**\n\t * Initialize the directive, mixin definition properties,\n\t * setup the watcher, call definition bind() and update()\n\t * if present.\n\t *\n\t * @param {Object} def\n\t */\n\t\n\tDirective.prototype._bind = function () {\n\t  var name = this.name;\n\t  var descriptor = this.descriptor;\n\t\n\t  // remove attribute\n\t  if ((name !== 'cloak' || this.vm._isCompiled) && this.el && this.el.removeAttribute) {\n\t    var attr = descriptor.attr || 'v-' + name;\n\t    if (attr !== 'class') {\n\t      this.el.removeAttribute(attr);\n\t    } else {\n\t      // for class interpolations, only remove the parts that\n\t      // need to be interpolated.\n\t      this.el.className = removeTags(this.el.className).trim().replace(/\\s+/g, ' ');\n\t    }\n\t  }\n\t\n\t  // copy def properties\n\t  var def = descriptor.def;\n\t  if (typeof def === 'function') {\n\t    this.update = def;\n\t  } else {\n\t    extend(this, def);\n\t  }\n\t\n\t  // setup directive params\n\t  this._setupParams();\n\t\n\t  // initial bind\n\t  if (this.bind) {\n\t    this.bind();\n\t  }\n\t\n\t  if (this.literal) {\n\t    this.update && this.update(descriptor.raw);\n\t  } else if ((this.expression || this.modifiers) && (this.update || this.twoWay) && !this._checkStatement()) {\n\t    // wrapped updater for context\n\t    var dir = this;\n\t    if (this.update) {\n\t      this._update = function (val, oldVal) {\n\t        if (!dir._locked) {\n\t          dir.update(val, oldVal);\n\t        }\n\t      };\n\t    } else {\n\t      this._update = noop;\n\t    }\n\t    var preProcess = this._preProcess ? bind$1(this._preProcess, this) : null;\n\t    var postProcess = this._postProcess ? bind$1(this._postProcess, this) : null;\n\t    var watcher = this._watcher = new Watcher(this.vm, this.expression, this._update, // callback\n\t    {\n\t      filters: this.filters,\n\t      twoWay: this.twoWay,\n\t      deep: this.deep,\n\t      preProcess: preProcess,\n\t      postProcess: postProcess,\n\t      scope: this._scope\n\t    });\n\t    // v-model with inital inline value need to sync back to\n\t    // model instead of update to DOM on init. They would\n\t    // set the afterBind hook to indicate that.\n\t    if (this.afterBind) {\n\t      this.afterBind();\n\t    } else if (this.update) {\n\t      this.update(watcher.value);\n\t    }\n\t  }\n\t  this._bound = true;\n\t};\n\t\n\t/**\n\t * Setup all param attributes, e.g. track-by,\n\t * transition-mode, etc...\n\t */\n\t\n\tDirective.prototype._setupParams = function () {\n\t  if (!this.params) {\n\t    return;\n\t  }\n\t  var params = this.params;\n\t  // swap the params array with a fresh object.\n\t  this.params = Object.create(null);\n\t  var i = params.length;\n\t  var key, val, mappedKey;\n\t  while (i--) {\n\t    key = params[i];\n\t    mappedKey = camelize(key);\n\t    val = getBindAttr(this.el, key);\n\t    if (val != null) {\n\t      // dynamic\n\t      this._setupParamWatcher(mappedKey, val);\n\t    } else {\n\t      // static\n\t      val = getAttr(this.el, key);\n\t      if (val != null) {\n\t        this.params[mappedKey] = val === '' ? true : val;\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Setup a watcher for a dynamic param.\n\t *\n\t * @param {String} key\n\t * @param {String} expression\n\t */\n\t\n\tDirective.prototype._setupParamWatcher = function (key, expression) {\n\t  var self = this;\n\t  var called = false;\n\t  var unwatch = (this._scope || this.vm).$watch(expression, function (val, oldVal) {\n\t    self.params[key] = val;\n\t    // since we are in immediate mode,\n\t    // only call the param change callbacks if this is not the first update.\n\t    if (called) {\n\t      var cb = self.paramWatchers && self.paramWatchers[key];\n\t      if (cb) {\n\t        cb.call(self, val, oldVal);\n\t      }\n\t    } else {\n\t      called = true;\n\t    }\n\t  }, {\n\t    immediate: true\n\t  });(this._paramUnwatchFns || (this._paramUnwatchFns = [])).push(unwatch);\n\t};\n\t\n\t/**\n\t * Check if the directive is a function caller\n\t * and if the expression is a callable one. If both true,\n\t * we wrap up the expression and use it as the event\n\t * handler.\n\t *\n\t * e.g. on-click=\"a++\"\n\t *\n\t * @return {Boolean}\n\t */\n\t\n\tDirective.prototype._checkStatement = function () {\n\t  var expression = this.expression;\n\t  if (expression && this.acceptStatement && !isSimplePath(expression)) {\n\t    var fn = parseExpression(expression).get;\n\t    var scope = this._scope || this.vm;\n\t    var handler = function handler(e) {\n\t      scope.$event = e;\n\t      fn.call(scope, scope);\n\t      scope.$event = null;\n\t    };\n\t    if (this.filters) {\n\t      handler = scope._applyFilters(handler, null, this.filters);\n\t    }\n\t    this.update(handler);\n\t    return true;\n\t  }\n\t};\n\t\n\t/**\n\t * Set the corresponding value with the setter.\n\t * This should only be used in two-way directives\n\t * e.g. v-model.\n\t *\n\t * @param {*} value\n\t * @public\n\t */\n\t\n\tDirective.prototype.set = function (value) {\n\t  /* istanbul ignore else */\n\t  if (this.twoWay) {\n\t    this._withLock(function () {\n\t      this._watcher.set(value);\n\t    });\n\t  } else if (false) {\n\t    warn('Directive.set() can only be used inside twoWay' + 'directives.');\n\t  }\n\t};\n\t\n\t/**\n\t * Execute a function while preventing that function from\n\t * triggering updates on this directive instance.\n\t *\n\t * @param {Function} fn\n\t */\n\t\n\tDirective.prototype._withLock = function (fn) {\n\t  var self = this;\n\t  self._locked = true;\n\t  fn.call(self);\n\t  nextTick(function () {\n\t    self._locked = false;\n\t  });\n\t};\n\t\n\t/**\n\t * Convenience method that attaches a DOM event listener\n\t * to the directive element and autometically tears it down\n\t * during unbind.\n\t *\n\t * @param {String} event\n\t * @param {Function} handler\n\t */\n\t\n\tDirective.prototype.on = function (event, handler) {\n\t  on$1(this.el, event, handler);(this._listeners || (this._listeners = [])).push([event, handler]);\n\t};\n\t\n\t/**\n\t * Teardown the watcher and call unbind.\n\t */\n\t\n\tDirective.prototype._teardown = function () {\n\t  if (this._bound) {\n\t    this._bound = false;\n\t    if (this.unbind) {\n\t      this.unbind();\n\t    }\n\t    if (this._watcher) {\n\t      this._watcher.teardown();\n\t    }\n\t    var listeners = this._listeners;\n\t    var i;\n\t    if (listeners) {\n\t      i = listeners.length;\n\t      while (i--) {\n\t        off(this.el, listeners[i][0], listeners[i][1]);\n\t      }\n\t    }\n\t    var unwatchFns = this._paramUnwatchFns;\n\t    if (unwatchFns) {\n\t      i = unwatchFns.length;\n\t      while (i--) {\n\t        unwatchFns[i]();\n\t      }\n\t    }\n\t    if (false) {\n\t      this.el._vue_directives.$remove(this);\n\t    }\n\t    this.vm = this.el = this._watcher = this._listeners = null;\n\t  }\n\t};\n\t\n\tfunction lifecycleMixin (Vue) {\n\t\n\t  /**\n\t   * Update v-ref for component.\n\t   *\n\t   * @param {Boolean} remove\n\t   */\n\t\n\t  Vue.prototype._updateRef = function (remove) {\n\t    var ref = this.$options._ref;\n\t    if (ref) {\n\t      var refs = (this._scope || this._context).$refs;\n\t      if (remove) {\n\t        if (refs[ref] === this) {\n\t          refs[ref] = null;\n\t        }\n\t      } else {\n\t        refs[ref] = this;\n\t      }\n\t    }\n\t  };\n\t\n\t  /**\n\t   * Transclude, compile and link element.\n\t   *\n\t   * If a pre-compiled linker is available, that means the\n\t   * passed in element will be pre-transcluded and compiled\n\t   * as well - all we need to do is to call the linker.\n\t   *\n\t   * Otherwise we need to call transclude/compile/link here.\n\t   *\n\t   * @param {Element} el\n\t   * @return {Element}\n\t   */\n\t\n\t  Vue.prototype._compile = function (el) {\n\t    var options = this.$options;\n\t\n\t    // transclude and init element\n\t    // transclude can potentially replace original\n\t    // so we need to keep reference; this step also injects\n\t    // the template and caches the original attributes\n\t    // on the container node and replacer node.\n\t    var original = el;\n\t    el = transclude(el, options);\n\t    this._initElement(el);\n\t\n\t    // root is always compiled per-instance, because\n\t    // container attrs and props can be different every time.\n\t    var contextOptions = this._context && this._context.$options;\n\t    var rootLinker = compileRoot(el, options, contextOptions);\n\t\n\t    // compile and link the rest\n\t    var contentLinkFn;\n\t    var ctor = this.constructor;\n\t    // component compilation can be cached\n\t    // as long as it's not using inline-template\n\t    if (options._linkerCachable) {\n\t      contentLinkFn = ctor.linker;\n\t      if (!contentLinkFn) {\n\t        contentLinkFn = ctor.linker = compile(el, options);\n\t      }\n\t    }\n\t\n\t    // link phase\n\t    // make sure to link root with prop scope!\n\t    var rootUnlinkFn = rootLinker(this, el, this._scope);\n\t    var contentUnlinkFn = contentLinkFn ? contentLinkFn(this, el) : compile(el, options)(this, el);\n\t\n\t    // register composite unlink function\n\t    // to be called during instance destruction\n\t    this._unlinkFn = function () {\n\t      rootUnlinkFn();\n\t      // passing destroying: true to avoid searching and\n\t      // splicing the directives\n\t      contentUnlinkFn(true);\n\t    };\n\t\n\t    // finally replace original\n\t    if (options.replace) {\n\t      replace(original, el);\n\t    }\n\t\n\t    this._isCompiled = true;\n\t    this._callHook('compiled');\n\t    return el;\n\t  };\n\t\n\t  /**\n\t   * Initialize instance element. Called in the public\n\t   * $mount() method.\n\t   *\n\t   * @param {Element} el\n\t   */\n\t\n\t  Vue.prototype._initElement = function (el) {\n\t    if (el instanceof DocumentFragment) {\n\t      this._isFragment = true;\n\t      this.$el = this._fragmentStart = el.firstChild;\n\t      this._fragmentEnd = el.lastChild;\n\t      // set persisted text anchors to empty\n\t      if (this._fragmentStart.nodeType === 3) {\n\t        this._fragmentStart.data = this._fragmentEnd.data = '';\n\t      }\n\t      this._fragment = el;\n\t    } else {\n\t      this.$el = el;\n\t    }\n\t    this.$el.__vue__ = this;\n\t    this._callHook('beforeCompile');\n\t  };\n\t\n\t  /**\n\t   * Create and bind a directive to an element.\n\t   *\n\t   * @param {String} name - directive name\n\t   * @param {Node} node   - target node\n\t   * @param {Object} desc - parsed directive descriptor\n\t   * @param {Object} def  - directive definition object\n\t   * @param {Vue} [host] - transclusion host component\n\t   * @param {Object} [scope] - v-for scope\n\t   * @param {Fragment} [frag] - owner fragment\n\t   */\n\t\n\t  Vue.prototype._bindDir = function (descriptor, node, host, scope, frag) {\n\t    this._directives.push(new Directive(descriptor, this, node, host, scope, frag));\n\t  };\n\t\n\t  /**\n\t   * Teardown an instance, unobserves the data, unbind all the\n\t   * directives, turn off all the event listeners, etc.\n\t   *\n\t   * @param {Boolean} remove - whether to remove the DOM node.\n\t   * @param {Boolean} deferCleanup - if true, defer cleanup to\n\t   *                                 be called later\n\t   */\n\t\n\t  Vue.prototype._destroy = function (remove, deferCleanup) {\n\t    if (this._isBeingDestroyed) {\n\t      if (!deferCleanup) {\n\t        this._cleanup();\n\t      }\n\t      return;\n\t    }\n\t\n\t    var destroyReady;\n\t    var pendingRemoval;\n\t\n\t    var self = this;\n\t    // Cleanup should be called either synchronously or asynchronoysly as\n\t    // callback of this.$remove(), or if remove and deferCleanup are false.\n\t    // In any case it should be called after all other removing, unbinding and\n\t    // turning of is done\n\t    var cleanupIfPossible = function cleanupIfPossible() {\n\t      if (destroyReady && !pendingRemoval && !deferCleanup) {\n\t        self._cleanup();\n\t      }\n\t    };\n\t\n\t    // remove DOM element\n\t    if (remove && this.$el) {\n\t      pendingRemoval = true;\n\t      this.$remove(function () {\n\t        pendingRemoval = false;\n\t        cleanupIfPossible();\n\t      });\n\t    }\n\t\n\t    this._callHook('beforeDestroy');\n\t    this._isBeingDestroyed = true;\n\t    var i;\n\t    // remove self from parent. only necessary\n\t    // if parent is not being destroyed as well.\n\t    var parent = this.$parent;\n\t    if (parent && !parent._isBeingDestroyed) {\n\t      parent.$children.$remove(this);\n\t      // unregister ref (remove: true)\n\t      this._updateRef(true);\n\t    }\n\t    // destroy all children.\n\t    i = this.$children.length;\n\t    while (i--) {\n\t      this.$children[i].$destroy();\n\t    }\n\t    // teardown props\n\t    if (this._propsUnlinkFn) {\n\t      this._propsUnlinkFn();\n\t    }\n\t    // teardown all directives. this also tearsdown all\n\t    // directive-owned watchers.\n\t    if (this._unlinkFn) {\n\t      this._unlinkFn();\n\t    }\n\t    i = this._watchers.length;\n\t    while (i--) {\n\t      this._watchers[i].teardown();\n\t    }\n\t    // remove reference to self on $el\n\t    if (this.$el) {\n\t      this.$el.__vue__ = null;\n\t    }\n\t\n\t    destroyReady = true;\n\t    cleanupIfPossible();\n\t  };\n\t\n\t  /**\n\t   * Clean up to ensure garbage collection.\n\t   * This is called after the leave transition if there\n\t   * is any.\n\t   */\n\t\n\t  Vue.prototype._cleanup = function () {\n\t    if (this._isDestroyed) {\n\t      return;\n\t    }\n\t    // remove self from owner fragment\n\t    // do it in cleanup so that we can call $destroy with\n\t    // defer right when a fragment is about to be removed.\n\t    if (this._frag) {\n\t      this._frag.children.$remove(this);\n\t    }\n\t    // remove reference from data ob\n\t    // frozen object may not have observer.\n\t    if (this._data.__ob__) {\n\t      this._data.__ob__.removeVm(this);\n\t    }\n\t    // Clean up references to private properties and other\n\t    // instances. preserve reference to _data so that proxy\n\t    // accessors still work. The only potential side effect\n\t    // here is that mutating the instance after it's destroyed\n\t    // may affect the state of other components that are still\n\t    // observing the same object, but that seems to be a\n\t    // reasonable responsibility for the user rather than\n\t    // always throwing an error on them.\n\t    this.$el = this.$parent = this.$root = this.$children = this._watchers = this._context = this._scope = this._directives = null;\n\t    // call the last hook...\n\t    this._isDestroyed = true;\n\t    this._callHook('destroyed');\n\t    // turn off all instance listeners.\n\t    this.$off();\n\t  };\n\t}\n\t\n\tfunction miscMixin (Vue) {\n\t\n\t  /**\n\t   * Apply a list of filter (descriptors) to a value.\n\t   * Using plain for loops here because this will be called in\n\t   * the getter of any watcher with filters so it is very\n\t   * performance sensitive.\n\t   *\n\t   * @param {*} value\n\t   * @param {*} [oldValue]\n\t   * @param {Array} filters\n\t   * @param {Boolean} write\n\t   * @return {*}\n\t   */\n\t\n\t  Vue.prototype._applyFilters = function (value, oldValue, filters, write) {\n\t    var filter, fn, args, arg, offset, i, l, j, k;\n\t    for (i = 0, l = filters.length; i < l; i++) {\n\t      filter = filters[i];\n\t      fn = resolveAsset(this.$options, 'filters', filter.name);\n\t      if (false) {\n\t        assertAsset(fn, 'filter', filter.name);\n\t      }\n\t      if (!fn) continue;\n\t      fn = write ? fn.write : fn.read || fn;\n\t      if (typeof fn !== 'function') continue;\n\t      args = write ? [value, oldValue] : [value];\n\t      offset = write ? 2 : 1;\n\t      if (filter.args) {\n\t        for (j = 0, k = filter.args.length; j < k; j++) {\n\t          arg = filter.args[j];\n\t          args[j + offset] = arg.dynamic ? this.$get(arg.value) : arg.value;\n\t        }\n\t      }\n\t      value = fn.apply(this, args);\n\t    }\n\t    return value;\n\t  };\n\t\n\t  /**\n\t   * Resolve a component, depending on whether the component\n\t   * is defined normally or using an async factory function.\n\t   * Resolves synchronously if already resolved, otherwise\n\t   * resolves asynchronously and caches the resolved\n\t   * constructor on the factory.\n\t   *\n\t   * @param {String} id\n\t   * @param {Function} cb\n\t   */\n\t\n\t  Vue.prototype._resolveComponent = function (id, cb) {\n\t    var factory = resolveAsset(this.$options, 'components', id);\n\t    if (false) {\n\t      assertAsset(factory, 'component', id);\n\t    }\n\t    if (!factory) {\n\t      return;\n\t    }\n\t    // async component factory\n\t    if (!factory.options) {\n\t      if (factory.resolved) {\n\t        // cached\n\t        cb(factory.resolved);\n\t      } else if (factory.requested) {\n\t        // pool callbacks\n\t        factory.pendingCallbacks.push(cb);\n\t      } else {\n\t        factory.requested = true;\n\t        var cbs = factory.pendingCallbacks = [cb];\n\t        factory(function resolve(res) {\n\t          if (isPlainObject(res)) {\n\t            res = Vue.extend(res);\n\t          }\n\t          // cache resolved\n\t          factory.resolved = res;\n\t          // invoke callbacks\n\t          for (var i = 0, l = cbs.length; i < l; i++) {\n\t            cbs[i](res);\n\t          }\n\t        }, function reject(reason) {\n\t          (\"production\") !== 'production' && warn('Failed to resolve async component: ' + id + '. ' + (reason ? '\\nReason: ' + reason : ''));\n\t        });\n\t      }\n\t    } else {\n\t      // normal component\n\t      cb(factory);\n\t    }\n\t  };\n\t}\n\t\n\tfunction globalAPI (Vue) {\n\t\n\t  /**\n\t   * Expose useful internals\n\t   */\n\t\n\t  Vue.util = util;\n\t  Vue.config = config;\n\t  Vue.set = set;\n\t  Vue['delete'] = del;\n\t  Vue.nextTick = nextTick;\n\t\n\t  /**\n\t   * The following are exposed for advanced usage / plugins\n\t   */\n\t\n\t  Vue.compiler = compiler;\n\t  Vue.FragmentFactory = FragmentFactory;\n\t  Vue.internalDirectives = internalDirectives;\n\t  Vue.parsers = {\n\t    path: path,\n\t    text: text$1,\n\t    template: template,\n\t    directive: directive,\n\t    expression: expression\n\t  };\n\t\n\t  /**\n\t   * Each instance constructor, including Vue, has a unique\n\t   * cid. This enables us to create wrapped \"child\n\t   * constructors\" for prototypal inheritance and cache them.\n\t   */\n\t\n\t  Vue.cid = 0;\n\t  var cid = 1;\n\t\n\t  /**\n\t   * Class inheritance\n\t   *\n\t   * @param {Object} extendOptions\n\t   */\n\t\n\t  Vue.extend = function (extendOptions) {\n\t    extendOptions = extendOptions || {};\n\t    var Super = this;\n\t    var isFirstExtend = Super.cid === 0;\n\t    if (isFirstExtend && extendOptions._Ctor) {\n\t      return extendOptions._Ctor;\n\t    }\n\t    var name = extendOptions.name || Super.options.name;\n\t    if (false) {\n\t      if (!/^[a-zA-Z][\\w-]+$/.test(name)) {\n\t        warn('Invalid component name: ' + name);\n\t        name = null;\n\t      }\n\t    }\n\t    var Sub = createClass(name || 'VueComponent');\n\t    Sub.prototype = Object.create(Super.prototype);\n\t    Sub.prototype.constructor = Sub;\n\t    Sub.cid = cid++;\n\t    Sub.options = mergeOptions(Super.options, extendOptions);\n\t    Sub['super'] = Super;\n\t    // allow further extension\n\t    Sub.extend = Super.extend;\n\t    // create asset registers, so extended classes\n\t    // can have their private assets too.\n\t    config._assetTypes.forEach(function (type) {\n\t      Sub[type] = Super[type];\n\t    });\n\t    // enable recursive self-lookup\n\t    if (name) {\n\t      Sub.options.components[name] = Sub;\n\t    }\n\t    // cache constructor\n\t    if (isFirstExtend) {\n\t      extendOptions._Ctor = Sub;\n\t    }\n\t    return Sub;\n\t  };\n\t\n\t  /**\n\t   * A function that returns a sub-class constructor with the\n\t   * given name. This gives us much nicer output when\n\t   * logging instances in the console.\n\t   *\n\t   * @param {String} name\n\t   * @return {Function}\n\t   */\n\t\n\t  function createClass(name) {\n\t    return new Function('return function ' + classify(name) + ' (options) { this._init(options) }')();\n\t  }\n\t\n\t  /**\n\t   * Plugin system\n\t   *\n\t   * @param {Object} plugin\n\t   */\n\t\n\t  Vue.use = function (plugin) {\n\t    /* istanbul ignore if */\n\t    if (plugin.installed) {\n\t      return;\n\t    }\n\t    // additional parameters\n\t    var args = toArray(arguments, 1);\n\t    args.unshift(this);\n\t    if (typeof plugin.install === 'function') {\n\t      plugin.install.apply(plugin, args);\n\t    } else {\n\t      plugin.apply(null, args);\n\t    }\n\t    plugin.installed = true;\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Apply a global mixin by merging it into the default\n\t   * options.\n\t   */\n\t\n\t  Vue.mixin = function (mixin) {\n\t    Vue.options = mergeOptions(Vue.options, mixin);\n\t  };\n\t\n\t  /**\n\t   * Create asset registration methods with the following\n\t   * signature:\n\t   *\n\t   * @param {String} id\n\t   * @param {*} definition\n\t   */\n\t\n\t  config._assetTypes.forEach(function (type) {\n\t    Vue[type] = function (id, definition) {\n\t      if (!definition) {\n\t        return this.options[type + 's'][id];\n\t      } else {\n\t        /* istanbul ignore if */\n\t        if (false) {\n\t          if (type === 'component' && commonTagRE.test(id)) {\n\t            warn('Do not use built-in HTML elements as component ' + 'id: ' + id);\n\t          }\n\t        }\n\t        if (type === 'component' && isPlainObject(definition)) {\n\t          definition.name = id;\n\t          definition = Vue.extend(definition);\n\t        }\n\t        this.options[type + 's'][id] = definition;\n\t        return definition;\n\t      }\n\t    };\n\t  });\n\t}\n\t\n\tvar filterRE = /[^|]\\|[^|]/;\n\t\n\tfunction dataAPI (Vue) {\n\t\n\t  /**\n\t   * Get the value from an expression on this vm.\n\t   *\n\t   * @param {String} exp\n\t   * @param {Boolean} [asStatement]\n\t   * @return {*}\n\t   */\n\t\n\t  Vue.prototype.$get = function (exp, asStatement) {\n\t    var res = parseExpression(exp);\n\t    if (res) {\n\t      if (asStatement && !isSimplePath(exp)) {\n\t        var self = this;\n\t        return function statementHandler() {\n\t          self.$arguments = toArray(arguments);\n\t          res.get.call(self, self);\n\t          self.$arguments = null;\n\t        };\n\t      } else {\n\t        try {\n\t          return res.get.call(this, this);\n\t        } catch (e) {}\n\t      }\n\t    }\n\t  };\n\t\n\t  /**\n\t   * Set the value from an expression on this vm.\n\t   * The expression must be a valid left-hand\n\t   * expression in an assignment.\n\t   *\n\t   * @param {String} exp\n\t   * @param {*} val\n\t   */\n\t\n\t  Vue.prototype.$set = function (exp, val) {\n\t    var res = parseExpression(exp, true);\n\t    if (res && res.set) {\n\t      res.set.call(this, this, val);\n\t    }\n\t  };\n\t\n\t  /**\n\t   * Delete a property on the VM\n\t   *\n\t   * @param {String} key\n\t   */\n\t\n\t  Vue.prototype.$delete = function (key) {\n\t    del(this._data, key);\n\t  };\n\t\n\t  /**\n\t   * Watch an expression, trigger callback when its\n\t   * value changes.\n\t   *\n\t   * @param {String|Function} expOrFn\n\t   * @param {Function} cb\n\t   * @param {Object} [options]\n\t   *                 - {Boolean} deep\n\t   *                 - {Boolean} immediate\n\t   * @return {Function} - unwatchFn\n\t   */\n\t\n\t  Vue.prototype.$watch = function (expOrFn, cb, options) {\n\t    var vm = this;\n\t    var parsed;\n\t    if (typeof expOrFn === 'string') {\n\t      parsed = parseDirective(expOrFn);\n\t      expOrFn = parsed.expression;\n\t    }\n\t    var watcher = new Watcher(vm, expOrFn, cb, {\n\t      deep: options && options.deep,\n\t      sync: options && options.sync,\n\t      filters: parsed && parsed.filters\n\t    });\n\t    if (options && options.immediate) {\n\t      cb.call(vm, watcher.value);\n\t    }\n\t    return function unwatchFn() {\n\t      watcher.teardown();\n\t    };\n\t  };\n\t\n\t  /**\n\t   * Evaluate a text directive, including filters.\n\t   *\n\t   * @param {String} text\n\t   * @param {Boolean} [asStatement]\n\t   * @return {String}\n\t   */\n\t\n\t  Vue.prototype.$eval = function (text, asStatement) {\n\t    // check for filters.\n\t    if (filterRE.test(text)) {\n\t      var dir = parseDirective(text);\n\t      // the filter regex check might give false positive\n\t      // for pipes inside strings, so it's possible that\n\t      // we don't get any filters here\n\t      var val = this.$get(dir.expression, asStatement);\n\t      return dir.filters ? this._applyFilters(val, null, dir.filters) : val;\n\t    } else {\n\t      // no filter\n\t      return this.$get(text, asStatement);\n\t    }\n\t  };\n\t\n\t  /**\n\t   * Interpolate a piece of template text.\n\t   *\n\t   * @param {String} text\n\t   * @return {String}\n\t   */\n\t\n\t  Vue.prototype.$interpolate = function (text) {\n\t    var tokens = parseText(text);\n\t    var vm = this;\n\t    if (tokens) {\n\t      if (tokens.length === 1) {\n\t        return vm.$eval(tokens[0].value) + '';\n\t      } else {\n\t        return tokens.map(function (token) {\n\t          return token.tag ? vm.$eval(token.value) : token.value;\n\t        }).join('');\n\t      }\n\t    } else {\n\t      return text;\n\t    }\n\t  };\n\t\n\t  /**\n\t   * Log instance data as a plain JS object\n\t   * so that it is easier to inspect in console.\n\t   * This method assumes console is available.\n\t   *\n\t   * @param {String} [path]\n\t   */\n\t\n\t  Vue.prototype.$log = function (path) {\n\t    var data = path ? getPath(this._data, path) : this._data;\n\t    if (data) {\n\t      data = clean(data);\n\t    }\n\t    // include computed fields\n\t    if (!path) {\n\t      for (var key in this.$options.computed) {\n\t        data[key] = clean(this[key]);\n\t      }\n\t    }\n\t    console.log(data);\n\t  };\n\t\n\t  /**\n\t   * \"clean\" a getter/setter converted object into a plain\n\t   * object copy.\n\t   *\n\t   * @param {Object} - obj\n\t   * @return {Object}\n\t   */\n\t\n\t  function clean(obj) {\n\t    return JSON.parse(JSON.stringify(obj));\n\t  }\n\t}\n\t\n\tfunction domAPI (Vue) {\n\t\n\t  /**\n\t   * Convenience on-instance nextTick. The callback is\n\t   * auto-bound to the instance, and this avoids component\n\t   * modules having to rely on the global Vue.\n\t   *\n\t   * @param {Function} fn\n\t   */\n\t\n\t  Vue.prototype.$nextTick = function (fn) {\n\t    nextTick(fn, this);\n\t  };\n\t\n\t  /**\n\t   * Append instance to target\n\t   *\n\t   * @param {Node} target\n\t   * @param {Function} [cb]\n\t   * @param {Boolean} [withTransition] - defaults to true\n\t   */\n\t\n\t  Vue.prototype.$appendTo = function (target, cb, withTransition) {\n\t    return insert(this, target, cb, withTransition, append, appendWithTransition);\n\t  };\n\t\n\t  /**\n\t   * Prepend instance to target\n\t   *\n\t   * @param {Node} target\n\t   * @param {Function} [cb]\n\t   * @param {Boolean} [withTransition] - defaults to true\n\t   */\n\t\n\t  Vue.prototype.$prependTo = function (target, cb, withTransition) {\n\t    target = query(target);\n\t    if (target.hasChildNodes()) {\n\t      this.$before(target.firstChild, cb, withTransition);\n\t    } else {\n\t      this.$appendTo(target, cb, withTransition);\n\t    }\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Insert instance before target\n\t   *\n\t   * @param {Node} target\n\t   * @param {Function} [cb]\n\t   * @param {Boolean} [withTransition] - defaults to true\n\t   */\n\t\n\t  Vue.prototype.$before = function (target, cb, withTransition) {\n\t    return insert(this, target, cb, withTransition, beforeWithCb, beforeWithTransition);\n\t  };\n\t\n\t  /**\n\t   * Insert instance after target\n\t   *\n\t   * @param {Node} target\n\t   * @param {Function} [cb]\n\t   * @param {Boolean} [withTransition] - defaults to true\n\t   */\n\t\n\t  Vue.prototype.$after = function (target, cb, withTransition) {\n\t    target = query(target);\n\t    if (target.nextSibling) {\n\t      this.$before(target.nextSibling, cb, withTransition);\n\t    } else {\n\t      this.$appendTo(target.parentNode, cb, withTransition);\n\t    }\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Remove instance from DOM\n\t   *\n\t   * @param {Function} [cb]\n\t   * @param {Boolean} [withTransition] - defaults to true\n\t   */\n\t\n\t  Vue.prototype.$remove = function (cb, withTransition) {\n\t    if (!this.$el.parentNode) {\n\t      return cb && cb();\n\t    }\n\t    var inDocument = this._isAttached && inDoc(this.$el);\n\t    // if we are not in document, no need to check\n\t    // for transitions\n\t    if (!inDocument) withTransition = false;\n\t    var self = this;\n\t    var realCb = function realCb() {\n\t      if (inDocument) self._callHook('detached');\n\t      if (cb) cb();\n\t    };\n\t    if (this._isFragment) {\n\t      removeNodeRange(this._fragmentStart, this._fragmentEnd, this, this._fragment, realCb);\n\t    } else {\n\t      var op = withTransition === false ? removeWithCb : removeWithTransition;\n\t      op(this.$el, this, realCb);\n\t    }\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Shared DOM insertion function.\n\t   *\n\t   * @param {Vue} vm\n\t   * @param {Element} target\n\t   * @param {Function} [cb]\n\t   * @param {Boolean} [withTransition]\n\t   * @param {Function} op1 - op for non-transition insert\n\t   * @param {Function} op2 - op for transition insert\n\t   * @return vm\n\t   */\n\t\n\t  function insert(vm, target, cb, withTransition, op1, op2) {\n\t    target = query(target);\n\t    var targetIsDetached = !inDoc(target);\n\t    var op = withTransition === false || targetIsDetached ? op1 : op2;\n\t    var shouldCallHook = !targetIsDetached && !vm._isAttached && !inDoc(vm.$el);\n\t    if (vm._isFragment) {\n\t      mapNodeRange(vm._fragmentStart, vm._fragmentEnd, function (node) {\n\t        op(node, target, vm);\n\t      });\n\t      cb && cb();\n\t    } else {\n\t      op(vm.$el, target, vm, cb);\n\t    }\n\t    if (shouldCallHook) {\n\t      vm._callHook('attached');\n\t    }\n\t    return vm;\n\t  }\n\t\n\t  /**\n\t   * Check for selectors\n\t   *\n\t   * @param {String|Element} el\n\t   */\n\t\n\t  function query(el) {\n\t    return typeof el === 'string' ? document.querySelector(el) : el;\n\t  }\n\t\n\t  /**\n\t   * Append operation that takes a callback.\n\t   *\n\t   * @param {Node} el\n\t   * @param {Node} target\n\t   * @param {Vue} vm - unused\n\t   * @param {Function} [cb]\n\t   */\n\t\n\t  function append(el, target, vm, cb) {\n\t    target.appendChild(el);\n\t    if (cb) cb();\n\t  }\n\t\n\t  /**\n\t   * InsertBefore operation that takes a callback.\n\t   *\n\t   * @param {Node} el\n\t   * @param {Node} target\n\t   * @param {Vue} vm - unused\n\t   * @param {Function} [cb]\n\t   */\n\t\n\t  function beforeWithCb(el, target, vm, cb) {\n\t    before(el, target);\n\t    if (cb) cb();\n\t  }\n\t\n\t  /**\n\t   * Remove operation that takes a callback.\n\t   *\n\t   * @param {Node} el\n\t   * @param {Vue} vm - unused\n\t   * @param {Function} [cb]\n\t   */\n\t\n\t  function removeWithCb(el, vm, cb) {\n\t    remove(el);\n\t    if (cb) cb();\n\t  }\n\t}\n\t\n\tfunction eventsAPI (Vue) {\n\t\n\t  /**\n\t   * Listen on the given `event` with `fn`.\n\t   *\n\t   * @param {String} event\n\t   * @param {Function} fn\n\t   */\n\t\n\t  Vue.prototype.$on = function (event, fn) {\n\t    (this._events[event] || (this._events[event] = [])).push(fn);\n\t    modifyListenerCount(this, event, 1);\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Adds an `event` listener that will be invoked a single\n\t   * time then automatically removed.\n\t   *\n\t   * @param {String} event\n\t   * @param {Function} fn\n\t   */\n\t\n\t  Vue.prototype.$once = function (event, fn) {\n\t    var self = this;\n\t    function on() {\n\t      self.$off(event, on);\n\t      fn.apply(this, arguments);\n\t    }\n\t    on.fn = fn;\n\t    this.$on(event, on);\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Remove the given callback for `event` or all\n\t   * registered callbacks.\n\t   *\n\t   * @param {String} event\n\t   * @param {Function} fn\n\t   */\n\t\n\t  Vue.prototype.$off = function (event, fn) {\n\t    var cbs;\n\t    // all\n\t    if (!arguments.length) {\n\t      if (this.$parent) {\n\t        for (event in this._events) {\n\t          cbs = this._events[event];\n\t          if (cbs) {\n\t            modifyListenerCount(this, event, -cbs.length);\n\t          }\n\t        }\n\t      }\n\t      this._events = {};\n\t      return this;\n\t    }\n\t    // specific event\n\t    cbs = this._events[event];\n\t    if (!cbs) {\n\t      return this;\n\t    }\n\t    if (arguments.length === 1) {\n\t      modifyListenerCount(this, event, -cbs.length);\n\t      this._events[event] = null;\n\t      return this;\n\t    }\n\t    // specific handler\n\t    var cb;\n\t    var i = cbs.length;\n\t    while (i--) {\n\t      cb = cbs[i];\n\t      if (cb === fn || cb.fn === fn) {\n\t        modifyListenerCount(this, event, -1);\n\t        cbs.splice(i, 1);\n\t        break;\n\t      }\n\t    }\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Trigger an event on self.\n\t   *\n\t   * @param {String} event\n\t   * @return {Boolean} shouldPropagate\n\t   */\n\t\n\t  Vue.prototype.$emit = function (event) {\n\t    var cbs = this._events[event];\n\t    var shouldPropagate = !cbs;\n\t    if (cbs) {\n\t      cbs = cbs.length > 1 ? toArray(cbs) : cbs;\n\t      var args = toArray(arguments, 1);\n\t      for (var i = 0, l = cbs.length; i < l; i++) {\n\t        var res = cbs[i].apply(this, args);\n\t        if (res === true) {\n\t          shouldPropagate = true;\n\t        }\n\t      }\n\t    }\n\t    return shouldPropagate;\n\t  };\n\t\n\t  /**\n\t   * Recursively broadcast an event to all children instances.\n\t   *\n\t   * @param {String} event\n\t   * @param {...*} additional arguments\n\t   */\n\t\n\t  Vue.prototype.$broadcast = function (event) {\n\t    // if no child has registered for this event,\n\t    // then there's no need to broadcast.\n\t    if (!this._eventsCount[event]) return;\n\t    var children = this.$children;\n\t    for (var i = 0, l = children.length; i < l; i++) {\n\t      var child = children[i];\n\t      var shouldPropagate = child.$emit.apply(child, arguments);\n\t      if (shouldPropagate) {\n\t        child.$broadcast.apply(child, arguments);\n\t      }\n\t    }\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Recursively propagate an event up the parent chain.\n\t   *\n\t   * @param {String} event\n\t   * @param {...*} additional arguments\n\t   */\n\t\n\t  Vue.prototype.$dispatch = function () {\n\t    this.$emit.apply(this, arguments);\n\t    var parent = this.$parent;\n\t    while (parent) {\n\t      var shouldPropagate = parent.$emit.apply(parent, arguments);\n\t      parent = shouldPropagate ? parent.$parent : null;\n\t    }\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Modify the listener counts on all parents.\n\t   * This bookkeeping allows $broadcast to return early when\n\t   * no child has listened to a certain event.\n\t   *\n\t   * @param {Vue} vm\n\t   * @param {String} event\n\t   * @param {Number} count\n\t   */\n\t\n\t  var hookRE = /^hook:/;\n\t  function modifyListenerCount(vm, event, count) {\n\t    var parent = vm.$parent;\n\t    // hooks do not get broadcasted so no need\n\t    // to do bookkeeping for them\n\t    if (!parent || !count || hookRE.test(event)) return;\n\t    while (parent) {\n\t      parent._eventsCount[event] = (parent._eventsCount[event] || 0) + count;\n\t      parent = parent.$parent;\n\t    }\n\t  }\n\t}\n\t\n\tfunction lifecycleAPI (Vue) {\n\t\n\t  /**\n\t   * Set instance target element and kick off the compilation\n\t   * process. The passed in `el` can be a selector string, an\n\t   * existing Element, or a DocumentFragment (for block\n\t   * instances).\n\t   *\n\t   * @param {Element|DocumentFragment|string} el\n\t   * @public\n\t   */\n\t\n\t  Vue.prototype.$mount = function (el) {\n\t    if (this._isCompiled) {\n\t      (\"production\") !== 'production' && warn('$mount() should be called only once.');\n\t      return;\n\t    }\n\t    el = query(el);\n\t    if (!el) {\n\t      el = document.createElement('div');\n\t    }\n\t    this._compile(el);\n\t    this._initDOMHooks();\n\t    if (inDoc(this.$el)) {\n\t      this._callHook('attached');\n\t      ready.call(this);\n\t    } else {\n\t      this.$once('hook:attached', ready);\n\t    }\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Mark an instance as ready.\n\t   */\n\t\n\t  function ready() {\n\t    this._isAttached = true;\n\t    this._isReady = true;\n\t    this._callHook('ready');\n\t  }\n\t\n\t  /**\n\t   * Teardown the instance, simply delegate to the internal\n\t   * _destroy.\n\t   */\n\t\n\t  Vue.prototype.$destroy = function (remove, deferCleanup) {\n\t    this._destroy(remove, deferCleanup);\n\t  };\n\t\n\t  /**\n\t   * Partially compile a piece of DOM and return a\n\t   * decompile function.\n\t   *\n\t   * @param {Element|DocumentFragment} el\n\t   * @param {Vue} [host]\n\t   * @return {Function}\n\t   */\n\t\n\t  Vue.prototype.$compile = function (el, host, scope, frag) {\n\t    return compile(el, this.$options, true)(this, el, host, scope, frag);\n\t  };\n\t}\n\t\n\t/**\n\t * The exposed Vue constructor.\n\t *\n\t * API conventions:\n\t * - public API methods/properties are prefixed with `$`\n\t * - internal methods/properties are prefixed with `_`\n\t * - non-prefixed properties are assumed to be proxied user\n\t *   data.\n\t *\n\t * @constructor\n\t * @param {Object} [options]\n\t * @public\n\t */\n\t\n\tfunction Vue(options) {\n\t  this._init(options);\n\t}\n\t\n\t// install internals\n\tinitMixin(Vue);\n\tstateMixin(Vue);\n\teventsMixin(Vue);\n\tlifecycleMixin(Vue);\n\tmiscMixin(Vue);\n\t\n\t// install APIs\n\tglobalAPI(Vue);\n\tdataAPI(Vue);\n\tdomAPI(Vue);\n\teventsAPI(Vue);\n\tlifecycleAPI(Vue);\n\t\n\tvar convertArray = vFor._postProcess;\n\t\n\t/**\n\t * Limit filter for arrays\n\t *\n\t * @param {Number} n\n\t * @param {Number} offset (Decimal expected)\n\t */\n\t\n\tfunction limitBy(arr, n, offset) {\n\t  offset = offset ? parseInt(offset, 10) : 0;\n\t  return typeof n === 'number' ? arr.slice(offset, offset + n) : arr;\n\t}\n\t\n\t/**\n\t * Filter filter for arrays\n\t *\n\t * @param {String} search\n\t * @param {String} [delimiter]\n\t * @param {String} ...dataKeys\n\t */\n\t\n\tfunction filterBy(arr, search, delimiter) {\n\t  arr = convertArray(arr);\n\t  if (search == null) {\n\t    return arr;\n\t  }\n\t  if (typeof search === 'function') {\n\t    return arr.filter(search);\n\t  }\n\t  // cast to lowercase string\n\t  search = ('' + search).toLowerCase();\n\t  // allow optional `in` delimiter\n\t  // because why not\n\t  var n = delimiter === 'in' ? 3 : 2;\n\t  // extract and flatten keys\n\t  var keys = toArray(arguments, n).reduce(function (prev, cur) {\n\t    return prev.concat(cur);\n\t  }, []);\n\t  var res = [];\n\t  var item, key, val, j;\n\t  for (var i = 0, l = arr.length; i < l; i++) {\n\t    item = arr[i];\n\t    val = item && item.$value || item;\n\t    j = keys.length;\n\t    if (j) {\n\t      while (j--) {\n\t        key = keys[j];\n\t        if (key === '$key' && contains(item.$key, search) || contains(getPath(val, key), search)) {\n\t          res.push(item);\n\t          break;\n\t        }\n\t      }\n\t    } else if (contains(item, search)) {\n\t      res.push(item);\n\t    }\n\t  }\n\t  return res;\n\t}\n\t\n\t/**\n\t * Filter filter for arrays\n\t *\n\t * @param {String} sortKey\n\t * @param {String} reverse\n\t */\n\t\n\tfunction orderBy(arr, sortKey, reverse) {\n\t  arr = convertArray(arr);\n\t  if (!sortKey) {\n\t    return arr;\n\t  }\n\t  var order = reverse && reverse < 0 ? -1 : 1;\n\t  // sort on a copy to avoid mutating original array\n\t  return arr.slice().sort(function (a, b) {\n\t    if (sortKey !== '$key') {\n\t      if (isObject(a) && '$value' in a) a = a.$value;\n\t      if (isObject(b) && '$value' in b) b = b.$value;\n\t    }\n\t    a = isObject(a) ? getPath(a, sortKey) : a;\n\t    b = isObject(b) ? getPath(b, sortKey) : b;\n\t    return a === b ? 0 : a > b ? order : -order;\n\t  });\n\t}\n\t\n\t/**\n\t * String contain helper\n\t *\n\t * @param {*} val\n\t * @param {String} search\n\t */\n\t\n\tfunction contains(val, search) {\n\t  var i;\n\t  if (isPlainObject(val)) {\n\t    var keys = Object.keys(val);\n\t    i = keys.length;\n\t    while (i--) {\n\t      if (contains(val[keys[i]], search)) {\n\t        return true;\n\t      }\n\t    }\n\t  } else if (isArray(val)) {\n\t    i = val.length;\n\t    while (i--) {\n\t      if (contains(val[i], search)) {\n\t        return true;\n\t      }\n\t    }\n\t  } else if (val != null) {\n\t    return val.toString().toLowerCase().indexOf(search) > -1;\n\t  }\n\t}\n\t\n\tvar digitsRE = /(\\d{3})(?=\\d)/g;\n\t\n\t// asset collections must be a plain object.\n\tvar filters = {\n\t\n\t  orderBy: orderBy,\n\t  filterBy: filterBy,\n\t  limitBy: limitBy,\n\t\n\t  /**\n\t   * Stringify value.\n\t   *\n\t   * @param {Number} indent\n\t   */\n\t\n\t  json: {\n\t    read: function read(value, indent) {\n\t      return typeof value === 'string' ? value : JSON.stringify(value, null, Number(indent) || 2);\n\t    },\n\t    write: function write(value) {\n\t      try {\n\t        return JSON.parse(value);\n\t      } catch (e) {\n\t        return value;\n\t      }\n\t    }\n\t  },\n\t\n\t  /**\n\t   * 'abc' => 'Abc'\n\t   */\n\t\n\t  capitalize: function capitalize(value) {\n\t    if (!value && value !== 0) return '';\n\t    value = value.toString();\n\t    return value.charAt(0).toUpperCase() + value.slice(1);\n\t  },\n\t\n\t  /**\n\t   * 'abc' => 'ABC'\n\t   */\n\t\n\t  uppercase: function uppercase(value) {\n\t    return value || value === 0 ? value.toString().toUpperCase() : '';\n\t  },\n\t\n\t  /**\n\t   * 'AbC' => 'abc'\n\t   */\n\t\n\t  lowercase: function lowercase(value) {\n\t    return value || value === 0 ? value.toString().toLowerCase() : '';\n\t  },\n\t\n\t  /**\n\t   * 12345 => $12,345.00\n\t   *\n\t   * @param {String} sign\n\t   */\n\t\n\t  currency: function currency(value, _currency) {\n\t    value = parseFloat(value);\n\t    if (!isFinite(value) || !value && value !== 0) return '';\n\t    _currency = _currency != null ? _currency : '$';\n\t    var stringified = Math.abs(value).toFixed(2);\n\t    var _int = stringified.slice(0, -3);\n\t    var i = _int.length % 3;\n\t    var head = i > 0 ? _int.slice(0, i) + (_int.length > 3 ? ',' : '') : '';\n\t    var _float = stringified.slice(-3);\n\t    var sign = value < 0 ? '-' : '';\n\t    return _currency + sign + head + _int.slice(i).replace(digitsRE, '$1,') + _float;\n\t  },\n\t\n\t  /**\n\t   * 'item' => 'items'\n\t   *\n\t   * @params\n\t   *  an array of strings corresponding to\n\t   *  the single, double, triple ... forms of the word to\n\t   *  be pluralized. When the number to be pluralized\n\t   *  exceeds the length of the args, it will use the last\n\t   *  entry in the array.\n\t   *\n\t   *  e.g. ['single', 'double', 'triple', 'multiple']\n\t   */\n\t\n\t  pluralize: function pluralize(value) {\n\t    var args = toArray(arguments, 1);\n\t    return args.length > 1 ? args[value % 10 - 1] || args[args.length - 1] : args[0] + (value === 1 ? '' : 's');\n\t  },\n\t\n\t  /**\n\t   * Debounce a handler function.\n\t   *\n\t   * @param {Function} handler\n\t   * @param {Number} delay = 300\n\t   * @return {Function}\n\t   */\n\t\n\t  debounce: function debounce(handler, delay) {\n\t    if (!handler) return;\n\t    if (!delay) {\n\t      delay = 300;\n\t    }\n\t    return _debounce(handler, delay);\n\t  }\n\t};\n\t\n\tvar partial = {\n\t\n\t  priority: 1750,\n\t\n\t  params: ['name'],\n\t\n\t  // watch changes to name for dynamic partials\n\t  paramWatchers: {\n\t    name: function name(value) {\n\t      vIf.remove.call(this);\n\t      if (value) {\n\t        this.insert(value);\n\t      }\n\t    }\n\t  },\n\t\n\t  bind: function bind() {\n\t    this.anchor = createAnchor('v-partial');\n\t    replace(this.el, this.anchor);\n\t    this.insert(this.params.name);\n\t  },\n\t\n\t  insert: function insert(id) {\n\t    var partial = resolveAsset(this.vm.$options, 'partials', id);\n\t    if (false) {\n\t      assertAsset(partial, 'partial', id);\n\t    }\n\t    if (partial) {\n\t      this.factory = new FragmentFactory(this.vm, partial);\n\t      vIf.insert.call(this);\n\t    }\n\t  },\n\t\n\t  unbind: function unbind() {\n\t    if (this.frag) {\n\t      this.frag.destroy();\n\t    }\n\t  }\n\t};\n\t\n\t// This is the elementDirective that handles <content>\n\t// transclusions. It relies on the raw content of an\n\t// instance being stored as `$options._content` during\n\t// the transclude phase.\n\t\n\t// We are exporting two versions, one for named and one\n\t// for unnamed, because the unnamed slots must be compiled\n\t// AFTER all named slots have selected their content. So\n\t// we need to give them different priorities in the compilation\n\t// process. (See #1965)\n\t\n\tvar slot = {\n\t\n\t  priority: 1750,\n\t\n\t  bind: function bind() {\n\t    var host = this.vm;\n\t    var raw = host.$options._content;\n\t    if (!raw) {\n\t      this.fallback();\n\t      return;\n\t    }\n\t    var context = host._context;\n\t    var slotName = this.params && this.params.name;\n\t    if (!slotName) {\n\t      // Default slot\n\t      this.tryCompile(extractFragment(raw.childNodes, raw, true), context, host);\n\t    } else {\n\t      // Named slot\n\t      var selector = '[slot=\"' + slotName + '\"]';\n\t      var nodes = raw.querySelectorAll(selector);\n\t      if (nodes.length) {\n\t        this.tryCompile(extractFragment(nodes, raw), context, host);\n\t      } else {\n\t        this.fallback();\n\t      }\n\t    }\n\t  },\n\t\n\t  tryCompile: function tryCompile(content, context, host) {\n\t    if (content.hasChildNodes()) {\n\t      this.compile(content, context, host);\n\t    } else {\n\t      this.fallback();\n\t    }\n\t  },\n\t\n\t  compile: function compile(content, context, host) {\n\t    if (content && context) {\n\t      var scope = host ? host._scope : this._scope;\n\t      this.unlink = context.$compile(content, host, scope, this._frag);\n\t    }\n\t    if (content) {\n\t      replace(this.el, content);\n\t    } else {\n\t      remove(this.el);\n\t    }\n\t  },\n\t\n\t  fallback: function fallback() {\n\t    this.compile(extractContent(this.el, true), this.vm);\n\t  },\n\t\n\t  unbind: function unbind() {\n\t    if (this.unlink) {\n\t      this.unlink();\n\t    }\n\t  }\n\t};\n\t\n\tvar namedSlot = extend(extend({}, slot), {\n\t  priority: slot.priority + 1,\n\t  params: ['name']\n\t});\n\t\n\t/**\n\t * Extract qualified content nodes from a node list.\n\t *\n\t * @param {NodeList} nodes\n\t * @param {Element} parent\n\t * @param {Boolean} main\n\t * @return {DocumentFragment}\n\t */\n\t\n\tfunction extractFragment(nodes, parent, main) {\n\t  var frag = document.createDocumentFragment();\n\t  for (var i = 0, l = nodes.length; i < l; i++) {\n\t    var node = nodes[i];\n\t    // if this is the main outlet, we want to skip all\n\t    // previously selected nodes;\n\t    // otherwise, we want to mark the node as selected.\n\t    // clone the node so the original raw content remains\n\t    // intact. this ensures proper re-compilation in cases\n\t    // where the outlet is inside a conditional block\n\t    if (main && !node.__v_selected) {\n\t      append(node);\n\t    } else if (!main && node.parentNode === parent) {\n\t      node.__v_selected = true;\n\t      append(node);\n\t    }\n\t  }\n\t  return frag;\n\t\n\t  function append(node) {\n\t    if (isTemplate(node) && !node.hasAttribute('v-if') && !node.hasAttribute('v-for')) {\n\t      node = parseTemplate(node);\n\t    }\n\t    node = cloneNode(node);\n\t    frag.appendChild(node);\n\t  }\n\t}\n\t\n\tvar elementDirectives = {\n\t  slot: slot,\n\t  _namedSlot: namedSlot, // same as slot but with higher priority\n\t  partial: partial\n\t};\n\t\n\tVue.version = '1.0.11';\n\t\n\t/**\n\t * Vue and every constructor that extends Vue has an\n\t * associated options object, which can be accessed during\n\t * compilation steps as `this.constructor.options`.\n\t *\n\t * These can be seen as the default options of every\n\t * Vue instance.\n\t */\n\t\n\tVue.options = {\n\t  directives: publicDirectives,\n\t  elementDirectives: elementDirectives,\n\t  filters: filters,\n\t  transitions: {},\n\t  components: {},\n\t  partials: {},\n\t  replace: true\n\t};\n\t\n\t// devtools global hook\n\t/* istanbul ignore if */\n\tif (false) {\n\t  if (window.__VUE_DEVTOOLS_GLOBAL_HOOK__) {\n\t    window.__VUE_DEVTOOLS_GLOBAL_HOOK__.emit('init', Vue);\n\t  } else if (/Chrome\\/\\d+/.test(navigator.userAgent)) {\n\t    console.log('Download the Vue Devtools for a better development experience:\\n' + 'https://github.com/vuejs/vue-devtools');\n\t  }\n\t}\n\t\n\tmodule.exports = Vue;\n\n/***/ },\n/* 72 */\n/***/ function(module, exports) {\n\n\tvar MAGIC_NUMBER = 5;\n\tvar COLOR_LIMITE = 242;\n\t\n\tfunction getRGB(word) {\n\t  word = word.replace(/^\\s+(.*)\\s+$/g, '$1');\n\t  var rgb = [0, 0, 0];\n\t  for (var i = 0; i < word.length; i++) {\n\t    var level = parseInt(i / rgb.length);\n\t    rgb[i % 3] += parseInt(getAHashNum(word[i]) / getRatio(level));\n\t  }\n\t  for (var j = 0; j < rgb.length; j++) {\n\t    if (rgb[j] > 255) {\n\t      rgb[j] = 255;\n\t    }\n\t  }\n\t  return rgb;\n\t}\n\t\n\tfunction wordColor(word) {\n\t  var rgb = getRGB(word);\n\t  return 'rgb(' + rgb.join(',') + ')';\n\t}\n\t\n\tfunction getRatio(level) {\n\t  return Math.pow(MAGIC_NUMBER, level);\n\t}\n\t\n\tfunction getAHashNum(char) {\n\t  return parseInt((char.charCodeAt() << MAGIC_NUMBER) % COLOR_LIMITE);\n\t}\n\t\n\t// export pure numbers color method\n\twordColor.rgb = getRGB;\n\tmodule.exports = wordColor;\n\n\n/***/ },\n/* 73 */,\n/* 74 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _logo = __webpack_require__(82);\n\t\n\tvar _logo2 = _interopRequireDefault(_logo);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar debug = __webpack_require__(3)('loading'); // <template>\n\t//   <div>\n\t//     <logo class=\"loading center\" v-show=\"loading\"></logo>\n\t//     <div v-show=\"!loading\">\n\t//       <slot></slot>\n\t//     </div>\n\t//   </div>\n\t// </template>\n\t\n\t// <script type=\"text/javascript\">\n\t\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      loading: true\n\t    };\n\t  },\n\t\n\t  props: [],\n\t  components: {\n\t    'logo': _logo2.default\n\t  },\n\t  created: function created() {\n\t    var _this = this;\n\t\n\t    this.$on('loaded', function () {\n\t      _this.loading = false;\n\t    });\n\t  }\n\t};\n\t\n\t// </script>\n\n\t// <style lang=\"stylus\">\n\t// .big-font\n\t//   text-align center\n\t//   padding-top 100px\n\t//   font-size 60px\n\t// </style>\n\n/***/ },\n/* 75 */,\n/* 76 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 77 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 78 */,\n/* 79 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div><logo class=\\\"loading center\\\" v-show=loading></logo><div v-show=!loading><slot></slot></div></div>\";\n\n/***/ },\n/* 80 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=logo><div><span class=left-yellow></span><span class=right-green></span></div><div><span class=full-green></span></div><div><span class=left-green></span><span class=middle-red></span><span class=right-red></span></div></div>\";\n\n/***/ },\n/* 81 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(76)\n\tmodule.exports = __webpack_require__(74)\n\t\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\t;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __webpack_require__(79)\n\tif (false) {(function () {  module.hot.accept()\n\t  var hotAPI = require(\"vue-hot-reload-api\")\n\t  hotAPI.install(require(\"vue\"), true)\n\t  if (!hotAPI.compatible) return\n\t  var id = \"/Users/yuqiu/github/code-review-web/src/components/loading.vue\"\n\t  if (!module.hot.data) {\n\t    hotAPI.createRecord(id, module.exports)\n\t  } else {\n\t    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n\t  }\n\t})()}\n\n/***/ },\n/* 82 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(77)\n\t;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __webpack_require__(80)\n\tif (false) {(function () {  module.hot.accept()\n\t  var hotAPI = require(\"vue-hot-reload-api\")\n\t  hotAPI.install(require(\"vue\"), true)\n\t  if (!hotAPI.compatible) return\n\t  var id = \"/Users/yuqiu/github/code-review-web/src/components/logo.vue\"\n\t  if (!module.hot.data) {\n\t    hotAPI.createRecord(id, module.exports)\n\t  } else {\n\t    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n\t  }\n\t})()}\n\n/***/ },\n/* 83 */,\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */,\n/* 88 */,\n/* 89 */,\n/* 90 */,\n/* 91 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _serviceUrl = __webpack_require__(5);\n\t\n\tvar _serviceUrl2 = _interopRequireDefault(_serviceUrl);\n\t\n\tvar _util = __webpack_require__(2);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// <template>\n\t//     <div class=\"tag-item\">\n\t//       <div class=\"point\" :style=\"{ background: '#' + tag.color }\"></div>\n\t//       <p class=\"tag-name\">{{tag.tagName}}</p>\n\t//       <i v-if=\"showDel\" class=\"delete\" @click=\"removeTag(tag.tagId)\"></i>\n\t//     </div>\n\t// </template>\n\t\n\t// <script type=\"text/javascript\">\n\t\n\tvar debug = __webpack_require__(3)('tag');\n\texports.default = {\n\t  props: ['tag', 'showDel'],\n\t  methods: {\n\t    removeTag: function removeTag(tagId) {\n\t      var _this = this;\n\t\n\t      this.$http.delete(_serviceUrl2.default.userTagDelete.replace(/:tagId/, tagId), {\n\t        emulateJSON: true\n\t      }).then(function (res) {\n\t        _this.$dispatch('remove-tag', res.data.result);\n\t      }, _util2.default.httpErrorFn(this));\n\t    }\n\t  },\n\t  ready: function ready() {\n\t    // debug('showDel: ' + this.showDel);\n\t  }\n\t};\n\t\n\t// </script>\n\n\t// <style lang=\"stylus\">\n\n\t// .tag-item\n\t//   display inline-block\n\t//   font-size 14px\n\t//   text-align left\n\t//   margin auto 0\n\t//   line-height 30px\n\t//   width auto\n\n\t// .point\n\t//   width 12px\n\t//   height 12px\n\t//   margin auto 10px auto 0px\n\t//   background #f00\n\t//   border-radius 6px\n\t//   display inline-block\n\n\t// .tag-name\n\t//   display inline-block\n\n\t// .delete\n\t//   margin-left 10px\n\t//   background url(../img/icon/delete.png) no-repeat\n\t//   width 10px\n\t//   height 10px\n\t//   display inline-block\n\t//   margin-top 20px\n\t//   cursor pointer\n\n\t// </style>\n\n/***/ },\n/* 92 */,\n/* 93 */\n/***/ function(module, exports) {\n\n\t/**\n\t * mOxie - multi-runtime File API & XMLHttpRequest L2 Polyfill\n\t * v1.2.1\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t *\n\t * Date: 2014-05-14\n\t */\n\t/**\n\t * Compiled inline version. (Library mode)\n\t */\n\t\n\t/*jshint smarttabs:true, undef:true, latedef:true, curly:true, bitwise:true, camelcase:true */\n\t/*globals $code */\n\t\n\t(function(exports, undefined) {\n\t\t\"use strict\";\n\t\n\t\tvar modules = {};\n\t\n\t\tfunction require(ids, callback) {\n\t\t\tvar module, defs = [];\n\t\n\t\t\tfor (var i = 0; i < ids.length; ++i) {\n\t\t\t\tmodule = modules[ids[i]] || resolve(ids[i]);\n\t\t\t\tif (!module) {\n\t\t\t\t\tthrow 'module definition dependecy not found: ' + ids[i];\n\t\t\t\t}\n\t\n\t\t\t\tdefs.push(module);\n\t\t\t}\n\t\n\t\t\tcallback.apply(null, defs);\n\t\t}\n\t\n\t\tfunction define(id, dependencies, definition) {\n\t\t\tif (typeof id !== 'string') {\n\t\t\t\tthrow 'invalid module definition, module id must be defined and be a string';\n\t\t\t}\n\t\n\t\t\tif (dependencies === undefined) {\n\t\t\t\tthrow 'invalid module definition, dependencies must be specified';\n\t\t\t}\n\t\n\t\t\tif (definition === undefined) {\n\t\t\t\tthrow 'invalid module definition, definition function must be specified';\n\t\t\t}\n\t\n\t\t\trequire(dependencies, function() {\n\t\t\t\tmodules[id] = definition.apply(null, arguments);\n\t\t\t});\n\t\t}\n\t\n\t\tfunction defined(id) {\n\t\t\treturn !!modules[id];\n\t\t}\n\t\n\t\tfunction resolve(id) {\n\t\t\tvar target = exports;\n\t\t\tvar fragments = id.split(/[.\\/]/);\n\t\n\t\t\tfor (var fi = 0; fi < fragments.length; ++fi) {\n\t\t\t\tif (!target[fragments[fi]]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\ttarget = target[fragments[fi]];\n\t\t\t}\n\t\n\t\t\treturn target;\n\t\t}\n\t\n\t\tfunction expose(ids) {\n\t\t\tfor (var i = 0; i < ids.length; i++) {\n\t\t\t\tvar target = exports;\n\t\t\t\tvar id = ids[i];\n\t\t\t\tvar fragments = id.split(/[.\\/]/);\n\t\n\t\t\t\tfor (var fi = 0; fi < fragments.length - 1; ++fi) {\n\t\t\t\t\tif (target[fragments[fi]] === undefined) {\n\t\t\t\t\t\ttarget[fragments[fi]] = {};\n\t\t\t\t\t}\n\t\n\t\t\t\t\ttarget = target[fragments[fi]];\n\t\t\t\t}\n\t\n\t\t\t\ttarget[fragments[fragments.length - 1]] = modules[id];\n\t\t\t}\n\t\t}\n\t\n\t// Included from: src/javascript/core/utils/Basic.js\n\t\n\t/**\n\t * Basic.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine('moxie/core/utils/Basic', [], function() {\n\t\t/**\n\t\tGets the true type of the built-in object (better version of typeof).\n\t\t@author Angus Croll (http://javascriptweblog.wordpress.com/)\n\t\n\t\t@method typeOf\n\t\t@for Utils\n\t\t@static\n\t\t@param {Object} o Object to check.\n\t\t@return {String} Object [[Class]]\n\t\t*/\n\t\tvar typeOf = function(o) {\n\t\t\tvar undef;\n\t\n\t\t\tif (o === undef) {\n\t\t\t\treturn 'undefined';\n\t\t\t} else if (o === null) {\n\t\t\t\treturn 'null';\n\t\t\t} else if (o.nodeType) {\n\t\t\t\treturn 'node';\n\t\t\t}\n\t\n\t\t\t// the snippet below is awesome, however it fails to detect null, undefined and arguments types in IE lte 8\n\t\t\treturn ({}).toString.call(o).match(/\\s([a-z|A-Z]+)/)[1].toLowerCase();\n\t\t};\n\t\t\t\n\t\t/**\n\t\tExtends the specified object with another object.\n\t\n\t\t@method extend\n\t\t@static\n\t\t@param {Object} target Object to extend.\n\t\t@param {Object} [obj]* Multiple objects to extend with.\n\t\t@return {Object} Same as target, the extended object.\n\t\t*/\n\t\tvar extend = function(target) {\n\t\t\tvar undef;\n\t\n\t\t\teach(arguments, function(arg, i) {\n\t\t\t\tif (i > 0) {\n\t\t\t\t\teach(arg, function(value, key) {\n\t\t\t\t\t\tif (value !== undef) {\n\t\t\t\t\t\t\tif (typeOf(target[key]) === typeOf(value) && !!~inArray(typeOf(value), ['array', 'object'])) {\n\t\t\t\t\t\t\t\textend(target[key], value);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttarget[key] = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn target;\n\t\t};\n\t\t\t\n\t\t/**\n\t\tExecutes the callback function for each item in array/object. If you return false in the\n\t\tcallback it will break the loop.\n\t\n\t\t@method each\n\t\t@static\n\t\t@param {Object} obj Object to iterate.\n\t\t@param {function} callback Callback function to execute for each item.\n\t\t*/\n\t\tvar each = function(obj, callback) {\n\t\t\tvar length, key, i, undef;\n\t\n\t\t\tif (obj) {\n\t\t\t\ttry {\n\t\t\t\t\tlength = obj.length;\n\t\t\t\t} catch(ex) {\n\t\t\t\t\tlength = undef;\n\t\t\t\t}\n\t\n\t\t\t\tif (length === undef) {\n\t\t\t\t\t// Loop object items\n\t\t\t\t\tfor (key in obj) {\n\t\t\t\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tif (callback(obj[key], key) === false) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Loop array items\n\t\t\t\t\tfor (i = 0; i < length; i++) {\n\t\t\t\t\t\tif (callback(obj[i], i) === false) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\tChecks if object is empty.\n\t\t\n\t\t@method isEmptyObj\n\t\t@static\n\t\t@param {Object} o Object to check.\n\t\t@return {Boolean}\n\t\t*/\n\t\tvar isEmptyObj = function(obj) {\n\t\t\tvar prop;\n\t\n\t\t\tif (!obj || typeOf(obj) !== 'object') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\n\t\t\tfor (prop in obj) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t};\n\t\n\t\t/**\n\t\tRecieve an array of functions (usually async) to call in sequence, each  function\n\t\treceives a callback as first argument that it should call, when it completes. Finally,\n\t\tafter everything is complete, main callback is called. Passing truthy value to the\n\t\tcallback as a first argument will interrupt the sequence and invoke main callback\n\t\timmediately.\n\t\n\t\t@method inSeries\n\t\t@static\n\t\t@param {Array} queue Array of functions to call in sequence\n\t\t@param {Function} cb Main callback that is called in the end, or in case of error\n\t\t*/\n\t\tvar inSeries = function(queue, cb) {\n\t\t\tvar i = 0, length = queue.length;\n\t\n\t\t\tif (typeOf(cb) !== 'function') {\n\t\t\t\tcb = function() {};\n\t\t\t}\n\t\n\t\t\tif (!queue || !queue.length) {\n\t\t\t\tcb();\n\t\t\t}\n\t\n\t\t\tfunction callNext(i) {\n\t\t\t\tif (typeOf(queue[i]) === 'function') {\n\t\t\t\t\tqueue[i](function(error) {\n\t\t\t\t\t\t/*jshint expr:true */\n\t\t\t\t\t\t++i < length && !error ? callNext(i) : cb(error);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tcallNext(i);\n\t\t};\n\t\n\t\n\t\t/**\n\t\tRecieve an array of functions (usually async) to call in parallel, each  function\n\t\treceives a callback as first argument that it should call, when it completes. After \n\t\teverything is complete, main callback is called. Passing truthy value to the\n\t\tcallback as a first argument will interrupt the process and invoke main callback\n\t\timmediately.\n\t\n\t\t@method inParallel\n\t\t@static\n\t\t@param {Array} queue Array of functions to call in sequence\n\t\t@param {Function} cb Main callback that is called in the end, or in case of erro\n\t\t*/\n\t\tvar inParallel = function(queue, cb) {\n\t\t\tvar count = 0, num = queue.length, cbArgs = new Array(num);\n\t\n\t\t\teach(queue, function(fn, i) {\n\t\t\t\tfn(function(error) {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\treturn cb(error);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar args = [].slice.call(arguments);\n\t\t\t\t\targs.shift(); // strip error - undefined or not\n\t\n\t\t\t\t\tcbArgs[i] = args;\n\t\t\t\t\tcount++;\n\t\n\t\t\t\t\tif (count === num) {\n\t\t\t\t\t\tcbArgs.unshift(null);\n\t\t\t\t\t\tcb.apply(this, cbArgs);\n\t\t\t\t\t} \n\t\t\t\t});\n\t\t\t});\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\tFind an element in array and return it's index if present, otherwise return -1.\n\t\t\n\t\t@method inArray\n\t\t@static\n\t\t@param {Mixed} needle Element to find\n\t\t@param {Array} array\n\t\t@return {Int} Index of the element, or -1 if not found\n\t\t*/\n\t\tvar inArray = function(needle, array) {\n\t\t\tif (array) {\n\t\t\t\tif (Array.prototype.indexOf) {\n\t\t\t\t\treturn Array.prototype.indexOf.call(array, needle);\n\t\t\t\t}\n\t\t\t\n\t\t\t\tfor (var i = 0, length = array.length; i < length; i++) {\n\t\t\t\t\tif (array[i] === needle) {\n\t\t\t\t\t\treturn i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t};\n\t\n\t\n\t\t/**\n\t\tReturns elements of first array if they are not present in second. And false - otherwise.\n\t\n\t\t@private\n\t\t@method arrayDiff\n\t\t@param {Array} needles\n\t\t@param {Array} array\n\t\t@return {Array|Boolean}\n\t\t*/\n\t\tvar arrayDiff = function(needles, array) {\n\t\t\tvar diff = [];\n\t\n\t\t\tif (typeOf(needles) !== 'array') {\n\t\t\t\tneedles = [needles];\n\t\t\t}\n\t\n\t\t\tif (typeOf(array) !== 'array') {\n\t\t\t\tarray = [array];\n\t\t\t}\n\t\n\t\t\tfor (var i in needles) {\n\t\t\t\tif (inArray(needles[i], array) === -1) {\n\t\t\t\t\tdiff.push(needles[i]);\n\t\t\t\t}\t\n\t\t\t}\n\t\t\treturn diff.length ? diff : false;\n\t\t};\n\t\n\t\n\t\t/**\n\t\tFind intersection of two arrays.\n\t\n\t\t@private\n\t\t@method arrayIntersect\n\t\t@param {Array} array1\n\t\t@param {Array} array2\n\t\t@return {Array} Intersection of two arrays or null if there is none\n\t\t*/\n\t\tvar arrayIntersect = function(array1, array2) {\n\t\t\tvar result = [];\n\t\t\teach(array1, function(item) {\n\t\t\t\tif (inArray(item, array2) !== -1) {\n\t\t\t\t\tresult.push(item);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result.length ? result : null;\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\tForces anything into an array.\n\t\t\n\t\t@method toArray\n\t\t@static\n\t\t@param {Object} obj Object with length field.\n\t\t@return {Array} Array object containing all items.\n\t\t*/\n\t\tvar toArray = function(obj) {\n\t\t\tvar i, arr = [];\n\t\n\t\t\tfor (i = 0; i < obj.length; i++) {\n\t\t\t\tarr[i] = obj[i];\n\t\t\t}\n\t\n\t\t\treturn arr;\n\t\t};\n\t\t\n\t\t\t\t\n\t\t/**\n\t\tGenerates an unique ID. This is 99.99% unique since it takes the current time and 5 random numbers.\n\t\tThe only way a user would be able to get the same ID is if the two persons at the same exact milisecond manages\n\t\tto get 5 the same random numbers between 0-65535 it also uses a counter so each call will be guaranteed to be page unique.\n\t\tIt's more probable for the earth to be hit with an ansteriod. Y\n\t\t\n\t\t@method guid\n\t\t@static\n\t\t@param {String} prefix to prepend (by default 'o' will be prepended).\n\t\t@method guid\n\t\t@return {String} Virtually unique id.\n\t\t*/\n\t\tvar guid = (function() {\n\t\t\tvar counter = 0;\n\t\t\t\n\t\t\treturn function(prefix) {\n\t\t\t\tvar guid = new Date().getTime().toString(32), i;\n\t\n\t\t\t\tfor (i = 0; i < 5; i++) {\n\t\t\t\t\tguid += Math.floor(Math.random() * 65535).toString(32);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn (prefix || 'o_') + guid + (counter++).toString(32);\n\t\t\t};\n\t\t}());\n\t\t\n\t\n\t\t/**\n\t\tTrims white spaces around the string\n\t\t\n\t\t@method trim\n\t\t@static\n\t\t@param {String} str\n\t\t@return {String}\n\t\t*/\n\t\tvar trim = function(str) {\n\t\t\tif (!str) {\n\t\t\t\treturn str;\n\t\t\t}\n\t\t\treturn String.prototype.trim ? String.prototype.trim.call(str) : str.toString().replace(/^\\s*/, '').replace(/\\s*$/, '');\n\t\t};\n\t\n\t\n\t\t/**\n\t\tParses the specified size string into a byte value. For example 10kb becomes 10240.\n\t\t\n\t\t@method parseSizeStr\n\t\t@static\n\t\t@param {String/Number} size String to parse or number to just pass through.\n\t\t@return {Number} Size in bytes.\n\t\t*/\n\t\tvar parseSizeStr = function(size) {\n\t\t\tif (typeof(size) !== 'string') {\n\t\t\t\treturn size;\n\t\t\t}\n\t\t\t\n\t\t\tvar muls = {\n\t\t\t\t\tt: 1099511627776,\n\t\t\t\t\tg: 1073741824,\n\t\t\t\t\tm: 1048576,\n\t\t\t\t\tk: 1024\n\t\t\t\t},\n\t\t\t\tmul;\n\t\n\t\t\tsize = /^([0-9]+)([mgk]?)$/.exec(size.toLowerCase().replace(/[^0-9mkg]/g, ''));\n\t\t\tmul = size[2];\n\t\t\tsize = +size[1];\n\t\t\t\n\t\t\tif (muls.hasOwnProperty(mul)) {\n\t\t\t\tsize *= muls[mul];\n\t\t\t}\n\t\t\treturn size;\n\t\t};\n\t\t\n\t\n\t\treturn {\n\t\t\tguid: guid,\n\t\t\ttypeOf: typeOf,\n\t\t\textend: extend,\n\t\t\teach: each,\n\t\t\tisEmptyObj: isEmptyObj,\n\t\t\tinSeries: inSeries,\n\t\t\tinParallel: inParallel,\n\t\t\tinArray: inArray,\n\t\t\tarrayDiff: arrayDiff,\n\t\t\tarrayIntersect: arrayIntersect,\n\t\t\ttoArray: toArray,\n\t\t\ttrim: trim,\n\t\t\tparseSizeStr: parseSizeStr\n\t\t};\n\t});\n\t\n\t// Included from: src/javascript/core/I18n.js\n\t\n\t/**\n\t * I18n.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine(\"moxie/core/I18n\", [\n\t\t\"moxie/core/utils/Basic\"\n\t], function(Basic) {\n\t\tvar i18n = {};\n\t\n\t\treturn {\n\t\t\t/**\n\t\t\t * Extends the language pack object with new items.\n\t\t\t *\n\t\t\t * @param {Object} pack Language pack items to add.\n\t\t\t * @return {Object} Extended language pack object.\n\t\t\t */\n\t\t\taddI18n: function(pack) {\n\t\t\t\treturn Basic.extend(i18n, pack);\n\t\t\t},\n\t\n\t\t\t/**\n\t\t\t * Translates the specified string by checking for the english string in the language pack lookup.\n\t\t\t *\n\t\t\t * @param {String} str String to look for.\n\t\t\t * @return {String} Translated string or the input string if it wasn't found.\n\t\t\t */\n\t\t\ttranslate: function(str) {\n\t\t\t\treturn i18n[str] || str;\n\t\t\t},\n\t\n\t\t\t/**\n\t\t\t * Shortcut for translate function\n\t\t\t *\n\t\t\t * @param {String} str String to look for.\n\t\t\t * @return {String} Translated string or the input string if it wasn't found.\n\t\t\t */\n\t\t\t_: function(str) {\n\t\t\t\treturn this.translate(str);\n\t\t\t},\n\t\n\t\t\t/**\n\t\t\t * Pseudo sprintf implementation - simple way to replace tokens with specified values.\n\t\t\t *\n\t\t\t * @param {String} str String with tokens\n\t\t\t * @return {String} String with replaced tokens\n\t\t\t */\n\t\t\tsprintf: function(str) {\n\t\t\t\tvar args = [].slice.call(arguments, 1);\n\t\n\t\t\t\treturn str.replace(/%[a-z]/g, function() {\n\t\t\t\t\tvar value = args.shift();\n\t\t\t\t\treturn Basic.typeOf(value) !== 'undefined' ? value : '';\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t});\n\t\n\t// Included from: src/javascript/core/utils/Mime.js\n\t\n\t/**\n\t * Mime.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine(\"moxie/core/utils/Mime\", [\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/core/I18n\"\n\t], function(Basic, I18n) {\n\t\t\n\t\tvar mimeData = \"\" +\n\t\t\t\"application/msword,doc dot,\" +\n\t\t\t\"application/pdf,pdf,\" +\n\t\t\t\"application/pgp-signature,pgp,\" +\n\t\t\t\"application/postscript,ps ai eps,\" +\n\t\t\t\"application/rtf,rtf,\" +\n\t\t\t\"application/vnd.ms-excel,xls xlb,\" +\n\t\t\t\"application/vnd.ms-powerpoint,ppt pps pot,\" +\n\t\t\t\"application/zip,zip,\" +\n\t\t\t\"application/x-shockwave-flash,swf swfl,\" +\n\t\t\t\"application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,\" +\n\t\t\t\"application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,\" +\n\t\t\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,\" +\n\t\t\t\"application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,\" +\n\t\t\t\"application/vnd.openxmlformats-officedocument.presentationml.template,potx,\" +\n\t\t\t\"application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,\" +\n\t\t\t\"application/x-javascript,js,\" +\n\t\t\t\"application/json,json,\" +\n\t\t\t\"audio/mpeg,mp3 mpga mpega mp2,\" +\n\t\t\t\"audio/x-wav,wav,\" +\n\t\t\t\"audio/x-m4a,m4a,\" +\n\t\t\t\"audio/ogg,oga ogg,\" +\n\t\t\t\"audio/aiff,aiff aif,\" +\n\t\t\t\"audio/flac,flac,\" +\n\t\t\t\"audio/aac,aac,\" +\n\t\t\t\"audio/ac3,ac3,\" +\n\t\t\t\"audio/x-ms-wma,wma,\" +\n\t\t\t\"image/bmp,bmp,\" +\n\t\t\t\"image/gif,gif,\" +\n\t\t\t\"image/jpeg,jpg jpeg jpe,\" +\n\t\t\t\"image/photoshop,psd,\" +\n\t\t\t\"image/png,png,\" +\n\t\t\t\"image/svg+xml,svg svgz,\" +\n\t\t\t\"image/tiff,tiff tif,\" +\n\t\t\t\"text/plain,asc txt text diff log,\" +\n\t\t\t\"text/html,htm html xhtml,\" +\n\t\t\t\"text/css,css,\" +\n\t\t\t\"text/csv,csv,\" +\n\t\t\t\"text/rtf,rtf,\" +\n\t\t\t\"video/mpeg,mpeg mpg mpe m2v,\" +\n\t\t\t\"video/quicktime,qt mov,\" +\n\t\t\t\"video/mp4,mp4,\" +\n\t\t\t\"video/x-m4v,m4v,\" +\n\t\t\t\"video/x-flv,flv,\" +\n\t\t\t\"video/x-ms-wmv,wmv,\" +\n\t\t\t\"video/avi,avi,\" +\n\t\t\t\"video/webm,webm,\" +\n\t\t\t\"video/3gpp,3gpp 3gp,\" +\n\t\t\t\"video/3gpp2,3g2,\" +\n\t\t\t\"video/vnd.rn-realvideo,rv,\" +\n\t\t\t\"video/ogg,ogv,\" + \n\t\t\t\"video/x-matroska,mkv,\" +\n\t\t\t\"application/vnd.oasis.opendocument.formula-template,otf,\" +\n\t\t\t\"application/octet-stream,exe\";\n\t\t\n\t\t\n\t\tvar Mime = {\n\t\n\t\t\tmimes: {},\n\t\n\t\t\textensions: {},\n\t\n\t\t\t// Parses the default mime types string into a mimes and extensions lookup maps\n\t\t\taddMimeType: function (mimeData) {\n\t\t\t\tvar items = mimeData.split(/,/), i, ii, ext;\n\t\t\t\t\n\t\t\t\tfor (i = 0; i < items.length; i += 2) {\n\t\t\t\t\text = items[i + 1].split(/ /);\n\t\n\t\t\t\t\t// extension to mime lookup\n\t\t\t\t\tfor (ii = 0; ii < ext.length; ii++) {\n\t\t\t\t\t\tthis.mimes[ext[ii]] = items[i];\n\t\t\t\t\t}\n\t\t\t\t\t// mime to extension lookup\n\t\t\t\t\tthis.extensions[items[i]] = ext;\n\t\t\t\t}\n\t\t\t},\n\t\n\t\n\t\t\textList2mimes: function (filters, addMissingExtensions) {\n\t\t\t\tvar self = this, ext, i, ii, type, mimes = [];\n\t\t\t\t\n\t\t\t\t// convert extensions to mime types list\n\t\t\t\tfor (i = 0; i < filters.length; i++) {\n\t\t\t\t\text = filters[i].extensions.split(/\\s*,\\s*/);\n\t\n\t\t\t\t\tfor (ii = 0; ii < ext.length; ii++) {\n\t\t\t\t\t\t\n\t\t\t\t\t\t// if there's an asterisk in the list, then accept attribute is not required\n\t\t\t\t\t\tif (ext[ii] === '*') {\n\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\ttype = self.mimes[ext[ii]];\n\t\t\t\t\t\tif (!type) {\n\t\t\t\t\t\t\tif (addMissingExtensions && /^\\w+$/.test(ext[ii])) {\n\t\t\t\t\t\t\t\tmimes.push('.' + ext[ii]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn []; // accept all\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (Basic.inArray(type, mimes) === -1) {\n\t\t\t\t\t\t\tmimes.push(type);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn mimes;\n\t\t\t},\n\t\n\t\n\t\t\tmimes2exts: function(mimes) {\n\t\t\t\tvar self = this, exts = [];\n\t\t\t\t\n\t\t\t\tBasic.each(mimes, function(mime) {\n\t\t\t\t\tif (mime === '*') {\n\t\t\t\t\t\texts = [];\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// check if this thing looks like mime type\n\t\t\t\t\tvar m = mime.match(/^(\\w+)\\/(\\*|\\w+)$/);\n\t\t\t\t\tif (m) {\n\t\t\t\t\t\tif (m[2] === '*') { \n\t\t\t\t\t\t\t// wildcard mime type detected\n\t\t\t\t\t\t\tBasic.each(self.extensions, function(arr, mime) {\n\t\t\t\t\t\t\t\tif ((new RegExp('^' + m[1] + '/')).test(mime)) {\n\t\t\t\t\t\t\t\t\t[].push.apply(exts, self.extensions[mime]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (self.extensions[mime]) {\n\t\t\t\t\t\t\t[].push.apply(exts, self.extensions[mime]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn exts;\n\t\t\t},\n\t\n\t\n\t\t\tmimes2extList: function(mimes) {\n\t\t\t\tvar accept = [], exts = [];\n\t\n\t\t\t\tif (Basic.typeOf(mimes) === 'string') {\n\t\t\t\t\tmimes = Basic.trim(mimes).split(/\\s*,\\s*/);\n\t\t\t\t}\n\t\n\t\t\t\texts = this.mimes2exts(mimes);\n\t\t\t\t\n\t\t\t\taccept.push({\n\t\t\t\t\ttitle: I18n.translate('Files'),\n\t\t\t\t\textensions: exts.length ? exts.join(',') : '*'\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t// save original mimes string\n\t\t\t\taccept.mimes = mimes;\n\t\n\t\t\t\treturn accept;\n\t\t\t},\n\t\n\t\n\t\t\tgetFileExtension: function(fileName) {\n\t\t\t\tvar matches = fileName && fileName.match(/\\.([^.]+)$/);\n\t\t\t\tif (matches) {\n\t\t\t\t\treturn matches[1].toLowerCase();\n\t\t\t\t}\n\t\t\t\treturn '';\n\t\t\t},\n\t\n\t\t\tgetFileMime: function(fileName) {\n\t\t\t\treturn this.mimes[this.getFileExtension(fileName)] || '';\n\t\t\t}\n\t\t};\n\t\n\t\tMime.addMimeType(mimeData);\n\t\n\t\treturn Mime;\n\t});\n\t\n\t// Included from: src/javascript/core/utils/Env.js\n\t\n\t/**\n\t * Env.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine(\"moxie/core/utils/Env\", [\n\t\t\"moxie/core/utils/Basic\"\n\t], function(Basic) {\n\t\t\n\t\t// UAParser.js v0.6.2\n\t\t// Lightweight JavaScript-based User-Agent string parser\n\t\t// https://github.com/faisalman/ua-parser-js\n\t\t//\n\t\t// Copyright  2012-2013 Faisalman <fyzlman@gmail.com>\n\t\t// Dual licensed under GPLv2 & MIT\n\t\n\t\tvar UAParser = (function (undefined) {\n\t\n\t\t    //////////////\n\t\t    // Constants\n\t\t    /////////////\n\t\n\t\n\t\t    var EMPTY       = '',\n\t\t        UNKNOWN     = '?',\n\t\t        FUNC_TYPE   = 'function',\n\t\t        UNDEF_TYPE  = 'undefined',\n\t\t        OBJ_TYPE    = 'object',\n\t\t        MAJOR       = 'major',\n\t\t        MODEL       = 'model',\n\t\t        NAME        = 'name',\n\t\t        TYPE        = 'type',\n\t\t        VENDOR      = 'vendor',\n\t\t        VERSION     = 'version',\n\t\t        ARCHITECTURE= 'architecture',\n\t\t        CONSOLE     = 'console',\n\t\t        MOBILE      = 'mobile',\n\t\t        TABLET      = 'tablet';\n\t\n\t\n\t\t    ///////////\n\t\t    // Helper\n\t\t    //////////\n\t\n\t\n\t\t    var util = {\n\t\t        has : function (str1, str2) {\n\t\t            return str2.toLowerCase().indexOf(str1.toLowerCase()) !== -1;\n\t\t        },\n\t\t        lowerize : function (str) {\n\t\t            return str.toLowerCase();\n\t\t        }\n\t\t    };\n\t\n\t\n\t\t    ///////////////\n\t\t    // Map helper\n\t\t    //////////////\n\t\n\t\n\t\t    var mapper = {\n\t\n\t\t        rgx : function () {\n\t\n\t\t            // loop through all regexes maps\n\t\t            for (var result, i = 0, j, k, p, q, matches, match, args = arguments; i < args.length; i += 2) {\n\t\n\t\t                var regex = args[i],       // even sequence (0,2,4,..)\n\t\t                    props = args[i + 1];   // odd sequence (1,3,5,..)\n\t\n\t\t                // construct object barebones\n\t\t                if (typeof(result) === UNDEF_TYPE) {\n\t\t                    result = {};\n\t\t                    for (p in props) {\n\t\t                        q = props[p];\n\t\t                        if (typeof(q) === OBJ_TYPE) {\n\t\t                            result[q[0]] = undefined;\n\t\t                        } else {\n\t\t                            result[q] = undefined;\n\t\t                        }\n\t\t                    }\n\t\t                }\n\t\n\t\t                // try matching uastring with regexes\n\t\t                for (j = k = 0; j < regex.length; j++) {\n\t\t                    matches = regex[j].exec(this.getUA());\n\t\t                    if (!!matches) {\n\t\t                        for (p = 0; p < props.length; p++) {\n\t\t                            match = matches[++k];\n\t\t                            q = props[p];\n\t\t                            // check if given property is actually array\n\t\t                            if (typeof(q) === OBJ_TYPE && q.length > 0) {\n\t\t                                if (q.length == 2) {\n\t\t                                    if (typeof(q[1]) == FUNC_TYPE) {\n\t\t                                        // assign modified match\n\t\t                                        result[q[0]] = q[1].call(this, match);\n\t\t                                    } else {\n\t\t                                        // assign given value, ignore regex match\n\t\t                                        result[q[0]] = q[1];\n\t\t                                    }\n\t\t                                } else if (q.length == 3) {\n\t\t                                    // check whether function or regex\n\t\t                                    if (typeof(q[1]) === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n\t\t                                        // call function (usually string mapper)\n\t\t                                        result[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n\t\t                                    } else {\n\t\t                                        // sanitize match using given regex\n\t\t                                        result[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n\t\t                                    }\n\t\t                                } else if (q.length == 4) {\n\t\t                                        result[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n\t\t                                }\n\t\t                            } else {\n\t\t                                result[q] = match ? match : undefined;\n\t\t                            }\n\t\t                        }\n\t\t                        break;\n\t\t                    }\n\t\t                }\n\t\n\t\t                if(!!matches) break; // break the loop immediately if match found\n\t\t            }\n\t\t            return result;\n\t\t        },\n\t\n\t\t        str : function (str, map) {\n\t\n\t\t            for (var i in map) {\n\t\t                // check if array\n\t\t                if (typeof(map[i]) === OBJ_TYPE && map[i].length > 0) {\n\t\t                    for (var j = 0; j < map[i].length; j++) {\n\t\t                        if (util.has(map[i][j], str)) {\n\t\t                            return (i === UNKNOWN) ? undefined : i;\n\t\t                        }\n\t\t                    }\n\t\t                } else if (util.has(map[i], str)) {\n\t\t                    return (i === UNKNOWN) ? undefined : i;\n\t\t                }\n\t\t            }\n\t\t            return str;\n\t\t        }\n\t\t    };\n\t\n\t\n\t\t    ///////////////\n\t\t    // String map\n\t\t    //////////////\n\t\n\t\n\t\t    var maps = {\n\t\n\t\t        browser : {\n\t\t            oldsafari : {\n\t\t                major : {\n\t\t                    '1' : ['/8', '/1', '/3'],\n\t\t                    '2' : '/4',\n\t\t                    '?' : '/'\n\t\t                },\n\t\t                version : {\n\t\t                    '1.0'   : '/8',\n\t\t                    '1.2'   : '/1',\n\t\t                    '1.3'   : '/3',\n\t\t                    '2.0'   : '/412',\n\t\t                    '2.0.2' : '/416',\n\t\t                    '2.0.3' : '/417',\n\t\t                    '2.0.4' : '/419',\n\t\t                    '?'     : '/'\n\t\t                }\n\t\t            }\n\t\t        },\n\t\n\t\t        device : {\n\t\t            sprint : {\n\t\t                model : {\n\t\t                    'Evo Shift 4G' : '7373KT'\n\t\t                },\n\t\t                vendor : {\n\t\t                    'HTC'       : 'APA',\n\t\t                    'Sprint'    : 'Sprint'\n\t\t                }\n\t\t            }\n\t\t        },\n\t\n\t\t        os : {\n\t\t            windows : {\n\t\t                version : {\n\t\t                    'ME'        : '4.90',\n\t\t                    'NT 3.11'   : 'NT3.51',\n\t\t                    'NT 4.0'    : 'NT4.0',\n\t\t                    '2000'      : 'NT 5.0',\n\t\t                    'XP'        : ['NT 5.1', 'NT 5.2'],\n\t\t                    'Vista'     : 'NT 6.0',\n\t\t                    '7'         : 'NT 6.1',\n\t\t                    '8'         : 'NT 6.2',\n\t\t                    '8.1'       : 'NT 6.3',\n\t\t                    'RT'        : 'ARM'\n\t\t                }\n\t\t            }\n\t\t        }\n\t\t    };\n\t\n\t\n\t\t    //////////////\n\t\t    // Regex map\n\t\t    /////////////\n\t\n\t\n\t\t    var regexes = {\n\t\n\t\t        browser : [[\n\t\n\t\t            // Presto based\n\t\t            /(opera\\smini)\\/((\\d+)?[\\w\\.-]+)/i,                                 // Opera Mini\n\t\t            /(opera\\s[mobiletab]+).+version\\/((\\d+)?[\\w\\.-]+)/i,                // Opera Mobi/Tablet\n\t\t            /(opera).+version\\/((\\d+)?[\\w\\.]+)/i,                               // Opera > 9.80\n\t\t            /(opera)[\\/\\s]+((\\d+)?[\\w\\.]+)/i                                    // Opera < 9.80\n\t\t            \n\t\t            ], [NAME, VERSION, MAJOR], [\n\t\n\t\t            /\\s(opr)\\/((\\d+)?[\\w\\.]+)/i                                         // Opera Webkit\n\t\t            ], [[NAME, 'Opera'], VERSION, MAJOR], [\n\t\n\t\t            // Mixed\n\t\t            /(kindle)\\/((\\d+)?[\\w\\.]+)/i,                                       // Kindle\n\t\t            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/\\s]?((\\d+)?[\\w\\.]+)*/i,\n\t\t                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n\t\n\t\t            // Trident based\n\t\t            /(avant\\s|iemobile|slim|baidu)(?:browser)?[\\/\\s]?((\\d+)?[\\w\\.]*)/i,\n\t\t                                                                                // Avant/IEMobile/SlimBrowser/Baidu\n\t\t            /(?:ms|\\()(ie)\\s((\\d+)?[\\w\\.]+)/i,                                  // Internet Explorer\n\t\n\t\t            // Webkit/KHTML based\n\t\t            /(rekonq)((?:\\/)[\\w\\.]+)*/i,                                        // Rekonq\n\t\t            /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\\/((\\d+)?[\\w\\.-]+)/i\n\t\t                                                                                // Chromium/Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron\n\t\t            ], [NAME, VERSION, MAJOR], [\n\t\n\t\t            /(trident).+rv[:\\s]((\\d+)?[\\w\\.]+).+like\\sgecko/i                   // IE11\n\t\t            ], [[NAME, 'IE'], VERSION, MAJOR], [\n\t\n\t\t            /(yabrowser)\\/((\\d+)?[\\w\\.]+)/i                                     // Yandex\n\t\t            ], [[NAME, 'Yandex'], VERSION, MAJOR], [\n\t\n\t\t            /(comodo_dragon)\\/((\\d+)?[\\w\\.]+)/i                                 // Comodo Dragon\n\t\t            ], [[NAME, /_/g, ' '], VERSION, MAJOR], [\n\t\n\t\t            /(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)\\/v?((\\d+)?[\\w\\.]+)/i\n\t\t                                                                                // Chrome/OmniWeb/Arora/Tizen/Nokia\n\t\t            ], [NAME, VERSION, MAJOR], [\n\t\n\t\t            /(dolfin)\\/((\\d+)?[\\w\\.]+)/i                                        // Dolphin\n\t\t            ], [[NAME, 'Dolphin'], VERSION, MAJOR], [\n\t\n\t\t            /((?:android.+)crmo|crios)\\/((\\d+)?[\\w\\.]+)/i                       // Chrome for Android/iOS\n\t\t            ], [[NAME, 'Chrome'], VERSION, MAJOR], [\n\t\n\t\t            /((?:android.+))version\\/((\\d+)?[\\w\\.]+)\\smobile\\ssafari/i          // Android Browser\n\t\t            ], [[NAME, 'Android Browser'], VERSION, MAJOR], [\n\t\n\t\t            /version\\/((\\d+)?[\\w\\.]+).+?mobile\\/\\w+\\s(safari)/i                 // Mobile Safari\n\t\t            ], [VERSION, MAJOR, [NAME, 'Mobile Safari']], [\n\t\n\t\t            /version\\/((\\d+)?[\\w\\.]+).+?(mobile\\s?safari|safari)/i              // Safari & Safari Mobile\n\t\t            ], [VERSION, MAJOR, NAME], [\n\t\n\t\t            /webkit.+?(mobile\\s?safari|safari)((\\/[\\w\\.]+))/i                   // Safari < 3.0\n\t\t            ], [NAME, [MAJOR, mapper.str, maps.browser.oldsafari.major], [VERSION, mapper.str, maps.browser.oldsafari.version]], [\n\t\n\t\t            /(konqueror)\\/((\\d+)?[\\w\\.]+)/i,                                    // Konqueror\n\t\t            /(webkit|khtml)\\/((\\d+)?[\\w\\.]+)/i\n\t\t            ], [NAME, VERSION, MAJOR], [\n\t\n\t\t            // Gecko based\n\t\t            /(navigator|netscape)\\/((\\d+)?[\\w\\.-]+)/i                           // Netscape\n\t\t            ], [[NAME, 'Netscape'], VERSION, MAJOR], [\n\t\t            /(swiftfox)/i,                                                      // Swiftfox\n\t\t            /(icedragon|iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[\\/\\s]?((\\d+)?[\\w\\.\\+]+)/i,\n\t\t                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n\t\t            /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\\/((\\d+)?[\\w\\.-]+)/i,\n\t\t                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n\t\t            /(mozilla)\\/((\\d+)?[\\w\\.]+).+rv\\:.+gecko\\/\\d+/i,                    // Mozilla\n\t\n\t\t            // Other\n\t\t            /(uc\\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\\/\\s]?((\\d+)?[\\w\\.]+)/i,\n\t\t                                                                                // UCBrowser/Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/QQBrowser\n\t\t            /(links)\\s\\(((\\d+)?[\\w\\.]+)/i,                                      // Links\n\t\t            /(gobrowser)\\/?((\\d+)?[\\w\\.]+)*/i,                                  // GoBrowser\n\t\t            /(ice\\s?browser)\\/v?((\\d+)?[\\w\\._]+)/i,                             // ICE Browser\n\t\t            /(mosaic)[\\/\\s]((\\d+)?[\\w\\.]+)/i                                    // Mosaic\n\t\t            ], [NAME, VERSION, MAJOR]\n\t\t        ],\n\t\n\t\t        engine : [[\n\t\n\t\t            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n\t\t            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\\/([\\w\\.]+)/i,     // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m\n\t\t            /(khtml|tasman|links)[\\/\\s]\\(?([\\w\\.]+)/i,                          // KHTML/Tasman/Links\n\t\t            /(icab)[\\/\\s]([23]\\.[\\d\\.]+)/i                                      // iCab\n\t\t            ], [NAME, VERSION], [\n\t\n\t\t            /rv\\:([\\w\\.]+).*(gecko)/i                                           // Gecko\n\t\t            ], [VERSION, NAME]\n\t\t        ],\n\t\n\t\t        os : [[\n\t\n\t\t            // Windows based\n\t\t            /(windows)\\snt\\s6\\.2;\\s(arm)/i,                                     // Windows RT\n\t\t            /(windows\\sphone(?:\\sos)*|windows\\smobile|windows)[\\s\\/]?([ntce\\d\\.\\s]+\\w)/i\n\t\t            ], [NAME, [VERSION, mapper.str, maps.os.windows.version]], [\n\t\t            /(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)/i\n\t\t            ], [[NAME, 'Windows'], [VERSION, mapper.str, maps.os.windows.version]], [\n\t\n\t\t            // Mobile/Embedded OS\n\t\t            /\\((bb)(10);/i                                                      // BlackBerry 10\n\t\t            ], [[NAME, 'BlackBerry'], VERSION], [\n\t\t            /(blackberry)\\w*\\/?([\\w\\.]+)*/i,                                    // Blackberry\n\t\t            /(tizen)\\/([\\w\\.]+)/i,                                              // Tizen\n\t\t            /(android|webos|palm\\os|qnx|bada|rim\\stablet\\sos|meego)[\\/\\s-]?([\\w\\.]+)*/i\n\t\t                                                                                // Android/WebOS/Palm/QNX/Bada/RIM/MeeGo\n\t\t            ], [NAME, VERSION], [\n\t\t            /(symbian\\s?os|symbos|s60(?=;))[\\/\\s-]?([\\w\\.]+)*/i                 // Symbian\n\t\t            ], [[NAME, 'Symbian'], VERSION],[\n\t\t            /mozilla.+\\(mobile;.+gecko.+firefox/i                               // Firefox OS\n\t\t            ], [[NAME, 'Firefox OS'], VERSION], [\n\t\n\t\t            // Console\n\t\t            /(nintendo|playstation)\\s([wids3portablevu]+)/i,                    // Nintendo/Playstation\n\t\n\t\t            // GNU/Linux based\n\t\t            /(mint)[\\/\\s\\(]?(\\w+)*/i,                                           // Mint\n\t\t            /(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\\/\\s-]?([\\w\\.-]+)*/i,\n\t\t                                                                                // Joli/Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware\n\t\t                                                                                // Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk\n\t\t            /(hurd|linux)\\s?([\\w\\.]+)*/i,                                       // Hurd/Linux\n\t\t            /(gnu)\\s?([\\w\\.]+)*/i                                               // GNU\n\t\t            ], [NAME, VERSION], [\n\t\n\t\t            /(cros)\\s[\\w]+\\s([\\w\\.]+\\w)/i                                       // Chromium OS\n\t\t            ], [[NAME, 'Chromium OS'], VERSION],[\n\t\n\t\t            // Solaris\n\t\t            /(sunos)\\s?([\\w\\.]+\\d)*/i                                           // Solaris\n\t\t            ], [[NAME, 'Solaris'], VERSION], [\n\t\n\t\t            // BSD based\n\t\t            /\\s([frentopc-]{0,4}bsd|dragonfly)\\s?([\\w\\.]+)*/i                   // FreeBSD/NetBSD/OpenBSD/PC-BSD/DragonFly\n\t\t            ], [NAME, VERSION],[\n\t\n\t\t            /(ip[honead]+)(?:.*os\\s*([\\w]+)*\\slike\\smac|;\\sopera)/i             // iOS\n\t\t            ], [[NAME, 'iOS'], [VERSION, /_/g, '.']], [\n\t\n\t\t            /(mac\\sos\\sx)\\s?([\\w\\s\\.]+\\w)*/i                                    // Mac OS\n\t\t            ], [NAME, [VERSION, /_/g, '.']], [\n\t\n\t\t            // Other\n\t\t            /(haiku)\\s(\\w+)/i,                                                  // Haiku\n\t\t            /(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.]*)*/i,                               // AIX\n\t\t            /(macintosh|mac(?=_powerpc)|plan\\s9|minix|beos|os\\/2|amigaos|morphos|risc\\sos)/i,\n\t\t                                                                                // Plan9/Minix/BeOS/OS2/AmigaOS/MorphOS/RISCOS\n\t\t            /(unix)\\s?([\\w\\.]+)*/i                                              // UNIX\n\t\t            ], [NAME, VERSION]\n\t\t        ]\n\t\t    };\n\t\n\t\n\t\t    /////////////////\n\t\t    // Constructor\n\t\t    ////////////////\n\t\n\t\n\t\t    var UAParser = function (uastring) {\n\t\n\t\t        var ua = uastring || ((window && window.navigator && window.navigator.userAgent) ? window.navigator.userAgent : EMPTY);\n\t\n\t\t        this.getBrowser = function () {\n\t\t            return mapper.rgx.apply(this, regexes.browser);\n\t\t        };\n\t\t        this.getEngine = function () {\n\t\t            return mapper.rgx.apply(this, regexes.engine);\n\t\t        };\n\t\t        this.getOS = function () {\n\t\t            return mapper.rgx.apply(this, regexes.os);\n\t\t        };\n\t\t        this.getResult = function() {\n\t\t            return {\n\t\t                ua      : this.getUA(),\n\t\t                browser : this.getBrowser(),\n\t\t                engine  : this.getEngine(),\n\t\t                os      : this.getOS()\n\t\t            };\n\t\t        };\n\t\t        this.getUA = function () {\n\t\t            return ua;\n\t\t        };\n\t\t        this.setUA = function (uastring) {\n\t\t            ua = uastring;\n\t\t            return this;\n\t\t        };\n\t\t        this.setUA(ua);\n\t\t    };\n\t\n\t\t    return new UAParser().getResult();\n\t\t})();\n\t\n\t\n\t\tfunction version_compare(v1, v2, operator) {\n\t\t  // From: http://phpjs.org/functions\n\t\t  // +      original by: Philippe Jausions (http://pear.php.net/user/jausions)\n\t\t  // +      original by: Aidan Lister (http://aidanlister.com/)\n\t\t  // + reimplemented by: Kankrelune (http://www.webfaktory.info/)\n\t\t  // +      improved by: Brett Zamir (http://brett-zamir.me)\n\t\t  // +      improved by: Scott Baker\n\t\t  // +      improved by: Theriault\n\t\t  // *        example 1: version_compare('8.2.5rc', '8.2.5a');\n\t\t  // *        returns 1: 1\n\t\t  // *        example 2: version_compare('8.2.50', '8.2.52', '<');\n\t\t  // *        returns 2: true\n\t\t  // *        example 3: version_compare('5.3.0-dev', '5.3.0');\n\t\t  // *        returns 3: -1\n\t\t  // *        example 4: version_compare('4.1.0.52','4.01.0.51');\n\t\t  // *        returns 4: 1\n\t\n\t\t  // Important: compare must be initialized at 0.\n\t\t  var i = 0,\n\t\t    x = 0,\n\t\t    compare = 0,\n\t\t    // vm maps textual PHP versions to negatives so they're less than 0.\n\t\t    // PHP currently defines these as CASE-SENSITIVE. It is important to\n\t\t    // leave these as negatives so that they can come before numerical versions\n\t\t    // and as if no letters were there to begin with.\n\t\t    // (1alpha is < 1 and < 1.1 but > 1dev1)\n\t\t    // If a non-numerical value can't be mapped to this table, it receives\n\t\t    // -7 as its value.\n\t\t    vm = {\n\t\t      'dev': -6,\n\t\t      'alpha': -5,\n\t\t      'a': -5,\n\t\t      'beta': -4,\n\t\t      'b': -4,\n\t\t      'RC': -3,\n\t\t      'rc': -3,\n\t\t      '#': -2,\n\t\t      'p': 1,\n\t\t      'pl': 1\n\t\t    },\n\t\t    // This function will be called to prepare each version argument.\n\t\t    // It replaces every _, -, and + with a dot.\n\t\t    // It surrounds any nonsequence of numbers/dots with dots.\n\t\t    // It replaces sequences of dots with a single dot.\n\t\t    //    version_compare('4..0', '4.0') == 0\n\t\t    // Important: A string of 0 length needs to be converted into a value\n\t\t    // even less than an unexisting value in vm (-7), hence [-8].\n\t\t    // It's also important to not strip spaces because of this.\n\t\t    //   version_compare('', ' ') == 1\n\t\t    prepVersion = function (v) {\n\t\t      v = ('' + v).replace(/[_\\-+]/g, '.');\n\t\t      v = v.replace(/([^.\\d]+)/g, '.$1.').replace(/\\.{2,}/g, '.');\n\t\t      return (!v.length ? [-8] : v.split('.'));\n\t\t    },\n\t\t    // This converts a version component to a number.\n\t\t    // Empty component becomes 0.\n\t\t    // Non-numerical component becomes a negative number.\n\t\t    // Numerical component becomes itself as an integer.\n\t\t    numVersion = function (v) {\n\t\t      return !v ? 0 : (isNaN(v) ? vm[v] || -7 : parseInt(v, 10));\n\t\t    };\n\t\n\t\t  v1 = prepVersion(v1);\n\t\t  v2 = prepVersion(v2);\n\t\t  x = Math.max(v1.length, v2.length);\n\t\t  for (i = 0; i < x; i++) {\n\t\t    if (v1[i] == v2[i]) {\n\t\t      continue;\n\t\t    }\n\t\t    v1[i] = numVersion(v1[i]);\n\t\t    v2[i] = numVersion(v2[i]);\n\t\t    if (v1[i] < v2[i]) {\n\t\t      compare = -1;\n\t\t      break;\n\t\t    } else if (v1[i] > v2[i]) {\n\t\t      compare = 1;\n\t\t      break;\n\t\t    }\n\t\t  }\n\t\t  if (!operator) {\n\t\t    return compare;\n\t\t  }\n\t\n\t\t  // Important: operator is CASE-SENSITIVE.\n\t\t  // \"No operator\" seems to be treated as \"<.\"\n\t\t  // Any other values seem to make the function return null.\n\t\t  switch (operator) {\n\t\t  case '>':\n\t\t  case 'gt':\n\t\t    return (compare > 0);\n\t\t  case '>=':\n\t\t  case 'ge':\n\t\t    return (compare >= 0);\n\t\t  case '<=':\n\t\t  case 'le':\n\t\t    return (compare <= 0);\n\t\t  case '==':\n\t\t  case '=':\n\t\t  case 'eq':\n\t\t    return (compare === 0);\n\t\t  case '<>':\n\t\t  case '!=':\n\t\t  case 'ne':\n\t\t    return (compare !== 0);\n\t\t  case '':\n\t\t  case '<':\n\t\t  case 'lt':\n\t\t    return (compare < 0);\n\t\t  default:\n\t\t    return null;\n\t\t  }\n\t\t}\n\t\n\t\n\t\tvar can = (function() {\n\t\t\tvar caps = {\n\t\t\t\t\tdefine_property: (function() {\n\t\t\t\t\t\t/* // currently too much extra code required, not exactly worth it\n\t\t\t\t\t\ttry { // as of IE8, getters/setters are supported only on DOM elements\n\t\t\t\t\t\t\tvar obj = {};\n\t\t\t\t\t\t\tif (Object.defineProperty) {\n\t\t\t\t\t\t\t\tObject.defineProperty(obj, 'prop', {\n\t\t\t\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch(ex) {}\n\t\n\t\t\t\t\t\tif (Object.prototype.__defineGetter__ && Object.prototype.__defineSetter__) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}*/\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}()),\n\t\n\t\t\t\t\tcreate_canvas: (function() {\n\t\t\t\t\t\t// On the S60 and BB Storm, getContext exists, but always returns undefined\n\t\t\t\t\t\t// so we actually have to call getContext() to verify\n\t\t\t\t\t\t// github.com/Modernizr/Modernizr/issues/issue/97/\n\t\t\t\t\t\tvar el = document.createElement('canvas');\n\t\t\t\t\t\treturn !!(el.getContext && el.getContext('2d'));\n\t\t\t\t\t}()),\n\t\n\t\t\t\t\treturn_response_type: function(responseType) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (Basic.inArray(responseType, ['', 'text', 'document']) !== -1) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t} else if (window.XMLHttpRequest) {\n\t\t\t\t\t\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\t\t\t\t\t\txhr.open('get', '/'); // otherwise Gecko throws an exception\n\t\t\t\t\t\t\t\tif ('responseType' in xhr) {\n\t\t\t\t\t\t\t\t\txhr.responseType = responseType;\n\t\t\t\t\t\t\t\t\t// as of 23.0.1271.64, Chrome switched from throwing exception to merely logging it to the console (why? o why?)\n\t\t\t\t\t\t\t\t\tif (xhr.responseType !== responseType) {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (ex) {}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\t\n\t\t\t\t\t// ideas for this heavily come from Modernizr (http://modernizr.com/)\n\t\t\t\t\tuse_data_uri: (function() {\n\t\t\t\t\t\tvar du = new Image();\n\t\n\t\t\t\t\t\tdu.onload = function() {\n\t\t\t\t\t\t\tcaps.use_data_uri = (du.width === 1 && du.height === 1);\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tdu.src = \"data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\";\n\t\t\t\t\t\t}, 1);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}()),\n\t\n\t\t\t\t\tuse_data_uri_over32kb: function() { // IE8\n\t\t\t\t\t\treturn caps.use_data_uri && (Env.browser !== 'IE' || Env.version >= 9);\n\t\t\t\t\t},\n\t\n\t\t\t\t\tuse_data_uri_of: function(bytes) {\n\t\t\t\t\t\treturn (caps.use_data_uri && bytes < 33000 || caps.use_data_uri_over32kb());\n\t\t\t\t\t},\n\t\n\t\t\t\t\tuse_fileinput: function() {\n\t\t\t\t\t\tvar el = document.createElement('input');\n\t\t\t\t\t\tel.setAttribute('type', 'file');\n\t\t\t\t\t\treturn !el.disabled;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\n\t\t\treturn function(cap) {\n\t\t\t\tvar args = [].slice.call(arguments);\n\t\t\t\targs.shift(); // shift of cap\n\t\t\t\treturn Basic.typeOf(caps[cap]) === 'function' ? caps[cap].apply(this, args) : !!caps[cap];\n\t\t\t};\n\t\t}());\n\t\n\t\n\t\tvar Env = {\n\t\t\tcan: can,\n\t\t\t\n\t\t\tbrowser: UAParser.browser.name,\n\t\t\tversion: parseFloat(UAParser.browser.major),\n\t\t\tos: UAParser.os.name, // everybody intuitively types it in a lowercase for some reason\n\t\t\tosVersion: UAParser.os.version,\n\t\n\t\t\tverComp: version_compare,\n\t\t\t\n\t\t\tswf_url: \"../flash/Moxie.swf\",\n\t\t\txap_url: \"../silverlight/Moxie.xap\",\n\t\t\tglobal_event_dispatcher: \"moxie.core.EventTarget.instance.dispatchEvent\"\n\t\t};\n\t\n\t\t// for backward compatibility\n\t\t// @deprecated Use `Env.os` instead\n\t\tEnv.OS = Env.os;\n\t\n\t\treturn Env;\n\t});\n\t\n\t// Included from: src/javascript/core/utils/Dom.js\n\t\n\t/**\n\t * Dom.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine('moxie/core/utils/Dom', ['moxie/core/utils/Env'], function(Env) {\n\t\n\t\t/**\n\t\tGet DOM Element by it's id.\n\t\n\t\t@method get\n\t\t@for Utils\n\t\t@param {String} id Identifier of the DOM Element\n\t\t@return {DOMElement}\n\t\t*/\n\t\tvar get = function(id) {\n\t\t\tif (typeof id !== 'string') {\n\t\t\t\treturn id;\n\t\t\t}\n\t\t\treturn document.getElementById(id);\n\t\t};\n\t\n\t\t/**\n\t\tChecks if specified DOM element has specified class.\n\t\n\t\t@method hasClass\n\t\t@static\n\t\t@param {Object} obj DOM element like object to add handler to.\n\t\t@param {String} name Class name\n\t\t*/\n\t\tvar hasClass = function(obj, name) {\n\t\t\tif (!obj.className) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\tvar regExp = new RegExp(\"(^|\\\\s+)\"+name+\"(\\\\s+|$)\");\n\t\t\treturn regExp.test(obj.className);\n\t\t};\n\t\n\t\t/**\n\t\tAdds specified className to specified DOM element.\n\t\n\t\t@method addClass\n\t\t@static\n\t\t@param {Object} obj DOM element like object to add handler to.\n\t\t@param {String} name Class name\n\t\t*/\n\t\tvar addClass = function(obj, name) {\n\t\t\tif (!hasClass(obj, name)) {\n\t\t\t\tobj.className = !obj.className ? name : obj.className.replace(/\\s+$/, '') + ' ' + name;\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\tRemoves specified className from specified DOM element.\n\t\n\t\t@method removeClass\n\t\t@static\n\t\t@param {Object} obj DOM element like object to add handler to.\n\t\t@param {String} name Class name\n\t\t*/\n\t\tvar removeClass = function(obj, name) {\n\t\t\tif (obj.className) {\n\t\t\t\tvar regExp = new RegExp(\"(^|\\\\s+)\"+name+\"(\\\\s+|$)\");\n\t\t\t\tobj.className = obj.className.replace(regExp, function($0, $1, $2) {\n\t\t\t\t\treturn $1 === ' ' && $2 === ' ' ? ' ' : '';\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\tReturns a given computed style of a DOM element.\n\t\n\t\t@method getStyle\n\t\t@static\n\t\t@param {Object} obj DOM element like object.\n\t\t@param {String} name Style you want to get from the DOM element\n\t\t*/\n\t\tvar getStyle = function(obj, name) {\n\t\t\tif (obj.currentStyle) {\n\t\t\t\treturn obj.currentStyle[name];\n\t\t\t} else if (window.getComputedStyle) {\n\t\t\t\treturn window.getComputedStyle(obj, null)[name];\n\t\t\t}\n\t\t};\n\t\n\t\n\t\t/**\n\t\tReturns the absolute x, y position of an Element. The position will be returned in a object with x, y fields.\n\t\n\t\t@method getPos\n\t\t@static\n\t\t@param {Element} node HTML element or element id to get x, y position from.\n\t\t@param {Element} root Optional root element to stop calculations at.\n\t\t@return {object} Absolute position of the specified element object with x, y fields.\n\t\t*/\n\t\tvar getPos = function(node, root) {\n\t\t\tvar x = 0, y = 0, parent, doc = document, nodeRect, rootRect;\n\t\n\t\t\tnode = node;\n\t\t\troot = root || doc.body;\n\t\n\t\t\t// Returns the x, y cordinate for an element on IE 6 and IE 7\n\t\t\tfunction getIEPos(node) {\n\t\t\t\tvar bodyElm, rect, x = 0, y = 0;\n\t\n\t\t\t\tif (node) {\n\t\t\t\t\trect = node.getBoundingClientRect();\n\t\t\t\t\tbodyElm = doc.compatMode === \"CSS1Compat\" ? doc.documentElement : doc.body;\n\t\t\t\t\tx = rect.left + bodyElm.scrollLeft;\n\t\t\t\t\ty = rect.top + bodyElm.scrollTop;\n\t\t\t\t}\n\t\n\t\t\t\treturn {\n\t\t\t\t\tx : x,\n\t\t\t\t\ty : y\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\t// Use getBoundingClientRect on IE 6 and IE 7 but not on IE 8 in standards mode\n\t\t\tif (node && node.getBoundingClientRect && Env.browser === 'IE' && (!doc.documentMode || doc.documentMode < 8)) {\n\t\t\t\tnodeRect = getIEPos(node);\n\t\t\t\trootRect = getIEPos(root);\n\t\n\t\t\t\treturn {\n\t\t\t\t\tx : nodeRect.x - rootRect.x,\n\t\t\t\t\ty : nodeRect.y - rootRect.y\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\tparent = node;\n\t\t\twhile (parent && parent != root && parent.nodeType) {\n\t\t\t\tx += parent.offsetLeft || 0;\n\t\t\t\ty += parent.offsetTop || 0;\n\t\t\t\tparent = parent.offsetParent;\n\t\t\t}\n\t\n\t\t\tparent = node.parentNode;\n\t\t\twhile (parent && parent != root && parent.nodeType) {\n\t\t\t\tx -= parent.scrollLeft || 0;\n\t\t\t\ty -= parent.scrollTop || 0;\n\t\t\t\tparent = parent.parentNode;\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\tx : x,\n\t\t\t\ty : y\n\t\t\t};\n\t\t};\n\t\n\t\t/**\n\t\tReturns the size of the specified node in pixels.\n\t\n\t\t@method getSize\n\t\t@static\n\t\t@param {Node} node Node to get the size of.\n\t\t@return {Object} Object with a w and h property.\n\t\t*/\n\t\tvar getSize = function(node) {\n\t\t\treturn {\n\t\t\t\tw : node.offsetWidth || node.clientWidth,\n\t\t\t\th : node.offsetHeight || node.clientHeight\n\t\t\t};\n\t\t};\n\t\n\t\treturn {\n\t\t\tget: get,\n\t\t\thasClass: hasClass,\n\t\t\taddClass: addClass,\n\t\t\tremoveClass: removeClass,\n\t\t\tgetStyle: getStyle,\n\t\t\tgetPos: getPos,\n\t\t\tgetSize: getSize\n\t\t};\n\t});\n\t\n\t// Included from: src/javascript/core/Exceptions.js\n\t\n\t/**\n\t * Exceptions.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine('moxie/core/Exceptions', [\n\t\t'moxie/core/utils/Basic'\n\t], function(Basic) {\n\t\tfunction _findKey(obj, value) {\n\t\t\tvar key;\n\t\t\tfor (key in obj) {\n\t\t\t\tif (obj[key] === value) {\n\t\t\t\t\treturn key;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\n\t\treturn {\n\t\t\tRuntimeError: (function() {\n\t\t\t\tvar namecodes = {\n\t\t\t\t\tNOT_INIT_ERR: 1,\n\t\t\t\t\tNOT_SUPPORTED_ERR: 9,\n\t\t\t\t\tJS_ERR: 4\n\t\t\t\t};\n\t\n\t\t\t\tfunction RuntimeError(code) {\n\t\t\t\t\tthis.code = code;\n\t\t\t\t\tthis.name = _findKey(namecodes, code);\n\t\t\t\t\tthis.message = this.name + \": RuntimeError \" + this.code;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tBasic.extend(RuntimeError, namecodes);\n\t\t\t\tRuntimeError.prototype = Error.prototype;\n\t\t\t\treturn RuntimeError;\n\t\t\t}()),\n\t\t\t\n\t\t\tOperationNotAllowedException: (function() {\n\t\t\t\t\n\t\t\t\tfunction OperationNotAllowedException(code) {\n\t\t\t\t\tthis.code = code;\n\t\t\t\t\tthis.name = 'OperationNotAllowedException';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tBasic.extend(OperationNotAllowedException, {\n\t\t\t\t\tNOT_ALLOWED_ERR: 1\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tOperationNotAllowedException.prototype = Error.prototype;\n\t\t\t\t\n\t\t\t\treturn OperationNotAllowedException;\n\t\t\t}()),\n\t\n\t\t\tImageError: (function() {\n\t\t\t\tvar namecodes = {\n\t\t\t\t\tWRONG_FORMAT: 1,\n\t\t\t\t\tMAX_RESOLUTION_ERR: 2\n\t\t\t\t};\n\t\n\t\t\t\tfunction ImageError(code) {\n\t\t\t\t\tthis.code = code;\n\t\t\t\t\tthis.name = _findKey(namecodes, code);\n\t\t\t\t\tthis.message = this.name + \": ImageError \" + this.code;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tBasic.extend(ImageError, namecodes);\n\t\t\t\tImageError.prototype = Error.prototype;\n\t\n\t\t\t\treturn ImageError;\n\t\t\t}()),\n\t\n\t\t\tFileException: (function() {\n\t\t\t\tvar namecodes = {\n\t\t\t\t\tNOT_FOUND_ERR: 1,\n\t\t\t\t\tSECURITY_ERR: 2,\n\t\t\t\t\tABORT_ERR: 3,\n\t\t\t\t\tNOT_READABLE_ERR: 4,\n\t\t\t\t\tENCODING_ERR: 5,\n\t\t\t\t\tNO_MODIFICATION_ALLOWED_ERR: 6,\n\t\t\t\t\tINVALID_STATE_ERR: 7,\n\t\t\t\t\tSYNTAX_ERR: 8\n\t\t\t\t};\n\t\n\t\t\t\tfunction FileException(code) {\n\t\t\t\t\tthis.code = code;\n\t\t\t\t\tthis.name = _findKey(namecodes, code);\n\t\t\t\t\tthis.message = this.name + \": FileException \" + this.code;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tBasic.extend(FileException, namecodes);\n\t\t\t\tFileException.prototype = Error.prototype;\n\t\t\t\treturn FileException;\n\t\t\t}()),\n\t\t\t\n\t\t\tDOMException: (function() {\n\t\t\t\tvar namecodes = {\n\t\t\t\t\tINDEX_SIZE_ERR: 1,\n\t\t\t\t\tDOMSTRING_SIZE_ERR: 2,\n\t\t\t\t\tHIERARCHY_REQUEST_ERR: 3,\n\t\t\t\t\tWRONG_DOCUMENT_ERR: 4,\n\t\t\t\t\tINVALID_CHARACTER_ERR: 5,\n\t\t\t\t\tNO_DATA_ALLOWED_ERR: 6,\n\t\t\t\t\tNO_MODIFICATION_ALLOWED_ERR: 7,\n\t\t\t\t\tNOT_FOUND_ERR: 8,\n\t\t\t\t\tNOT_SUPPORTED_ERR: 9,\n\t\t\t\t\tINUSE_ATTRIBUTE_ERR: 10,\n\t\t\t\t\tINVALID_STATE_ERR: 11,\n\t\t\t\t\tSYNTAX_ERR: 12,\n\t\t\t\t\tINVALID_MODIFICATION_ERR: 13,\n\t\t\t\t\tNAMESPACE_ERR: 14,\n\t\t\t\t\tINVALID_ACCESS_ERR: 15,\n\t\t\t\t\tVALIDATION_ERR: 16,\n\t\t\t\t\tTYPE_MISMATCH_ERR: 17,\n\t\t\t\t\tSECURITY_ERR: 18,\n\t\t\t\t\tNETWORK_ERR: 19,\n\t\t\t\t\tABORT_ERR: 20,\n\t\t\t\t\tURL_MISMATCH_ERR: 21,\n\t\t\t\t\tQUOTA_EXCEEDED_ERR: 22,\n\t\t\t\t\tTIMEOUT_ERR: 23,\n\t\t\t\t\tINVALID_NODE_TYPE_ERR: 24,\n\t\t\t\t\tDATA_CLONE_ERR: 25\n\t\t\t\t};\n\t\n\t\t\t\tfunction DOMException(code) {\n\t\t\t\t\tthis.code = code;\n\t\t\t\t\tthis.name = _findKey(namecodes, code);\n\t\t\t\t\tthis.message = this.name + \": DOMException \" + this.code;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tBasic.extend(DOMException, namecodes);\n\t\t\t\tDOMException.prototype = Error.prototype;\n\t\t\t\treturn DOMException;\n\t\t\t}()),\n\t\t\t\n\t\t\tEventException: (function() {\n\t\t\t\tfunction EventException(code) {\n\t\t\t\t\tthis.code = code;\n\t\t\t\t\tthis.name = 'EventException';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tBasic.extend(EventException, {\n\t\t\t\t\tUNSPECIFIED_EVENT_TYPE_ERR: 0\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tEventException.prototype = Error.prototype;\n\t\t\t\t\n\t\t\t\treturn EventException;\n\t\t\t}())\n\t\t};\n\t});\n\t\n\t// Included from: src/javascript/core/EventTarget.js\n\t\n\t/**\n\t * EventTarget.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine('moxie/core/EventTarget', [\n\t\t'moxie/core/Exceptions',\n\t\t'moxie/core/utils/Basic'\n\t], function(x, Basic) {\n\t\t/**\n\t\tParent object for all event dispatching components and objects\n\t\n\t\t@class EventTarget\n\t\t@constructor EventTarget\n\t\t*/\n\t\tfunction EventTarget() {\n\t\t\t// hash of event listeners by object uid\n\t\t\tvar eventpool = {};\n\t\t\t\t\t\n\t\t\tBasic.extend(this, {\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tUnique id of the event dispatcher, usually overriden by children\n\t\n\t\t\t\t@property uid\n\t\t\t\t@type String\n\t\t\t\t*/\n\t\t\t\tuid: null,\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tCan be called from within a child  in order to acquire uniqie id in automated manner\n\t\n\t\t\t\t@method init\n\t\t\t\t*/\n\t\t\t\tinit: function() {\n\t\t\t\t\tif (!this.uid) {\n\t\t\t\t\t\tthis.uid = Basic.guid('uid_');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tRegister a handler to a specific event dispatched by the object\n\t\n\t\t\t\t@method addEventListener\n\t\t\t\t@param {String} type Type or basically a name of the event to subscribe to\n\t\t\t\t@param {Function} fn Callback function that will be called when event happens\n\t\t\t\t@param {Number} [priority=0] Priority of the event handler - handlers with higher priorities will be called first\n\t\t\t\t@param {Object} [scope=this] A scope to invoke event handler in\n\t\t\t\t*/\n\t\t\t\taddEventListener: function(type, fn, priority, scope) {\n\t\t\t\t\tvar self = this, list;\n\t\t\t\t\t\n\t\t\t\t\ttype = Basic.trim(type);\n\t\t\t\t\t\n\t\t\t\t\tif (/\\s/.test(type)) {\n\t\t\t\t\t\t// multiple event types were passed for one handler\n\t\t\t\t\t\tBasic.each(type.split(/\\s+/), function(type) {\n\t\t\t\t\t\t\tself.addEventListener(type, fn, priority, scope);\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\ttype = type.toLowerCase();\n\t\t\t\t\tpriority = parseInt(priority, 10) || 0;\n\t\t\t\t\t\n\t\t\t\t\tlist = eventpool[this.uid] && eventpool[this.uid][type] || [];\n\t\t\t\t\tlist.push({fn : fn, priority : priority, scope : scope || this});\n\t\t\t\t\t\n\t\t\t\t\tif (!eventpool[this.uid]) {\n\t\t\t\t\t\teventpool[this.uid] = {};\n\t\t\t\t\t}\n\t\t\t\t\teventpool[this.uid][type] = list;\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tCheck if any handlers were registered to the specified event\n\t\n\t\t\t\t@method hasEventListener\n\t\t\t\t@param {String} type Type or basically a name of the event to check\n\t\t\t\t@return {Mixed} Returns a handler if it was found and false, if - not\n\t\t\t\t*/\n\t\t\t\thasEventListener: function(type) {\n\t\t\t\t\treturn type ? !!(eventpool[this.uid] && eventpool[this.uid][type]) : !!eventpool[this.uid];\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tUnregister the handler from the event, or if former was not specified - unregister all handlers\n\t\n\t\t\t\t@method removeEventListener\n\t\t\t\t@param {String} type Type or basically a name of the event\n\t\t\t\t@param {Function} [fn] Handler to unregister\n\t\t\t\t*/\n\t\t\t\tremoveEventListener: function(type, fn) {\n\t\t\t\t\ttype = type.toLowerCase();\n\t\t\n\t\t\t\t\tvar list = eventpool[this.uid] && eventpool[this.uid][type], i;\n\t\t\n\t\t\t\t\tif (list) {\n\t\t\t\t\t\tif (fn) {\n\t\t\t\t\t\t\tfor (i = list.length - 1; i >= 0; i--) {\n\t\t\t\t\t\t\t\tif (list[i].fn === fn) {\n\t\t\t\t\t\t\t\t\tlist.splice(i, 1);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlist = [];\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t// delete event list if it has become empty\n\t\t\t\t\t\tif (!list.length) {\n\t\t\t\t\t\t\tdelete eventpool[this.uid][type];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// and object specific entry in a hash if it has no more listeners attached\n\t\t\t\t\t\t\tif (Basic.isEmptyObj(eventpool[this.uid])) {\n\t\t\t\t\t\t\t\tdelete eventpool[this.uid];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tRemove all event handlers from the object\n\t\n\t\t\t\t@method removeAllEventListeners\n\t\t\t\t*/\n\t\t\t\tremoveAllEventListeners: function() {\n\t\t\t\t\tif (eventpool[this.uid]) {\n\t\t\t\t\t\tdelete eventpool[this.uid];\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tDispatch the event\n\t\n\t\t\t\t@method dispatchEvent\n\t\t\t\t@param {String/Object} Type of event or event object to dispatch\n\t\t\t\t@param {Mixed} [...] Variable number of arguments to be passed to a handlers\n\t\t\t\t@return {Boolean} true by default and false if any handler returned false\n\t\t\t\t*/\n\t\t\t\tdispatchEvent: function(type) {\n\t\t\t\t\tvar uid, list, args, tmpEvt, evt = {}, result = true, undef;\n\t\t\t\t\t\n\t\t\t\t\tif (Basic.typeOf(type) !== 'string') {\n\t\t\t\t\t\t// we can't use original object directly (because of Silverlight)\n\t\t\t\t\t\ttmpEvt = type;\n\t\n\t\t\t\t\t\tif (Basic.typeOf(tmpEvt.type) === 'string') {\n\t\t\t\t\t\t\ttype = tmpEvt.type;\n\t\n\t\t\t\t\t\t\tif (tmpEvt.total !== undef && tmpEvt.loaded !== undef) { // progress event\n\t\t\t\t\t\t\t\tevt.total = tmpEvt.total;\n\t\t\t\t\t\t\t\tevt.loaded = tmpEvt.loaded;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tevt.async = tmpEvt.async || false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow new x.EventException(x.EventException.UNSPECIFIED_EVENT_TYPE_ERR);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// check if event is meant to be dispatched on an object having specific uid\n\t\t\t\t\tif (type.indexOf('::') !== -1) {\n\t\t\t\t\t\t(function(arr) {\n\t\t\t\t\t\t\tuid = arr[0];\n\t\t\t\t\t\t\ttype = arr[1];\n\t\t\t\t\t\t}(type.split('::')));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuid = this.uid;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\ttype = type.toLowerCase();\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\tlist = eventpool[uid] && eventpool[uid][type];\n\t\n\t\t\t\t\tif (list) {\n\t\t\t\t\t\t// sort event list by prority\n\t\t\t\t\t\tlist.sort(function(a, b) { return b.priority - a.priority; });\n\t\t\t\t\t\t\n\t\t\t\t\t\targs = [].slice.call(arguments);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// first argument will be pseudo-event object\n\t\t\t\t\t\targs.shift();\n\t\t\t\t\t\tevt.type = type;\n\t\t\t\t\t\targs.unshift(evt);\n\t\n\t\t\t\t\t\t// Dispatch event to all listeners\n\t\t\t\t\t\tvar queue = [];\n\t\t\t\t\t\tBasic.each(list, function(handler) {\n\t\t\t\t\t\t\t// explicitly set the target, otherwise events fired from shims do not get it\n\t\t\t\t\t\t\targs[0].target = handler.scope;\n\t\t\t\t\t\t\t// if event is marked as async, detach the handler\n\t\t\t\t\t\t\tif (evt.async) {\n\t\t\t\t\t\t\t\tqueue.push(function(cb) {\n\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\tcb(handler.fn.apply(handler.scope, args) === false);\n\t\t\t\t\t\t\t\t\t}, 1);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tqueue.push(function(cb) {\n\t\t\t\t\t\t\t\t\tcb(handler.fn.apply(handler.scope, args) === false); // if handler returns false stop propagation\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (queue.length) {\n\t\t\t\t\t\t\tBasic.inSeries(queue, function(err) {\n\t\t\t\t\t\t\t\tresult = !err;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tAlias for addEventListener\n\t\n\t\t\t\t@method bind\n\t\t\t\t@protected\n\t\t\t\t*/\n\t\t\t\tbind: function() {\n\t\t\t\t\tthis.addEventListener.apply(this, arguments);\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tAlias for removeEventListener\n\t\n\t\t\t\t@method unbind\n\t\t\t\t@protected\n\t\t\t\t*/\n\t\t\t\tunbind: function() {\n\t\t\t\t\tthis.removeEventListener.apply(this, arguments);\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tAlias for removeAllEventListeners\n\t\n\t\t\t\t@method unbindAll\n\t\t\t\t@protected\n\t\t\t\t*/\n\t\t\t\tunbindAll: function() {\n\t\t\t\t\tthis.removeAllEventListeners.apply(this, arguments);\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tAlias for dispatchEvent\n\t\n\t\t\t\t@method trigger\n\t\t\t\t@protected\n\t\t\t\t*/\n\t\t\t\ttrigger: function() {\n\t\t\t\t\treturn this.dispatchEvent.apply(this, arguments);\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tConverts properties of on[event] type to corresponding event handlers,\n\t\t\t\tis used to avoid extra hassle around the process of calling them back\n\t\n\t\t\t\t@method convertEventPropsToHandlers\n\t\t\t\t@private\n\t\t\t\t*/\n\t\t\t\tconvertEventPropsToHandlers: function(handlers) {\n\t\t\t\t\tvar h;\n\t\t\t\t\t\t\t\n\t\t\t\t\tif (Basic.typeOf(handlers) !== 'array') {\n\t\t\t\t\t\thandlers = [handlers];\n\t\t\t\t\t}\n\t\n\t\t\t\t\tfor (var i = 0; i < handlers.length; i++) {\n\t\t\t\t\t\th = 'on' + handlers[i];\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (Basic.typeOf(this[h]) === 'function') {\n\t\t\t\t\t\t\tthis.addEventListener(handlers[i], this[h]);\n\t\t\t\t\t\t} else if (Basic.typeOf(this[h]) === 'undefined') {\n\t\t\t\t\t\t\tthis[h] = null; // object must have defined event properties, even if it doesn't make use of them\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t});\n\t\t}\n\t\n\t\tEventTarget.instance = new EventTarget(); \n\t\n\t\treturn EventTarget;\n\t});\n\t\n\t// Included from: src/javascript/core/utils/Encode.js\n\t\n\t/**\n\t * Encode.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine('moxie/core/utils/Encode', [], function() {\n\t\n\t\t/**\n\t\tEncode string with UTF-8\n\t\n\t\t@method utf8_encode\n\t\t@for Utils\n\t\t@static\n\t\t@param {String} str String to encode\n\t\t@return {String} UTF-8 encoded string\n\t\t*/\n\t\tvar utf8_encode = function(str) {\n\t\t\treturn unescape(encodeURIComponent(str));\n\t\t};\n\t\t\n\t\t/**\n\t\tDecode UTF-8 encoded string\n\t\n\t\t@method utf8_decode\n\t\t@static\n\t\t@param {String} str String to decode\n\t\t@return {String} Decoded string\n\t\t*/\n\t\tvar utf8_decode = function(str_data) {\n\t\t\treturn decodeURIComponent(escape(str_data));\n\t\t};\n\t\t\n\t\t/**\n\t\tDecode Base64 encoded string (uses browser's default method if available),\n\t\tfrom: https://raw.github.com/kvz/phpjs/master/functions/url/base64_decode.js\n\t\n\t\t@method atob\n\t\t@static\n\t\t@param {String} data String to decode\n\t\t@return {String} Decoded string\n\t\t*/\n\t\tvar atob = function(data, utf8) {\n\t\t\tif (typeof(window.atob) === 'function') {\n\t\t\t\treturn utf8 ? utf8_decode(window.atob(data)) : window.atob(data);\n\t\t\t}\n\t\n\t\t\t// http://kevin.vanzonneveld.net\n\t\t\t// +   original by: Tyler Akins (http://rumkin.com)\n\t\t\t// +   improved by: Thunder.m\n\t\t\t// +      input by: Aman Gupta\n\t\t\t// +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n\t\t\t// +   bugfixed by: Onno Marsman\n\t\t\t// +   bugfixed by: Pellentesque Malesuada\n\t\t\t// +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n\t\t\t// +      input by: Brett Zamir (http://brett-zamir.me)\n\t\t\t// +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n\t\t\t// *     example 1: base64_decode('S2V2aW4gdmFuIFpvbm5ldmVsZA==');\n\t\t\t// *     returns 1: 'Kevin van Zonneveld'\n\t\t\t// mozilla has this native\n\t\t\t// - but breaks in 2.0.0.12!\n\t\t\t//if (typeof this.window.atob == 'function') {\n\t\t\t//    return atob(data);\n\t\t\t//}\n\t\t\tvar b64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\t\t\tvar o1, o2, o3, h1, h2, h3, h4, bits, i = 0,\n\t\t\t\tac = 0,\n\t\t\t\tdec = \"\",\n\t\t\t\ttmp_arr = [];\n\t\n\t\t\tif (!data) {\n\t\t\t\treturn data;\n\t\t\t}\n\t\n\t\t\tdata += '';\n\t\n\t\t\tdo { // unpack four hexets into three octets using index points in b64\n\t\t\t\th1 = b64.indexOf(data.charAt(i++));\n\t\t\t\th2 = b64.indexOf(data.charAt(i++));\n\t\t\t\th3 = b64.indexOf(data.charAt(i++));\n\t\t\t\th4 = b64.indexOf(data.charAt(i++));\n\t\n\t\t\t\tbits = h1 << 18 | h2 << 12 | h3 << 6 | h4;\n\t\n\t\t\t\to1 = bits >> 16 & 0xff;\n\t\t\t\to2 = bits >> 8 & 0xff;\n\t\t\t\to3 = bits & 0xff;\n\t\n\t\t\t\tif (h3 == 64) {\n\t\t\t\t\ttmp_arr[ac++] = String.fromCharCode(o1);\n\t\t\t\t} else if (h4 == 64) {\n\t\t\t\t\ttmp_arr[ac++] = String.fromCharCode(o1, o2);\n\t\t\t\t} else {\n\t\t\t\t\ttmp_arr[ac++] = String.fromCharCode(o1, o2, o3);\n\t\t\t\t}\n\t\t\t} while (i < data.length);\n\t\n\t\t\tdec = tmp_arr.join('');\n\t\n\t\t\treturn utf8 ? utf8_decode(dec) : dec;\n\t\t};\n\t\t\n\t\t/**\n\t\tBase64 encode string (uses browser's default method if available),\n\t\tfrom: https://raw.github.com/kvz/phpjs/master/functions/url/base64_encode.js\n\t\n\t\t@method btoa\n\t\t@static\n\t\t@param {String} data String to encode\n\t\t@return {String} Base64 encoded string\n\t\t*/\n\t\tvar btoa = function(data, utf8) {\n\t\t\tif (utf8) {\n\t\t\t\tutf8_encode(data);\n\t\t\t}\n\t\n\t\t\tif (typeof(window.btoa) === 'function') {\n\t\t\t\treturn window.btoa(data);\n\t\t\t}\n\t\n\t\t\t// http://kevin.vanzonneveld.net\n\t\t\t// +   original by: Tyler Akins (http://rumkin.com)\n\t\t\t// +   improved by: Bayron Guevara\n\t\t\t// +   improved by: Thunder.m\n\t\t\t// +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n\t\t\t// +   bugfixed by: Pellentesque Malesuada\n\t\t\t// +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n\t\t\t// +   improved by: Rafa Kukawski (http://kukawski.pl)\n\t\t\t// *     example 1: base64_encode('Kevin van Zonneveld');\n\t\t\t// *     returns 1: 'S2V2aW4gdmFuIFpvbm5ldmVsZA=='\n\t\t\t// mozilla has this native\n\t\t\t// - but breaks in 2.0.0.12!\n\t\t\tvar b64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\t\t\tvar o1, o2, o3, h1, h2, h3, h4, bits, i = 0,\n\t\t\t\tac = 0,\n\t\t\t\tenc = \"\",\n\t\t\t\ttmp_arr = [];\n\t\n\t\t\tif (!data) {\n\t\t\t\treturn data;\n\t\t\t}\n\t\n\t\t\tdo { // pack three octets into four hexets\n\t\t\t\to1 = data.charCodeAt(i++);\n\t\t\t\to2 = data.charCodeAt(i++);\n\t\t\t\to3 = data.charCodeAt(i++);\n\t\n\t\t\t\tbits = o1 << 16 | o2 << 8 | o3;\n\t\n\t\t\t\th1 = bits >> 18 & 0x3f;\n\t\t\t\th2 = bits >> 12 & 0x3f;\n\t\t\t\th3 = bits >> 6 & 0x3f;\n\t\t\t\th4 = bits & 0x3f;\n\t\n\t\t\t\t// use hexets to index into b64, and append result to encoded string\n\t\t\t\ttmp_arr[ac++] = b64.charAt(h1) + b64.charAt(h2) + b64.charAt(h3) + b64.charAt(h4);\n\t\t\t} while (i < data.length);\n\t\n\t\t\tenc = tmp_arr.join('');\n\t\n\t\t\tvar r = data.length % 3;\n\t\n\t\t\treturn (r ? enc.slice(0, r - 3) : enc) + '==='.slice(r || 3);\n\t\t};\n\t\n\t\n\t\treturn {\n\t\t\tutf8_encode: utf8_encode,\n\t\t\tutf8_decode: utf8_decode,\n\t\t\tatob: atob,\n\t\t\tbtoa: btoa\n\t\t};\n\t});\n\t\n\t// Included from: src/javascript/runtime/Runtime.js\n\t\n\t/**\n\t * Runtime.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine('moxie/runtime/Runtime', [\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/core/utils/Dom\",\n\t\t\"moxie/core/EventTarget\"\n\t], function(Basic, Dom, EventTarget) {\n\t\tvar runtimeConstructors = {}, runtimes = {};\n\t\n\t\t/**\n\t\tCommon set of methods and properties for every runtime instance\n\t\n\t\t@class Runtime\n\t\n\t\t@param {Object} options\n\t\t@param {String} type Sanitized name of the runtime\n\t\t@param {Object} [caps] Set of capabilities that differentiate specified runtime\n\t\t@param {Object} [modeCaps] Set of capabilities that do require specific operational mode\n\t\t@param {String} [preferredMode='browser'] Preferred operational mode to choose if no required capabilities were requested\n\t\t*/\n\t\tfunction Runtime(options, type, caps, modeCaps, preferredMode) {\n\t\t\t/**\n\t\t\tDispatched when runtime is initialized and ready.\n\t\t\tResults in RuntimeInit on a connected component.\n\t\n\t\t\t@event Init\n\t\t\t*/\n\t\n\t\t\t/**\n\t\t\tDispatched when runtime fails to initialize.\n\t\t\tResults in RuntimeError on a connected component.\n\t\n\t\t\t@event Error\n\t\t\t*/\n\t\n\t\t\tvar self = this\n\t\t\t, _shim\n\t\t\t, _uid = Basic.guid(type + '_')\n\t\t\t, defaultMode = preferredMode || 'browser'\n\t\t\t;\n\t\n\t\t\toptions = options || {};\n\t\n\t\t\t// register runtime in private hash\n\t\t\truntimes[_uid] = this;\n\t\n\t\t\t/**\n\t\t\tDefault set of capabilities, which can be redifined later by specific runtime\n\t\n\t\t\t@private\n\t\t\t@property caps\n\t\t\t@type Object\n\t\t\t*/\n\t\t\tcaps = Basic.extend({\n\t\t\t\t// Runtime can: \n\t\t\t\t// provide access to raw binary data of the file\n\t\t\t\taccess_binary: false,\n\t\t\t\t// provide access to raw binary data of the image (image extension is optional) \n\t\t\t\taccess_image_binary: false,\n\t\t\t\t// display binary data as thumbs for example\n\t\t\t\tdisplay_media: false,\n\t\t\t\t// make cross-domain requests\n\t\t\t\tdo_cors: false,\n\t\t\t\t// accept files dragged and dropped from the desktop\n\t\t\t\tdrag_and_drop: false,\n\t\t\t\t// filter files in selection dialog by their extensions\n\t\t\t\tfilter_by_extension: true,\n\t\t\t\t// resize image (and manipulate it raw data of any file in general)\n\t\t\t\tresize_image: false,\n\t\t\t\t// periodically report how many bytes of total in the file were uploaded (loaded)\n\t\t\t\treport_upload_progress: false,\n\t\t\t\t// provide access to the headers of http response \n\t\t\t\treturn_response_headers: false,\n\t\t\t\t// support response of specific type, which should be passed as an argument\n\t\t\t\t// e.g. runtime.can('return_response_type', 'blob')\n\t\t\t\treturn_response_type: false,\n\t\t\t\t// return http status code of the response\n\t\t\t\treturn_status_code: true,\n\t\t\t\t// send custom http header with the request\n\t\t\t\tsend_custom_headers: false,\n\t\t\t\t// pick up the files from a dialog\n\t\t\t\tselect_file: false,\n\t\t\t\t// select whole folder in file browse dialog\n\t\t\t\tselect_folder: false,\n\t\t\t\t// select multiple files at once in file browse dialog\n\t\t\t\tselect_multiple: true,\n\t\t\t\t// send raw binary data, that is generated after image resizing or manipulation of other kind\n\t\t\t\tsend_binary_string: false,\n\t\t\t\t// send cookies with http request and therefore retain session\n\t\t\t\tsend_browser_cookies: true,\n\t\t\t\t// send data formatted as multipart/form-data\n\t\t\t\tsend_multipart: true,\n\t\t\t\t// slice the file or blob to smaller parts\n\t\t\t\tslice_blob: false,\n\t\t\t\t// upload file without preloading it to memory, stream it out directly from disk\n\t\t\t\tstream_upload: false,\n\t\t\t\t// programmatically trigger file browse dialog\n\t\t\t\tsummon_file_dialog: false,\n\t\t\t\t// upload file of specific size, size should be passed as argument\n\t\t\t\t// e.g. runtime.can('upload_filesize', '500mb')\n\t\t\t\tupload_filesize: true,\n\t\t\t\t// initiate http request with specific http method, method should be passed as argument\n\t\t\t\t// e.g. runtime.can('use_http_method', 'put')\n\t\t\t\tuse_http_method: true\n\t\t\t}, caps);\n\t\t\t\t\n\t\t\n\t\t\t// default to the mode that is compatible with preferred caps\n\t\t\tif (options.preferred_caps) {\n\t\t\t\tdefaultMode = Runtime.getMode(modeCaps, options.preferred_caps, defaultMode);\n\t\t\t}\n\t\t\t\n\t\t\t// small extension factory here (is meant to be extended with actual extensions constructors)\n\t\t\t_shim = (function() {\n\t\t\t\tvar objpool = {};\n\t\t\t\treturn {\n\t\t\t\t\texec: function(uid, comp, fn, args) {\n\t\t\t\t\t\tif (_shim[comp]) {\n\t\t\t\t\t\t\tif (!objpool[uid]) {\n\t\t\t\t\t\t\t\tobjpool[uid] = {\n\t\t\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\t\t\tinstance: new _shim[comp]()\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (objpool[uid].instance[fn]) {\n\t\t\t\t\t\t\t\treturn objpool[uid].instance[fn].apply(this, args);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\n\t\t\t\t\tremoveInstance: function(uid) {\n\t\t\t\t\t\tdelete objpool[uid];\n\t\t\t\t\t},\n\t\n\t\t\t\t\tremoveAllInstances: function() {\n\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\tBasic.each(objpool, function(obj, uid) {\n\t\t\t\t\t\t\tif (Basic.typeOf(obj.instance.destroy) === 'function') {\n\t\t\t\t\t\t\t\tobj.instance.destroy.call(obj.context);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.removeInstance(uid);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}());\n\t\n\t\n\t\t\t// public methods\n\t\t\tBasic.extend(this, {\n\t\t\t\t/**\n\t\t\t\tSpecifies whether runtime instance was initialized or not\n\t\n\t\t\t\t@property initialized\n\t\t\t\t@type {Boolean}\n\t\t\t\t@default false\n\t\t\t\t*/\n\t\t\t\tinitialized: false, // shims require this flag to stop initialization retries\n\t\n\t\t\t\t/**\n\t\t\t\tUnique ID of the runtime\n\t\n\t\t\t\t@property uid\n\t\t\t\t@type {String}\n\t\t\t\t*/\n\t\t\t\tuid: _uid,\n\t\n\t\t\t\t/**\n\t\t\t\tRuntime type (e.g. flash, html5, etc)\n\t\n\t\t\t\t@property type\n\t\t\t\t@type {String}\n\t\t\t\t*/\n\t\t\t\ttype: type,\n\t\n\t\t\t\t/**\n\t\t\t\tRuntime (not native one) may operate in browser or client mode.\n\t\n\t\t\t\t@property mode\n\t\t\t\t@private\n\t\t\t\t@type {String|Boolean} current mode or false, if none possible\n\t\t\t\t*/\n\t\t\t\tmode: Runtime.getMode(modeCaps, (options.required_caps), defaultMode),\n\t\n\t\t\t\t/**\n\t\t\t\tid of the DOM container for the runtime (if available)\n\t\n\t\t\t\t@property shimid\n\t\t\t\t@type {String}\n\t\t\t\t*/\n\t\t\t\tshimid: _uid + '_container',\n\t\n\t\t\t\t/**\n\t\t\t\tNumber of connected clients. If equal to zero, runtime can be destroyed\n\t\n\t\t\t\t@property clients\n\t\t\t\t@type {Number}\n\t\t\t\t*/\n\t\t\t\tclients: 0,\n\t\n\t\t\t\t/**\n\t\t\t\tRuntime initialization options\n\t\n\t\t\t\t@property options\n\t\t\t\t@type {Object}\n\t\t\t\t*/\n\t\t\t\toptions: options,\n\t\n\t\t\t\t/**\n\t\t\t\tChecks if the runtime has specific capability\n\t\n\t\t\t\t@method can\n\t\t\t\t@param {String} cap Name of capability to check\n\t\t\t\t@param {Mixed} [value] If passed, capability should somehow correlate to the value\n\t\t\t\t@param {Object} [refCaps] Set of capabilities to check the specified cap against (defaults to internal set)\n\t\t\t\t@return {Boolean} true if runtime has such capability and false, if - not\n\t\t\t\t*/\n\t\t\t\tcan: function(cap, value) {\n\t\t\t\t\tvar refCaps = arguments[2] || caps;\n\t\n\t\t\t\t\t// if cap var is a comma-separated list of caps, convert it to object (key/value)\n\t\t\t\t\tif (Basic.typeOf(cap) === 'string' && Basic.typeOf(value) === 'undefined') {\n\t\t\t\t\t\tcap = Runtime.parseCaps(cap);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (Basic.typeOf(cap) === 'object') {\n\t\t\t\t\t\tfor (var key in cap) {\n\t\t\t\t\t\t\tif (!this.can(key, cap[key], refCaps)) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// check the individual cap\n\t\t\t\t\tif (Basic.typeOf(refCaps[cap]) === 'function') {\n\t\t\t\t\t\treturn refCaps[cap].call(this, value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn (value === refCaps[cap]);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tReturns container for the runtime as DOM element\n\t\n\t\t\t\t@method getShimContainer\n\t\t\t\t@return {DOMElement}\n\t\t\t\t*/\n\t\t\t\tgetShimContainer: function() {\n\t\t\t\t\tvar container, shimContainer = Dom.get(this.shimid);\n\t\n\t\t\t\t\t// if no container for shim, create one\n\t\t\t\t\tif (!shimContainer) {\n\t\t\t\t\t\tcontainer = this.options.container ? Dom.get(this.options.container) : document.body;\n\t\n\t\t\t\t\t\t// create shim container and insert it at an absolute position into the outer container\n\t\t\t\t\t\tshimContainer = document.createElement('div');\n\t\t\t\t\t\tshimContainer.id = this.shimid;\n\t\t\t\t\t\tshimContainer.className = 'moxie-shim moxie-shim-' + this.type;\n\t\n\t\t\t\t\t\tBasic.extend(shimContainer.style, {\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\ttop: '0px',\n\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\twidth: '1px',\n\t\t\t\t\t\t\theight: '1px',\n\t\t\t\t\t\t\toverflow: 'hidden'\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\tcontainer.appendChild(shimContainer);\n\t\t\t\t\t\tcontainer = null;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn shimContainer;\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tReturns runtime as DOM element (if appropriate)\n\t\n\t\t\t\t@method getShim\n\t\t\t\t@return {DOMElement}\n\t\t\t\t*/\n\t\t\t\tgetShim: function() {\n\t\t\t\t\treturn _shim;\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tInvokes a method within the runtime itself (might differ across the runtimes)\n\t\n\t\t\t\t@method shimExec\n\t\t\t\t@param {Mixed} []\n\t\t\t\t@protected\n\t\t\t\t@return {Mixed} Depends on the action and component\n\t\t\t\t*/\n\t\t\t\tshimExec: function(component, action) {\n\t\t\t\t\tvar args = [].slice.call(arguments, 2);\n\t\t\t\t\treturn self.getShim().exec.call(this, this.uid, component, action, args);\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tOperaional interface that is used by components to invoke specific actions on the runtime\n\t\t\t\t(is invoked in the scope of component)\n\t\n\t\t\t\t@method exec\n\t\t\t\t@param {Mixed} []*\n\t\t\t\t@protected\n\t\t\t\t@return {Mixed} Depends on the action and component\n\t\t\t\t*/\n\t\t\t\texec: function(component, action) { // this is called in the context of component, not runtime\n\t\t\t\t\tvar args = [].slice.call(arguments, 2);\n\t\n\t\t\t\t\tif (self[component] && self[component][action]) {\n\t\t\t\t\t\treturn self[component][action].apply(this, args);\n\t\t\t\t\t}\n\t\t\t\t\treturn self.shimExec.apply(this, arguments);\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tDestroys the runtime (removes all events and deletes DOM structures)\n\t\n\t\t\t\t@method destroy\n\t\t\t\t*/\n\t\t\t\tdestroy: function() {\n\t\t\t\t\tif (!self) {\n\t\t\t\t\t\treturn; // obviously already destroyed\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar shimContainer = Dom.get(this.shimid);\n\t\t\t\t\tif (shimContainer) {\n\t\t\t\t\t\tshimContainer.parentNode.removeChild(shimContainer);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (_shim) {\n\t\t\t\t\t\t_shim.removeAllInstances();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tthis.unbindAll();\n\t\t\t\t\tdelete runtimes[this.uid];\n\t\t\t\t\tthis.uid = null; // mark this runtime as destroyed\n\t\t\t\t\t_uid = self = _shim = shimContainer = null;\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\t// once we got the mode, test against all caps\n\t\t\tif (this.mode && options.required_caps && !this.can(options.required_caps)) {\n\t\t\t\tthis.mode = false;\n\t\t\t}\t\n\t\t}\n\t\n\t\n\t\t/**\n\t\tDefault order to try different runtime types\n\t\n\t\t@property order\n\t\t@type String\n\t\t@static\n\t\t*/\n\t\tRuntime.order = 'html5,flash,silverlight,html4';\n\t\n\t\n\t\t/**\n\t\tRetrieves runtime from private hash by it's uid\n\t\n\t\t@method getRuntime\n\t\t@private\n\t\t@static\n\t\t@param {String} uid Unique identifier of the runtime\n\t\t@return {Runtime|Boolean} Returns runtime, if it exists and false, if - not\n\t\t*/\n\t\tRuntime.getRuntime = function(uid) {\n\t\t\treturn runtimes[uid] ? runtimes[uid] : false;\n\t\t};\n\t\n\t\n\t\t/**\n\t\tRegister constructor for the Runtime of new (or perhaps modified) type\n\t\n\t\t@method addConstructor\n\t\t@static\n\t\t@param {String} type Runtime type (e.g. flash, html5, etc)\n\t\t@param {Function} construct Constructor for the Runtime type\n\t\t*/\n\t\tRuntime.addConstructor = function(type, constructor) {\n\t\t\tconstructor.prototype = EventTarget.instance;\n\t\t\truntimeConstructors[type] = constructor;\n\t\t};\n\t\n\t\n\t\t/**\n\t\tGet the constructor for the specified type.\n\t\n\t\tmethod getConstructor\n\t\t@static\n\t\t@param {String} type Runtime type (e.g. flash, html5, etc)\n\t\t@return {Function} Constructor for the Runtime type\n\t\t*/\n\t\tRuntime.getConstructor = function(type) {\n\t\t\treturn runtimeConstructors[type] || null;\n\t\t};\n\t\n\t\n\t\t/**\n\t\tGet info about the runtime (uid, type, capabilities)\n\t\n\t\t@method getInfo\n\t\t@static\n\t\t@param {String} uid Unique identifier of the runtime\n\t\t@return {Mixed} Info object or null if runtime doesn't exist\n\t\t*/\n\t\tRuntime.getInfo = function(uid) {\n\t\t\tvar runtime = Runtime.getRuntime(uid);\n\t\n\t\t\tif (runtime) {\n\t\t\t\treturn {\n\t\t\t\t\tuid: runtime.uid,\n\t\t\t\t\ttype: runtime.type,\n\t\t\t\t\tmode: runtime.mode,\n\t\t\t\t\tcan: function() {\n\t\t\t\t\t\treturn runtime.can.apply(runtime, arguments);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\t\n\t\n\t\t/**\n\t\tConvert caps represented by a comma-separated string to the object representation.\n\t\n\t\t@method parseCaps\n\t\t@static\n\t\t@param {String} capStr Comma-separated list of capabilities\n\t\t@return {Object}\n\t\t*/\n\t\tRuntime.parseCaps = function(capStr) {\n\t\t\tvar capObj = {};\n\t\n\t\t\tif (Basic.typeOf(capStr) !== 'string') {\n\t\t\t\treturn capStr || {};\n\t\t\t}\n\t\n\t\t\tBasic.each(capStr.split(','), function(key) {\n\t\t\t\tcapObj[key] = true; // we assume it to be - true\n\t\t\t});\n\t\n\t\t\treturn capObj;\n\t\t};\n\t\n\t\t/**\n\t\tTest the specified runtime for specific capabilities.\n\t\n\t\t@method can\n\t\t@static\n\t\t@param {String} type Runtime type (e.g. flash, html5, etc)\n\t\t@param {String|Object} caps Set of capabilities to check\n\t\t@return {Boolean} Result of the test\n\t\t*/\n\t\tRuntime.can = function(type, caps) {\n\t\t\tvar runtime\n\t\t\t, constructor = Runtime.getConstructor(type)\n\t\t\t, mode\n\t\t\t;\n\t\t\tif (constructor) {\n\t\t\t\truntime = new constructor({\n\t\t\t\t\trequired_caps: caps\n\t\t\t\t});\n\t\t\t\tmode = runtime.mode;\n\t\t\t\truntime.destroy();\n\t\t\t\treturn !!mode;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\n\t\n\t\t/**\n\t\tFigure out a runtime that supports specified capabilities.\n\t\n\t\t@method thatCan\n\t\t@static\n\t\t@param {String|Object} caps Set of capabilities to check\n\t\t@param {String} [runtimeOrder] Comma-separated list of runtimes to check against\n\t\t@return {String} Usable runtime identifier or null\n\t\t*/\n\t\tRuntime.thatCan = function(caps, runtimeOrder) {\n\t\t\tvar types = (runtimeOrder || Runtime.order).split(/\\s*,\\s*/);\n\t\t\tfor (var i in types) {\n\t\t\t\tif (Runtime.can(types[i], caps)) {\n\t\t\t\t\treturn types[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\t\n\t\n\t\t/**\n\t\tFigure out an operational mode for the specified set of capabilities.\n\t\n\t\t@method getMode\n\t\t@static\n\t\t@param {Object} modeCaps Set of capabilities that depend on particular runtime mode\n\t\t@param {Object} [requiredCaps] Supplied set of capabilities to find operational mode for\n\t\t@param {String|Boolean} [defaultMode='browser'] Default mode to use \n\t\t@return {String|Boolean} Compatible operational mode\n\t\t*/\n\t\tRuntime.getMode = function(modeCaps, requiredCaps, defaultMode) {\n\t\t\tvar mode = null;\n\t\n\t\t\tif (Basic.typeOf(defaultMode) === 'undefined') { // only if not specified\n\t\t\t\tdefaultMode = 'browser';\n\t\t\t}\n\t\n\t\t\tif (requiredCaps && !Basic.isEmptyObj(modeCaps)) {\n\t\t\t\t// loop over required caps and check if they do require the same mode\n\t\t\t\tBasic.each(requiredCaps, function(value, cap) {\n\t\t\t\t\tif (modeCaps.hasOwnProperty(cap)) {\n\t\t\t\t\t\tvar capMode = modeCaps[cap](value);\n\t\n\t\t\t\t\t\t// make sure we always have an array\n\t\t\t\t\t\tif (typeof(capMode) === 'string') {\n\t\t\t\t\t\t\tcapMode = [capMode];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (!mode) {\n\t\t\t\t\t\t\tmode = capMode;\n\t\t\t\t\t\t} else if (!(mode = Basic.arrayIntersect(mode, capMode))) {\n\t\t\t\t\t\t\t// if cap requires conflicting mode - runtime cannot fulfill required caps\n\t\t\t\t\t\t\treturn (mode = false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tif (mode) {\n\t\t\t\t\treturn Basic.inArray(defaultMode, mode) !== -1 ? defaultMode : mode[0];\n\t\t\t\t} else if (mode === false) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn defaultMode; \n\t\t};\n\t\n\t\n\t\t/**\n\t\tCapability check that always returns true\n\t\n\t\t@private\n\t\t@static\n\t\t@return {True}\n\t\t*/\n\t\tRuntime.capTrue = function() {\n\t\t\treturn true;\n\t\t};\n\t\n\t\t/**\n\t\tCapability check that always returns false\n\t\n\t\t@private\n\t\t@static\n\t\t@return {False}\n\t\t*/\n\t\tRuntime.capFalse = function() {\n\t\t\treturn false;\n\t\t};\n\t\n\t\t/**\n\t\tEvaluate the expression to boolean value and create a function that always returns it.\n\t\n\t\t@private\n\t\t@static\n\t\t@param {Mixed} expr Expression to evaluate\n\t\t@return {Function} Function returning the result of evaluation\n\t\t*/\n\t\tRuntime.capTest = function(expr) {\n\t\t\treturn function() {\n\t\t\t\treturn !!expr;\n\t\t\t};\n\t\t};\n\t\n\t\treturn Runtime;\n\t});\n\t\n\t// Included from: src/javascript/runtime/RuntimeClient.js\n\t\n\t/**\n\t * RuntimeClient.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine('moxie/runtime/RuntimeClient', [\n\t\t'moxie/core/Exceptions',\n\t\t'moxie/core/utils/Basic',\n\t\t'moxie/runtime/Runtime'\n\t], function(x, Basic, Runtime) {\n\t\t/**\n\t\tSet of methods and properties, required by a component to acquire ability to connect to a runtime\n\t\n\t\t@class RuntimeClient\n\t\t*/\n\t\treturn function RuntimeClient() {\n\t\t\tvar runtime;\n\t\n\t\t\tBasic.extend(this, {\n\t\t\t\t/**\n\t\t\t\tConnects to the runtime specified by the options. Will either connect to existing runtime or create a new one.\n\t\t\t\tIncrements number of clients connected to the specified runtime.\n\t\n\t\t\t\t@method connectRuntime\n\t\t\t\t@param {Mixed} options Can be a runtme uid or a set of key-value pairs defining requirements and pre-requisites\n\t\t\t\t*/\n\t\t\t\tconnectRuntime: function(options) {\n\t\t\t\t\tvar comp = this, ruid;\n\t\n\t\t\t\t\tfunction initialize(items) {\n\t\t\t\t\t\tvar type, constructor;\n\t\n\t\t\t\t\t\t// if we ran out of runtimes\n\t\t\t\t\t\tif (!items.length) {\n\t\t\t\t\t\t\tcomp.trigger('RuntimeError', new x.RuntimeError(x.RuntimeError.NOT_INIT_ERR));\n\t\t\t\t\t\t\truntime = null;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\ttype = items.shift();\n\t\t\t\t\t\tconstructor = Runtime.getConstructor(type);\n\t\t\t\t\t\tif (!constructor) {\n\t\t\t\t\t\t\tinitialize(items);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// try initializing the runtime\n\t\t\t\t\t\truntime = new constructor(options);\n\t\n\t\t\t\t\t\truntime.bind('Init', function() {\n\t\t\t\t\t\t\t// mark runtime as initialized\n\t\t\t\t\t\t\truntime.initialized = true;\n\t\n\t\t\t\t\t\t\t// jailbreak ...\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\truntime.clients++;\n\t\t\t\t\t\t\t\t// this will be triggered on component\n\t\t\t\t\t\t\t\tcomp.trigger('RuntimeInit', runtime);\n\t\t\t\t\t\t\t}, 1);\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\truntime.bind('Error', function() {\n\t\t\t\t\t\t\truntime.destroy(); // runtime cannot destroy itself from inside at a right moment, thus we do it here\n\t\t\t\t\t\t\tinitialize(items);\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t/*runtime.bind('Exception', function() { });*/\n\t\n\t\t\t\t\t\t// check if runtime managed to pick-up operational mode\n\t\t\t\t\t\tif (!runtime.mode) {\n\t\t\t\t\t\t\truntime.trigger('Error');\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\truntime.init();\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// check if a particular runtime was requested\n\t\t\t\t\tif (Basic.typeOf(options) === 'string') {\n\t\t\t\t\t\truid = options;\n\t\t\t\t\t} else if (Basic.typeOf(options.ruid) === 'string') {\n\t\t\t\t\t\truid = options.ruid;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (ruid) {\n\t\t\t\t\t\truntime = Runtime.getRuntime(ruid);\n\t\t\t\t\t\tif (runtime) {\n\t\t\t\t\t\t\truntime.clients++;\n\t\t\t\t\t\t\treturn runtime;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// there should be a runtime and there's none - weird case\n\t\t\t\t\t\t\tthrow new x.RuntimeError(x.RuntimeError.NOT_INIT_ERR);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// initialize a fresh one, that fits runtime list and required features best\n\t\t\t\t\tinitialize((options.runtime_order || Runtime.order).split(/\\s*,\\s*/));\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tReturns the runtime to which the client is currently connected.\n\t\n\t\t\t\t@method getRuntime\n\t\t\t\t@return {Runtime} Runtime or null if client is not connected\n\t\t\t\t*/\n\t\t\t\tgetRuntime: function() {\n\t\t\t\t\tif (runtime && runtime.uid) {\n\t\t\t\t\t\treturn runtime;\n\t\t\t\t\t}\n\t\t\t\t\truntime = null; // make sure we do not leave zombies rambling around\n\t\t\t\t\treturn null;\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tDisconnects from the runtime. Decrements number of clients connected to the specified runtime.\n\t\n\t\t\t\t@method disconnectRuntime\n\t\t\t\t*/\n\t\t\t\tdisconnectRuntime: function() {\n\t\t\t\t\tif (runtime && --runtime.clients <= 0) {\n\t\t\t\t\t\truntime.destroy();\n\t\t\t\t\t\truntime = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t});\n\t\t};\n\t\n\t\n\t});\n\t\n\t// Included from: src/javascript/file/Blob.js\n\t\n\t/**\n\t * Blob.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine('moxie/file/Blob', [\n\t\t'moxie/core/utils/Basic',\n\t\t'moxie/core/utils/Encode',\n\t\t'moxie/runtime/RuntimeClient'\n\t], function(Basic, Encode, RuntimeClient) {\n\t\t\n\t\tvar blobpool = {};\n\t\n\t\t/**\n\t\t@class Blob\n\t\t@constructor\n\t\t@param {String} ruid Unique id of the runtime, to which this blob belongs to\n\t\t@param {Object} blob Object \"Native\" blob object, as it is represented in the runtime\n\t\t*/\n\t\tfunction Blob(ruid, blob) {\n\t\n\t\t\tfunction _sliceDetached(start, end, type) {\n\t\t\t\tvar blob, data = blobpool[this.uid];\n\t\n\t\t\t\tif (Basic.typeOf(data) !== 'string' || !data.length) {\n\t\t\t\t\treturn null; // or throw exception\n\t\t\t\t}\n\t\n\t\t\t\tblob = new Blob(null, {\n\t\t\t\t\ttype: type,\n\t\t\t\t\tsize: end - start\n\t\t\t\t});\n\t\t\t\tblob.detach(data.substr(start, blob.size));\n\t\n\t\t\t\treturn blob;\n\t\t\t}\n\t\n\t\t\tRuntimeClient.call(this);\n\t\n\t\t\tif (ruid) {\t\n\t\t\t\tthis.connectRuntime(ruid);\n\t\t\t}\n\t\n\t\t\tif (!blob) {\n\t\t\t\tblob = {};\n\t\t\t} else if (Basic.typeOf(blob) === 'string') { // dataUrl or binary string\n\t\t\t\tblob = { data: blob };\n\t\t\t}\n\t\n\t\t\tBasic.extend(this, {\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tUnique id of the component\n\t\n\t\t\t\t@property uid\n\t\t\t\t@type {String}\n\t\t\t\t*/\n\t\t\t\tuid: blob.uid || Basic.guid('uid_'),\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tUnique id of the connected runtime, if falsy, then runtime will have to be initialized \n\t\t\t\tbefore this Blob can be used, modified or sent\n\t\n\t\t\t\t@property ruid\n\t\t\t\t@type {String}\n\t\t\t\t*/\n\t\t\t\truid: ruid,\n\t\t\n\t\t\t\t/**\n\t\t\t\tSize of blob\n\t\n\t\t\t\t@property size\n\t\t\t\t@type {Number}\n\t\t\t\t@default 0\n\t\t\t\t*/\n\t\t\t\tsize: blob.size || 0,\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tMime type of blob\n\t\n\t\t\t\t@property type\n\t\t\t\t@type {String}\n\t\t\t\t@default ''\n\t\t\t\t*/\n\t\t\t\ttype: blob.type || '',\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\t@method slice\n\t\t\t\t@param {Number} [start=0]\n\t\t\t\t*/\n\t\t\t\tslice: function(start, end, type) {\t\t\n\t\t\t\t\tif (this.isDetached()) {\n\t\t\t\t\t\treturn _sliceDetached.apply(this, arguments);\n\t\t\t\t\t}\n\t\t\t\t\treturn this.getRuntime().exec.call(this, 'Blob', 'slice', this.getSource(), start, end, type);\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tReturns \"native\" blob object (as it is represented in connected runtime) or null if not found\n\t\n\t\t\t\t@method getSource\n\t\t\t\t@return {Blob} Returns \"native\" blob object or null if not found\n\t\t\t\t*/\n\t\t\t\tgetSource: function() {\n\t\t\t\t\tif (!blobpool[this.uid]) {\n\t\t\t\t\t\treturn null;\t\n\t\t\t\t\t}\n\t\t\t\t\treturn blobpool[this.uid];\n\t\t\t\t},\n\t\n\t\t\t\t/** \n\t\t\t\tDetaches blob from any runtime that it depends on and initialize with standalone value\n\t\n\t\t\t\t@method detach\n\t\t\t\t@protected\n\t\t\t\t@param {DOMString} [data=''] Standalone value\n\t\t\t\t*/\n\t\t\t\tdetach: function(data) {\n\t\t\t\t\tif (this.ruid) {\n\t\t\t\t\t\tthis.getRuntime().exec.call(this, 'Blob', 'destroy');\n\t\t\t\t\t\tthis.disconnectRuntime();\n\t\t\t\t\t\tthis.ruid = null;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tdata = data || '';\n\t\n\t\t\t\t\t// if dataUrl, convert to binary string\n\t\t\t\t\tvar matches = data.match(/^data:([^;]*);base64,/);\n\t\t\t\t\tif (matches) {\n\t\t\t\t\t\tthis.type = matches[1];\n\t\t\t\t\t\tdata = Encode.atob(data.substring(data.indexOf('base64,') + 7));\n\t\t\t\t\t}\n\t\n\t\t\t\t\tthis.size = data.length;\n\t\n\t\t\t\t\tblobpool[this.uid] = data;\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tChecks if blob is standalone (detached of any runtime)\n\t\t\t\t\n\t\t\t\t@method isDetached\n\t\t\t\t@protected\n\t\t\t\t@return {Boolean}\n\t\t\t\t*/\n\t\t\t\tisDetached: function() {\n\t\t\t\t\treturn !this.ruid && Basic.typeOf(blobpool[this.uid]) === 'string';\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t/** \n\t\t\t\tDestroy Blob and free any resources it was using\n\t\n\t\t\t\t@method destroy\n\t\t\t\t*/\n\t\t\t\tdestroy: function() {\n\t\t\t\t\tthis.detach();\n\t\t\t\t\tdelete blobpool[this.uid];\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\t\n\t\t\tif (blob.data) {\n\t\t\t\tthis.detach(blob.data); // auto-detach if payload has been passed\n\t\t\t} else {\n\t\t\t\tblobpool[this.uid] = blob;\t\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn Blob;\n\t});\n\t\n\t// Included from: src/javascript/file/File.js\n\t\n\t/**\n\t * File.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine('moxie/file/File', [\n\t\t'moxie/core/utils/Basic',\n\t\t'moxie/core/utils/Mime',\n\t\t'moxie/file/Blob'\n\t], function(Basic, Mime, Blob) {\n\t\t/**\n\t\t@class File\n\t\t@extends Blob\n\t\t@constructor\n\t\t@param {String} ruid Unique id of the runtime, to which this blob belongs to\n\t\t@param {Object} file Object \"Native\" file object, as it is represented in the runtime\n\t\t*/\n\t\tfunction File(ruid, file) {\n\t\t\tvar name, type;\n\t\n\t\t\tif (!file) { // avoid extra errors in case we overlooked something\n\t\t\t\tfile = {};\n\t\t\t}\n\t\n\t\t\t// figure out the type\n\t\t\tif (file.type && file.type !== '') {\n\t\t\t\ttype = file.type;\n\t\t\t} else {\n\t\t\t\ttype = Mime.getFileMime(file.name);\n\t\t\t}\n\t\n\t\t\t// sanitize file name or generate new one\n\t\t\tif (file.name) {\n\t\t\t\tname = file.name.replace(/\\\\/g, '/');\n\t\t\t\tname = name.substr(name.lastIndexOf('/') + 1);\n\t\t\t} else {\n\t\t\t\tvar prefix = type.split('/')[0];\n\t\t\t\tname = Basic.guid((prefix !== '' ? prefix : 'file') + '_');\n\t\t\t\t\n\t\t\t\tif (Mime.extensions[type]) {\n\t\t\t\t\tname += '.' + Mime.extensions[type][0]; // append proper extension if possible\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tBlob.apply(this, arguments);\n\t\t\t\n\t\t\tBasic.extend(this, {\n\t\t\t\t/**\n\t\t\t\tFile mime type\n\t\n\t\t\t\t@property type\n\t\t\t\t@type {String}\n\t\t\t\t@default ''\n\t\t\t\t*/\n\t\t\t\ttype: type || '',\n\t\n\t\t\t\t/**\n\t\t\t\tFile name\n\t\n\t\t\t\t@property name\n\t\t\t\t@type {String}\n\t\t\t\t@default UID\n\t\t\t\t*/\n\t\t\t\tname: name || Basic.guid('file_'),\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tDate of last modification\n\t\n\t\t\t\t@property lastModifiedDate\n\t\t\t\t@type {String}\n\t\t\t\t@default now\n\t\t\t\t*/\n\t\t\t\tlastModifiedDate: file.lastModifiedDate || (new Date()).toLocaleString() // Thu Aug 23 2012 19:40:00 GMT+0400 (GET)\n\t\t\t});\n\t\t}\n\t\n\t\tFile.prototype = Blob.prototype;\n\t\n\t\treturn File;\n\t});\n\t\n\t// Included from: src/javascript/file/FileInput.js\n\t\n\t/**\n\t * FileInput.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine('moxie/file/FileInput', [\n\t\t'moxie/core/utils/Basic',\n\t\t'moxie/core/utils/Mime',\n\t\t'moxie/core/utils/Dom',\n\t\t'moxie/core/Exceptions',\n\t\t'moxie/core/EventTarget',\n\t\t'moxie/core/I18n',\n\t\t'moxie/file/File',\n\t\t'moxie/runtime/Runtime',\n\t\t'moxie/runtime/RuntimeClient'\n\t], function(Basic, Mime, Dom, x, EventTarget, I18n, File, Runtime, RuntimeClient) {\n\t\t/**\n\t\tProvides a convenient way to create cross-browser file-picker. Generates file selection dialog on click,\n\t\tconverts selected files to _File_ objects, to be used in conjunction with _Image_, preloaded in memory\n\t\twith _FileReader_ or uploaded to a server through _XMLHttpRequest_.\n\t\n\t\t@class FileInput\n\t\t@constructor\n\t\t@extends EventTarget\n\t\t@uses RuntimeClient\n\t\t@param {Object|String|DOMElement} options If options is string or node, argument is considered as _browse\\_button_.\n\t\t\t@param {String|DOMElement} options.browse_button DOM Element to turn into file picker.\n\t\t\t@param {Array} [options.accept] Array of mime types to accept. By default accepts all.\n\t\t\t@param {String} [options.file='file'] Name of the file field (not the filename).\n\t\t\t@param {Boolean} [options.multiple=false] Enable selection of multiple files.\n\t\t\t@param {Boolean} [options.directory=false] Turn file input into the folder input (cannot be both at the same time).\n\t\t\t@param {String|DOMElement} [options.container] DOM Element to use as a container for file-picker. Defaults to parentNode \n\t\t\tfor _browse\\_button_.\n\t\t\t@param {Object|String} [options.required_caps] Set of required capabilities, that chosen runtime must support.\n\t\n\t\t@example\n\t\t\t<div id=\"container\">\n\t\t\t\t<a id=\"file-picker\" href=\"javascript:;\">Browse...</a>\n\t\t\t</div>\n\t\n\t\t\t<script>\n\t\t\t\tvar fileInput = new mOxie.FileInput({\n\t\t\t\t\tbrowse_button: 'file-picker', // or document.getElementById('file-picker')\n\t\t\t\t\tcontainer: 'container',\n\t\t\t\t\taccept: [\n\t\t\t\t\t\t{title: \"Image files\", extensions: \"jpg,gif,png\"} // accept only images\n\t\t\t\t\t],\n\t\t\t\t\tmultiple: true // allow multiple file selection\n\t\t\t\t});\n\t\n\t\t\t\tfileInput.onchange = function(e) {\n\t\t\t\t\t// do something to files array\n\t\t\t\t\tconsole.info(e.target.files); // or this.files or fileInput.files\n\t\t\t\t};\n\t\n\t\t\t\tfileInput.init(); // initialize\n\t\t\t</script>\n\t\t*/\n\t\tvar dispatches = [\n\t\t\t/**\n\t\t\tDispatched when runtime is connected and file-picker is ready to be used.\n\t\n\t\t\t@event ready\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'ready',\n\t\n\t\t\t/**\n\t\t\tDispatched right after [ready](#event_ready) event, and whenever [refresh()](#method_refresh) is invoked. \n\t\t\tCheck [corresponding documentation entry](#method_refresh) for more info.\n\t\n\t\t\t@event refresh\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\n\t\t\t/**\n\t\t\tDispatched when selection of files in the dialog is complete.\n\t\n\t\t\t@event change\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'change',\n\t\n\t\t\t'cancel', // TODO: might be useful\n\t\n\t\t\t/**\n\t\t\tDispatched when mouse cursor enters file-picker area. Can be used to style element\n\t\t\taccordingly.\n\t\n\t\t\t@event mouseenter\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'mouseenter',\n\t\n\t\t\t/**\n\t\t\tDispatched when mouse cursor leaves file-picker area. Can be used to style element\n\t\t\taccordingly.\n\t\n\t\t\t@event mouseleave\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'mouseleave',\n\t\n\t\t\t/**\n\t\t\tDispatched when functional mouse button is pressed on top of file-picker area.\n\t\n\t\t\t@event mousedown\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'mousedown',\n\t\n\t\t\t/**\n\t\t\tDispatched when functional mouse button is released on top of file-picker area.\n\t\n\t\t\t@event mouseup\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'mouseup'\n\t\t];\n\t\n\t\tfunction FileInput(options) {\n\t\t\tvar self = this,\n\t\t\t\tcontainer, browseButton, defaults;\n\t\n\t\t\t// if flat argument passed it should be browse_button id\n\t\t\tif (Basic.inArray(Basic.typeOf(options), ['string', 'node']) !== -1) {\n\t\t\t\toptions = { browse_button : options };\n\t\t\t}\n\t\n\t\t\t// this will help us to find proper default container\n\t\t\tbrowseButton = Dom.get(options.browse_button);\n\t\t\tif (!browseButton) {\n\t\t\t\t// browse button is required\n\t\t\t\tthrow new x.DOMException(x.DOMException.NOT_FOUND_ERR);\n\t\t\t}\n\t\n\t\t\t// figure out the options\n\t\t\tdefaults = {\n\t\t\t\taccept: [{\n\t\t\t\t\ttitle: I18n.translate('All Files'),\n\t\t\t\t\textensions: '*'\n\t\t\t\t}],\n\t\t\t\tname: 'file',\n\t\t\t\tmultiple: false,\n\t\t\t\trequired_caps: false,\n\t\t\t\tcontainer: browseButton.parentNode || document.body\n\t\t\t};\n\t\t\t\n\t\t\toptions = Basic.extend({}, defaults, options);\n\t\n\t\t\t// convert to object representation\n\t\t\tif (typeof(options.required_caps) === 'string') {\n\t\t\t\toptions.required_caps = Runtime.parseCaps(options.required_caps);\n\t\t\t}\n\t\t\t\t\t\t\n\t\t\t// normalize accept option (could be list of mime types or array of title/extensions pairs)\n\t\t\tif (typeof(options.accept) === 'string') {\n\t\t\t\toptions.accept = Mime.mimes2extList(options.accept);\n\t\t\t}\n\t\n\t\t\tcontainer = Dom.get(options.container);\n\t\t\t// make sure we have container\n\t\t\tif (!container) {\n\t\t\t\tcontainer = document.body;\n\t\t\t}\n\t\n\t\t\t// make container relative, if it's not\n\t\t\tif (Dom.getStyle(container, 'position') === 'static') {\n\t\t\t\tcontainer.style.position = 'relative';\n\t\t\t}\n\t\n\t\t\tcontainer = browseButton = null; // IE\n\t\t\t\t\t\t\t\n\t\t\tRuntimeClient.call(self);\n\t\t\t\n\t\t\tBasic.extend(self, {\n\t\t\t\t/**\n\t\t\t\tUnique id of the component\n\t\n\t\t\t\t@property uid\n\t\t\t\t@protected\n\t\t\t\t@readOnly\n\t\t\t\t@type {String}\n\t\t\t\t@default UID\n\t\t\t\t*/\n\t\t\t\tuid: Basic.guid('uid_'),\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tUnique id of the connected runtime, if any.\n\t\n\t\t\t\t@property ruid\n\t\t\t\t@protected\n\t\t\t\t@type {String}\n\t\t\t\t*/\n\t\t\t\truid: null,\n\t\n\t\t\t\t/**\n\t\t\t\tUnique id of the runtime container. Useful to get hold of it for various manipulations.\n\t\n\t\t\t\t@property shimid\n\t\t\t\t@protected\n\t\t\t\t@type {String}\n\t\t\t\t*/\n\t\t\t\tshimid: null,\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tArray of selected mOxie.File objects\n\t\n\t\t\t\t@property files\n\t\t\t\t@type {Array}\n\t\t\t\t@default null\n\t\t\t\t*/\n\t\t\t\tfiles: null,\n\t\n\t\t\t\t/**\n\t\t\t\tInitializes the file-picker, connects it to runtime and dispatches event ready when done.\n\t\n\t\t\t\t@method init\n\t\t\t\t*/\n\t\t\t\tinit: function() {\n\t\t\t\t\tself.convertEventPropsToHandlers(dispatches);\n\t\n\t\t\t\t\tself.bind('RuntimeInit', function(e, runtime) {\n\t\t\t\t\t\tself.ruid = runtime.uid;\n\t\t\t\t\t\tself.shimid = runtime.shimid;\n\t\n\t\t\t\t\t\tself.bind(\"Ready\", function() {\n\t\t\t\t\t\t\tself.trigger(\"Refresh\");\n\t\t\t\t\t\t}, 999);\n\t\n\t\t\t\t\t\tself.bind(\"Change\", function() {\n\t\t\t\t\t\t\tvar files = runtime.exec.call(self, 'FileInput', 'getFiles');\n\t\n\t\t\t\t\t\t\tself.files = [];\n\t\n\t\t\t\t\t\t\tBasic.each(files, function(file) {\n\t\t\t\t\t\t\t\t// ignore empty files (IE10 for example hangs if you try to send them via XHR)\n\t\t\t\t\t\t\t\tif (file.size === 0) {\n\t\t\t\t\t\t\t\t\treturn true; \n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tself.files.push(new File(self.ruid, file));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, 999);\n\t\n\t\t\t\t\t\t// re-position and resize shim container\n\t\t\t\t\t\tself.bind('Refresh', function() {\n\t\t\t\t\t\t\tvar pos, size, browseButton, shimContainer;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tbrowseButton = Dom.get(options.browse_button);\n\t\t\t\t\t\t\tshimContainer = Dom.get(runtime.shimid); // do not use runtime.getShimContainer(), since it will create container if it doesn't exist\n\t\n\t\t\t\t\t\t\tif (browseButton) {\n\t\t\t\t\t\t\t\tpos = Dom.getPos(browseButton, Dom.get(options.container));\n\t\t\t\t\t\t\t\tsize = Dom.getSize(browseButton);\n\t\n\t\t\t\t\t\t\t\tif (shimContainer) {\n\t\t\t\t\t\t\t\t\tBasic.extend(shimContainer.style, {\n\t\t\t\t\t\t\t\t\t\ttop     : pos.y + 'px',\n\t\t\t\t\t\t\t\t\t\tleft    : pos.x + 'px',\n\t\t\t\t\t\t\t\t\t\twidth   : size.w + 'px',\n\t\t\t\t\t\t\t\t\t\theight  : size.h + 'px'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tshimContainer = browseButton = null;\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\truntime.exec.call(self, 'FileInput', 'init', options);\n\t\t\t\t\t});\n\t\n\t\t\t\t\t// runtime needs: options.required_features, options.runtime_order and options.container\n\t\t\t\t\tself.connectRuntime(Basic.extend({}, options, {\n\t\t\t\t\t\trequired_caps: {\n\t\t\t\t\t\t\tselect_file: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tDisables file-picker element, so that it doesn't react to mouse clicks.\n\t\n\t\t\t\t@method disable\n\t\t\t\t@param {Boolean} [state=true] Disable component if - true, enable if - false\n\t\t\t\t*/\n\t\t\t\tdisable: function(state) {\n\t\t\t\t\tvar runtime = this.getRuntime();\n\t\t\t\t\tif (runtime) {\n\t\t\t\t\t\truntime.exec.call(this, 'FileInput', 'disable', Basic.typeOf(state) === 'undefined' ? true : state);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\n\t\t\t\t/**\n\t\t\t\tReposition and resize dialog trigger to match the position and size of browse_button element.\n\t\n\t\t\t\t@method refresh\n\t\t\t\t*/\n\t\t\t\trefresh: function() {\n\t\t\t\t\tself.trigger(\"Refresh\");\n\t\t\t\t},\n\t\n\t\n\t\t\t\t/**\n\t\t\t\tDestroy component.\n\t\n\t\t\t\t@method destroy\n\t\t\t\t*/\n\t\t\t\tdestroy: function() {\n\t\t\t\t\tvar runtime = this.getRuntime();\n\t\t\t\t\tif (runtime) {\n\t\t\t\t\t\truntime.exec.call(this, 'FileInput', 'destroy');\n\t\t\t\t\t\tthis.disconnectRuntime();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (Basic.typeOf(this.files) === 'array') {\n\t\t\t\t\t\t// no sense in leaving associated files behind\n\t\t\t\t\t\tBasic.each(this.files, function(file) {\n\t\t\t\t\t\t\tfile.destroy();\n\t\t\t\t\t\t});\n\t\t\t\t\t} \n\t\t\t\t\tthis.files = null;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\tFileInput.prototype = EventTarget.instance;\n\t\n\t\treturn FileInput;\n\t});\n\t\n\t// Included from: src/javascript/file/FileDrop.js\n\t\n\t/**\n\t * FileDrop.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine('moxie/file/FileDrop', [\n\t\t'moxie/core/I18n',\n\t\t'moxie/core/utils/Dom',\n\t\t'moxie/core/Exceptions',\n\t\t'moxie/core/utils/Basic',\n\t\t'moxie/file/File',\n\t\t'moxie/runtime/RuntimeClient',\n\t\t'moxie/core/EventTarget',\n\t\t'moxie/core/utils/Mime'\n\t], function(I18n, Dom, x, Basic, File, RuntimeClient, EventTarget, Mime) {\n\t\t/**\n\t\tTurn arbitrary DOM element to a drop zone accepting files. Converts selected files to _File_ objects, to be used \n\t\tin conjunction with _Image_, preloaded in memory with _FileReader_ or uploaded to a server through \n\t\t_XMLHttpRequest_.\n\t\n\t\t@example\n\t\t\t<div id=\"drop_zone\">\n\t\t\t\tDrop files here\n\t\t\t</div>\n\t\t\t<br />\n\t\t\t<div id=\"filelist\"></div>\n\t\n\t\t\t<script type=\"text/javascript\">\n\t\t\t\tvar fileDrop = new mOxie.FileDrop('drop_zone'), fileList = mOxie.get('filelist');\n\t\n\t\t\t\tfileDrop.ondrop = function() {\n\t\t\t\t\tmOxie.each(this.files, function(file) {\n\t\t\t\t\t\tfileList.innerHTML += '<div>' + file.name + '</div>';\n\t\t\t\t\t});\n\t\t\t\t};\n\t\n\t\t\t\tfileDrop.init();\n\t\t\t</script>\n\t\n\t\t@class FileDrop\n\t\t@constructor\n\t\t@extends EventTarget\n\t\t@uses RuntimeClient\n\t\t@param {Object|String} options If options has typeof string, argument is considered as options.drop_zone\n\t\t\t@param {String|DOMElement} options.drop_zone DOM Element to turn into a drop zone\n\t\t\t@param {Array} [options.accept] Array of mime types to accept. By default accepts all\n\t\t\t@param {Object|String} [options.required_caps] Set of required capabilities, that chosen runtime must support\n\t\t*/\n\t\tvar dispatches = [\n\t\t\t/**\n\t\t\tDispatched when runtime is connected and drop zone is ready to accept files.\n\t\n\t\t\t@event ready\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'ready', \n\t\n\t\t\t/**\n\t\t\tDispatched when dragging cursor enters the drop zone.\n\t\n\t\t\t@event dragenter\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'dragenter',\n\t\n\t\t\t/**\n\t\t\tDispatched when dragging cursor leaves the drop zone.\n\t\n\t\t\t@event dragleave\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'dragleave', \n\t\n\t\t\t/**\n\t\t\tDispatched when file is dropped onto the drop zone.\n\t\n\t\t\t@event drop\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'drop', \n\t\n\t\t\t/**\n\t\t\tDispatched if error occurs.\n\t\n\t\t\t@event error\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'error'\n\t\t];\n\t\n\t\tfunction FileDrop(options) {\n\t\t\tvar self = this, defaults;\n\t\n\t\t\t// if flat argument passed it should be drop_zone id\n\t\t\tif (typeof(options) === 'string') {\n\t\t\t\toptions = { drop_zone : options };\n\t\t\t}\n\t\n\t\t\t// figure out the options\n\t\t\tdefaults = {\n\t\t\t\taccept: [{\n\t\t\t\t\ttitle: I18n.translate('All Files'),\n\t\t\t\t\textensions: '*'\n\t\t\t\t}],\n\t\t\t\trequired_caps: {\n\t\t\t\t\tdrag_and_drop: true\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\toptions = typeof(options) === 'object' ? Basic.extend({}, defaults, options) : defaults;\n\t\n\t\t\t// this will help us to find proper default container\n\t\t\toptions.container = Dom.get(options.drop_zone) || document.body;\n\t\n\t\t\t// make container relative, if it is not\n\t\t\tif (Dom.getStyle(options.container, 'position') === 'static') {\n\t\t\t\toptions.container.style.position = 'relative';\n\t\t\t}\n\t\t\t\t\t\t\n\t\t\t// normalize accept option (could be list of mime types or array of title/extensions pairs)\n\t\t\tif (typeof(options.accept) === 'string') {\n\t\t\t\toptions.accept = Mime.mimes2extList(options.accept);\n\t\t\t}\n\t\n\t\t\tRuntimeClient.call(self);\n\t\n\t\t\tBasic.extend(self, {\n\t\t\t\tuid: Basic.guid('uid_'),\n\t\n\t\t\t\truid: null,\n\t\n\t\t\t\tfiles: null,\n\t\n\t\t\t\tinit: function() {\n\t\t\n\t\t\t\t\tself.convertEventPropsToHandlers(dispatches);\n\t\t\t\n\t\t\t\t\tself.bind('RuntimeInit', function(e, runtime) {\n\t\t\t\t\t\tself.ruid = runtime.uid;\n\t\n\t\t\t\t\t\tself.bind(\"Drop\", function() {\n\t\t\t\t\t\t\tvar files = runtime.exec.call(self, 'FileDrop', 'getFiles');\n\t\n\t\t\t\t\t\t\tself.files = [];\n\t\n\t\t\t\t\t\t\tBasic.each(files, function(file) {\n\t\t\t\t\t\t\t\tself.files.push(new File(self.ruid, file));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, 999);\n\t\n\t\t\t\t\t\truntime.exec.call(self, 'FileDrop', 'init', options);\n\t\n\t\t\t\t\t\tself.dispatchEvent('ready');\n\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t// runtime needs: options.required_features, options.runtime_order and options.container\n\t\t\t\t\tself.connectRuntime(options); // throws RuntimeError\n\t\t\t\t},\n\t\n\t\t\t\tdestroy: function() {\n\t\t\t\t\tvar runtime = this.getRuntime();\n\t\t\t\t\tif (runtime) {\n\t\t\t\t\t\truntime.exec.call(this, 'FileDrop', 'destroy');\n\t\t\t\t\t\tthis.disconnectRuntime();\n\t\t\t\t\t}\n\t\t\t\t\tthis.files = null;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\tFileDrop.prototype = EventTarget.instance;\n\t\n\t\treturn FileDrop;\n\t});\n\t\n\t// Included from: src/javascript/runtime/RuntimeTarget.js\n\t\n\t/**\n\t * RuntimeTarget.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine('moxie/runtime/RuntimeTarget', [\n\t\t'moxie/core/utils/Basic',\n\t\t'moxie/runtime/RuntimeClient',\n\t\t\"moxie/core/EventTarget\"\n\t], function(Basic, RuntimeClient, EventTarget) {\n\t\t/**\n\t\tInstance of this class can be used as a target for the events dispatched by shims,\n\t\twhen allowing them onto components is for either reason inappropriate\n\t\n\t\t@class RuntimeTarget\n\t\t@constructor\n\t\t@protected\n\t\t@extends EventTarget\n\t\t*/\n\t\tfunction RuntimeTarget() {\n\t\t\tthis.uid = Basic.guid('uid_');\n\t\t\t\n\t\t\tRuntimeClient.call(this);\n\t\n\t\t\tthis.destroy = function() {\n\t\t\t\tthis.disconnectRuntime();\n\t\t\t\tthis.unbindAll();\n\t\t\t};\n\t\t}\n\t\n\t\tRuntimeTarget.prototype = EventTarget.instance;\n\t\n\t\treturn RuntimeTarget;\n\t});\n\t\n\t// Included from: src/javascript/file/FileReader.js\n\t\n\t/**\n\t * FileReader.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine('moxie/file/FileReader', [\n\t\t'moxie/core/utils/Basic',\n\t\t'moxie/core/utils/Encode',\n\t\t'moxie/core/Exceptions',\n\t\t'moxie/core/EventTarget',\n\t\t'moxie/file/Blob',\n\t\t'moxie/file/File',\n\t\t'moxie/runtime/RuntimeTarget'\n\t], function(Basic, Encode, x, EventTarget, Blob, File, RuntimeTarget) {\n\t\t/**\n\t\tUtility for preloading o.Blob/o.File objects in memory. By design closely follows [W3C FileReader](http://www.w3.org/TR/FileAPI/#dfn-filereader)\n\t\tinterface. Where possible uses native FileReader, where - not falls back to shims.\n\t\n\t\t@class FileReader\n\t\t@constructor FileReader\n\t\t@extends EventTarget\n\t\t@uses RuntimeClient\n\t\t*/\n\t\tvar dispatches = [\n\t\n\t\t\t/** \n\t\t\tDispatched when the read starts.\n\t\n\t\t\t@event loadstart\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'loadstart', \n\t\n\t\t\t/** \n\t\t\tDispatched while reading (and decoding) blob, and reporting partial Blob data (progess.loaded/progress.total).\n\t\n\t\t\t@event progress\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'progress', \n\t\n\t\t\t/** \n\t\t\tDispatched when the read has successfully completed.\n\t\n\t\t\t@event load\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'load', \n\t\n\t\t\t/** \n\t\t\tDispatched when the read has been aborted. For instance, by invoking the abort() method.\n\t\n\t\t\t@event abort\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'abort', \n\t\n\t\t\t/** \n\t\t\tDispatched when the read has failed.\n\t\n\t\t\t@event error\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'error', \n\t\n\t\t\t/** \n\t\t\tDispatched when the request has completed (either in success or failure).\n\t\n\t\t\t@event loadend\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'loadend'\n\t\t];\n\t\t\n\t\tfunction FileReader() {\n\t\t\tvar self = this, _fr;\n\t\t\t\t\t\n\t\t\tBasic.extend(this, {\n\t\t\t\t/**\n\t\t\t\tUID of the component instance.\n\t\n\t\t\t\t@property uid\n\t\t\t\t@type {String}\n\t\t\t\t*/\n\t\t\t\tuid: Basic.guid('uid_'),\n\t\n\t\t\t\t/**\n\t\t\t\tContains current state of FileReader object. Can take values of FileReader.EMPTY, FileReader.LOADING\n\t\t\t\tand FileReader.DONE.\n\t\n\t\t\t\t@property readyState\n\t\t\t\t@type {Number}\n\t\t\t\t@default FileReader.EMPTY\n\t\t\t\t*/\n\t\t\t\treadyState: FileReader.EMPTY,\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tResult of the successful read operation.\n\t\n\t\t\t\t@property result\n\t\t\t\t@type {String}\n\t\t\t\t*/\n\t\t\t\tresult: null,\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tStores the error of failed asynchronous read operation.\n\t\n\t\t\t\t@property error\n\t\t\t\t@type {DOMError}\n\t\t\t\t*/\n\t\t\t\terror: null,\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tInitiates reading of File/Blob object contents to binary string.\n\t\n\t\t\t\t@method readAsBinaryString\n\t\t\t\t@param {Blob|File} blob Object to preload\n\t\t\t\t*/\n\t\t\t\treadAsBinaryString: function(blob) {\n\t\t\t\t\t_read.call(this, 'readAsBinaryString', blob);\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tInitiates reading of File/Blob object contents to dataURL string.\n\t\n\t\t\t\t@method readAsDataURL\n\t\t\t\t@param {Blob|File} blob Object to preload\n\t\t\t\t*/\n\t\t\t\treadAsDataURL: function(blob) {\n\t\t\t\t\t_read.call(this, 'readAsDataURL', blob);\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tInitiates reading of File/Blob object contents to string.\n\t\n\t\t\t\t@method readAsText\n\t\t\t\t@param {Blob|File} blob Object to preload\n\t\t\t\t*/\n\t\t\t\treadAsText: function(blob) {\n\t\t\t\t\t_read.call(this, 'readAsText', blob);\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tAborts preloading process.\n\t\n\t\t\t\t@method abort\n\t\t\t\t*/\n\t\t\t\tabort: function() {\n\t\t\t\t\tthis.result = null;\n\t\t\t\t\t\n\t\t\t\t\tif (Basic.inArray(this.readyState, [FileReader.EMPTY, FileReader.DONE]) !== -1) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (this.readyState === FileReader.LOADING) {\n\t\t\t\t\t\tthis.readyState = FileReader.DONE;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (_fr) {\n\t\t\t\t\t\t_fr.getRuntime().exec.call(this, 'FileReader', 'abort');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.trigger('abort');\n\t\t\t\t\tthis.trigger('loadend');\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tDestroy component and release resources.\n\t\n\t\t\t\t@method destroy\n\t\t\t\t*/\n\t\t\t\tdestroy: function() {\n\t\t\t\t\tthis.abort();\n\t\n\t\t\t\t\tif (_fr) {\n\t\t\t\t\t\t_fr.getRuntime().exec.call(this, 'FileReader', 'destroy');\n\t\t\t\t\t\t_fr.disconnectRuntime();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tself = _fr = null;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t\n\t\t\tfunction _read(op, blob) {\n\t\t\t\t_fr = new RuntimeTarget();\n\t\n\t\t\t\tfunction error(err) {\n\t\t\t\t\tself.readyState = FileReader.DONE;\n\t\t\t\t\tself.error = err;\n\t\t\t\t\tself.trigger('error');\n\t\t\t\t\tloadEnd();\n\t\t\t\t}\n\t\n\t\t\t\tfunction loadEnd() {\n\t\t\t\t\t_fr.destroy();\n\t\t\t\t\t_fr = null;\n\t\t\t\t\tself.trigger('loadend');\n\t\t\t\t}\n\t\n\t\t\t\tfunction exec(runtime) {\n\t\t\t\t\t_fr.bind('Error', function(e, err) {\n\t\t\t\t\t\terror(err);\n\t\t\t\t\t});\n\t\n\t\t\t\t\t_fr.bind('Progress', function(e) {\n\t\t\t\t\t\tself.result = runtime.exec.call(_fr, 'FileReader', 'getResult');\n\t\t\t\t\t\tself.trigger(e);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t_fr.bind('Load', function(e) {\n\t\t\t\t\t\tself.readyState = FileReader.DONE;\n\t\t\t\t\t\tself.result = runtime.exec.call(_fr, 'FileReader', 'getResult');\n\t\t\t\t\t\tself.trigger(e);\n\t\t\t\t\t\tloadEnd();\n\t\t\t\t\t});\n\t\n\t\t\t\t\truntime.exec.call(_fr, 'FileReader', 'read', op, blob);\n\t\t\t\t}\n\t\n\t\t\t\tthis.convertEventPropsToHandlers(dispatches);\n\t\n\t\t\t\tif (this.readyState === FileReader.LOADING) {\n\t\t\t\t\treturn error(new x.DOMException(x.DOMException.INVALID_STATE_ERR));\n\t\t\t\t}\n\t\n\t\t\t\tthis.readyState = FileReader.LOADING;\n\t\t\t\tthis.trigger('loadstart');\n\t\n\t\t\t\t// if source is o.Blob/o.File\n\t\t\t\tif (blob instanceof Blob) {\n\t\t\t\t\tif (blob.isDetached()) {\n\t\t\t\t\t\tvar src = blob.getSource();\n\t\t\t\t\t\tswitch (op) {\n\t\t\t\t\t\t\tcase 'readAsText':\n\t\t\t\t\t\t\tcase 'readAsBinaryString':\n\t\t\t\t\t\t\t\tthis.result = src;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'readAsDataURL':\n\t\t\t\t\t\t\t\tthis.result = 'data:' + blob.type + ';base64,' + Encode.btoa(src);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.readyState = FileReader.DONE;\n\t\t\t\t\t\tthis.trigger('load');\n\t\t\t\t\t\tloadEnd();\n\t\t\t\t\t} else {\n\t\t\t\t\t\texec(_fr.connectRuntime(blob.ruid));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\terror(new x.DOMException(x.DOMException.NOT_FOUND_ERR));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t/**\n\t\tInitial FileReader state\n\t\n\t\t@property EMPTY\n\t\t@type {Number}\n\t\t@final\n\t\t@static\n\t\t@default 0\n\t\t*/\n\t\tFileReader.EMPTY = 0;\n\t\n\t\t/**\n\t\tFileReader switches to this state when it is preloading the source\n\t\n\t\t@property LOADING\n\t\t@type {Number}\n\t\t@final\n\t\t@static\n\t\t@default 1\n\t\t*/\n\t\tFileReader.LOADING = 1;\n\t\n\t\t/**\n\t\tPreloading is complete, this is a final state\n\t\n\t\t@property DONE\n\t\t@type {Number}\n\t\t@final\n\t\t@static\n\t\t@default 2\n\t\t*/\n\t\tFileReader.DONE = 2;\n\t\n\t\tFileReader.prototype = EventTarget.instance;\n\t\n\t\treturn FileReader;\n\t});\n\t\n\t// Included from: src/javascript/core/utils/Url.js\n\t\n\t/**\n\t * Url.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine('moxie/core/utils/Url', [], function() {\n\t\t/**\n\t\tParse url into separate components and fill in absent parts with parts from current url,\n\t\tbased on https://raw.github.com/kvz/phpjs/master/functions/url/parse_url.js\n\t\n\t\t@method parseUrl\n\t\t@for Utils\n\t\t@static\n\t\t@param {String} url Url to parse (defaults to empty string if undefined)\n\t\t@return {Object} Hash containing extracted uri components\n\t\t*/\n\t\tvar parseUrl = function(url, currentUrl) {\n\t\t\tvar key = ['source', 'scheme', 'authority', 'userInfo', 'user', 'pass', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'fragment']\n\t\t\t, i = key.length\n\t\t\t, ports = {\n\t\t\t\thttp: 80,\n\t\t\t\thttps: 443\n\t\t\t}\n\t\t\t, uri = {}\n\t\t\t, regex = /^(?:([^:\\/?#]+):)?(?:\\/\\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\\/?#]*)(?::(\\d*))?))?()(?:(()(?:(?:[^?#\\/]*\\/)*)()(?:[^?#]*))(?:\\\\?([^#]*))?(?:#(.*))?)/\n\t\t\t, m = regex.exec(url || '')\n\t\t\t;\n\t\t\t\t\t\t\n\t\t\twhile (i--) {\n\t\t\t\tif (m[i]) {\n\t\t\t\t\turi[key[i]] = m[i];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// when url is relative, we set the origin and the path ourselves\n\t\t\tif (!uri.scheme) {\n\t\t\t\t// come up with defaults\n\t\t\t\tif (!currentUrl || typeof(currentUrl) === 'string') {\n\t\t\t\t\tcurrentUrl = parseUrl(currentUrl || document.location.href);\n\t\t\t\t}\n\t\n\t\t\t\turi.scheme = currentUrl.scheme;\n\t\t\t\turi.host = currentUrl.host;\n\t\t\t\turi.port = currentUrl.port;\n\t\n\t\t\t\tvar path = '';\n\t\t\t\t// for urls without trailing slash we need to figure out the path\n\t\t\t\tif (/^[^\\/]/.test(uri.path)) {\n\t\t\t\t\tpath = currentUrl.path;\n\t\t\t\t\t// if path ends with a filename, strip it\n\t\t\t\t\tif (!/(\\/|\\/[^\\.]+)$/.test(path)) {\n\t\t\t\t\t\tpath = path.replace(/\\/[^\\/]+$/, '/');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpath += '/';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\turi.path = path + (uri.path || ''); // site may reside at domain.com or domain.com/subdir\n\t\t\t}\n\t\n\t\t\tif (!uri.port) {\n\t\t\t\turi.port = ports[uri.scheme] || 80;\n\t\t\t} \n\t\t\t\n\t\t\turi.port = parseInt(uri.port, 10);\n\t\n\t\t\tif (!uri.path) {\n\t\t\t\turi.path = \"/\";\n\t\t\t}\n\t\n\t\t\tdelete uri.source;\n\t\n\t\t\treturn uri;\n\t\t};\n\t\n\t\t/**\n\t\tResolve url - among other things will turn relative url to absolute\n\t\n\t\t@method resolveUrl\n\t\t@static\n\t\t@param {String} url Either absolute or relative\n\t\t@return {String} Resolved, absolute url\n\t\t*/\n\t\tvar resolveUrl = function(url) {\n\t\t\tvar ports = { // we ignore default ports\n\t\t\t\thttp: 80,\n\t\t\t\thttps: 443\n\t\t\t}\n\t\t\t, urlp = parseUrl(url)\n\t\t\t;\n\t\n\t\t\treturn urlp.scheme + '://' + urlp.host + (urlp.port !== ports[urlp.scheme] ? ':' + urlp.port : '') + urlp.path + (urlp.query ? urlp.query : '');\n\t\t};\n\t\n\t\t/**\n\t\tCheck if specified url has the same origin as the current document\n\t\n\t\t@method hasSameOrigin\n\t\t@param {String|Object} url\n\t\t@return {Boolean}\n\t\t*/\n\t\tvar hasSameOrigin = function(url) {\n\t\t\tfunction origin(url) {\n\t\t\t\treturn [url.scheme, url.host, url.port].join('/');\n\t\t\t}\n\t\t\t\t\n\t\t\tif (typeof url === 'string') {\n\t\t\t\turl = parseUrl(url);\n\t\t\t}\t\n\t\t\t\n\t\t\treturn origin(parseUrl()) === origin(url);\n\t\t};\n\t\n\t\treturn {\n\t\t\tparseUrl: parseUrl,\n\t\t\tresolveUrl: resolveUrl,\n\t\t\thasSameOrigin: hasSameOrigin\n\t\t};\n\t});\n\t\n\t// Included from: src/javascript/file/FileReaderSync.js\n\t\n\t/**\n\t * FileReaderSync.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine('moxie/file/FileReaderSync', [\n\t\t'moxie/core/utils/Basic',\n\t\t'moxie/runtime/RuntimeClient',\n\t\t'moxie/core/utils/Encode'\n\t], function(Basic, RuntimeClient, Encode) {\n\t\t/**\n\t\tSynchronous FileReader implementation. Something like this is available in WebWorkers environment, here\n\t\tit can be used to read only preloaded blobs/files and only below certain size (not yet sure what that'd be,\n\t\tbut probably < 1mb). Not meant to be used directly by user.\n\t\n\t\t@class FileReaderSync\n\t\t@private\n\t\t@constructor\n\t\t*/\n\t\treturn function() {\n\t\t\tRuntimeClient.call(this);\n\t\n\t\t\tBasic.extend(this, {\n\t\t\t\tuid: Basic.guid('uid_'),\n\t\n\t\t\t\treadAsBinaryString: function(blob) {\n\t\t\t\t\treturn _read.call(this, 'readAsBinaryString', blob);\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\treadAsDataURL: function(blob) {\n\t\t\t\t\treturn _read.call(this, 'readAsDataURL', blob);\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t/*readAsArrayBuffer: function(blob) {\n\t\t\t\t\treturn _read.call(this, 'readAsArrayBuffer', blob);\n\t\t\t\t},*/\n\t\t\t\t\n\t\t\t\treadAsText: function(blob) {\n\t\t\t\t\treturn _read.call(this, 'readAsText', blob);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tfunction _read(op, blob) {\n\t\t\t\tif (blob.isDetached()) {\n\t\t\t\t\tvar src = blob.getSource();\n\t\t\t\t\tswitch (op) {\n\t\t\t\t\t\tcase 'readAsBinaryString':\n\t\t\t\t\t\t\treturn src;\n\t\t\t\t\t\tcase 'readAsDataURL':\n\t\t\t\t\t\t\treturn 'data:' + blob.type + ';base64,' + Encode.btoa(src);\n\t\t\t\t\t\tcase 'readAsText':\n\t\t\t\t\t\t\tvar txt = '';\n\t\t\t\t\t\t\tfor (var i = 0, length = src.length; i < length; i++) {\n\t\t\t\t\t\t\t\ttxt += String.fromCharCode(src[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn txt;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar result = this.connectRuntime(blob.ruid).exec.call(this, 'FileReaderSync', 'read', op, blob);\n\t\t\t\t\tthis.disconnectRuntime();\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n\t\n\t// Included from: src/javascript/xhr/FormData.js\n\t\n\t/**\n\t * FormData.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine(\"moxie/xhr/FormData\", [\n\t\t\"moxie/core/Exceptions\",\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/file/Blob\"\n\t], function(x, Basic, Blob) {\n\t\t/**\n\t\tFormData\n\t\n\t\t@class FormData\n\t\t@constructor\n\t\t*/\n\t\tfunction FormData() {\n\t\t\tvar _blob, _fields = [];\n\t\n\t\t\tBasic.extend(this, {\n\t\t\t\t/**\n\t\t\t\tAppend another key-value pair to the FormData object\n\t\n\t\t\t\t@method append\n\t\t\t\t@param {String} name Name for the new field\n\t\t\t\t@param {String|Blob|Array|Object} value Value for the field\n\t\t\t\t*/\n\t\t\t\tappend: function(name, value) {\n\t\t\t\t\tvar self = this, valueType = Basic.typeOf(value);\n\t\n\t\t\t\t\t// according to specs value might be either Blob or String\n\t\t\t\t\tif (value instanceof Blob) {\n\t\t\t\t\t\t_blob = {\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tvalue: value // unfortunately we can only send single Blob in one FormData\n\t\t\t\t\t\t};\n\t\t\t\t\t} else if ('array' === valueType) {\n\t\t\t\t\t\tname += '[]';\n\t\n\t\t\t\t\t\tBasic.each(value, function(value) {\n\t\t\t\t\t\t\tself.append(name, value);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if ('object' === valueType) {\n\t\t\t\t\t\tBasic.each(value, function(value, key) {\n\t\t\t\t\t\t\tself.append(name + '[' + key + ']', value);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if ('null' === valueType || 'undefined' === valueType || 'number' === valueType && isNaN(value)) {\n\t\t\t\t\t\tself.append(name, \"false\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_fields.push({\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tvalue: value.toString()\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tChecks if FormData contains Blob.\n\t\n\t\t\t\t@method hasBlob\n\t\t\t\t@return {Boolean}\n\t\t\t\t*/\n\t\t\t\thasBlob: function() {\n\t\t\t\t\treturn !!this.getBlob();\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tRetrieves blob.\n\t\n\t\t\t\t@method getBlob\n\t\t\t\t@return {Object} Either Blob if found or null\n\t\t\t\t*/\n\t\t\t\tgetBlob: function() {\n\t\t\t\t\treturn _blob && _blob.value || null;\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tRetrieves blob field name.\n\t\n\t\t\t\t@method getBlobName\n\t\t\t\t@return {String} Either Blob field name or null\n\t\t\t\t*/\n\t\t\t\tgetBlobName: function() {\n\t\t\t\t\treturn _blob && _blob.name || null;\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tLoop over the fields in FormData and invoke the callback for each of them.\n\t\n\t\t\t\t@method each\n\t\t\t\t@param {Function} cb Callback to call for each field\n\t\t\t\t*/\n\t\t\t\teach: function(cb) {\n\t\t\t\t\tBasic.each(_fields, function(field) {\n\t\t\t\t\t\tcb(field.value, field.name);\n\t\t\t\t\t});\n\t\n\t\t\t\t\tif (_blob) {\n\t\t\t\t\t\tcb(_blob.value, _blob.name);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tdestroy: function() {\n\t\t\t\t\t_blob = null;\n\t\t\t\t\t_fields = [];\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\treturn FormData;\n\t});\n\t\n\t// Included from: src/javascript/xhr/XMLHttpRequest.js\n\t\n\t/**\n\t * XMLHttpRequest.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine(\"moxie/xhr/XMLHttpRequest\", [\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/core/Exceptions\",\n\t\t\"moxie/core/EventTarget\",\n\t\t\"moxie/core/utils/Encode\",\n\t\t\"moxie/core/utils/Url\",\n\t\t\"moxie/runtime/Runtime\",\n\t\t\"moxie/runtime/RuntimeTarget\",\n\t\t\"moxie/file/Blob\",\n\t\t\"moxie/file/FileReaderSync\",\n\t\t\"moxie/xhr/FormData\",\n\t\t\"moxie/core/utils/Env\",\n\t\t\"moxie/core/utils/Mime\"\n\t], function(Basic, x, EventTarget, Encode, Url, Runtime, RuntimeTarget, Blob, FileReaderSync, FormData, Env, Mime) {\n\t\n\t\tvar httpCode = {\n\t\t\t100: 'Continue',\n\t\t\t101: 'Switching Protocols',\n\t\t\t102: 'Processing',\n\t\n\t\t\t200: 'OK',\n\t\t\t201: 'Created',\n\t\t\t202: 'Accepted',\n\t\t\t203: 'Non-Authoritative Information',\n\t\t\t204: 'No Content',\n\t\t\t205: 'Reset Content',\n\t\t\t206: 'Partial Content',\n\t\t\t207: 'Multi-Status',\n\t\t\t226: 'IM Used',\n\t\n\t\t\t300: 'Multiple Choices',\n\t\t\t301: 'Moved Permanently',\n\t\t\t302: 'Found',\n\t\t\t303: 'See Other',\n\t\t\t304: 'Not Modified',\n\t\t\t305: 'Use Proxy',\n\t\t\t306: 'Reserved',\n\t\t\t307: 'Temporary Redirect',\n\t\n\t\t\t400: 'Bad Request',\n\t\t\t401: 'Unauthorized',\n\t\t\t402: 'Payment Required',\n\t\t\t403: 'Forbidden',\n\t\t\t404: 'Not Found',\n\t\t\t405: 'Method Not Allowed',\n\t\t\t406: 'Not Acceptable',\n\t\t\t407: 'Proxy Authentication Required',\n\t\t\t408: 'Request Timeout',\n\t\t\t409: 'Conflict',\n\t\t\t410: 'Gone',\n\t\t\t411: 'Length Required',\n\t\t\t412: 'Precondition Failed',\n\t\t\t413: 'Request Entity Too Large',\n\t\t\t414: 'Request-URI Too Long',\n\t\t\t415: 'Unsupported Media Type',\n\t\t\t416: 'Requested Range Not Satisfiable',\n\t\t\t417: 'Expectation Failed',\n\t\t\t422: 'Unprocessable Entity',\n\t\t\t423: 'Locked',\n\t\t\t424: 'Failed Dependency',\n\t\t\t426: 'Upgrade Required',\n\t\n\t\t\t500: 'Internal Server Error',\n\t\t\t501: 'Not Implemented',\n\t\t\t502: 'Bad Gateway',\n\t\t\t503: 'Service Unavailable',\n\t\t\t504: 'Gateway Timeout',\n\t\t\t505: 'HTTP Version Not Supported',\n\t\t\t506: 'Variant Also Negotiates',\n\t\t\t507: 'Insufficient Storage',\n\t\t\t510: 'Not Extended'\n\t\t};\n\t\n\t\tfunction XMLHttpRequestUpload() {\n\t\t\tthis.uid = Basic.guid('uid_');\n\t\t}\n\t\t\n\t\tXMLHttpRequestUpload.prototype = EventTarget.instance;\n\t\n\t\t/**\n\t\tImplementation of XMLHttpRequest\n\t\n\t\t@class XMLHttpRequest\n\t\t@constructor\n\t\t@uses RuntimeClient\n\t\t@extends EventTarget\n\t\t*/\n\t\tvar dispatches = ['loadstart', 'progress', 'abort', 'error', 'load', 'timeout', 'loadend']; // & readystatechange (for historical reasons)\n\t\t\n\t\tvar NATIVE = 1, RUNTIME = 2;\n\t\t\t\t\t\t\n\t\tfunction XMLHttpRequest() {\n\t\t\tvar self = this,\n\t\t\t\t// this (together with _p() @see below) is here to gracefully upgrade to setter/getter syntax where possible\n\t\t\t\tprops = {\n\t\t\t\t\t/**\n\t\t\t\t\tThe amount of milliseconds a request can take before being terminated. Initially zero. Zero means there is no timeout.\n\t\n\t\t\t\t\t@property timeout\n\t\t\t\t\t@type Number\n\t\t\t\t\t@default 0\n\t\t\t\t\t*/\n\t\t\t\t\ttimeout: 0,\n\t\n\t\t\t\t\t/**\n\t\t\t\t\tCurrent state, can take following values:\n\t\t\t\t\tUNSENT (numeric value 0)\n\t\t\t\t\tThe object has been constructed.\n\t\n\t\t\t\t\tOPENED (numeric value 1)\n\t\t\t\t\tThe open() method has been successfully invoked. During this state request headers can be set using setRequestHeader() and the request can be made using the send() method.\n\t\n\t\t\t\t\tHEADERS_RECEIVED (numeric value 2)\n\t\t\t\t\tAll redirects (if any) have been followed and all HTTP headers of the final response have been received. Several response members of the object are now available.\n\t\n\t\t\t\t\tLOADING (numeric value 3)\n\t\t\t\t\tThe response entity body is being received.\n\t\n\t\t\t\t\tDONE (numeric value 4)\n\t\n\t\t\t\t\t@property readyState\n\t\t\t\t\t@type Number\n\t\t\t\t\t@default 0 (UNSENT)\n\t\t\t\t\t*/\n\t\t\t\t\treadyState: XMLHttpRequest.UNSENT,\n\t\n\t\t\t\t\t/**\n\t\t\t\t\tTrue when user credentials are to be included in a cross-origin request. False when they are to be excluded\n\t\t\t\t\tin a cross-origin request and when cookies are to be ignored in its response. Initially false.\n\t\n\t\t\t\t\t@property withCredentials\n\t\t\t\t\t@type Boolean\n\t\t\t\t\t@default false\n\t\t\t\t\t*/\n\t\t\t\t\twithCredentials: false,\n\t\n\t\t\t\t\t/**\n\t\t\t\t\tReturns the HTTP status code.\n\t\n\t\t\t\t\t@property status\n\t\t\t\t\t@type Number\n\t\t\t\t\t@default 0\n\t\t\t\t\t*/\n\t\t\t\t\tstatus: 0,\n\t\n\t\t\t\t\t/**\n\t\t\t\t\tReturns the HTTP status text.\n\t\n\t\t\t\t\t@property statusText\n\t\t\t\t\t@type String\n\t\t\t\t\t*/\n\t\t\t\t\tstatusText: \"\",\n\t\n\t\t\t\t\t/**\n\t\t\t\t\tReturns the response type. Can be set to change the response type. Values are:\n\t\t\t\t\tthe empty string (default), \"arraybuffer\", \"blob\", \"document\", \"json\", and \"text\".\n\t\t\t\t\t\n\t\t\t\t\t@property responseType\n\t\t\t\t\t@type String\n\t\t\t\t\t*/\n\t\t\t\t\tresponseType: \"\",\n\t\n\t\t\t\t\t/**\n\t\t\t\t\tReturns the document response entity body.\n\t\t\t\t\t\n\t\t\t\t\tThrows an \"InvalidStateError\" exception if responseType is not the empty string or \"document\".\n\t\n\t\t\t\t\t@property responseXML\n\t\t\t\t\t@type Document\n\t\t\t\t\t*/\n\t\t\t\t\tresponseXML: null,\n\t\n\t\t\t\t\t/**\n\t\t\t\t\tReturns the text response entity body.\n\t\t\t\t\t\n\t\t\t\t\tThrows an \"InvalidStateError\" exception if responseType is not the empty string or \"text\".\n\t\n\t\t\t\t\t@property responseText\n\t\t\t\t\t@type String\n\t\t\t\t\t*/\n\t\t\t\t\tresponseText: null,\n\t\n\t\t\t\t\t/**\n\t\t\t\t\tReturns the response entity body (http://www.w3.org/TR/XMLHttpRequest/#response-entity-body).\n\t\t\t\t\tCan become: ArrayBuffer, Blob, Document, JSON, Text\n\t\t\t\t\t\n\t\t\t\t\t@property response\n\t\t\t\t\t@type Mixed\n\t\t\t\t\t*/\n\t\t\t\t\tresponse: null\n\t\t\t\t},\n\t\n\t\t\t\t_async = true,\n\t\t\t\t_url,\n\t\t\t\t_method,\n\t\t\t\t_headers = {},\n\t\t\t\t_user,\n\t\t\t\t_password,\n\t\t\t\t_encoding = null,\n\t\t\t\t_mimeType = null,\n\t\n\t\t\t\t// flags\n\t\t\t\t_sync_flag = false,\n\t\t\t\t_send_flag = false,\n\t\t\t\t_upload_events_flag = false,\n\t\t\t\t_upload_complete_flag = false,\n\t\t\t\t_error_flag = false,\n\t\t\t\t_same_origin_flag = false,\n\t\n\t\t\t\t// times\n\t\t\t\t_start_time,\n\t\t\t\t_timeoutset_time,\n\t\n\t\t\t\t_finalMime = null,\n\t\t\t\t_finalCharset = null,\n\t\n\t\t\t\t_options = {},\n\t\t\t\t_xhr,\n\t\t\t\t_responseHeaders = '',\n\t\t\t\t_responseHeadersBag\n\t\t\t\t;\n\t\n\t\t\t\n\t\t\tBasic.extend(this, props, {\n\t\t\t\t/**\n\t\t\t\tUnique id of the component\n\t\n\t\t\t\t@property uid\n\t\t\t\t@type String\n\t\t\t\t*/\n\t\t\t\tuid: Basic.guid('uid_'),\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tTarget for Upload events\n\t\n\t\t\t\t@property upload\n\t\t\t\t@type XMLHttpRequestUpload\n\t\t\t\t*/\n\t\t\t\tupload: new XMLHttpRequestUpload(),\n\t\t\t\t\n\t\n\t\t\t\t/**\n\t\t\t\tSets the request method, request URL, synchronous flag, request username, and request password.\n\t\n\t\t\t\tThrows a \"SyntaxError\" exception if one of the following is true:\n\t\n\t\t\t\tmethod is not a valid HTTP method.\n\t\t\t\turl cannot be resolved.\n\t\t\t\turl contains the \"user:password\" format in the userinfo production.\n\t\t\t\tThrows a \"SecurityError\" exception if method is a case-insensitive match for CONNECT, TRACE or TRACK.\n\t\n\t\t\t\tThrows an \"InvalidAccessError\" exception if one of the following is true:\n\t\n\t\t\t\tEither user or password is passed as argument and the origin of url does not match the XMLHttpRequest origin.\n\t\t\t\tThere is an associated XMLHttpRequest document and either the timeout attribute is not zero,\n\t\t\t\tthe withCredentials attribute is true, or the responseType attribute is not the empty string.\n\t\n\t\n\t\t\t\t@method open\n\t\t\t\t@param {String} method HTTP method to use on request\n\t\t\t\t@param {String} url URL to request\n\t\t\t\t@param {Boolean} [async=true] If false request will be done in synchronous manner. Asynchronous by default.\n\t\t\t\t@param {String} [user] Username to use in HTTP authentication process on server-side\n\t\t\t\t@param {String} [password] Password to use in HTTP authentication process on server-side\n\t\t\t\t*/\n\t\t\t\topen: function(method, url, async, user, password) {\n\t\t\t\t\tvar urlp;\n\t\t\t\t\t\n\t\t\t\t\t// first two arguments are required\n\t\t\t\t\tif (!method || !url) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.SYNTAX_ERR);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 2 - check if any code point in method is higher than U+00FF or after deflating method it does not match the method\n\t\t\t\t\tif (/[\\u0100-\\uffff]/.test(method) || Encode.utf8_encode(method) !== method) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.SYNTAX_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// 3\n\t\t\t\t\tif (!!~Basic.inArray(method.toUpperCase(), ['CONNECT', 'DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT', 'TRACE', 'TRACK'])) {\n\t\t\t\t\t\t_method = method.toUpperCase();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t// 4 - allowing these methods poses a security risk\n\t\t\t\t\tif (!!~Basic.inArray(_method, ['CONNECT', 'TRACE', 'TRACK'])) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.SECURITY_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// 5\n\t\t\t\t\turl = Encode.utf8_encode(url);\n\t\t\t\t\t\n\t\t\t\t\t// 6 - Resolve url relative to the XMLHttpRequest base URL. If the algorithm returns an error, throw a \"SyntaxError\".\n\t\t\t\t\turlp = Url.parseUrl(url);\n\t\n\t\t\t\t\t_same_origin_flag = Url.hasSameOrigin(urlp);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t// 7 - manually build up absolute url\n\t\t\t\t\t_url = Url.resolveUrl(url);\n\t\t\t\n\t\t\t\t\t// 9-10, 12-13\n\t\t\t\t\tif ((user || password) && !_same_origin_flag) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_ACCESS_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t_user = user || urlp.user;\n\t\t\t\t\t_password = password || urlp.pass;\n\t\t\t\t\t\n\t\t\t\t\t// 11\n\t\t\t\t\t_async = async || true;\n\t\t\t\t\t\n\t\t\t\t\tif (_async === false && (_p('timeout') || _p('withCredentials') || _p('responseType') !== \"\")) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_ACCESS_ERR);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 14 - terminate abort()\n\t\t\t\t\t\n\t\t\t\t\t// 15 - terminate send()\n\t\n\t\t\t\t\t// 18\n\t\t\t\t\t_sync_flag = !_async;\n\t\t\t\t\t_send_flag = false;\n\t\t\t\t\t_headers = {};\n\t\t\t\t\t_reset.call(this);\n\t\n\t\t\t\t\t// 19\n\t\t\t\t\t_p('readyState', XMLHttpRequest.OPENED);\n\t\t\t\t\t\n\t\t\t\t\t// 20\n\t\t\t\t\tthis.convertEventPropsToHandlers(['readystatechange']); // unify event handlers\n\t\t\t\t\tthis.dispatchEvent('readystatechange');\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tAppends an header to the list of author request headers, or if header is already\n\t\t\t\tin the list of author request headers, combines its value with value.\n\t\n\t\t\t\tThrows an \"InvalidStateError\" exception if the state is not OPENED or if the send() flag is set.\n\t\t\t\tThrows a \"SyntaxError\" exception if header is not a valid HTTP header field name or if value\n\t\t\t\tis not a valid HTTP header field value.\n\t\t\t\t\n\t\t\t\t@method setRequestHeader\n\t\t\t\t@param {String} header\n\t\t\t\t@param {String|Number} value\n\t\t\t\t*/\n\t\t\t\tsetRequestHeader: function(header, value) {\n\t\t\t\t\tvar uaHeaders = [ // these headers are controlled by the user agent\n\t\t\t\t\t\t\t\"accept-charset\",\n\t\t\t\t\t\t\t\"accept-encoding\",\n\t\t\t\t\t\t\t\"access-control-request-headers\",\n\t\t\t\t\t\t\t\"access-control-request-method\",\n\t\t\t\t\t\t\t\"connection\",\n\t\t\t\t\t\t\t\"content-length\",\n\t\t\t\t\t\t\t\"cookie\",\n\t\t\t\t\t\t\t\"cookie2\",\n\t\t\t\t\t\t\t\"content-transfer-encoding\",\n\t\t\t\t\t\t\t\"date\",\n\t\t\t\t\t\t\t\"expect\",\n\t\t\t\t\t\t\t\"host\",\n\t\t\t\t\t\t\t\"keep-alive\",\n\t\t\t\t\t\t\t\"origin\",\n\t\t\t\t\t\t\t\"referer\",\n\t\t\t\t\t\t\t\"te\",\n\t\t\t\t\t\t\t\"trailer\",\n\t\t\t\t\t\t\t\"transfer-encoding\",\n\t\t\t\t\t\t\t\"upgrade\",\n\t\t\t\t\t\t\t\"user-agent\",\n\t\t\t\t\t\t\t\"via\"\n\t\t\t\t\t\t];\n\t\t\t\t\t\n\t\t\t\t\t// 1-2\n\t\t\t\t\tif (_p('readyState') !== XMLHttpRequest.OPENED || _send_flag) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// 3\n\t\t\t\t\tif (/[\\u0100-\\uffff]/.test(header) || Encode.utf8_encode(header) !== header) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.SYNTAX_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// 4\n\t\t\t\t\t/* this step is seemingly bypassed in browsers, probably to allow various unicode characters in header values\n\t\t\t\t\tif (/[\\u0100-\\uffff]/.test(value) || Encode.utf8_encode(value) !== value) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.SYNTAX_ERR);\n\t\t\t\t\t}*/\n\t\n\t\t\t\t\theader = Basic.trim(header).toLowerCase();\n\t\t\t\t\t\n\t\t\t\t\t// setting of proxy-* and sec-* headers is prohibited by spec\n\t\t\t\t\tif (!!~Basic.inArray(header, uaHeaders) || /^(proxy\\-|sec\\-)/.test(header)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// camelize\n\t\t\t\t\t// browsers lowercase header names (at least for custom ones)\n\t\t\t\t\t// header = header.replace(/\\b\\w/g, function($1) { return $1.toUpperCase(); });\n\t\t\t\t\t\n\t\t\t\t\tif (!_headers[header]) {\n\t\t\t\t\t\t_headers[header] = value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// http://tools.ietf.org/html/rfc2616#section-4.2 (last paragraph)\n\t\t\t\t\t\t_headers[header] += ', ' + value;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tReturns all headers from the response, with the exception of those whose field name is Set-Cookie or Set-Cookie2.\n\t\n\t\t\t\t@method getAllResponseHeaders\n\t\t\t\t@return {String} reponse headers or empty string\n\t\t\t\t*/\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn _responseHeaders || '';\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tReturns the header field value from the response of which the field name matches header, \n\t\t\t\tunless the field name is Set-Cookie or Set-Cookie2.\n\t\n\t\t\t\t@method getResponseHeader\n\t\t\t\t@param {String} header\n\t\t\t\t@return {String} value(s) for the specified header or null\n\t\t\t\t*/\n\t\t\t\tgetResponseHeader: function(header) {\n\t\t\t\t\theader = header.toLowerCase();\n\t\n\t\t\t\t\tif (_error_flag || !!~Basic.inArray(header, ['set-cookie', 'set-cookie2'])) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (_responseHeaders && _responseHeaders !== '') {\n\t\t\t\t\t\t// if we didn't parse response headers until now, do it and keep for later\n\t\t\t\t\t\tif (!_responseHeadersBag) {\n\t\t\t\t\t\t\t_responseHeadersBag = {};\n\t\t\t\t\t\t\tBasic.each(_responseHeaders.split(/\\r\\n/), function(line) {\n\t\t\t\t\t\t\t\tvar pair = line.split(/:\\s+/);\n\t\t\t\t\t\t\t\tif (pair.length === 2) { // last line might be empty, omit\n\t\t\t\t\t\t\t\t\tpair[0] = Basic.trim(pair[0]); // just in case\n\t\t\t\t\t\t\t\t\t_responseHeadersBag[pair[0].toLowerCase()] = { // simply to retain header name in original form\n\t\t\t\t\t\t\t\t\t\theader: pair[0],\n\t\t\t\t\t\t\t\t\t\tvalue: Basic.trim(pair[1])\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (_responseHeadersBag.hasOwnProperty(header)) {\n\t\t\t\t\t\t\treturn _responseHeadersBag[header].header + ': ' + _responseHeadersBag[header].value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tSets the Content-Type header for the response to mime.\n\t\t\t\tThrows an \"InvalidStateError\" exception if the state is LOADING or DONE.\n\t\t\t\tThrows a \"SyntaxError\" exception if mime is not a valid media type.\n\t\n\t\t\t\t@method overrideMimeType\n\t\t\t\t@param String mime Mime type to set\n\t\t\t\t*/\n\t\t\t\toverrideMimeType: function(mime) {\n\t\t\t\t\tvar matches, charset;\n\t\t\t\t\n\t\t\t\t\t// 1\n\t\t\t\t\tif (!!~Basic.inArray(_p('readyState'), [XMLHttpRequest.LOADING, XMLHttpRequest.DONE])) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// 2\n\t\t\t\t\tmime = Basic.trim(mime.toLowerCase());\n\t\n\t\t\t\t\tif (/;/.test(mime) && (matches = mime.match(/^([^;]+)(?:;\\scharset\\=)?(.*)$/))) {\n\t\t\t\t\t\tmime = matches[1];\n\t\t\t\t\t\tif (matches[2]) {\n\t\t\t\t\t\t\tcharset = matches[2];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (!Mime.mimes[mime]) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.SYNTAX_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// 3-4\n\t\t\t\t\t_finalMime = mime;\n\t\t\t\t\t_finalCharset = charset;\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tInitiates the request. The optional argument provides the request entity body.\n\t\t\t\tThe argument is ignored if request method is GET or HEAD.\n\t\n\t\t\t\tThrows an \"InvalidStateError\" exception if the state is not OPENED or if the send() flag is set.\n\t\n\t\t\t\t@method send\n\t\t\t\t@param {Blob|Document|String|FormData} [data] Request entity body\n\t\t\t\t@param {Object} [options] Set of requirements and pre-requisities for runtime initialization\n\t\t\t\t*/\n\t\t\t\tsend: function(data, options) {\t\t\t\t\t\n\t\t\t\t\tif (Basic.typeOf(options) === 'string') {\n\t\t\t\t\t\t_options = { ruid: options };\n\t\t\t\t\t} else if (!options) {\n\t\t\t\t\t\t_options = {};\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_options = options;\n\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\tthis.convertEventPropsToHandlers(dispatches);\n\t\t\t\t\tthis.upload.convertEventPropsToHandlers(dispatches);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t// 1-2\n\t\t\t\t\tif (this.readyState !== XMLHttpRequest.OPENED || _send_flag) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 3\t\t\t\t\t\n\t\t\t\t\t// sending Blob\n\t\t\t\t\tif (data instanceof Blob) {\n\t\t\t\t\t\t_options.ruid = data.ruid;\n\t\t\t\t\t\t_mimeType = data.type || 'application/octet-stream';\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// FormData\n\t\t\t\t\telse if (data instanceof FormData) {\n\t\t\t\t\t\tif (data.hasBlob()) {\n\t\t\t\t\t\t\tvar blob = data.getBlob();\n\t\t\t\t\t\t\t_options.ruid = blob.ruid;\n\t\t\t\t\t\t\t_mimeType = blob.type || 'application/octet-stream';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// DOMString\n\t\t\t\t\telse if (typeof data === 'string') {\n\t\t\t\t\t\t_encoding = 'UTF-8';\n\t\t\t\t\t\t_mimeType = 'text/plain;charset=UTF-8';\n\t\t\t\t\t\t\n\t\t\t\t\t\t// data should be converted to Unicode and encoded as UTF-8\n\t\t\t\t\t\tdata = Encode.utf8_encode(data);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// if withCredentials not set, but requested, set it automatically\n\t\t\t\t\tif (!this.withCredentials) {\n\t\t\t\t\t\tthis.withCredentials = (_options.required_caps && _options.required_caps.send_browser_cookies) && !_same_origin_flag;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// 4 - storage mutex\n\t\t\t\t\t// 5\n\t\t\t\t\t_upload_events_flag = (!_sync_flag && this.upload.hasEventListener()); // DSAP\n\t\t\t\t\t// 6\n\t\t\t\t\t_error_flag = false;\n\t\t\t\t\t// 7\n\t\t\t\t\t_upload_complete_flag = !data;\n\t\t\t\t\t// 8 - Asynchronous steps\n\t\t\t\t\tif (!_sync_flag) {\n\t\t\t\t\t\t// 8.1\n\t\t\t\t\t\t_send_flag = true;\n\t\t\t\t\t\t// 8.2\n\t\t\t\t\t\t// this.dispatchEvent('loadstart'); // will be dispatched either by native or runtime xhr\n\t\t\t\t\t\t// 8.3\n\t\t\t\t\t\t//if (!_upload_complete_flag) {\n\t\t\t\t\t\t\t// this.upload.dispatchEvent('loadstart');\t// will be dispatched either by native or runtime xhr\n\t\t\t\t\t\t//}\n\t\t\t\t\t}\n\t\t\t\t\t// 8.5 - Return the send() method call, but continue running the steps in this algorithm.\n\t\t\t\t\t_doXHR.call(this, data);\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\tCancels any network activity.\n\t\t\t\t\n\t\t\t\t@method abort\n\t\t\t\t*/\n\t\t\t\tabort: function() {\n\t\t\t\t\t_error_flag = true;\n\t\t\t\t\t_sync_flag = false;\n\t\n\t\t\t\t\tif (!~Basic.inArray(_p('readyState'), [XMLHttpRequest.UNSENT, XMLHttpRequest.OPENED, XMLHttpRequest.DONE])) {\n\t\t\t\t\t\t_p('readyState', XMLHttpRequest.DONE);\n\t\t\t\t\t\t_send_flag = false;\n\t\n\t\t\t\t\t\tif (_xhr) {\n\t\t\t\t\t\t\t_xhr.getRuntime().exec.call(_xhr, 'XMLHttpRequest', 'abort', _upload_complete_flag);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t_upload_complete_flag = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_p('readyState', XMLHttpRequest.UNSENT);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tdestroy: function() {\n\t\t\t\t\tif (_xhr) {\n\t\t\t\t\t\tif (Basic.typeOf(_xhr.destroy) === 'function') {\n\t\t\t\t\t\t\t_xhr.destroy();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_xhr = null;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tthis.unbindAll();\n\t\n\t\t\t\t\tif (this.upload) {\n\t\t\t\t\t\tthis.upload.unbindAll();\n\t\t\t\t\t\tthis.upload = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\t/* this is nice, but maybe too lengthy\n\t\n\t\t\t// if supported by JS version, set getters/setters for specific properties\n\t\t\to.defineProperty(this, 'readyState', {\n\t\t\t\tconfigurable: false,\n\t\n\t\t\t\tget: function() {\n\t\t\t\t\treturn _p('readyState');\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\to.defineProperty(this, 'timeout', {\n\t\t\t\tconfigurable: false,\n\t\n\t\t\t\tget: function() {\n\t\t\t\t\treturn _p('timeout');\n\t\t\t\t},\n\t\n\t\t\t\tset: function(value) {\n\t\n\t\t\t\t\tif (_sync_flag) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_ACCESS_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// timeout still should be measured relative to the start time of request\n\t\t\t\t\t_timeoutset_time = (new Date).getTime();\n\t\n\t\t\t\t\t_p('timeout', value);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\t// the withCredentials attribute has no effect when fetching same-origin resources\n\t\t\to.defineProperty(this, 'withCredentials', {\n\t\t\t\tconfigurable: false,\n\t\n\t\t\t\tget: function() {\n\t\t\t\t\treturn _p('withCredentials');\n\t\t\t\t},\n\t\n\t\t\t\tset: function(value) {\n\t\t\t\t\t// 1-2\n\t\t\t\t\tif (!~o.inArray(_p('readyState'), [XMLHttpRequest.UNSENT, XMLHttpRequest.OPENED]) || _send_flag) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// 3-4\n\t\t\t\t\tif (_anonymous_flag || _sync_flag) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_ACCESS_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// 5\n\t\t\t\t\t_p('withCredentials', value);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\to.defineProperty(this, 'status', {\n\t\t\t\tconfigurable: false,\n\t\n\t\t\t\tget: function() {\n\t\t\t\t\treturn _p('status');\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\to.defineProperty(this, 'statusText', {\n\t\t\t\tconfigurable: false,\n\t\n\t\t\t\tget: function() {\n\t\t\t\t\treturn _p('statusText');\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\to.defineProperty(this, 'responseType', {\n\t\t\t\tconfigurable: false,\n\t\n\t\t\t\tget: function() {\n\t\t\t\t\treturn _p('responseType');\n\t\t\t\t},\n\t\n\t\t\t\tset: function(value) {\n\t\t\t\t\t// 1\n\t\t\t\t\tif (!!~o.inArray(_p('readyState'), [XMLHttpRequest.LOADING, XMLHttpRequest.DONE])) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// 2\n\t\t\t\t\tif (_sync_flag) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_ACCESS_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// 3\n\t\t\t\t\t_p('responseType', value.toLowerCase());\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\to.defineProperty(this, 'responseText', {\n\t\t\t\tconfigurable: false,\n\t\n\t\t\t\tget: function() {\n\t\t\t\t\t// 1\n\t\t\t\t\tif (!~o.inArray(_p('responseType'), ['', 'text'])) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// 2-3\n\t\t\t\t\tif (_p('readyState') !== XMLHttpRequest.DONE && _p('readyState') !== XMLHttpRequest.LOADING || _error_flag) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn _p('responseText');\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\to.defineProperty(this, 'responseXML', {\n\t\t\t\tconfigurable: false,\n\t\n\t\t\t\tget: function() {\n\t\t\t\t\t// 1\n\t\t\t\t\tif (!~o.inArray(_p('responseType'), ['', 'document'])) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// 2-3\n\t\t\t\t\tif (_p('readyState') !== XMLHttpRequest.DONE || _error_flag) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn _p('responseXML');\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\to.defineProperty(this, 'response', {\n\t\t\t\tconfigurable: false,\n\t\n\t\t\t\tget: function() {\n\t\t\t\t\tif (!!~o.inArray(_p('responseType'), ['', 'text'])) {\n\t\t\t\t\t\tif (_p('readyState') !== XMLHttpRequest.DONE && _p('readyState') !== XMLHttpRequest.LOADING || _error_flag) {\n\t\t\t\t\t\t\treturn '';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (_p('readyState') !== XMLHttpRequest.DONE || _error_flag) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn _p('response');\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\t*/\n\t\n\t\t\tfunction _p(prop, value) {\n\t\t\t\tif (!props.hasOwnProperty(prop)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (arguments.length === 1) { // get\n\t\t\t\t\treturn Env.can('define_property') ? props[prop] : self[prop];\n\t\t\t\t} else { // set\n\t\t\t\t\tif (Env.can('define_property')) {\n\t\t\t\t\t\tprops[prop] = value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself[prop] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/*\n\t\t\tfunction _toASCII(str, AllowUnassigned, UseSTD3ASCIIRules) {\n\t\t\t\t// TODO: http://tools.ietf.org/html/rfc3490#section-4.1\n\t\t\t\treturn str.toLowerCase();\n\t\t\t}\n\t\t\t*/\n\t\t\t\n\t\t\t\n\t\t\tfunction _doXHR(data) {\n\t\t\t\tvar self = this;\n\t\t\t\t\n\t\t\t\t_start_time = new Date().getTime();\n\t\n\t\t\t\t_xhr = new RuntimeTarget();\n\t\n\t\t\t\tfunction loadEnd() {\n\t\t\t\t\tif (_xhr) { // it could have been destroyed by now\n\t\t\t\t\t\t_xhr.destroy();\n\t\t\t\t\t\t_xhr = null;\n\t\t\t\t\t}\n\t\t\t\t\tself.dispatchEvent('loadend');\n\t\t\t\t\tself = null;\n\t\t\t\t}\n\t\n\t\t\t\tfunction exec(runtime) {\n\t\t\t\t\t_xhr.bind('LoadStart', function(e) {\n\t\t\t\t\t\t_p('readyState', XMLHttpRequest.LOADING);\n\t\t\t\t\t\tself.dispatchEvent('readystatechange');\n\t\n\t\t\t\t\t\tself.dispatchEvent(e);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (_upload_events_flag) {\n\t\t\t\t\t\t\tself.upload.dispatchEvent(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t_xhr.bind('Progress', function(e) {\n\t\t\t\t\t\tif (_p('readyState') !== XMLHttpRequest.LOADING) {\n\t\t\t\t\t\t\t_p('readyState', XMLHttpRequest.LOADING); // LoadStart unreliable (in Flash for example)\n\t\t\t\t\t\t\tself.dispatchEvent('readystatechange');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.dispatchEvent(e);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t_xhr.bind('UploadProgress', function(e) {\n\t\t\t\t\t\tif (_upload_events_flag) {\n\t\t\t\t\t\t\tself.upload.dispatchEvent({\n\t\t\t\t\t\t\t\ttype: 'progress',\n\t\t\t\t\t\t\t\tlengthComputable: false,\n\t\t\t\t\t\t\t\ttotal: e.total,\n\t\t\t\t\t\t\t\tloaded: e.loaded\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t_xhr.bind('Load', function(e) {\n\t\t\t\t\t\t_p('readyState', XMLHttpRequest.DONE);\n\t\t\t\t\t\t_p('status', Number(runtime.exec.call(_xhr, 'XMLHttpRequest', 'getStatus') || 0));\n\t\t\t\t\t\t_p('statusText', httpCode[_p('status')] || \"\");\n\t\t\t\t\t\t\n\t\t\t\t\t\t_p('response', runtime.exec.call(_xhr, 'XMLHttpRequest', 'getResponse', _p('responseType')));\n\t\n\t\t\t\t\t\tif (!!~Basic.inArray(_p('responseType'), ['text', ''])) {\n\t\t\t\t\t\t\t_p('responseText', _p('response'));\n\t\t\t\t\t\t} else if (_p('responseType') === 'document') {\n\t\t\t\t\t\t\t_p('responseXML', _p('response'));\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t_responseHeaders = runtime.exec.call(_xhr, 'XMLHttpRequest', 'getAllResponseHeaders');\n\t\n\t\t\t\t\t\tself.dispatchEvent('readystatechange');\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (_p('status') > 0) { // status 0 usually means that server is unreachable\n\t\t\t\t\t\t\tif (_upload_events_flag) {\n\t\t\t\t\t\t\t\tself.upload.dispatchEvent(e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.dispatchEvent(e);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_error_flag = true;\n\t\t\t\t\t\t\tself.dispatchEvent('error');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tloadEnd();\n\t\t\t\t\t});\n\t\n\t\t\t\t\t_xhr.bind('Abort', function(e) {\n\t\t\t\t\t\tself.dispatchEvent(e);\n\t\t\t\t\t\tloadEnd();\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t_xhr.bind('Error', function(e) {\n\t\t\t\t\t\t_error_flag = true;\n\t\t\t\t\t\t_p('readyState', XMLHttpRequest.DONE);\n\t\t\t\t\t\tself.dispatchEvent('readystatechange');\n\t\t\t\t\t\t_upload_complete_flag = true;\n\t\t\t\t\t\tself.dispatchEvent(e);\n\t\t\t\t\t\tloadEnd();\n\t\t\t\t\t});\n\t\n\t\t\t\t\truntime.exec.call(_xhr, 'XMLHttpRequest', 'send', {\n\t\t\t\t\t\turl: _url,\n\t\t\t\t\t\tmethod: _method,\n\t\t\t\t\t\tasync: _async,\n\t\t\t\t\t\tuser: _user,\n\t\t\t\t\t\tpassword: _password,\n\t\t\t\t\t\theaders: _headers,\n\t\t\t\t\t\tmimeType: _mimeType,\n\t\t\t\t\t\tencoding: _encoding,\n\t\t\t\t\t\tresponseType: self.responseType,\n\t\t\t\t\t\twithCredentials: self.withCredentials,\n\t\t\t\t\t\toptions: _options\n\t\t\t\t\t}, data);\n\t\t\t\t}\n\t\n\t\t\t\t// clarify our requirements\n\t\t\t\tif (typeof(_options.required_caps) === 'string') {\n\t\t\t\t\t_options.required_caps = Runtime.parseCaps(_options.required_caps);\n\t\t\t\t}\n\t\n\t\t\t\t_options.required_caps = Basic.extend({}, _options.required_caps, {\n\t\t\t\t\treturn_response_type: self.responseType\n\t\t\t\t});\n\t\n\t\t\t\tif (data instanceof FormData) {\n\t\t\t\t\t_options.required_caps.send_multipart = true;\n\t\t\t\t}\n\t\n\t\t\t\tif (!_same_origin_flag) {\n\t\t\t\t\t_options.required_caps.do_cors = true;\n\t\t\t\t}\n\t\t\t\t\n\t\n\t\t\t\tif (_options.ruid) { // we do not need to wait if we can connect directly\n\t\t\t\t\texec(_xhr.connectRuntime(_options));\n\t\t\t\t} else {\n\t\t\t\t\t_xhr.bind('RuntimeInit', function(e, runtime) {\n\t\t\t\t\t\texec(runtime);\n\t\t\t\t\t});\n\t\t\t\t\t_xhr.bind('RuntimeError', function(e, err) {\n\t\t\t\t\t\tself.dispatchEvent('RuntimeError', err);\n\t\t\t\t\t});\n\t\t\t\t\t_xhr.connectRuntime(_options);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\t\n\t\t\tfunction _reset() {\n\t\t\t\t_p('responseText', \"\");\n\t\t\t\t_p('responseXML', null);\n\t\t\t\t_p('response', null);\n\t\t\t\t_p('status', 0);\n\t\t\t\t_p('statusText', \"\");\n\t\t\t\t_start_time = _timeoutset_time = null;\n\t\t\t}\n\t\t}\n\t\n\t\tXMLHttpRequest.UNSENT = 0;\n\t\tXMLHttpRequest.OPENED = 1;\n\t\tXMLHttpRequest.HEADERS_RECEIVED = 2;\n\t\tXMLHttpRequest.LOADING = 3;\n\t\tXMLHttpRequest.DONE = 4;\n\t\t\n\t\tXMLHttpRequest.prototype = EventTarget.instance;\n\t\n\t\treturn XMLHttpRequest;\n\t});\n\t\n\t// Included from: src/javascript/runtime/Transporter.js\n\t\n\t/**\n\t * Transporter.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine(\"moxie/runtime/Transporter\", [\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/core/utils/Encode\",\n\t\t\"moxie/runtime/RuntimeClient\",\n\t\t\"moxie/core/EventTarget\"\n\t], function(Basic, Encode, RuntimeClient, EventTarget) {\n\t\tfunction Transporter() {\n\t\t\tvar mod, _runtime, _data, _size, _pos, _chunk_size;\n\t\n\t\t\tRuntimeClient.call(this);\n\t\n\t\t\tBasic.extend(this, {\n\t\t\t\tuid: Basic.guid('uid_'),\n\t\n\t\t\t\tstate: Transporter.IDLE,\n\t\n\t\t\t\tresult: null,\n\t\n\t\t\t\ttransport: function(data, type, options) {\n\t\t\t\t\tvar self = this;\n\t\n\t\t\t\t\toptions = Basic.extend({\n\t\t\t\t\t\tchunk_size: 204798\n\t\t\t\t\t}, options);\n\t\n\t\t\t\t\t// should divide by three, base64 requires this\n\t\t\t\t\tif ((mod = options.chunk_size % 3)) {\n\t\t\t\t\t\toptions.chunk_size += 3 - mod;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t_chunk_size = options.chunk_size;\n\t\n\t\t\t\t\t_reset.call(this);\n\t\t\t\t\t_data = data;\n\t\t\t\t\t_size = data.length;\n\t\n\t\t\t\t\tif (Basic.typeOf(options) === 'string' || options.ruid) {\n\t\t\t\t\t\t_run.call(self, type, this.connectRuntime(options));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// we require this to run only once\n\t\t\t\t\t\tvar cb = function(e, runtime) {\n\t\t\t\t\t\t\tself.unbind(\"RuntimeInit\", cb);\n\t\t\t\t\t\t\t_run.call(self, type, runtime);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.bind(\"RuntimeInit\", cb);\n\t\t\t\t\t\tthis.connectRuntime(options);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tabort: function() {\n\t\t\t\t\tvar self = this;\n\t\n\t\t\t\t\tself.state = Transporter.IDLE;\n\t\t\t\t\tif (_runtime) {\n\t\t\t\t\t\t_runtime.exec.call(self, 'Transporter', 'clear');\n\t\t\t\t\t\tself.trigger(\"TransportingAborted\");\n\t\t\t\t\t}\n\t\n\t\t\t\t\t_reset.call(self);\n\t\t\t\t},\n\t\n\t\n\t\t\t\tdestroy: function() {\n\t\t\t\t\tthis.unbindAll();\n\t\t\t\t\t_runtime = null;\n\t\t\t\t\tthis.disconnectRuntime();\n\t\t\t\t\t_reset.call(this);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tfunction _reset() {\n\t\t\t\t_size = _pos = 0;\n\t\t\t\t_data = this.result = null;\n\t\t\t}\n\t\n\t\t\tfunction _run(type, runtime) {\n\t\t\t\tvar self = this;\n\t\n\t\t\t\t_runtime = runtime;\n\t\n\t\t\t\t//self.unbind(\"RuntimeInit\");\n\t\n\t\t\t\tself.bind(\"TransportingProgress\", function(e) {\n\t\t\t\t\t_pos = e.loaded;\n\t\n\t\t\t\t\tif (_pos < _size && Basic.inArray(self.state, [Transporter.IDLE, Transporter.DONE]) === -1) {\n\t\t\t\t\t\t_transport.call(self);\n\t\t\t\t\t}\n\t\t\t\t}, 999);\n\t\n\t\t\t\tself.bind(\"TransportingComplete\", function() {\n\t\t\t\t\t_pos = _size;\n\t\t\t\t\tself.state = Transporter.DONE;\n\t\t\t\t\t_data = null; // clean a bit\n\t\t\t\t\tself.result = _runtime.exec.call(self, 'Transporter', 'getAsBlob', type || '');\n\t\t\t\t}, 999);\n\t\n\t\t\t\tself.state = Transporter.BUSY;\n\t\t\t\tself.trigger(\"TransportingStarted\");\n\t\t\t\t_transport.call(self);\n\t\t\t}\n\t\n\t\t\tfunction _transport() {\n\t\t\t\tvar self = this,\n\t\t\t\t\tchunk,\n\t\t\t\t\tbytesLeft = _size - _pos;\n\t\n\t\t\t\tif (_chunk_size > bytesLeft) {\n\t\t\t\t\t_chunk_size = bytesLeft;\n\t\t\t\t}\n\t\n\t\t\t\tchunk = Encode.btoa(_data.substr(_pos, _chunk_size));\n\t\t\t\t_runtime.exec.call(self, 'Transporter', 'receive', chunk, _size);\n\t\t\t}\n\t\t}\n\t\n\t\tTransporter.IDLE = 0;\n\t\tTransporter.BUSY = 1;\n\t\tTransporter.DONE = 2;\n\t\n\t\tTransporter.prototype = EventTarget.instance;\n\t\n\t\treturn Transporter;\n\t});\n\t\n\t// Included from: src/javascript/image/Image.js\n\t\n\t/**\n\t * Image.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine(\"moxie/image/Image\", [\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/core/utils/Dom\",\n\t\t\"moxie/core/Exceptions\",\n\t\t\"moxie/file/FileReaderSync\",\n\t\t\"moxie/xhr/XMLHttpRequest\",\n\t\t\"moxie/runtime/Runtime\",\n\t\t\"moxie/runtime/RuntimeClient\",\n\t\t\"moxie/runtime/Transporter\",\n\t\t\"moxie/core/utils/Env\",\n\t\t\"moxie/core/EventTarget\",\n\t\t\"moxie/file/Blob\",\n\t\t\"moxie/file/File\",\n\t\t\"moxie/core/utils/Encode\"\n\t], function(Basic, Dom, x, FileReaderSync, XMLHttpRequest, Runtime, RuntimeClient, Transporter, Env, EventTarget, Blob, File, Encode) {\n\t\t/**\n\t\tImage preloading and manipulation utility. Additionally it provides access to image meta info (Exif, GPS) and raw binary data.\n\t\n\t\t@class Image\n\t\t@constructor\n\t\t@extends EventTarget\n\t\t*/\n\t\tvar dispatches = [\n\t\t\t'progress',\n\t\n\t\t\t/**\n\t\t\tDispatched when loading is complete.\n\t\n\t\t\t@event load\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'load',\n\t\n\t\t\t'error',\n\t\n\t\t\t/**\n\t\t\tDispatched when resize operation is complete.\n\t\t\t\n\t\t\t@event resize\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'resize',\n\t\n\t\t\t/**\n\t\t\tDispatched when visual representation of the image is successfully embedded\n\t\t\tinto the corresponsing container.\n\t\n\t\t\t@event embedded\n\t\t\t@param {Object} event\n\t\t\t*/\n\t\t\t'embedded'\n\t\t];\n\t\n\t\tfunction Image() {\n\t\t\tRuntimeClient.call(this);\n\t\n\t\t\tBasic.extend(this, {\n\t\t\t\t/**\n\t\t\t\tUnique id of the component\n\t\n\t\t\t\t@property uid\n\t\t\t\t@type {String}\n\t\t\t\t*/\n\t\t\t\tuid: Basic.guid('uid_'),\n\t\n\t\t\t\t/**\n\t\t\t\tUnique id of the connected runtime, if any.\n\t\n\t\t\t\t@property ruid\n\t\t\t\t@type {String}\n\t\t\t\t*/\n\t\t\t\truid: null,\n\t\n\t\t\t\t/**\n\t\t\t\tName of the file, that was used to create an image, if available. If not equals to empty string.\n\t\n\t\t\t\t@property name\n\t\t\t\t@type {String}\n\t\t\t\t@default \"\"\n\t\t\t\t*/\n\t\t\t\tname: \"\",\n\t\n\t\t\t\t/**\n\t\t\t\tSize of the image in bytes. Actual value is set only after image is preloaded.\n\t\n\t\t\t\t@property size\n\t\t\t\t@type {Number}\n\t\t\t\t@default 0\n\t\t\t\t*/\n\t\t\t\tsize: 0,\n\t\n\t\t\t\t/**\n\t\t\t\tWidth of the image. Actual value is set only after image is preloaded.\n\t\n\t\t\t\t@property width\n\t\t\t\t@type {Number}\n\t\t\t\t@default 0\n\t\t\t\t*/\n\t\t\t\twidth: 0,\n\t\n\t\t\t\t/**\n\t\t\t\tHeight of the image. Actual value is set only after image is preloaded.\n\t\n\t\t\t\t@property height\n\t\t\t\t@type {Number}\n\t\t\t\t@default 0\n\t\t\t\t*/\n\t\t\t\theight: 0,\n\t\n\t\t\t\t/**\n\t\t\t\tMime type of the image. Currently only image/jpeg and image/png are supported. Actual value is set only after image is preloaded.\n\t\n\t\t\t\t@property type\n\t\t\t\t@type {String}\n\t\t\t\t@default \"\"\n\t\t\t\t*/\n\t\t\t\ttype: \"\",\n\t\n\t\t\t\t/**\n\t\t\t\tHolds meta info (Exif, GPS). Is populated only for image/jpeg. Actual value is set only after image is preloaded.\n\t\n\t\t\t\t@property meta\n\t\t\t\t@type {Object}\n\t\t\t\t@default {}\n\t\t\t\t*/\n\t\t\t\tmeta: {},\n\t\n\t\t\t\t/**\n\t\t\t\tAlias for load method, that takes another mOxie.Image object as a source (see load).\n\t\n\t\t\t\t@method clone\n\t\t\t\t@param {Image} src Source for the image\n\t\t\t\t@param {Boolean} [exact=false] Whether to activate in-depth clone mode\n\t\t\t\t*/\n\t\t\t\tclone: function() {\n\t\t\t\t\tthis.load.apply(this, arguments);\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tLoads image from various sources. Currently the source for new image can be: mOxie.Image, mOxie.Blob/mOxie.File, \n\t\t\t\tnative Blob/File, dataUrl or URL. Depending on the type of the source, arguments - differ. When source is URL, \n\t\t\t\tImage will be downloaded from remote destination and loaded in memory.\n\t\n\t\t\t\t@example\n\t\t\t\t\tvar img = new mOxie.Image();\n\t\t\t\t\timg.onload = function() {\n\t\t\t\t\t\tvar blob = img.getAsBlob();\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar formData = new mOxie.FormData();\n\t\t\t\t\t\tformData.append('file', blob);\n\t\n\t\t\t\t\t\tvar xhr = new mOxie.XMLHttpRequest();\n\t\t\t\t\t\txhr.onload = function() {\n\t\t\t\t\t\t\t// upload complete\n\t\t\t\t\t\t};\n\t\t\t\t\t\txhr.open('post', 'upload.php');\n\t\t\t\t\t\txhr.send(formData);\n\t\t\t\t\t};\n\t\t\t\t\timg.load(\"http://www.moxiecode.com/images/mox-logo.jpg\"); // notice file extension (.jpg)\n\t\t\t\t\n\t\n\t\t\t\t@method load\n\t\t\t\t@param {Image|Blob|File|String} src Source for the image\n\t\t\t\t@param {Boolean|Object} [mixed]\n\t\t\t\t*/\n\t\t\t\tload: function() {\n\t\t\t\t\t// this is here because to bind properly we need an uid first, which is created above\n\t\t\t\t\tthis.bind('Load Resize', function() {\n\t\t\t\t\t\t_updateInfo.call(this);\n\t\t\t\t\t}, 999);\n\t\n\t\t\t\t\tthis.convertEventPropsToHandlers(dispatches);\n\t\n\t\t\t\t\t_load.apply(this, arguments);\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tDownsizes the image to fit the specified width/height. If crop is supplied, image will be cropped to exact dimensions.\n\t\n\t\t\t\t@method downsize\n\t\t\t\t@param {Number} width Resulting width\n\t\t\t\t@param {Number} [height=width] Resulting height (optional, if not supplied will default to width)\n\t\t\t\t@param {Boolean} [crop=false] Whether to crop the image to exact dimensions\n\t\t\t\t@param {Boolean} [preserveHeaders=true] Whether to preserve meta headers (on JPEGs after resize)\n\t\t\t\t*/\n\t\t\t\tdownsize: function(opts) {\n\t\t\t\t\tvar defaults = {\n\t\t\t\t\t\twidth: this.width,\n\t\t\t\t\t\theight: this.height,\n\t\t\t\t\t\tcrop: false,\n\t\t\t\t\t\tpreserveHeaders: true\n\t\t\t\t\t};\n\t\n\t\t\t\t\tif (typeof(opts) === 'object') {\n\t\t\t\t\t\topts = Basic.extend(defaults, opts);\n\t\t\t\t\t} else {\n\t\t\t\t\t\topts = Basic.extend(defaults, {\n\t\t\t\t\t\t\twidth: arguments[0],\n\t\t\t\t\t\t\theight: arguments[1],\n\t\t\t\t\t\t\tcrop: arguments[2],\n\t\t\t\t\t\t\tpreserveHeaders: arguments[3]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!this.size) { // only preloaded image objects can be used as source\n\t\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// no way to reliably intercept the crash due to high resolution, so we simply avoid it\n\t\t\t\t\t\tif (this.width > Image.MAX_RESIZE_WIDTH || this.height > Image.MAX_RESIZE_HEIGHT) {\n\t\t\t\t\t\t\tthrow new x.ImageError(x.ImageError.MAX_RESOLUTION_ERR);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tthis.getRuntime().exec.call(this, 'Image', 'downsize', opts.width, opts.height, opts.crop, opts.preserveHeaders);\n\t\t\t\t\t} catch(ex) {\n\t\t\t\t\t\t// for now simply trigger error event\n\t\t\t\t\t\tthis.trigger('error', ex.code);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tAlias for downsize(width, height, true). (see downsize)\n\t\t\t\t\n\t\t\t\t@method crop\n\t\t\t\t@param {Number} width Resulting width\n\t\t\t\t@param {Number} [height=width] Resulting height (optional, if not supplied will default to width)\n\t\t\t\t@param {Boolean} [preserveHeaders=true] Whether to preserve meta headers (on JPEGs after resize)\n\t\t\t\t*/\n\t\t\t\tcrop: function(width, height, preserveHeaders) {\n\t\t\t\t\tthis.downsize(width, height, true, preserveHeaders);\n\t\t\t\t},\n\t\n\t\t\t\tgetAsCanvas: function() {\n\t\t\t\t\tif (!Env.can('create_canvas')) {\n\t\t\t\t\t\tthrow new x.RuntimeError(x.RuntimeError.NOT_SUPPORTED_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar runtime = this.connectRuntime(this.ruid);\n\t\t\t\t\treturn runtime.exec.call(this, 'Image', 'getAsCanvas');\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tRetrieves image in it's current state as mOxie.Blob object. Cannot be run on empty or image in progress (throws\n\t\t\t\tDOMException.INVALID_STATE_ERR).\n\t\n\t\t\t\t@method getAsBlob\n\t\t\t\t@param {String} [type=\"image/jpeg\"] Mime type of resulting blob. Can either be image/jpeg or image/png\n\t\t\t\t@param {Number} [quality=90] Applicable only together with mime type image/jpeg\n\t\t\t\t@return {Blob} Image as Blob\n\t\t\t\t*/\n\t\t\t\tgetAsBlob: function(type, quality) {\n\t\t\t\t\tif (!this.size) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (!type) {\n\t\t\t\t\t\ttype = 'image/jpeg';\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (type === 'image/jpeg' && !quality) {\n\t\t\t\t\t\tquality = 90;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn this.getRuntime().exec.call(this, 'Image', 'getAsBlob', type, quality);\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tRetrieves image in it's current state as dataURL string. Cannot be run on empty or image in progress (throws\n\t\t\t\tDOMException.INVALID_STATE_ERR).\n\t\n\t\t\t\t@method getAsDataURL\n\t\t\t\t@param {String} [type=\"image/jpeg\"] Mime type of resulting blob. Can either be image/jpeg or image/png\n\t\t\t\t@param {Number} [quality=90] Applicable only together with mime type image/jpeg\n\t\t\t\t@return {String} Image as dataURL string\n\t\t\t\t*/\n\t\t\t\tgetAsDataURL: function(type, quality) {\n\t\t\t\t\tif (!this.size) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t}\n\t\t\t\t\treturn this.getRuntime().exec.call(this, 'Image', 'getAsDataURL', type, quality);\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tRetrieves image in it's current state as binary string. Cannot be run on empty or image in progress (throws\n\t\t\t\tDOMException.INVALID_STATE_ERR).\n\t\n\t\t\t\t@method getAsBinaryString\n\t\t\t\t@param {String} [type=\"image/jpeg\"] Mime type of resulting blob. Can either be image/jpeg or image/png\n\t\t\t\t@param {Number} [quality=90] Applicable only together with mime type image/jpeg\n\t\t\t\t@return {String} Image as binary string\n\t\t\t\t*/\n\t\t\t\tgetAsBinaryString: function(type, quality) {\n\t\t\t\t\tvar dataUrl = this.getAsDataURL(type, quality);\n\t\t\t\t\treturn Encode.atob(dataUrl.substring(dataUrl.indexOf('base64,') + 7));\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tEmbeds a visual representation of the image into the specified node. Depending on the runtime, \n\t\t\t\tit might be a canvas, an img node or a thrid party shim object (Flash or SilverLight - very rare, \n\t\t\t\tcan be used in legacy browsers that do not have canvas or proper dataURI support).\n\t\n\t\t\t\t@method embed\n\t\t\t\t@param {DOMElement} el DOM element to insert the image object into\n\t\t\t\t@param {Object} [options]\n\t\t\t\t\t@param {Number} [options.width] The width of an embed (defaults to the image width)\n\t\t\t\t\t@param {Number} [options.height] The height of an embed (defaults to the image height)\n\t\t\t\t\t@param {String} [type=\"image/jpeg\"] Mime type\n\t\t\t\t\t@param {Number} [quality=90] Quality of an embed, if mime type is image/jpeg\n\t\t\t\t\t@param {Boolean} [crop=false] Whether to crop an embed to the specified dimensions\n\t\t\t\t*/\n\t\t\t\tembed: function(el) {\n\t\t\t\t\tvar self = this\n\t\t\t\t\t, imgCopy\n\t\t\t\t\t, type, quality, crop\n\t\t\t\t\t, options = arguments[1] || {}\n\t\t\t\t\t, width = this.width\n\t\t\t\t\t, height = this.height\n\t\t\t\t\t, runtime // this has to be outside of all the closures to contain proper runtime\n\t\t\t\t\t;\n\t\n\t\t\t\t\tfunction onResize() {\n\t\t\t\t\t\t// if possible, embed a canvas element directly\n\t\t\t\t\t\tif (Env.can('create_canvas')) {\n\t\t\t\t\t\t\tvar canvas = imgCopy.getAsCanvas();\n\t\t\t\t\t\t\tif (canvas) {\n\t\t\t\t\t\t\t\tel.appendChild(canvas);\n\t\t\t\t\t\t\t\tcanvas = null;\n\t\t\t\t\t\t\t\timgCopy.destroy();\n\t\t\t\t\t\t\t\tself.trigger('embedded');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tvar dataUrl = imgCopy.getAsDataURL(type, quality);\n\t\t\t\t\t\tif (!dataUrl) {\n\t\t\t\t\t\t\tthrow new x.ImageError(x.ImageError.WRONG_FORMAT);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (Env.can('use_data_uri_of', dataUrl.length)) {\n\t\t\t\t\t\t\tel.innerHTML = '<img src=\"' + dataUrl + '\" width=\"' + imgCopy.width + '\" height=\"' + imgCopy.height + '\" />';\n\t\t\t\t\t\t\timgCopy.destroy();\n\t\t\t\t\t\t\tself.trigger('embedded');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar tr = new Transporter();\n\t\n\t\t\t\t\t\t\ttr.bind(\"TransportingComplete\", function() {\n\t\t\t\t\t\t\t\truntime = self.connectRuntime(this.result.ruid);\n\t\n\t\t\t\t\t\t\t\tself.bind(\"Embedded\", function() {\n\t\t\t\t\t\t\t\t\t// position and size properly\n\t\t\t\t\t\t\t\t\tBasic.extend(runtime.getShimContainer().style, {\n\t\t\t\t\t\t\t\t\t\t//position: 'relative',\n\t\t\t\t\t\t\t\t\t\ttop: '0px',\n\t\t\t\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\t\t\t\twidth: imgCopy.width + 'px',\n\t\t\t\t\t\t\t\t\t\theight: imgCopy.height + 'px'\n\t\t\t\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t\t\t\t// some shims (Flash/SilverLight) reinitialize, if parent element is hidden, reordered or it's\n\t\t\t\t\t\t\t\t\t// position type changes (in Gecko), but since we basically need this only in IEs 6/7 and\n\t\t\t\t\t\t\t\t\t// sometimes 8 and they do not have this problem, we can comment this for now\n\t\t\t\t\t\t\t\t\t/*tr.bind(\"RuntimeInit\", function(e, runtime) {\n\t\t\t\t\t\t\t\t\t\ttr.destroy();\n\t\t\t\t\t\t\t\t\t\truntime.destroy();\n\t\t\t\t\t\t\t\t\t\tonResize.call(self); // re-feed our image data\n\t\t\t\t\t\t\t\t\t});*/\n\t\n\t\t\t\t\t\t\t\t\truntime = null;\n\t\t\t\t\t\t\t\t}, 999);\n\t\n\t\t\t\t\t\t\t\truntime.exec.call(self, \"ImageView\", \"display\", this.result.uid, width, height);\n\t\t\t\t\t\t\t\timgCopy.destroy();\n\t\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t\ttr.transport(Encode.atob(dataUrl.substring(dataUrl.indexOf('base64,') + 7)), type, Basic.extend({}, options, {\n\t\t\t\t\t\t\t\trequired_caps: {\n\t\t\t\t\t\t\t\t\tdisplay_media: true\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\truntime_order: 'flash,silverlight',\n\t\t\t\t\t\t\t\tcontainer: el\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!(el = Dom.get(el))) {\n\t\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_NODE_TYPE_ERR);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (!this.size) { // only preloaded image objects can be used as source\n\t\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (this.width > Image.MAX_RESIZE_WIDTH || this.height > Image.MAX_RESIZE_HEIGHT) {\n\t\t\t\t\t\t\tthrow new x.ImageError(x.ImageError.MAX_RESOLUTION_ERR);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\ttype = options.type || this.type || 'image/jpeg';\n\t\t\t\t\t\tquality = options.quality || 90;\n\t\t\t\t\t\tcrop = Basic.typeOf(options.crop) !== 'undefined' ? options.crop : false;\n\t\n\t\t\t\t\t\t// figure out dimensions for the thumb\n\t\t\t\t\t\tif (options.width) {\n\t\t\t\t\t\t\twidth = options.width;\n\t\t\t\t\t\t\theight = options.height || width;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// if container element has measurable dimensions, use them\n\t\t\t\t\t\t\tvar dimensions = Dom.getSize(el);\n\t\t\t\t\t\t\tif (dimensions.w && dimensions.h) { // both should be > 0\n\t\t\t\t\t\t\t\twidth = dimensions.w;\n\t\t\t\t\t\t\t\theight = dimensions.h;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\timgCopy = new Image();\n\t\n\t\t\t\t\t\timgCopy.bind(\"Resize\", function() {\n\t\t\t\t\t\t\tonResize.call(self);\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\timgCopy.bind(\"Load\", function() {\n\t\t\t\t\t\t\timgCopy.downsize(width, height, crop, false);\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\timgCopy.clone(this, false);\n\t\n\t\t\t\t\t\treturn imgCopy;\n\t\t\t\t\t} catch(ex) {\n\t\t\t\t\t\t// for now simply trigger error event\n\t\t\t\t\t\tthis.trigger('error', ex.code);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tProperly destroys the image and frees resources in use. If any. Recommended way to dispose mOxie.Image object.\n\t\n\t\t\t\t@method destroy\n\t\t\t\t*/\n\t\t\t\tdestroy: function() {\n\t\t\t\t\tif (this.ruid) {\n\t\t\t\t\t\tthis.getRuntime().exec.call(this, 'Image', 'destroy');\n\t\t\t\t\t\tthis.disconnectRuntime();\n\t\t\t\t\t}\n\t\t\t\t\tthis.unbindAll();\n\t\t\t\t}\n\t\t\t});\n\t\n\t\n\t\t\tfunction _updateInfo(info) {\n\t\t\t\tif (!info) {\n\t\t\t\t\tinfo = this.getRuntime().exec.call(this, 'Image', 'getInfo');\n\t\t\t\t}\n\t\n\t\t\t\tthis.size = info.size;\n\t\t\t\tthis.width = info.width;\n\t\t\t\tthis.height = info.height;\n\t\t\t\tthis.type = info.type;\n\t\t\t\tthis.meta = info.meta;\n\t\n\t\t\t\t// update file name, only if empty\n\t\t\t\tif (this.name === '') {\n\t\t\t\t\tthis.name = info.name;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\n\t\t\tfunction _load(src) {\n\t\t\t\tvar srcType = Basic.typeOf(src);\n\t\n\t\t\t\ttry {\n\t\t\t\t\t// if source is Image\n\t\t\t\t\tif (src instanceof Image) {\n\t\t\t\t\t\tif (!src.size) { // only preloaded image objects can be used as source\n\t\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_loadFromImage.apply(this, arguments);\n\t\t\t\t\t}\n\t\t\t\t\t// if source is o.Blob/o.File\n\t\t\t\t\telse if (src instanceof Blob) {\n\t\t\t\t\t\tif (!~Basic.inArray(src.type, ['image/jpeg', 'image/png'])) {\n\t\t\t\t\t\t\tthrow new x.ImageError(x.ImageError.WRONG_FORMAT);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_loadFromBlob.apply(this, arguments);\n\t\t\t\t\t}\n\t\t\t\t\t// if native blob/file\n\t\t\t\t\telse if (Basic.inArray(srcType, ['blob', 'file']) !== -1) {\n\t\t\t\t\t\t_load.call(this, new File(null, src), arguments[1]);\n\t\t\t\t\t}\n\t\t\t\t\t// if String\n\t\t\t\t\telse if (srcType === 'string') {\n\t\t\t\t\t\t// if dataUrl String\n\t\t\t\t\t\tif (/^data:[^;]*;base64,/.test(src)) {\n\t\t\t\t\t\t\t_load.call(this, new Blob(null, { data: src }), arguments[1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// else assume Url, either relative or absolute\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t_loadFromUrl.apply(this, arguments);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// if source seems to be an img node\n\t\t\t\t\telse if (srcType === 'node' && src.nodeName.toLowerCase() === 'img') {\n\t\t\t\t\t\t_load.call(this, src.src, arguments[1]);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.TYPE_MISMATCH_ERR);\n\t\t\t\t\t}\n\t\t\t\t} catch(ex) {\n\t\t\t\t\t// for now simply trigger error event\n\t\t\t\t\tthis.trigger('error', ex.code);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\n\t\t\tfunction _loadFromImage(img, exact) {\n\t\t\t\tvar runtime = this.connectRuntime(img.ruid);\n\t\t\t\tthis.ruid = runtime.uid;\n\t\t\t\truntime.exec.call(this, 'Image', 'loadFromImage', img, (Basic.typeOf(exact) === 'undefined' ? true : exact));\n\t\t\t}\n\t\n\t\n\t\t\tfunction _loadFromBlob(blob, options) {\n\t\t\t\tvar self = this;\n\t\n\t\t\t\tself.name = blob.name || '';\n\t\n\t\t\t\tfunction exec(runtime) {\n\t\t\t\t\tself.ruid = runtime.uid;\n\t\t\t\t\truntime.exec.call(self, 'Image', 'loadFromBlob', blob);\n\t\t\t\t}\n\t\n\t\t\t\tif (blob.isDetached()) {\n\t\t\t\t\tthis.bind('RuntimeInit', function(e, runtime) {\n\t\t\t\t\t\texec(runtime);\n\t\t\t\t\t});\n\t\n\t\t\t\t\t// convert to object representation\n\t\t\t\t\tif (options && typeof(options.required_caps) === 'string') {\n\t\t\t\t\t\toptions.required_caps = Runtime.parseCaps(options.required_caps);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tthis.connectRuntime(Basic.extend({\n\t\t\t\t\t\trequired_caps: {\n\t\t\t\t\t\t\taccess_image_binary: true,\n\t\t\t\t\t\t\tresize_image: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}, options));\n\t\t\t\t} else {\n\t\t\t\t\texec(this.connectRuntime(blob.ruid));\n\t\t\t\t}\n\t\t\t}\n\t\n\t\n\t\t\tfunction _loadFromUrl(url, options) {\n\t\t\t\tvar self = this, xhr;\n\t\n\t\t\t\txhr = new XMLHttpRequest();\n\t\n\t\t\t\txhr.open('get', url);\n\t\t\t\txhr.responseType = 'blob';\n\t\n\t\t\t\txhr.onprogress = function(e) {\n\t\t\t\t\tself.trigger(e);\n\t\t\t\t};\n\t\n\t\t\t\txhr.onload = function() {\n\t\t\t\t\t_loadFromBlob.call(self, xhr.response, true);\n\t\t\t\t};\n\t\n\t\t\t\txhr.onerror = function(e) {\n\t\t\t\t\tself.trigger(e);\n\t\t\t\t};\n\t\n\t\t\t\txhr.onloadend = function() {\n\t\t\t\t\txhr.destroy();\n\t\t\t\t};\n\t\n\t\t\t\txhr.bind('RuntimeError', function(e, err) {\n\t\t\t\t\tself.trigger('RuntimeError', err);\n\t\t\t\t});\n\t\n\t\t\t\txhr.send(null, options);\n\t\t\t}\n\t\t}\n\t\n\t\t// virtual world will crash on you if image has a resolution higher than this:\n\t\tImage.MAX_RESIZE_WIDTH = 6500;\n\t\tImage.MAX_RESIZE_HEIGHT = 6500; \n\t\n\t\tImage.prototype = EventTarget.instance;\n\t\n\t\treturn Image;\n\t});\n\t\n\t// Included from: src/javascript/runtime/html5/Runtime.js\n\t\n\t/**\n\t * Runtime.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/*global File:true */\n\t\n\t/**\n\tDefines constructor for HTML5 runtime.\n\t\n\t@class moxie/runtime/html5/Runtime\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html5/Runtime\", [\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/core/Exceptions\",\n\t\t\"moxie/runtime/Runtime\",\n\t\t\"moxie/core/utils/Env\"\n\t], function(Basic, x, Runtime, Env) {\n\t\t\n\t\tvar type = \"html5\", extensions = {};\n\t\t\n\t\tfunction Html5Runtime(options) {\n\t\t\tvar I = this\n\t\t\t, Test = Runtime.capTest\n\t\t\t, True = Runtime.capTrue\n\t\t\t;\n\t\n\t\t\tvar caps = Basic.extend({\n\t\t\t\t\taccess_binary: Test(window.FileReader || window.File && window.File.getAsDataURL),\n\t\t\t\t\taccess_image_binary: function() {\n\t\t\t\t\t\treturn I.can('access_binary') && !!extensions.Image;\n\t\t\t\t\t},\n\t\t\t\t\tdisplay_media: Test(Env.can('create_canvas') || Env.can('use_data_uri_over32kb')),\n\t\t\t\t\tdo_cors: Test(window.XMLHttpRequest && 'withCredentials' in new XMLHttpRequest()),\n\t\t\t\t\tdrag_and_drop: Test(function() {\n\t\t\t\t\t\t// this comes directly from Modernizr: http://www.modernizr.com/\n\t\t\t\t\t\tvar div = document.createElement('div');\n\t\t\t\t\t\t// IE has support for drag and drop since version 5, but doesn't support dropping files from desktop\n\t\t\t\t\t\treturn (('draggable' in div) || ('ondragstart' in div && 'ondrop' in div)) && (Env.browser !== 'IE' || Env.version > 9);\n\t\t\t\t\t}()),\n\t\t\t\t\tfilter_by_extension: Test(function() { // if you know how to feature-detect this, please suggest\n\t\t\t\t\t\treturn (Env.browser === 'Chrome' && Env.version >= 28) || (Env.browser === 'IE' && Env.version >= 10);\n\t\t\t\t\t}()),\n\t\t\t\t\treturn_response_headers: True,\n\t\t\t\t\treturn_response_type: function(responseType) {\n\t\t\t\t\t\tif (responseType === 'json' && !!window.JSON) { // we can fake this one even if it's not supported\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} \n\t\t\t\t\t\treturn Env.can('return_response_type', responseType);\n\t\t\t\t\t},\n\t\t\t\t\treturn_status_code: True,\n\t\t\t\t\treport_upload_progress: Test(window.XMLHttpRequest && new XMLHttpRequest().upload),\n\t\t\t\t\tresize_image: function() {\n\t\t\t\t\t\treturn I.can('access_binary') && Env.can('create_canvas');\n\t\t\t\t\t},\n\t\t\t\t\tselect_file: function() {\n\t\t\t\t\t\treturn Env.can('use_fileinput') && window.File;\n\t\t\t\t\t},\n\t\t\t\t\tselect_folder: function() {\n\t\t\t\t\t\treturn I.can('select_file') && Env.browser === 'Chrome' && Env.version >= 21;\n\t\t\t\t\t},\n\t\t\t\t\tselect_multiple: function() {\n\t\t\t\t\t\t// it is buggy on Safari Windows and iOS\n\t\t\t\t\t\treturn I.can('select_file') && \n\t\t\t\t\t\t\t!(Env.browser === 'Safari' && Env.os === 'Windows') && \n\t\t\t\t\t\t\t!(Env.os === 'iOS' && Env.verComp(Env.osVersion, \"7.0.4\", '<'));\n\t\t\t\t\t},\n\t\t\t\t\tsend_binary_string: Test(window.XMLHttpRequest && (new XMLHttpRequest().sendAsBinary || (window.Uint8Array && window.ArrayBuffer))),\n\t\t\t\t\tsend_custom_headers: Test(window.XMLHttpRequest),\n\t\t\t\t\tsend_multipart: function() {\n\t\t\t\t\t\treturn !!(window.XMLHttpRequest && new XMLHttpRequest().upload && window.FormData) || I.can('send_binary_string');\n\t\t\t\t\t},\n\t\t\t\t\tslice_blob: Test(window.File && (File.prototype.mozSlice || File.prototype.webkitSlice || File.prototype.slice)),\n\t\t\t\t\tstream_upload: function(){\n\t\t\t\t\t\treturn I.can('slice_blob') && I.can('send_multipart');\n\t\t\t\t\t},\n\t\t\t\t\tsummon_file_dialog: Test(function() { // yeah... some dirty sniffing here...\n\t\t\t\t\t\treturn (Env.browser === 'Firefox' && Env.version >= 4) ||\n\t\t\t\t\t\t\t(Env.browser === 'Opera' && Env.version >= 12) ||\n\t\t\t\t\t\t\t(Env.browser === 'IE' && Env.version >= 10) ||\n\t\t\t\t\t\t\t!!~Basic.inArray(Env.browser, ['Chrome', 'Safari']);\n\t\t\t\t\t}()),\n\t\t\t\t\tupload_filesize: True\n\t\t\t\t}, \n\t\t\t\targuments[2]\n\t\t\t);\n\t\n\t\t\tRuntime.call(this, options, (arguments[1] || type), caps);\n\t\n\t\n\t\t\tBasic.extend(this, {\n\t\n\t\t\t\tinit : function() {\n\t\t\t\t\tthis.trigger(\"Init\");\n\t\t\t\t},\n\t\n\t\t\t\tdestroy: (function(destroy) { // extend default destroy method\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tdestroy.call(I);\n\t\t\t\t\t\tdestroy = I = null;\n\t\t\t\t\t};\n\t\t\t\t}(this.destroy))\n\t\t\t});\n\t\n\t\t\tBasic.extend(this.getShim(), extensions);\n\t\t}\n\t\n\t\tRuntime.addConstructor(type, Html5Runtime);\n\t\n\t\treturn extensions;\n\t});\n\t\n\t// Included from: src/javascript/runtime/html5/file/Blob.js\n\t\n\t/**\n\t * Blob.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/html5/file/Blob\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html5/file/Blob\", [\n\t\t\"moxie/runtime/html5/Runtime\",\n\t\t\"moxie/file/Blob\"\n\t], function(extensions, Blob) {\n\t\n\t\tfunction HTML5Blob() {\n\t\t\tfunction w3cBlobSlice(blob, start, end) {\n\t\t\t\tvar blobSlice;\n\t\n\t\t\t\tif (window.File.prototype.slice) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tblob.slice();\t// depricated version will throw WRONG_ARGUMENTS_ERR exception\n\t\t\t\t\t\treturn blob.slice(start, end);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t// depricated slice method\n\t\t\t\t\t\treturn blob.slice(start, end - start);\n\t\t\t\t\t}\n\t\t\t\t// slice method got prefixed: https://bugzilla.mozilla.org/show_bug.cgi?id=649672\n\t\t\t\t} else if ((blobSlice = window.File.prototype.webkitSlice || window.File.prototype.mozSlice)) {\n\t\t\t\t\treturn blobSlice.call(blob, start, end);\n\t\t\t\t} else {\n\t\t\t\t\treturn null; // or throw some exception\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tthis.slice = function() {\n\t\t\t\treturn new Blob(this.getRuntime().uid, w3cBlobSlice.apply(this, arguments));\n\t\t\t};\n\t\t}\n\t\n\t\treturn (extensions.Blob = HTML5Blob);\n\t});\n\t\n\t// Included from: src/javascript/core/utils/Events.js\n\t\n\t/**\n\t * Events.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\tdefine('moxie/core/utils/Events', [\n\t\t'moxie/core/utils/Basic'\n\t], function(Basic) {\n\t\tvar eventhash = {}, uid = 'moxie_' + Basic.guid();\n\t\t\n\t\t// IE W3C like event funcs\n\t\tfunction preventDefault() {\n\t\t\tthis.returnValue = false;\n\t\t}\n\t\n\t\tfunction stopPropagation() {\n\t\t\tthis.cancelBubble = true;\n\t\t}\n\t\n\t\t/**\n\t\tAdds an event handler to the specified object and store reference to the handler\n\t\tin objects internal Plupload registry (@see removeEvent).\n\t\t\n\t\t@method addEvent\n\t\t@for Utils\n\t\t@static\n\t\t@param {Object} obj DOM element like object to add handler to.\n\t\t@param {String} name Name to add event listener to.\n\t\t@param {Function} callback Function to call when event occurs.\n\t\t@param {String} [key] that might be used to add specifity to the event record.\n\t\t*/\n\t\tvar addEvent = function(obj, name, callback, key) {\n\t\t\tvar func, events;\n\t\t\t\t\t\t\n\t\t\tname = name.toLowerCase();\n\t\n\t\t\t// Add event listener\n\t\t\tif (obj.addEventListener) {\n\t\t\t\tfunc = callback;\n\t\t\t\t\n\t\t\t\tobj.addEventListener(name, func, false);\n\t\t\t} else if (obj.attachEvent) {\n\t\t\t\tfunc = function() {\n\t\t\t\t\tvar evt = window.event;\n\t\n\t\t\t\t\tif (!evt.target) {\n\t\t\t\t\t\tevt.target = evt.srcElement;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tevt.preventDefault = preventDefault;\n\t\t\t\t\tevt.stopPropagation = stopPropagation;\n\t\n\t\t\t\t\tcallback(evt);\n\t\t\t\t};\n\t\n\t\t\t\tobj.attachEvent('on' + name, func);\n\t\t\t}\n\t\t\t\n\t\t\t// Log event handler to objects internal mOxie registry\n\t\t\tif (!obj[uid]) {\n\t\t\t\tobj[uid] = Basic.guid();\n\t\t\t}\n\t\t\t\n\t\t\tif (!eventhash.hasOwnProperty(obj[uid])) {\n\t\t\t\teventhash[obj[uid]] = {};\n\t\t\t}\n\t\t\t\n\t\t\tevents = eventhash[obj[uid]];\n\t\t\t\n\t\t\tif (!events.hasOwnProperty(name)) {\n\t\t\t\tevents[name] = [];\n\t\t\t}\n\t\t\t\t\t\n\t\t\tevents[name].push({\n\t\t\t\tfunc: func,\n\t\t\t\torig: callback, // store original callback for IE\n\t\t\t\tkey: key\n\t\t\t});\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\tRemove event handler from the specified object. If third argument (callback)\n\t\tis not specified remove all events with the specified name.\n\t\t\n\t\t@method removeEvent\n\t\t@static\n\t\t@param {Object} obj DOM element to remove event listener(s) from.\n\t\t@param {String} name Name of event listener to remove.\n\t\t@param {Function|String} [callback] might be a callback or unique key to match.\n\t\t*/\n\t\tvar removeEvent = function(obj, name, callback) {\n\t\t\tvar type, undef;\n\t\t\t\n\t\t\tname = name.toLowerCase();\n\t\t\t\n\t\t\tif (obj[uid] && eventhash[obj[uid]] && eventhash[obj[uid]][name]) {\n\t\t\t\ttype = eventhash[obj[uid]][name];\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\t\n\t\t\tfor (var i = type.length - 1; i >= 0; i--) {\n\t\t\t\t// undefined or not, key should match\n\t\t\t\tif (type[i].orig === callback || type[i].key === callback) {\n\t\t\t\t\tif (obj.removeEventListener) {\n\t\t\t\t\t\tobj.removeEventListener(name, type[i].func, false);\n\t\t\t\t\t} else if (obj.detachEvent) {\n\t\t\t\t\t\tobj.detachEvent('on'+name, type[i].func);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\ttype[i].orig = null;\n\t\t\t\t\ttype[i].func = null;\n\t\t\t\t\ttype.splice(i, 1);\n\t\t\t\t\t\n\t\t\t\t\t// If callback was passed we are done here, otherwise proceed\n\t\t\t\t\tif (callback !== undef) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// If event array got empty, remove it\n\t\t\tif (!type.length) {\n\t\t\t\tdelete eventhash[obj[uid]][name];\n\t\t\t}\n\t\t\t\n\t\t\t// If mOxie registry has become empty, remove it\n\t\t\tif (Basic.isEmptyObj(eventhash[obj[uid]])) {\n\t\t\t\tdelete eventhash[obj[uid]];\n\t\t\t\t\n\t\t\t\t// IE doesn't let you remove DOM object property with - delete\n\t\t\t\ttry {\n\t\t\t\t\tdelete obj[uid];\n\t\t\t\t} catch(e) {\n\t\t\t\t\tobj[uid] = undef;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n\t\t\n\t\t/**\n\t\tRemove all kind of events from the specified object\n\t\t\n\t\t@method removeAllEvents\n\t\t@static\n\t\t@param {Object} obj DOM element to remove event listeners from.\n\t\t@param {String} [key] unique key to match, when removing events.\n\t\t*/\n\t\tvar removeAllEvents = function(obj, key) {\t\t\n\t\t\tif (!obj || !obj[uid]) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tBasic.each(eventhash[obj[uid]], function(events, name) {\n\t\t\t\tremoveEvent(obj, name, key);\n\t\t\t});\n\t\t};\n\t\n\t\treturn {\n\t\t\taddEvent: addEvent,\n\t\t\tremoveEvent: removeEvent,\n\t\t\tremoveAllEvents: removeAllEvents\n\t\t};\n\t});\n\t\n\t// Included from: src/javascript/runtime/html5/file/FileInput.js\n\t\n\t/**\n\t * FileInput.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/html5/file/FileInput\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html5/file/FileInput\", [\n\t\t\"moxie/runtime/html5/Runtime\",\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/core/utils/Dom\",\n\t\t\"moxie/core/utils/Events\",\n\t\t\"moxie/core/utils/Mime\",\n\t\t\"moxie/core/utils/Env\"\n\t], function(extensions, Basic, Dom, Events, Mime, Env) {\n\t\t\n\t\tfunction FileInput() {\n\t\t\tvar _files = [], _options;\n\t\n\t\t\tBasic.extend(this, {\n\t\t\t\tinit: function(options) {\n\t\t\t\t\tvar comp = this, I = comp.getRuntime(), input, shimContainer, mimes, browseButton, zIndex, top;\n\t\n\t\t\t\t\t_options = options;\n\t\t\t\t\t_files = [];\n\t\n\t\t\t\t\t// figure out accept string\n\t\t\t\t\tmimes = _options.accept.mimes || Mime.extList2mimes(_options.accept, I.can('filter_by_extension'));\n\t\n\t\t\t\t\tshimContainer = I.getShimContainer();\n\t\n\t\t\t\t\tshimContainer.innerHTML = '<input id=\"' + I.uid +'\" type=\"file\" style=\"font-size:999px;opacity:0;\"' +\n\t\t\t\t\t\t(_options.multiple && I.can('select_multiple') ? 'multiple' : '') + \n\t\t\t\t\t\t(_options.directory && I.can('select_folder') ? 'webkitdirectory directory' : '') + // Chrome 11+\n\t\t\t\t\t\t(mimes ? ' accept=\"' + mimes.join(',') + '\"' : '') + ' />';\n\t\n\t\t\t\t\tinput = Dom.get(I.uid);\n\t\n\t\t\t\t\t// prepare file input to be placed underneath the browse_button element\n\t\t\t\t\tBasic.extend(input.style, {\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\theight: '100%'\n\t\t\t\t\t});\n\t\n\t\n\t\t\t\t\tbrowseButton = Dom.get(_options.browse_button);\n\t\n\t\t\t\t\t// Route click event to the input[type=file] element for browsers that support such behavior\n\t\t\t\t\tif (I.can('summon_file_dialog')) {\n\t\t\t\t\t\tif (Dom.getStyle(browseButton, 'position') === 'static') {\n\t\t\t\t\t\t\tbrowseButton.style.position = 'relative';\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tzIndex = parseInt(Dom.getStyle(browseButton, 'z-index'), 10) || 1;\n\t\n\t\t\t\t\t\tbrowseButton.style.zIndex = zIndex;\n\t\t\t\t\t\tshimContainer.style.zIndex = zIndex - 1;\n\t\n\t\t\t\t\t\tEvents.addEvent(browseButton, 'click', function(e) {\n\t\t\t\t\t\t\tvar input = Dom.get(I.uid);\n\t\t\t\t\t\t\tif (input && !input.disabled) { // for some reason FF (up to 8.0.1 so far) lets to click disabled input[type=file]\n\t\t\t\t\t\t\t\tinput.click();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}, comp.uid);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t/* Since we have to place input[type=file] on top of the browse_button for some browsers,\n\t\t\t\t\tbrowse_button loses interactivity, so we restore it here */\n\t\t\t\t\ttop = I.can('summon_file_dialog') ? browseButton : shimContainer;\n\t\n\t\t\t\t\tEvents.addEvent(top, 'mouseover', function() {\n\t\t\t\t\t\tcomp.trigger('mouseenter');\n\t\t\t\t\t}, comp.uid);\n\t\n\t\t\t\t\tEvents.addEvent(top, 'mouseout', function() {\n\t\t\t\t\t\tcomp.trigger('mouseleave');\n\t\t\t\t\t}, comp.uid);\n\t\n\t\t\t\t\tEvents.addEvent(top, 'mousedown', function() {\n\t\t\t\t\t\tcomp.trigger('mousedown');\n\t\t\t\t\t}, comp.uid);\n\t\n\t\t\t\t\tEvents.addEvent(Dom.get(_options.container), 'mouseup', function() {\n\t\t\t\t\t\tcomp.trigger('mouseup');\n\t\t\t\t\t}, comp.uid);\n\t\n\t\n\t\t\t\t\tinput.onchange = function onChange() { // there should be only one handler for this\n\t\t\t\t\t\t_files = [];\n\t\n\t\t\t\t\t\tif (_options.directory) {\n\t\t\t\t\t\t\t// folders are represented by dots, filter them out (Chrome 11+)\n\t\t\t\t\t\t\tBasic.each(this.files, function(file) {\n\t\t\t\t\t\t\t\tif (file.name !== \".\") { // if it doesn't looks like a folder\n\t\t\t\t\t\t\t\t\t_files.push(file);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_files = [].slice.call(this.files);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// clearing the value enables the user to select the same file again if they want to\n\t\t\t\t\t\tif (Env.browser !== 'IE' && Env.browser !== 'IEMobile') {\n\t\t\t\t\t\t\tthis.value = '';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// in IE input[type=\"file\"] is read-only so the only way to reset it is to re-insert it\n\t\t\t\t\t\t\tvar clone = this.cloneNode(true);\n\t\t\t\t\t\t\tthis.parentNode.replaceChild(clone, this);\n\t\t\t\t\t\t\tclone.onchange = onChange;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcomp.trigger('change');\n\t\t\t\t\t};\n\t\n\t\t\t\t\t// ready event is perfectly asynchronous\n\t\t\t\t\tcomp.trigger({\n\t\t\t\t\t\ttype: 'ready',\n\t\t\t\t\t\tasync: true\n\t\t\t\t\t});\n\t\n\t\t\t\t\tshimContainer = null;\n\t\t\t\t},\n\t\n\t\t\t\tgetFiles: function() {\n\t\t\t\t\treturn _files;\n\t\t\t\t},\n\t\n\t\t\t\tdisable: function(state) {\n\t\t\t\t\tvar I = this.getRuntime(), input;\n\t\n\t\t\t\t\tif ((input = Dom.get(I.uid))) {\n\t\t\t\t\t\tinput.disabled = !!state;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tdestroy: function() {\n\t\t\t\t\tvar I = this.getRuntime()\n\t\t\t\t\t, shim = I.getShim()\n\t\t\t\t\t, shimContainer = I.getShimContainer()\n\t\t\t\t\t;\n\t\t\t\t\t\n\t\t\t\t\tEvents.removeAllEvents(shimContainer, this.uid);\n\t\t\t\t\tEvents.removeAllEvents(_options && Dom.get(_options.container), this.uid);\n\t\t\t\t\tEvents.removeAllEvents(_options && Dom.get(_options.browse_button), this.uid);\n\t\t\t\t\t\n\t\t\t\t\tif (shimContainer) {\n\t\t\t\t\t\tshimContainer.innerHTML = '';\n\t\t\t\t\t}\n\t\n\t\t\t\t\tshim.removeInstance(this.uid);\n\t\n\t\t\t\t\t_files = _options = shimContainer = shim = null;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\treturn (extensions.FileInput = FileInput);\n\t});\n\t\n\t// Included from: src/javascript/runtime/html5/file/FileDrop.js\n\t\n\t/**\n\t * FileDrop.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/html5/file/FileDrop\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html5/file/FileDrop\", [\n\t\t\"moxie/runtime/html5/Runtime\",\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/core/utils/Dom\",\n\t\t\"moxie/core/utils/Events\",\n\t\t\"moxie/core/utils/Mime\"\n\t], function(extensions, Basic, Dom, Events, Mime) {\n\t\t\n\t\tfunction FileDrop() {\n\t\t\tvar _files = [], _allowedExts = [], _options;\n\t\n\t\t\tBasic.extend(this, {\n\t\t\t\tinit: function(options) {\n\t\t\t\t\tvar comp = this, dropZone;\n\t\n\t\t\t\t\t_options = options;\n\t\t\t\t\t_allowedExts = _extractExts(_options.accept);\n\t\t\t\t\tdropZone = _options.container;\n\t\n\t\t\t\t\tEvents.addEvent(dropZone, 'dragover', function(e) {\n\t\t\t\t\t\tif (!_hasFiles(e)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.dataTransfer.dropEffect = 'copy';\n\t\t\t\t\t}, comp.uid);\n\t\n\t\t\t\t\tEvents.addEvent(dropZone, 'drop', function(e) {\n\t\t\t\t\t\tif (!_hasFiles(e)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\n\t\t\t\t\t\t_files = [];\n\t\n\t\t\t\t\t\t// Chrome 21+ accepts folders via Drag'n'Drop\n\t\t\t\t\t\tif (e.dataTransfer.items && e.dataTransfer.items[0].webkitGetAsEntry) {\n\t\t\t\t\t\t\t_readItems(e.dataTransfer.items, function() {\n\t\t\t\t\t\t\t\tcomp.trigger(\"drop\");\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tBasic.each(e.dataTransfer.files, function(file) {\n\t\t\t\t\t\t\t\tif (_isAcceptable(file)) {\n\t\t\t\t\t\t\t\t\t_files.push(file);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcomp.trigger(\"drop\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}, comp.uid);\n\t\n\t\t\t\t\tEvents.addEvent(dropZone, 'dragenter', function(e) {\n\t\t\t\t\t\tcomp.trigger(\"dragenter\");\n\t\t\t\t\t}, comp.uid);\n\t\n\t\t\t\t\tEvents.addEvent(dropZone, 'dragleave', function(e) {\n\t\t\t\t\t\tcomp.trigger(\"dragleave\");\n\t\t\t\t\t}, comp.uid);\n\t\t\t\t},\n\t\n\t\t\t\tgetFiles: function() {\n\t\t\t\t\treturn _files;\n\t\t\t\t},\n\t\n\t\t\t\tdestroy: function() {\n\t\t\t\t\tEvents.removeAllEvents(_options && Dom.get(_options.container), this.uid);\n\t\t\t\t\t_files = _allowedExts = _options = null;\n\t\t\t\t}\n\t\t\t});\n\t\n\t\n\t\t\tfunction _hasFiles(e) {\n\t\t\t\tif (!e.dataTransfer || !e.dataTransfer.types) { // e.dataTransfer.files is not available in Gecko during dragover\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\n\t\t\t\tvar types = Basic.toArray(e.dataTransfer.types || []);\n\t\n\t\t\t\treturn Basic.inArray(\"Files\", types) !== -1 ||\n\t\t\t\t\tBasic.inArray(\"public.file-url\", types) !== -1 || // Safari < 5\n\t\t\t\t\tBasic.inArray(\"application/x-moz-file\", types) !== -1 // Gecko < 1.9.2 (< Firefox 3.6)\n\t\t\t\t\t;\n\t\t\t}\n\t\n\t\t\t\n\t\t\tfunction _extractExts(accept) {\n\t\t\t\tvar exts = [];\n\t\t\t\tfor (var i = 0; i < accept.length; i++) {\n\t\t\t\t\t[].push.apply(exts, accept[i].extensions.split(/\\s*,\\s*/));\n\t\t\t\t}\n\t\t\t\treturn Basic.inArray('*', exts) === -1 ? exts : [];\n\t\t\t}\n\t\n\t\n\t\t\tfunction _isAcceptable(file) {\n\t\t\t\tif (!_allowedExts.length) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tvar ext = Mime.getFileExtension(file.name);\n\t\t\t\treturn !ext || Basic.inArray(ext, _allowedExts) !== -1;\n\t\t\t}\n\t\n\t\n\t\t\tfunction _readItems(items, cb) {\n\t\t\t\tvar entries = [];\n\t\t\t\tBasic.each(items, function(item) {\n\t\t\t\t\tvar entry = item.webkitGetAsEntry();\n\t\t\t\t\t// Address #998 (https://code.google.com/p/chromium/issues/detail?id=332579)\n\t\t\t\t\tif (entry) {\n\t\t\t\t\t\t// file() fails on OSX when the filename contains a special character (e.g. umlaut): see #61\n\t\t\t\t\t\tif (entry.isFile) {\n\t\t\t\t\t\t\tvar file = item.getAsFile();\n\t\t\t\t\t\t\tif (_isAcceptable(file)) {\n\t\t\t\t\t\t\t\t_files.push(file);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tentries.push(entry);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tif (entries.length) {\n\t\t\t\t\t_readEntries(entries, cb);\n\t\t\t\t} else {\n\t\t\t\t\tcb();\n\t\t\t\t}\n\t\t\t}\n\t\n\t\n\t\t\tfunction _readEntries(entries, cb) {\n\t\t\t\tvar queue = [];\n\t\t\t\tBasic.each(entries, function(entry) {\n\t\t\t\t\tqueue.push(function(cbcb) {\n\t\t\t\t\t\t_readEntry(entry, cbcb);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tBasic.inSeries(queue, function() {\n\t\t\t\t\tcb();\n\t\t\t\t});\n\t\t\t}\n\t\n\t\n\t\t\tfunction _readEntry(entry, cb) {\n\t\t\t\tif (entry.isFile) {\n\t\t\t\t\tentry.file(function(file) {\n\t\t\t\t\t\tif (_isAcceptable(file)) {\n\t\t\t\t\t\t\t_files.push(file);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcb();\n\t\t\t\t\t}, function() {\n\t\t\t\t\t\t// fire an error event maybe\n\t\t\t\t\t\tcb();\n\t\t\t\t\t});\n\t\t\t\t} else if (entry.isDirectory) {\n\t\t\t\t\t_readDirEntry(entry, cb);\n\t\t\t\t} else {\n\t\t\t\t\tcb(); // not file, not directory? what then?..\n\t\t\t\t}\n\t\t\t}\n\t\n\t\n\t\t\tfunction _readDirEntry(dirEntry, cb) {\n\t\t\t\tvar entries = [], dirReader = dirEntry.createReader();\n\t\n\t\t\t\t// keep quering recursively till no more entries\n\t\t\t\tfunction getEntries(cbcb) {\n\t\t\t\t\tdirReader.readEntries(function(moreEntries) {\n\t\t\t\t\t\tif (moreEntries.length) {\n\t\t\t\t\t\t\t[].push.apply(entries, moreEntries);\n\t\t\t\t\t\t\tgetEntries(cbcb);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcbcb();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, cbcb);\n\t\t\t\t}\n\t\n\t\t\t\t// ...and you thought FileReader was crazy...\n\t\t\t\tgetEntries(function() {\n\t\t\t\t\t_readEntries(entries, cb);\n\t\t\t\t}); \n\t\t\t}\n\t\t}\n\t\n\t\treturn (extensions.FileDrop = FileDrop);\n\t});\n\t\n\t// Included from: src/javascript/runtime/html5/file/FileReader.js\n\t\n\t/**\n\t * FileReader.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/html5/file/FileReader\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html5/file/FileReader\", [\n\t\t\"moxie/runtime/html5/Runtime\",\n\t\t\"moxie/core/utils/Encode\",\n\t\t\"moxie/core/utils/Basic\"\n\t], function(extensions, Encode, Basic) {\n\t\t\n\t\tfunction FileReader() {\n\t\t\tvar _fr, _convertToBinary = false;\n\t\n\t\t\tBasic.extend(this, {\n\t\n\t\t\t\tread: function(op, blob) {\n\t\t\t\t\tvar target = this;\n\t\n\t\t\t\t\t_fr = new window.FileReader();\n\t\n\t\t\t\t\t_fr.addEventListener('progress', function(e) {\n\t\t\t\t\t\ttarget.trigger(e);\n\t\t\t\t\t});\n\t\n\t\t\t\t\t_fr.addEventListener('load', function(e) {\n\t\t\t\t\t\ttarget.trigger(e);\n\t\t\t\t\t});\n\t\n\t\t\t\t\t_fr.addEventListener('error', function(e) {\n\t\t\t\t\t\ttarget.trigger(e, _fr.error);\n\t\t\t\t\t});\n\t\n\t\t\t\t\t_fr.addEventListener('loadend', function() {\n\t\t\t\t\t\t_fr = null;\n\t\t\t\t\t});\n\t\n\t\t\t\t\tif (Basic.typeOf(_fr[op]) === 'function') {\n\t\t\t\t\t\t_convertToBinary = false;\n\t\t\t\t\t\t_fr[op](blob.getSource());\n\t\t\t\t\t} else if (op === 'readAsBinaryString') { // readAsBinaryString is depricated in general and never existed in IE10+\n\t\t\t\t\t\t_convertToBinary = true;\n\t\t\t\t\t\t_fr.readAsDataURL(blob.getSource());\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tgetResult: function() {\n\t\t\t\t\treturn _fr && _fr.result ? (_convertToBinary ? _toBinary(_fr.result) : _fr.result) : null;\n\t\t\t\t},\n\t\n\t\t\t\tabort: function() {\n\t\t\t\t\tif (_fr) {\n\t\t\t\t\t\t_fr.abort();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tdestroy: function() {\n\t\t\t\t\t_fr = null;\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tfunction _toBinary(str) {\n\t\t\t\treturn Encode.atob(str.substring(str.indexOf('base64,') + 7));\n\t\t\t}\n\t\t}\n\t\n\t\treturn (extensions.FileReader = FileReader);\n\t});\n\t\n\t// Included from: src/javascript/runtime/html5/xhr/XMLHttpRequest.js\n\t\n\t/**\n\t * XMLHttpRequest.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/*global ActiveXObject:true */\n\t\n\t/**\n\t@class moxie/runtime/html5/xhr/XMLHttpRequest\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html5/xhr/XMLHttpRequest\", [\n\t\t\"moxie/runtime/html5/Runtime\",\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/core/utils/Mime\",\n\t\t\"moxie/core/utils/Url\",\n\t\t\"moxie/file/File\",\n\t\t\"moxie/file/Blob\",\n\t\t\"moxie/xhr/FormData\",\n\t\t\"moxie/core/Exceptions\",\n\t\t\"moxie/core/utils/Env\"\n\t], function(extensions, Basic, Mime, Url, File, Blob, FormData, x, Env) {\n\t\t\n\t\tfunction XMLHttpRequest() {\n\t\t\tvar self = this\n\t\t\t, _xhr\n\t\t\t, _filename\n\t\t\t;\n\t\n\t\t\tBasic.extend(this, {\n\t\t\t\tsend: function(meta, data) {\n\t\t\t\t\tvar target = this\n\t\t\t\t\t, isGecko2_5_6 = (Env.browser === 'Mozilla' && Env.version >= 4 && Env.version < 7)\n\t\t\t\t\t, isAndroidBrowser = Env.browser === 'Android Browser'\n\t\t\t\t\t, mustSendAsBinary = false\n\t\t\t\t\t;\n\t\n\t\t\t\t\t// extract file name\n\t\t\t\t\t_filename = meta.url.replace(/^.+?\\/([\\w\\-\\.]+)$/, '$1').toLowerCase();\n\t\n\t\t\t\t\t_xhr = _getNativeXHR();\n\t\t\t\t\t_xhr.open(meta.method, meta.url, meta.async, meta.user, meta.password);\n\t\n\t\n\t\t\t\t\t// prepare data to be sent\n\t\t\t\t\tif (data instanceof Blob) {\n\t\t\t\t\t\tif (data.isDetached()) {\n\t\t\t\t\t\t\tmustSendAsBinary = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata = data.getSource();\n\t\t\t\t\t} else if (data instanceof FormData) {\n\t\n\t\t\t\t\t\tif (data.hasBlob()) {\n\t\t\t\t\t\t\tif (data.getBlob().isDetached()) {\n\t\t\t\t\t\t\t\tdata = _prepareMultipart.call(target, data); // _xhr must be instantiated and be in OPENED state\n\t\t\t\t\t\t\t\tmustSendAsBinary = true;\n\t\t\t\t\t\t\t} else if ((isGecko2_5_6 || isAndroidBrowser) && Basic.typeOf(data.getBlob().getSource()) === 'blob' && window.FileReader) {\n\t\t\t\t\t\t\t\t// Gecko 2/5/6 can't send blob in FormData: https://bugzilla.mozilla.org/show_bug.cgi?id=649150\n\t\t\t\t\t\t\t\t// Android browsers (default one and Dolphin) seem to have the same issue, see: #613\n\t\t\t\t\t\t\t\t_preloadAndSend.call(target, meta, data);\n\t\t\t\t\t\t\t\treturn; // _preloadAndSend will reinvoke send() with transmutated FormData =%D\n\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// transfer fields to real FormData\n\t\t\t\t\t\tif (data instanceof FormData) { // if still a FormData, e.g. not mangled by _prepareMultipart()\n\t\t\t\t\t\t\tvar fd = new window.FormData();\n\t\t\t\t\t\t\tdata.each(function(value, name) {\n\t\t\t\t\t\t\t\tif (value instanceof Blob) {\n\t\t\t\t\t\t\t\t\tfd.append(name, value.getSource());\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfd.append(name, value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tdata = fd;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\n\t\t\t\t\t// if XHR L2\n\t\t\t\t\tif (_xhr.upload) {\n\t\t\t\t\t\tif (meta.withCredentials) {\n\t\t\t\t\t\t\t_xhr.withCredentials = true;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t_xhr.addEventListener('load', function(e) {\n\t\t\t\t\t\t\ttarget.trigger(e);\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t_xhr.addEventListener('error', function(e) {\n\t\t\t\t\t\t\ttarget.trigger(e);\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t// additionally listen to progress events\n\t\t\t\t\t\t_xhr.addEventListener('progress', function(e) {\n\t\t\t\t\t\t\ttarget.trigger(e);\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t_xhr.upload.addEventListener('progress', function(e) {\n\t\t\t\t\t\t\ttarget.trigger({\n\t\t\t\t\t\t\t\ttype: 'UploadProgress',\n\t\t\t\t\t\t\t\tloaded: e.loaded,\n\t\t\t\t\t\t\t\ttotal: e.total\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t// ... otherwise simulate XHR L2\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_xhr.onreadystatechange = function onReadyStateChange() {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// fake Level 2 events\n\t\t\t\t\t\t\tswitch (_xhr.readyState) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcase 1: // XMLHttpRequest.OPENED\n\t\t\t\t\t\t\t\t\t// readystatechanged is fired twice for OPENED state (in IE and Mozilla) - neu\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// looks like HEADERS_RECEIVED (state 2) is not reported in Opera (or it's old versions) - neu\n\t\t\t\t\t\t\t\tcase 2: // XMLHttpRequest.HEADERS_RECEIVED\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcase 3: // XMLHttpRequest.LOADING \n\t\t\t\t\t\t\t\t\t// try to fire progress event for not XHR L2\n\t\t\t\t\t\t\t\t\tvar total, loaded;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tif (Url.hasSameOrigin(meta.url)) { // Content-Length not accessible for cross-domain on some browsers\n\t\t\t\t\t\t\t\t\t\t\ttotal = _xhr.getResponseHeader('Content-Length') || 0; // old Safari throws an exception here\n\t\t\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\t\t\tif (_xhr.responseText) { // responseText was introduced in IE7\n\t\t\t\t\t\t\t\t\t\t\tloaded = _xhr.responseText.length;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} catch(ex) {\n\t\t\t\t\t\t\t\t\t\ttotal = loaded = 0;\n\t\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\t\ttarget.trigger({\n\t\t\t\t\t\t\t\t\t\ttype: 'progress',\n\t\t\t\t\t\t\t\t\t\tlengthComputable: !!total,\n\t\t\t\t\t\t\t\t\t\ttotal: parseInt(total, 10),\n\t\t\t\t\t\t\t\t\t\tloaded: loaded\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcase 4: // XMLHttpRequest.DONE\n\t\t\t\t\t\t\t\t\t// release readystatechange handler (mostly for IE)\n\t\t\t\t\t\t\t\t\t_xhr.onreadystatechange = function() {};\n\t\n\t\t\t\t\t\t\t\t\t// usually status 0 is returned when server is unreachable, but FF also fails to status 0 for 408 timeout\n\t\t\t\t\t\t\t\t\tif (_xhr.status === 0) {\n\t\t\t\t\t\t\t\t\t\ttarget.trigger('error');\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\ttarget.trigger('load');\n\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\n\t\t\t\t\t// set request headers\n\t\t\t\t\tif (!Basic.isEmptyObj(meta.headers)) {\n\t\t\t\t\t\tBasic.each(meta.headers, function(value, header) {\n\t\t\t\t\t\t\t_xhr.setRequestHeader(header, value);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// request response type\n\t\t\t\t\tif (\"\" !== meta.responseType && 'responseType' in _xhr) {\n\t\t\t\t\t\tif ('json' === meta.responseType && !Env.can('return_response_type', 'json')) { // we can fake this one\n\t\t\t\t\t\t\t_xhr.responseType = 'text';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_xhr.responseType = meta.responseType;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// send ...\n\t\t\t\t\tif (!mustSendAsBinary) {\n\t\t\t\t\t\t_xhr.send(data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (_xhr.sendAsBinary) { // Gecko\n\t\t\t\t\t\t\t_xhr.sendAsBinary(data);\n\t\t\t\t\t\t} else { // other browsers having support for typed arrays\n\t\t\t\t\t\t\t(function() {\n\t\t\t\t\t\t\t\t// mimic Gecko's sendAsBinary\n\t\t\t\t\t\t\t\tvar ui8a = new Uint8Array(data.length);\n\t\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\t\t\t\t\tui8a[i] = (data.charCodeAt(i) & 0xff);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t_xhr.send(ui8a.buffer);\n\t\t\t\t\t\t\t}());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\ttarget.trigger('loadstart');\n\t\t\t\t},\n\t\n\t\t\t\tgetStatus: function() {\n\t\t\t\t\t// according to W3C spec it should return 0 for readyState < 3, but instead it throws an exception\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (_xhr) {\n\t\t\t\t\t\t\treturn _xhr.status;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(ex) {}\n\t\t\t\t\treturn 0;\n\t\t\t\t},\n\t\n\t\t\t\tgetResponse: function(responseType) {\n\t\t\t\t\tvar I = this.getRuntime();\n\t\n\t\t\t\t\ttry {\n\t\t\t\t\t\tswitch (responseType) {\n\t\t\t\t\t\t\tcase 'blob':\n\t\t\t\t\t\t\t\tvar file = new File(I.uid, _xhr.response);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// try to extract file name from content-disposition if possible (might be - not, if CORS for example)\t\n\t\t\t\t\t\t\t\tvar disposition = _xhr.getResponseHeader('Content-Disposition');\n\t\t\t\t\t\t\t\tif (disposition) {\n\t\t\t\t\t\t\t\t\t// extract filename from response header if available\n\t\t\t\t\t\t\t\t\tvar match = disposition.match(/filename=([\\'\\\"'])([^\\1]+)\\1/);\n\t\t\t\t\t\t\t\t\tif (match) {\n\t\t\t\t\t\t\t\t\t\t_filename = match[2];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tfile.name = _filename;\n\t\n\t\t\t\t\t\t\t\t// pre-webkit Opera doesn't set type property on the blob response\n\t\t\t\t\t\t\t\tif (!file.type) {\n\t\t\t\t\t\t\t\t\tfile.type = Mime.getFileMime(_filename);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn file;\n\t\n\t\t\t\t\t\t\tcase 'json':\n\t\t\t\t\t\t\t\tif (!Env.can('return_response_type', 'json')) {\n\t\t\t\t\t\t\t\t\treturn _xhr.status === 200 && !!window.JSON ? JSON.parse(_xhr.responseText) : null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn _xhr.response;\n\t\n\t\t\t\t\t\t\tcase 'document':\n\t\t\t\t\t\t\t\treturn _getDocument(_xhr);\n\t\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\treturn _xhr.responseText !== '' ? _xhr.responseText : null; // against the specs, but for consistency across the runtimes\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(ex) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\t\t\t\t\n\t\t\t\t},\n\t\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn _xhr.getAllResponseHeaders();\n\t\t\t\t\t} catch(ex) {}\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\n\t\t\t\tabort: function() {\n\t\t\t\t\tif (_xhr) {\n\t\t\t\t\t\t_xhr.abort();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tdestroy: function() {\n\t\t\t\t\tself = _filename = null;\n\t\t\t\t}\n\t\t\t});\n\t\n\t\n\t\t\t// here we go... ugly fix for ugly bug\n\t\t\tfunction _preloadAndSend(meta, data) {\n\t\t\t\tvar target = this, blob, fr;\n\t\t\t\t\t\n\t\t\t\t// get original blob\n\t\t\t\tblob = data.getBlob().getSource();\n\t\t\t\t\n\t\t\t\t// preload blob in memory to be sent as binary string\n\t\t\t\tfr = new window.FileReader();\n\t\t\t\tfr.onload = function() {\n\t\t\t\t\t// overwrite original blob\n\t\t\t\t\tdata.append(data.getBlobName(), new Blob(null, {\n\t\t\t\t\t\ttype: blob.type,\n\t\t\t\t\t\tdata: fr.result\n\t\t\t\t\t}));\n\t\t\t\t\t// invoke send operation again\n\t\t\t\t\tself.send.call(target, meta, data);\n\t\t\t\t};\n\t\t\t\tfr.readAsBinaryString(blob);\n\t\t\t}\n\t\n\t\t\t\n\t\t\tfunction _getNativeXHR() {\n\t\t\t\tif (window.XMLHttpRequest && !(Env.browser === 'IE' && Env.version < 8)) { // IE7 has native XHR but it's buggy\n\t\t\t\t\treturn new window.XMLHttpRequest();\n\t\t\t\t} else {\n\t\t\t\t\treturn (function() {\n\t\t\t\t\t\tvar progIDs = ['Msxml2.XMLHTTP.6.0', 'Microsoft.XMLHTTP']; // if 6.0 available, use it, otherwise failback to default 3.0\n\t\t\t\t\t\tfor (var i = 0; i < progIDs.length; i++) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\treturn new ActiveXObject(progIDs[i]);\n\t\t\t\t\t\t\t} catch (ex) {}\n\t\t\t\t\t\t}\n\t\t\t\t\t})();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// @credits Sergey Ilinsky\t(http://www.ilinsky.com/)\n\t\t\tfunction _getDocument(xhr) {\n\t\t\t\tvar rXML = xhr.responseXML;\n\t\t\t\tvar rText = xhr.responseText;\n\t\t\t\t\n\t\t\t\t// Try parsing responseText (@see: http://www.ilinsky.com/articles/XMLHttpRequest/#bugs-ie-responseXML-content-type)\n\t\t\t\tif (Env.browser === 'IE' && rText && rXML && !rXML.documentElement && /[^\\/]+\\/[^\\+]+\\+xml/.test(xhr.getResponseHeader(\"Content-Type\"))) {\n\t\t\t\t\trXML = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n\t\t\t\t\trXML.async = false;\n\t\t\t\t\trXML.validateOnParse = false;\n\t\t\t\t\trXML.loadXML(rText);\n\t\t\t\t}\n\t\t\n\t\t\t\t// Check if there is no error in document\n\t\t\t\tif (rXML) {\n\t\t\t\t\tif ((Env.browser === 'IE' && rXML.parseError !== 0) || !rXML.documentElement || rXML.documentElement.tagName === \"parsererror\") {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn rXML;\n\t\t\t}\n\t\n\t\n\t\t\tfunction _prepareMultipart(fd) {\n\t\t\t\tvar boundary = '----moxieboundary' + new Date().getTime()\n\t\t\t\t, dashdash = '--'\n\t\t\t\t, crlf = '\\r\\n'\n\t\t\t\t, multipart = ''\n\t\t\t\t, I = this.getRuntime()\n\t\t\t\t;\n\t\n\t\t\t\tif (!I.can('send_binary_string')) {\n\t\t\t\t\tthrow new x.RuntimeError(x.RuntimeError.NOT_SUPPORTED_ERR);\n\t\t\t\t}\n\t\n\t\t\t\t_xhr.setRequestHeader('Content-Type', 'multipart/form-data; boundary=' + boundary);\n\t\n\t\t\t\t// append multipart parameters\n\t\t\t\tfd.each(function(value, name) {\n\t\t\t\t\t// Firefox 3.6 failed to convert multibyte characters to UTF-8 in sendAsBinary(), \n\t\t\t\t\t// so we try it here ourselves with: unescape(encodeURIComponent(value))\n\t\t\t\t\tif (value instanceof Blob) {\n\t\t\t\t\t\t// Build RFC2388 blob\n\t\t\t\t\t\tmultipart += dashdash + boundary + crlf +\n\t\t\t\t\t\t\t'Content-Disposition: form-data; name=\"' + name + '\"; filename=\"' + unescape(encodeURIComponent(value.name || 'blob')) + '\"' + crlf +\n\t\t\t\t\t\t\t'Content-Type: ' + (value.type || 'application/octet-stream') + crlf + crlf +\n\t\t\t\t\t\t\tvalue.getSource() + crlf;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmultipart += dashdash + boundary + crlf +\n\t\t\t\t\t\t\t'Content-Disposition: form-data; name=\"' + name + '\"' + crlf + crlf +\n\t\t\t\t\t\t\tunescape(encodeURIComponent(value)) + crlf;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tmultipart += dashdash + boundary + dashdash + crlf;\n\t\n\t\t\t\treturn multipart;\n\t\t\t}\n\t\t}\n\t\n\t\treturn (extensions.XMLHttpRequest = XMLHttpRequest);\n\t});\n\t\n\t// Included from: src/javascript/runtime/html5/utils/BinaryReader.js\n\t\n\t/**\n\t * BinaryReader.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/html5/utils/BinaryReader\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html5/utils/BinaryReader\", [], function() {\n\t\treturn function() {\n\t\t\tvar II = false, bin;\n\t\n\t\t\t// Private functions\n\t\t\tfunction read(idx, size) {\n\t\t\t\tvar mv = II ? 0 : -8 * (size - 1), sum = 0, i;\n\t\n\t\t\t\tfor (i = 0; i < size; i++) {\n\t\t\t\t\tsum |= (bin.charCodeAt(idx + i) << Math.abs(mv + i*8));\n\t\t\t\t}\n\t\n\t\t\t\treturn sum;\n\t\t\t}\n\t\n\t\t\tfunction putstr(segment, idx, length) {\n\t\t\t\tlength = arguments.length === 3 ? length : bin.length - idx - 1;\n\t\t\t\tbin = bin.substr(0, idx) + segment + bin.substr(length + idx);\n\t\t\t}\n\t\n\t\t\tfunction write(idx, num, size) {\n\t\t\t\tvar str = '', mv = II ? 0 : -8 * (size - 1), i;\n\t\n\t\t\t\tfor (i = 0; i < size; i++) {\n\t\t\t\t\tstr += String.fromCharCode((num >> Math.abs(mv + i*8)) & 255);\n\t\t\t\t}\n\t\n\t\t\t\tputstr(str, idx, size);\n\t\t\t}\n\t\n\t\t\t// Public functions\n\t\t\treturn {\n\t\t\t\tII: function(order) {\n\t\t\t\t\tif (order === undefined) {\n\t\t\t\t\t\treturn II;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tII = order;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tinit: function(binData) {\n\t\t\t\t\tII = false;\n\t\t\t\t\tbin = binData;\n\t\t\t\t},\n\t\n\t\t\t\tSEGMENT: function(idx, length, segment) {\n\t\t\t\t\tswitch (arguments.length) {\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\treturn bin.substr(idx, bin.length - idx - 1);\n\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\treturn bin.substr(idx, length);\n\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\tputstr(segment, idx, length);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault: return bin;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tBYTE: function(idx) {\n\t\t\t\t\treturn read(idx, 1);\n\t\t\t\t},\n\t\n\t\t\t\tSHORT: function(idx) {\n\t\t\t\t\treturn read(idx, 2);\n\t\t\t\t},\n\t\n\t\t\t\tLONG: function(idx, num) {\n\t\t\t\t\tif (num === undefined) {\n\t\t\t\t\t\treturn read(idx, 4);\n\t\t\t\t\t} else {\n\t\t\t\t\t\twrite(idx, num, 4);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tSLONG: function(idx) { // 2's complement notation\n\t\t\t\t\tvar num = read(idx, 4);\n\t\n\t\t\t\t\treturn (num > 2147483647 ? num - 4294967296 : num);\n\t\t\t\t},\n\t\n\t\t\t\tSTRING: function(idx, size) {\n\t\t\t\t\tvar str = '';\n\t\n\t\t\t\t\tfor (size += idx; idx < size; idx++) {\n\t\t\t\t\t\tstr += String.fromCharCode(read(idx, 1));\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn str;\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t});\n\t\n\t// Included from: src/javascript/runtime/html5/image/JPEGHeaders.js\n\t\n\t/**\n\t * JPEGHeaders.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t \n\t/**\n\t@class moxie/runtime/html5/image/JPEGHeaders\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html5/image/JPEGHeaders\", [\n\t\t\"moxie/runtime/html5/utils/BinaryReader\"\n\t], function(BinaryReader) {\n\t\t\n\t\treturn function JPEGHeaders(data) {\n\t\t\tvar headers = [], read, idx, marker, length = 0;\n\t\n\t\t\tread = new BinaryReader();\n\t\t\tread.init(data);\n\t\n\t\t\t// Check if data is jpeg\n\t\t\tif (read.SHORT(0) !== 0xFFD8) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tidx = 2;\n\t\n\t\t\twhile (idx <= data.length) {\n\t\t\t\tmarker = read.SHORT(idx);\n\t\n\t\t\t\t// omit RST (restart) markers\n\t\t\t\tif (marker >= 0xFFD0 && marker <= 0xFFD7) {\n\t\t\t\t\tidx += 2;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\n\t\t\t\t// no headers allowed after SOS marker\n\t\t\t\tif (marker === 0xFFDA || marker === 0xFFD9) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\n\t\t\t\tlength = read.SHORT(idx + 2) + 2;\n\t\n\t\t\t\t// APPn marker detected\n\t\t\t\tif (marker >= 0xFFE1 && marker <= 0xFFEF) {\n\t\t\t\t\theaders.push({\n\t\t\t\t\t\thex: marker,\n\t\t\t\t\t\tname: 'APP' + (marker & 0x000F),\n\t\t\t\t\t\tstart: idx,\n\t\t\t\t\t\tlength: length,\n\t\t\t\t\t\tsegment: read.SEGMENT(idx, length)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\tidx += length;\n\t\t\t}\n\t\n\t\t\tread.init(null); // free memory\n\t\n\t\t\treturn {\n\t\t\t\theaders: headers,\n\t\n\t\t\t\trestore: function(data) {\n\t\t\t\t\tvar max, i;\n\t\n\t\t\t\t\tread.init(data);\n\t\n\t\t\t\t\tidx = read.SHORT(2) == 0xFFE0 ? 4 + read.SHORT(4) : 2;\n\t\n\t\t\t\t\tfor (i = 0, max = headers.length; i < max; i++) {\n\t\t\t\t\t\tread.SEGMENT(idx, 0, headers[i].segment);\n\t\t\t\t\t\tidx += headers[i].length;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tdata = read.SEGMENT();\n\t\t\t\t\tread.init(null);\n\t\t\t\t\treturn data;\n\t\t\t\t},\n\t\n\t\t\t\tstrip: function(data) {\n\t\t\t\t\tvar headers, jpegHeaders, i;\n\t\n\t\t\t\t\tjpegHeaders = new JPEGHeaders(data);\n\t\t\t\t\theaders = jpegHeaders.headers;\n\t\t\t\t\tjpegHeaders.purge();\n\t\n\t\t\t\t\tread.init(data);\n\t\n\t\t\t\t\ti = headers.length;\n\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\tread.SEGMENT(headers[i].start, headers[i].length, '');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tdata = read.SEGMENT();\n\t\t\t\t\tread.init(null);\n\t\t\t\t\treturn data;\n\t\t\t\t},\n\t\n\t\t\t\tget: function(name) {\n\t\t\t\t\tvar array = [];\n\t\n\t\t\t\t\tfor (var i = 0, max = headers.length; i < max; i++) {\n\t\t\t\t\t\tif (headers[i].name === name.toUpperCase()) {\n\t\t\t\t\t\t\tarray.push(headers[i].segment);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn array;\n\t\t\t\t},\n\t\n\t\t\t\tset: function(name, segment) {\n\t\t\t\t\tvar array = [], i, ii, max;\n\t\n\t\t\t\t\tif (typeof(segment) === 'string') {\n\t\t\t\t\t\tarray.push(segment);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarray = segment;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tfor (i = ii = 0, max = headers.length; i < max; i++) {\n\t\t\t\t\t\tif (headers[i].name === name.toUpperCase()) {\n\t\t\t\t\t\t\theaders[i].segment = array[ii];\n\t\t\t\t\t\t\theaders[i].length = array[ii].length;\n\t\t\t\t\t\t\tii++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (ii >= array.length) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tpurge: function() {\n\t\t\t\t\theaders = [];\n\t\t\t\t\tread.init(null);\n\t\t\t\t\tread = null;\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t});\n\t\n\t// Included from: src/javascript/runtime/html5/image/ExifParser.js\n\t\n\t/**\n\t * ExifParser.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/html5/image/ExifParser\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html5/image/ExifParser\", [\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/runtime/html5/utils/BinaryReader\"\n\t], function(Basic, BinaryReader) {\n\t\t\n\t\treturn function ExifParser() {\n\t\t\t// Private ExifParser fields\n\t\t\tvar data, tags, Tiff, offsets = {}, tagDescs;\n\t\n\t\t\tdata = new BinaryReader();\n\t\n\t\t\ttags = {\n\t\t\t\ttiff : {\n\t\t\t\t\t/*\n\t\t\t\t\tThe image orientation viewed in terms of rows and columns.\n\t\n\t\t\t\t\t1 = The 0th row is at the visual top of the image, and the 0th column is the visual left-hand side.\n\t\t\t\t\t2 = The 0th row is at the visual top of the image, and the 0th column is the visual right-hand side.\n\t\t\t\t\t3 = The 0th row is at the visual bottom of the image, and the 0th column is the visual right-hand side.\n\t\t\t\t\t4 = The 0th row is at the visual bottom of the image, and the 0th column is the visual left-hand side.\n\t\t\t\t\t5 = The 0th row is the visual left-hand side of the image, and the 0th column is the visual top.\n\t\t\t\t\t6 = The 0th row is the visual right-hand side of the image, and the 0th column is the visual top.\n\t\t\t\t\t7 = The 0th row is the visual right-hand side of the image, and the 0th column is the visual bottom.\n\t\t\t\t\t8 = The 0th row is the visual left-hand side of the image, and the 0th column is the visual bottom.\n\t\t\t\t\t*/\n\t\t\t\t\t0x0112: 'Orientation',\n\t\t\t\t\t0x010E: 'ImageDescription',\n\t\t\t\t\t0x010F: 'Make',\n\t\t\t\t\t0x0110: 'Model',\n\t\t\t\t\t0x0131: 'Software',\n\t\t\t\t\t0x8769: 'ExifIFDPointer',\n\t\t\t\t\t0x8825:\t'GPSInfoIFDPointer'\n\t\t\t\t},\n\t\t\t\texif : {\n\t\t\t\t\t0x9000: 'ExifVersion',\n\t\t\t\t\t0xA001: 'ColorSpace',\n\t\t\t\t\t0xA002: 'PixelXDimension',\n\t\t\t\t\t0xA003: 'PixelYDimension',\n\t\t\t\t\t0x9003: 'DateTimeOriginal',\n\t\t\t\t\t0x829A: 'ExposureTime',\n\t\t\t\t\t0x829D: 'FNumber',\n\t\t\t\t\t0x8827: 'ISOSpeedRatings',\n\t\t\t\t\t0x9201: 'ShutterSpeedValue',\n\t\t\t\t\t0x9202: 'ApertureValue'\t,\n\t\t\t\t\t0x9207: 'MeteringMode',\n\t\t\t\t\t0x9208: 'LightSource',\n\t\t\t\t\t0x9209: 'Flash',\n\t\t\t\t\t0x920A: 'FocalLength',\n\t\t\t\t\t0xA402: 'ExposureMode',\n\t\t\t\t\t0xA403: 'WhiteBalance',\n\t\t\t\t\t0xA406: 'SceneCaptureType',\n\t\t\t\t\t0xA404: 'DigitalZoomRatio',\n\t\t\t\t\t0xA408: 'Contrast',\n\t\t\t\t\t0xA409: 'Saturation',\n\t\t\t\t\t0xA40A: 'Sharpness'\n\t\t\t\t},\n\t\t\t\tgps : {\n\t\t\t\t\t0x0000: 'GPSVersionID',\n\t\t\t\t\t0x0001: 'GPSLatitudeRef',\n\t\t\t\t\t0x0002: 'GPSLatitude',\n\t\t\t\t\t0x0003: 'GPSLongitudeRef',\n\t\t\t\t\t0x0004: 'GPSLongitude'\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\ttagDescs = {\n\t\t\t\t'ColorSpace': {\n\t\t\t\t\t1: 'sRGB',\n\t\t\t\t\t0: 'Uncalibrated'\n\t\t\t\t},\n\t\n\t\t\t\t'MeteringMode': {\n\t\t\t\t\t0: 'Unknown',\n\t\t\t\t\t1: 'Average',\n\t\t\t\t\t2: 'CenterWeightedAverage',\n\t\t\t\t\t3: 'Spot',\n\t\t\t\t\t4: 'MultiSpot',\n\t\t\t\t\t5: 'Pattern',\n\t\t\t\t\t6: 'Partial',\n\t\t\t\t\t255: 'Other'\n\t\t\t\t},\n\t\n\t\t\t\t'LightSource': {\n\t\t\t\t\t1: 'Daylight',\n\t\t\t\t\t2: 'Fliorescent',\n\t\t\t\t\t3: 'Tungsten',\n\t\t\t\t\t4: 'Flash',\n\t\t\t\t\t9: 'Fine weather',\n\t\t\t\t\t10: 'Cloudy weather',\n\t\t\t\t\t11: 'Shade',\n\t\t\t\t\t12: 'Daylight fluorescent (D 5700 - 7100K)',\n\t\t\t\t\t13: 'Day white fluorescent (N 4600 -5400K)',\n\t\t\t\t\t14: 'Cool white fluorescent (W 3900 - 4500K)',\n\t\t\t\t\t15: 'White fluorescent (WW 3200 - 3700K)',\n\t\t\t\t\t17: 'Standard light A',\n\t\t\t\t\t18: 'Standard light B',\n\t\t\t\t\t19: 'Standard light C',\n\t\t\t\t\t20: 'D55',\n\t\t\t\t\t21: 'D65',\n\t\t\t\t\t22: 'D75',\n\t\t\t\t\t23: 'D50',\n\t\t\t\t\t24: 'ISO studio tungsten',\n\t\t\t\t\t255: 'Other'\n\t\t\t\t},\n\t\n\t\t\t\t'Flash': {\n\t\t\t\t\t0x0000: 'Flash did not fire.',\n\t\t\t\t\t0x0001: 'Flash fired.',\n\t\t\t\t\t0x0005: 'Strobe return light not detected.',\n\t\t\t\t\t0x0007: 'Strobe return light detected.',\n\t\t\t\t\t0x0009: 'Flash fired, compulsory flash mode',\n\t\t\t\t\t0x000D: 'Flash fired, compulsory flash mode, return light not detected',\n\t\t\t\t\t0x000F: 'Flash fired, compulsory flash mode, return light detected',\n\t\t\t\t\t0x0010: 'Flash did not fire, compulsory flash mode',\n\t\t\t\t\t0x0018: 'Flash did not fire, auto mode',\n\t\t\t\t\t0x0019: 'Flash fired, auto mode',\n\t\t\t\t\t0x001D: 'Flash fired, auto mode, return light not detected',\n\t\t\t\t\t0x001F: 'Flash fired, auto mode, return light detected',\n\t\t\t\t\t0x0020: 'No flash function',\n\t\t\t\t\t0x0041: 'Flash fired, red-eye reduction mode',\n\t\t\t\t\t0x0045: 'Flash fired, red-eye reduction mode, return light not detected',\n\t\t\t\t\t0x0047: 'Flash fired, red-eye reduction mode, return light detected',\n\t\t\t\t\t0x0049: 'Flash fired, compulsory flash mode, red-eye reduction mode',\n\t\t\t\t\t0x004D: 'Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected',\n\t\t\t\t\t0x004F: 'Flash fired, compulsory flash mode, red-eye reduction mode, return light detected',\n\t\t\t\t\t0x0059: 'Flash fired, auto mode, red-eye reduction mode',\n\t\t\t\t\t0x005D: 'Flash fired, auto mode, return light not detected, red-eye reduction mode',\n\t\t\t\t\t0x005F: 'Flash fired, auto mode, return light detected, red-eye reduction mode'\n\t\t\t\t},\n\t\n\t\t\t\t'ExposureMode': {\n\t\t\t\t\t0: 'Auto exposure',\n\t\t\t\t\t1: 'Manual exposure',\n\t\t\t\t\t2: 'Auto bracket'\n\t\t\t\t},\n\t\n\t\t\t\t'WhiteBalance': {\n\t\t\t\t\t0: 'Auto white balance',\n\t\t\t\t\t1: 'Manual white balance'\n\t\t\t\t},\n\t\n\t\t\t\t'SceneCaptureType': {\n\t\t\t\t\t0: 'Standard',\n\t\t\t\t\t1: 'Landscape',\n\t\t\t\t\t2: 'Portrait',\n\t\t\t\t\t3: 'Night scene'\n\t\t\t\t},\n\t\n\t\t\t\t'Contrast': {\n\t\t\t\t\t0: 'Normal',\n\t\t\t\t\t1: 'Soft',\n\t\t\t\t\t2: 'Hard'\n\t\t\t\t},\n\t\n\t\t\t\t'Saturation': {\n\t\t\t\t\t0: 'Normal',\n\t\t\t\t\t1: 'Low saturation',\n\t\t\t\t\t2: 'High saturation'\n\t\t\t\t},\n\t\n\t\t\t\t'Sharpness': {\n\t\t\t\t\t0: 'Normal',\n\t\t\t\t\t1: 'Soft',\n\t\t\t\t\t2: 'Hard'\n\t\t\t\t},\n\t\n\t\t\t\t// GPS related\n\t\t\t\t'GPSLatitudeRef': {\n\t\t\t\t\tN: 'North latitude',\n\t\t\t\t\tS: 'South latitude'\n\t\t\t\t},\n\t\n\t\t\t\t'GPSLongitudeRef': {\n\t\t\t\t\tE: 'East longitude',\n\t\t\t\t\tW: 'West longitude'\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tfunction extractTags(IFD_offset, tags2extract) {\n\t\t\t\tvar length = data.SHORT(IFD_offset), i, ii,\n\t\t\t\t\ttag, type, count, tagOffset, offset, value, values = [], hash = {};\n\t\n\t\t\t\tfor (i = 0; i < length; i++) {\n\t\t\t\t\t// Set binary reader pointer to beginning of the next tag\n\t\t\t\t\toffset = tagOffset = IFD_offset + 12 * i + 2;\n\t\n\t\t\t\t\ttag = tags2extract[data.SHORT(offset)];\n\t\n\t\t\t\t\tif (tag === undefined) {\n\t\t\t\t\t\tcontinue; // Not the tag we requested\n\t\t\t\t\t}\n\t\n\t\t\t\t\ttype = data.SHORT(offset+=2);\n\t\t\t\t\tcount = data.LONG(offset+=2);\n\t\n\t\t\t\t\toffset += 4;\n\t\t\t\t\tvalues = [];\n\t\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase 1: // BYTE\n\t\t\t\t\t\tcase 7: // UNDEFINED\n\t\t\t\t\t\t\tif (count > 4) {\n\t\t\t\t\t\t\t\toffset = data.LONG(offset) + offsets.tiffHeader;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tfor (ii = 0; ii < count; ii++) {\n\t\t\t\t\t\t\t\tvalues[ii] = data.BYTE(offset + ii);\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 2: // STRING\n\t\t\t\t\t\t\tif (count > 4) {\n\t\t\t\t\t\t\t\toffset = data.LONG(offset) + offsets.tiffHeader;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\thash[tag] = data.STRING(offset, count - 1);\n\t\n\t\t\t\t\t\t\tcontinue;\n\t\n\t\t\t\t\t\tcase 3: // SHORT\n\t\t\t\t\t\t\tif (count > 2) {\n\t\t\t\t\t\t\t\toffset = data.LONG(offset) + offsets.tiffHeader;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tfor (ii = 0; ii < count; ii++) {\n\t\t\t\t\t\t\t\tvalues[ii] = data.SHORT(offset + ii*2);\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 4: // LONG\n\t\t\t\t\t\t\tif (count > 1) {\n\t\t\t\t\t\t\t\toffset = data.LONG(offset) + offsets.tiffHeader;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tfor (ii = 0; ii < count; ii++) {\n\t\t\t\t\t\t\t\tvalues[ii] = data.LONG(offset + ii*4);\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 5: // RATIONAL\n\t\t\t\t\t\t\toffset = data.LONG(offset) + offsets.tiffHeader;\n\t\n\t\t\t\t\t\t\tfor (ii = 0; ii < count; ii++) {\n\t\t\t\t\t\t\t\tvalues[ii] = data.LONG(offset + ii*4) / data.LONG(offset + ii*4 + 4);\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 9: // SLONG\n\t\t\t\t\t\t\toffset = data.LONG(offset) + offsets.tiffHeader;\n\t\n\t\t\t\t\t\t\tfor (ii = 0; ii < count; ii++) {\n\t\t\t\t\t\t\t\tvalues[ii] = data.SLONG(offset + ii*4);\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 10: // SRATIONAL\n\t\t\t\t\t\t\toffset = data.LONG(offset) + offsets.tiffHeader;\n\t\n\t\t\t\t\t\t\tfor (ii = 0; ii < count; ii++) {\n\t\t\t\t\t\t\t\tvalues[ii] = data.SLONG(offset + ii*4) / data.SLONG(offset + ii*4 + 4);\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvalue = (count == 1 ? values[0] : values);\n\t\n\t\t\t\t\tif (tagDescs.hasOwnProperty(tag) && typeof value != 'object') {\n\t\t\t\t\t\thash[tag] = tagDescs[tag][value];\n\t\t\t\t\t} else {\n\t\t\t\t\t\thash[tag] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\treturn hash;\n\t\t\t}\n\t\n\t\t\tfunction getIFDOffsets() {\n\t\t\t\tvar idx = offsets.tiffHeader;\n\t\n\t\t\t\t// Set read order of multi-byte data\n\t\t\t\tdata.II(data.SHORT(idx) == 0x4949);\n\t\n\t\t\t\t// Check if always present bytes are indeed present\n\t\t\t\tif (data.SHORT(idx+=2) !== 0x002A) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\n\t\t\t\toffsets.IFD0 = offsets.tiffHeader + data.LONG(idx += 2);\n\t\t\t\tTiff = extractTags(offsets.IFD0, tags.tiff);\n\t\n\t\t\t\tif ('ExifIFDPointer' in Tiff) {\n\t\t\t\t\toffsets.exifIFD = offsets.tiffHeader + Tiff.ExifIFDPointer;\n\t\t\t\t\tdelete Tiff.ExifIFDPointer;\n\t\t\t\t}\n\t\n\t\t\t\tif ('GPSInfoIFDPointer' in Tiff) {\n\t\t\t\t\toffsets.gpsIFD = offsets.tiffHeader + Tiff.GPSInfoIFDPointer;\n\t\t\t\t\tdelete Tiff.GPSInfoIFDPointer;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\n\t\t\t// At the moment only setting of simple (LONG) values, that do not require offset recalculation, is supported\n\t\t\tfunction setTag(ifd, tag, value) {\n\t\t\t\tvar offset, length, tagOffset, valueOffset = 0;\n\t\n\t\t\t\t// If tag name passed translate into hex key\n\t\t\t\tif (typeof(tag) === 'string') {\n\t\t\t\t\tvar tmpTags = tags[ifd.toLowerCase()];\n\t\t\t\t\tfor (var hex in tmpTags) {\n\t\t\t\t\t\tif (tmpTags[hex] === tag) {\n\t\t\t\t\t\t\ttag = hex;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\toffset = offsets[ifd.toLowerCase() + 'IFD'];\n\t\t\t\tlength = data.SHORT(offset);\n\t\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\ttagOffset = offset + 12 * i + 2;\n\t\n\t\t\t\t\tif (data.SHORT(tagOffset) == tag) {\n\t\t\t\t\t\tvalueOffset = tagOffset + 8;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (!valueOffset) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\n\t\t\t\tdata.LONG(valueOffset, value);\n\t\t\t\treturn true;\n\t\t\t}\n\t\n\t\n\t\t\t// Public functions\n\t\t\treturn {\n\t\t\t\tinit: function(segment) {\n\t\t\t\t\t// Reset internal data\n\t\t\t\t\toffsets = {\n\t\t\t\t\t\ttiffHeader: 10\n\t\t\t\t\t};\n\t\n\t\t\t\t\tif (segment === undefined || !segment.length) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tdata.init(segment);\n\t\n\t\t\t\t\t// Check if that's APP1 and that it has EXIF\n\t\t\t\t\tif (data.SHORT(0) === 0xFFE1 && data.STRING(4, 5).toUpperCase() === \"EXIF\\0\") {\n\t\t\t\t\t\treturn getIFDOffsets();\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\n\t\t\t\tTIFF: function() {\n\t\t\t\t\treturn Tiff;\n\t\t\t\t},\n\t\n\t\t\t\tEXIF: function() {\n\t\t\t\t\tvar Exif;\n\t\n\t\t\t\t\t// Populate EXIF hash\n\t\t\t\t\tExif = extractTags(offsets.exifIFD, tags.exif);\n\t\n\t\t\t\t\t// Fix formatting of some tags\n\t\t\t\t\tif (Exif.ExifVersion && Basic.typeOf(Exif.ExifVersion) === 'array') {\n\t\t\t\t\t\tfor (var i = 0, exifVersion = ''; i < Exif.ExifVersion.length; i++) {\n\t\t\t\t\t\t\texifVersion += String.fromCharCode(Exif.ExifVersion[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tExif.ExifVersion = exifVersion;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn Exif;\n\t\t\t\t},\n\t\n\t\t\t\tGPS: function() {\n\t\t\t\t\tvar GPS;\n\t\n\t\t\t\t\tGPS = extractTags(offsets.gpsIFD, tags.gps);\n\t\n\t\t\t\t\t// iOS devices (and probably some others) do not put in GPSVersionID tag (why?..)\n\t\t\t\t\tif (GPS.GPSVersionID && Basic.typeOf(GPS.GPSVersionID) === 'array') {\n\t\t\t\t\t\tGPS.GPSVersionID = GPS.GPSVersionID.join('.');\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn GPS;\n\t\t\t\t},\n\t\n\t\t\t\tsetExif: function(tag, value) {\n\t\t\t\t\t// Right now only setting of width/height is possible\n\t\t\t\t\tif (tag !== 'PixelXDimension' && tag !== 'PixelYDimension') {return false;}\n\t\n\t\t\t\t\treturn setTag('exif', tag, value);\n\t\t\t\t},\n\t\n\t\n\t\t\t\tgetBinary: function() {\n\t\t\t\t\treturn data.SEGMENT();\n\t\t\t\t},\n\t\n\t\t\t\tpurge: function() {\n\t\t\t\t\tdata.init(null);\n\t\t\t\t\tdata = Tiff = null;\n\t\t\t\t\toffsets = {};\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t});\n\t\n\t// Included from: src/javascript/runtime/html5/image/JPEG.js\n\t\n\t/**\n\t * JPEG.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/html5/image/JPEG\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html5/image/JPEG\", [\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/core/Exceptions\",\n\t\t\"moxie/runtime/html5/image/JPEGHeaders\",\n\t\t\"moxie/runtime/html5/utils/BinaryReader\",\n\t\t\"moxie/runtime/html5/image/ExifParser\"\n\t], function(Basic, x, JPEGHeaders, BinaryReader, ExifParser) {\n\t\t\n\t\tfunction JPEG(binstr) {\n\t\t\tvar _binstr, _br, _hm, _ep, _info, hasExif;\n\t\n\t\t\tfunction _getDimensions() {\n\t\t\t\tvar idx = 0, marker, length;\n\t\n\t\t\t\t// examine all through the end, since some images might have very large APP segments\n\t\t\t\twhile (idx <= _binstr.length) {\n\t\t\t\t\tmarker = _br.SHORT(idx += 2);\n\t\n\t\t\t\t\tif (marker >= 0xFFC0 && marker <= 0xFFC3) { // SOFn\n\t\t\t\t\t\tidx += 5; // marker (2 bytes) + length (2 bytes) + Sample precision (1 byte)\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\theight: _br.SHORT(idx),\n\t\t\t\t\t\t\twidth: _br.SHORT(idx += 2)\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tlength = _br.SHORT(idx += 2);\n\t\t\t\t\tidx += length - 2;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\t_binstr = binstr;\n\t\n\t\t\t_br = new BinaryReader();\n\t\t\t_br.init(_binstr);\n\t\n\t\t\t// check if it is jpeg\n\t\t\tif (_br.SHORT(0) !== 0xFFD8) {\n\t\t\t\tthrow new x.ImageError(x.ImageError.WRONG_FORMAT);\n\t\t\t}\n\t\n\t\t\t// backup headers\n\t\t\t_hm = new JPEGHeaders(binstr);\n\t\n\t\t\t// extract exif info\n\t\t\t_ep = new ExifParser();\n\t\t\thasExif = !!_ep.init(_hm.get('app1')[0]);\n\t\n\t\t\t// get dimensions\n\t\t\t_info = _getDimensions.call(this);\n\t\n\t\t\tBasic.extend(this, {\n\t\t\t\ttype: 'image/jpeg',\n\t\n\t\t\t\tsize: _binstr.length,\n\t\n\t\t\t\twidth: _info && _info.width || 0,\n\t\n\t\t\t\theight: _info && _info.height || 0,\n\t\n\t\t\t\tsetExif: function(tag, value) {\n\t\t\t\t\tif (!hasExif) {\n\t\t\t\t\t\treturn false; // or throw an exception\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (Basic.typeOf(tag) === 'object') {\n\t\t\t\t\t\tBasic.each(tag, function(value, tag) {\n\t\t\t\t\t\t\t_ep.setExif(tag, value);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_ep.setExif(tag, value);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// update internal headers\n\t\t\t\t\t_hm.set('app1', _ep.getBinary());\n\t\t\t\t},\n\t\n\t\t\t\twriteHeaders: function() {\n\t\t\t\t\tif (!arguments.length) {\n\t\t\t\t\t\t// if no arguments passed, update headers internally\n\t\t\t\t\t\treturn (_binstr = _hm.restore(_binstr));\n\t\t\t\t\t}\n\t\t\t\t\treturn _hm.restore(arguments[0]);\n\t\t\t\t},\n\t\n\t\t\t\tstripHeaders: function(binstr) {\n\t\t\t\t\treturn _hm.strip(binstr);\n\t\t\t\t},\n\t\n\t\t\t\tpurge: function() {\n\t\t\t\t\t_purge.call(this);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tif (hasExif) {\n\t\t\t\tthis.meta = {\n\t\t\t\t\ttiff: _ep.TIFF(),\n\t\t\t\t\texif: _ep.EXIF(),\n\t\t\t\t\tgps: _ep.GPS()\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\tfunction _purge() {\n\t\t\t\tif (!_ep || !_hm || !_br) { \n\t\t\t\t\treturn; // ignore any repeating purge requests\n\t\t\t\t}\n\t\t\t\t_ep.purge();\n\t\t\t\t_hm.purge();\n\t\t\t\t_br.init(null);\n\t\t\t\t_binstr = _info = _hm = _ep = _br = null;\n\t\t\t}\n\t\t}\n\t\n\t\treturn JPEG;\n\t});\n\t\n\t// Included from: src/javascript/runtime/html5/image/PNG.js\n\t\n\t/**\n\t * PNG.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/html5/image/PNG\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html5/image/PNG\", [\n\t\t\"moxie/core/Exceptions\",\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/runtime/html5/utils/BinaryReader\"\n\t], function(x, Basic, BinaryReader) {\n\t\t\n\t\tfunction PNG(binstr) {\n\t\t\tvar _binstr, _br, _hm, _ep, _info;\n\t\n\t\t\t_binstr = binstr;\n\t\n\t\t\t_br = new BinaryReader();\n\t\t\t_br.init(_binstr);\n\t\n\t\t\t// check if it's png\n\t\t\t(function() {\n\t\t\t\tvar idx = 0, i = 0\n\t\t\t\t, signature = [0x8950, 0x4E47, 0x0D0A, 0x1A0A]\n\t\t\t\t;\n\t\n\t\t\t\tfor (i = 0; i < signature.length; i++, idx += 2) {\n\t\t\t\t\tif (signature[i] != _br.SHORT(idx)) {\n\t\t\t\t\t\tthrow new x.ImageError(x.ImageError.WRONG_FORMAT);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}());\n\t\n\t\t\tfunction _getDimensions() {\n\t\t\t\tvar chunk, idx;\n\t\n\t\t\t\tchunk = _getChunkAt.call(this, 8);\n\t\n\t\t\t\tif (chunk.type == 'IHDR') {\n\t\t\t\t\tidx = chunk.start;\n\t\t\t\t\treturn {\n\t\t\t\t\t\twidth: _br.LONG(idx),\n\t\t\t\t\t\theight: _br.LONG(idx += 4)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\tfunction _purge() {\n\t\t\t\tif (!_br) {\n\t\t\t\t\treturn; // ignore any repeating purge requests\n\t\t\t\t}\n\t\t\t\t_br.init(null);\n\t\t\t\t_binstr = _info = _hm = _ep = _br = null;\n\t\t\t}\n\t\n\t\t\t_info = _getDimensions.call(this);\n\t\n\t\t\tBasic.extend(this, {\n\t\t\t\ttype: 'image/png',\n\t\n\t\t\t\tsize: _binstr.length,\n\t\n\t\t\t\twidth: _info.width,\n\t\n\t\t\t\theight: _info.height,\n\t\n\t\t\t\tpurge: function() {\n\t\t\t\t\t_purge.call(this);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\t// for PNG we can safely trigger purge automatically, as we do not keep any data for later\n\t\t\t_purge.call(this);\n\t\n\t\t\tfunction _getChunkAt(idx) {\n\t\t\t\tvar length, type, start, CRC;\n\t\n\t\t\t\tlength = _br.LONG(idx);\n\t\t\t\ttype = _br.STRING(idx += 4, 4);\n\t\t\t\tstart = idx += 4;\n\t\t\t\tCRC = _br.LONG(idx + length);\n\t\n\t\t\t\treturn {\n\t\t\t\t\tlength: length,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tstart: start,\n\t\t\t\t\tCRC: CRC\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\n\t\treturn PNG;\n\t});\n\t\n\t// Included from: src/javascript/runtime/html5/image/ImageInfo.js\n\t\n\t/**\n\t * ImageInfo.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/html5/image/ImageInfo\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html5/image/ImageInfo\", [\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/core/Exceptions\",\n\t\t\"moxie/runtime/html5/image/JPEG\",\n\t\t\"moxie/runtime/html5/image/PNG\"\n\t], function(Basic, x, JPEG, PNG) {\n\t\t/**\n\t\tOptional image investigation tool for HTML5 runtime. Provides the following features:\n\t\t- ability to distinguish image type (JPEG or PNG) by signature\n\t\t- ability to extract image width/height directly from it's internals, without preloading in memory (fast)\n\t\t- ability to extract APP headers from JPEGs (Exif, GPS, etc)\n\t\t- ability to replace width/height tags in extracted JPEG headers\n\t\t- ability to restore APP headers, that were for example stripped during image manipulation\n\t\n\t\t@class ImageInfo\n\t\t@constructor\n\t\t@param {String} binstr Image source as binary string\n\t\t*/\n\t\treturn function(binstr) {\n\t\t\tvar _cs = [JPEG, PNG], _img;\n\t\n\t\t\t// figure out the format, throw: ImageError.WRONG_FORMAT if not supported\n\t\t\t_img = (function() {\n\t\t\t\tfor (var i = 0; i < _cs.length; i++) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn new _cs[i](binstr);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t// console.info(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthrow new x.ImageError(x.ImageError.WRONG_FORMAT);\n\t\t\t}());\n\t\n\t\t\tBasic.extend(this, {\n\t\t\t\t/**\n\t\t\t\tImage Mime Type extracted from it's depths\n\t\n\t\t\t\t@property type\n\t\t\t\t@type {String}\n\t\t\t\t@default ''\n\t\t\t\t*/\n\t\t\t\ttype: '',\n\t\n\t\t\t\t/**\n\t\t\t\tImage size in bytes\n\t\n\t\t\t\t@property size\n\t\t\t\t@type {Number}\n\t\t\t\t@default 0\n\t\t\t\t*/\n\t\t\t\tsize: 0,\n\t\n\t\t\t\t/**\n\t\t\t\tImage width extracted from image source\n\t\n\t\t\t\t@property width\n\t\t\t\t@type {Number}\n\t\t\t\t@default 0\n\t\t\t\t*/\n\t\t\t\twidth: 0,\n\t\n\t\t\t\t/**\n\t\t\t\tImage height extracted from image source\n\t\n\t\t\t\t@property height\n\t\t\t\t@type {Number}\n\t\t\t\t@default 0\n\t\t\t\t*/\n\t\t\t\theight: 0,\n\t\n\t\t\t\t/**\n\t\t\t\tSets Exif tag. Currently applicable only for width and height tags. Obviously works only with JPEGs.\n\t\n\t\t\t\t@method setExif\n\t\t\t\t@param {String} tag Tag to set\n\t\t\t\t@param {Mixed} value Value to assign to the tag\n\t\t\t\t*/\n\t\t\t\tsetExif: function() {},\n\t\n\t\t\t\t/**\n\t\t\t\tRestores headers to the source.\n\t\n\t\t\t\t@method writeHeaders\n\t\t\t\t@param {String} data Image source as binary string\n\t\t\t\t@return {String} Updated binary string\n\t\t\t\t*/\n\t\t\t\twriteHeaders: function(data) {\n\t\t\t\t\treturn data;\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tStrip all headers from the source.\n\t\n\t\t\t\t@method stripHeaders\n\t\t\t\t@param {String} data Image source as binary string\n\t\t\t\t@return {String} Updated binary string\n\t\t\t\t*/\n\t\t\t\tstripHeaders: function(data) {\n\t\t\t\t\treturn data;\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\tDispose resources.\n\t\n\t\t\t\t@method purge\n\t\t\t\t*/\n\t\t\t\tpurge: function() {}\n\t\t\t});\n\t\n\t\t\tBasic.extend(this, _img);\n\t\n\t\t\tthis.purge = function() {\n\t\t\t\t_img.purge();\n\t\t\t\t_img = null;\n\t\t\t};\n\t\t};\n\t});\n\t\n\t// Included from: src/javascript/runtime/html5/image/MegaPixel.js\n\t\n\t/**\n\t(The MIT License)\n\t\n\tCopyright (c) 2012 Shinichi Tomita <shinichi.tomita@gmail.com>;\n\t\n\tPermission is hereby granted, free of charge, to any person obtaining\n\ta copy of this software and associated documentation files (the\n\t'Software'), to deal in the Software without restriction, including\n\twithout limitation the rights to use, copy, modify, merge, publish,\n\tdistribute, sublicense, and/or sell copies of the Software, and to\n\tpermit persons to whom the Software is furnished to do so, subject to\n\tthe following conditions:\n\t\n\tThe above copyright notice and this permission notice shall be\n\tincluded in all copies or substantial portions of the Software.\n\t\n\tTHE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\n\tEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\tMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n\tIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n\tCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n\tTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n\tSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t*/\n\t\n\t/**\n\t * Mega pixel image rendering library for iOS6 Safari\n\t *\n\t * Fixes iOS6 Safari's image file rendering issue for large size image (over mega-pixel),\n\t * which causes unexpected subsampling when drawing it in canvas.\n\t * By using this library, you can safely render the image with proper stretching.\n\t *\n\t * Copyright (c) 2012 Shinichi Tomita <shinichi.tomita@gmail.com>\n\t * Released under the MIT license\n\t */\n\t\n\t/**\n\t@class moxie/runtime/html5/image/MegaPixel\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html5/image/MegaPixel\", [], function() {\n\t\n\t\t/**\n\t\t * Rendering image element (with resizing) into the canvas element\n\t\t */\n\t\tfunction renderImageToCanvas(img, canvas, options) {\n\t\t\tvar iw = img.naturalWidth, ih = img.naturalHeight;\n\t\t\tvar width = options.width, height = options.height;\n\t\t\tvar x = options.x || 0, y = options.y || 0;\n\t\t\tvar ctx = canvas.getContext('2d');\n\t\t\tif (detectSubsampling(img)) {\n\t\t\t\tiw /= 2;\n\t\t\t\tih /= 2;\n\t\t\t}\n\t\t\tvar d = 1024; // size of tiling canvas\n\t\t\tvar tmpCanvas = document.createElement('canvas');\n\t\t\ttmpCanvas.width = tmpCanvas.height = d;\n\t\t\tvar tmpCtx = tmpCanvas.getContext('2d');\n\t\t\tvar vertSquashRatio = detectVerticalSquash(img, iw, ih);\n\t\t\tvar sy = 0;\n\t\t\twhile (sy < ih) {\n\t\t\t\tvar sh = sy + d > ih ? ih - sy : d;\n\t\t\t\tvar sx = 0;\n\t\t\t\twhile (sx < iw) {\n\t\t\t\t\tvar sw = sx + d > iw ? iw - sx : d;\n\t\t\t\t\ttmpCtx.clearRect(0, 0, d, d);\n\t\t\t\t\ttmpCtx.drawImage(img, -sx, -sy);\n\t\t\t\t\tvar dx = (sx * width / iw + x) << 0;\n\t\t\t\t\tvar dw = Math.ceil(sw * width / iw);\n\t\t\t\t\tvar dy = (sy * height / ih / vertSquashRatio + y) << 0;\n\t\t\t\t\tvar dh = Math.ceil(sh * height / ih / vertSquashRatio);\n\t\t\t\t\tctx.drawImage(tmpCanvas, 0, 0, sw, sh, dx, dy, dw, dh);\n\t\t\t\t\tsx += d;\n\t\t\t\t}\n\t\t\t\tsy += d;\n\t\t\t}\n\t\t\ttmpCanvas = tmpCtx = null;\n\t\t}\n\t\n\t\t/**\n\t\t * Detect subsampling in loaded image.\n\t\t * In iOS, larger images than 2M pixels may be subsampled in rendering.\n\t\t */\n\t\tfunction detectSubsampling(img) {\n\t\t\tvar iw = img.naturalWidth, ih = img.naturalHeight;\n\t\t\tif (iw * ih > 1024 * 1024) { // subsampling may happen over megapixel image\n\t\t\t\tvar canvas = document.createElement('canvas');\n\t\t\t\tcanvas.width = canvas.height = 1;\n\t\t\t\tvar ctx = canvas.getContext('2d');\n\t\t\t\tctx.drawImage(img, -iw + 1, 0);\n\t\t\t\t// subsampled image becomes half smaller in rendering size.\n\t\t\t\t// check alpha channel value to confirm image is covering edge pixel or not.\n\t\t\t\t// if alpha value is 0 image is not covering, hence subsampled.\n\t\t\t\treturn ctx.getImageData(0, 0, 1, 1).data[3] === 0;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\n\t\n\t\t/**\n\t\t * Detecting vertical squash in loaded image.\n\t\t * Fixes a bug which squash image vertically while drawing into canvas for some images.\n\t\t */\n\t\tfunction detectVerticalSquash(img, iw, ih) {\n\t\t\tvar canvas = document.createElement('canvas');\n\t\t\tcanvas.width = 1;\n\t\t\tcanvas.height = ih;\n\t\t\tvar ctx = canvas.getContext('2d');\n\t\t\tctx.drawImage(img, 0, 0);\n\t\t\tvar data = ctx.getImageData(0, 0, 1, ih).data;\n\t\t\t// search image edge pixel position in case it is squashed vertically.\n\t\t\tvar sy = 0;\n\t\t\tvar ey = ih;\n\t\t\tvar py = ih;\n\t\t\twhile (py > sy) {\n\t\t\t\tvar alpha = data[(py - 1) * 4 + 3];\n\t\t\t\tif (alpha === 0) {\n\t\t\t\t\tey = py;\n\t\t\t\t} else {\n\t\t\t\tsy = py;\n\t\t\t\t}\n\t\t\t\tpy = (ey + sy) >> 1;\n\t\t\t}\n\t\t\tcanvas = null;\n\t\t\tvar ratio = (py / ih);\n\t\t\treturn (ratio === 0) ? 1 : ratio;\n\t\t}\n\t\n\t\treturn {\n\t\t\tisSubsampled: detectSubsampling,\n\t\t\trenderTo: renderImageToCanvas\n\t\t};\n\t});\n\t\n\t// Included from: src/javascript/runtime/html5/image/Image.js\n\t\n\t/**\n\t * Image.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/html5/image/Image\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html5/image/Image\", [\n\t\t\"moxie/runtime/html5/Runtime\",\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/core/Exceptions\",\n\t\t\"moxie/core/utils/Encode\",\n\t\t\"moxie/file/File\",\n\t\t\"moxie/runtime/html5/image/ImageInfo\",\n\t\t\"moxie/runtime/html5/image/MegaPixel\",\n\t\t\"moxie/core/utils/Mime\",\n\t\t\"moxie/core/utils/Env\"\n\t], function(extensions, Basic, x, Encode, File, ImageInfo, MegaPixel, Mime, Env) {\n\t\t\n\t\tfunction HTML5Image() {\n\t\t\tvar me = this\n\t\t\t, _img, _imgInfo, _canvas, _binStr, _blob\n\t\t\t, _modified = false // is set true whenever image is modified\n\t\t\t, _preserveHeaders = true\n\t\t\t;\n\t\n\t\t\tBasic.extend(this, {\n\t\t\t\tloadFromBlob: function(blob) {\n\t\t\t\t\tvar comp = this, I = comp.getRuntime()\n\t\t\t\t\t, asBinary = arguments.length > 1 ? arguments[1] : true\n\t\t\t\t\t;\n\t\n\t\t\t\t\tif (!I.can('access_binary')) {\n\t\t\t\t\t\tthrow new x.RuntimeError(x.RuntimeError.NOT_SUPPORTED_ERR);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t_blob = blob;\n\t\n\t\t\t\t\tif (blob.isDetached()) {\n\t\t\t\t\t\t_binStr = blob.getSource();\n\t\t\t\t\t\t_preload.call(this, _binStr);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_readAsDataUrl.call(this, blob.getSource(), function(dataUrl) {\n\t\t\t\t\t\t\tif (asBinary) {\n\t\t\t\t\t\t\t\t_binStr = _toBinary(dataUrl);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t_preload.call(comp, dataUrl);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tloadFromImage: function(img, exact) {\n\t\t\t\t\tthis.meta = img.meta;\n\t\n\t\t\t\t\t_blob = new File(null, {\n\t\t\t\t\t\tname: img.name,\n\t\t\t\t\t\tsize: img.size,\n\t\t\t\t\t\ttype: img.type\n\t\t\t\t\t});\n\t\n\t\t\t\t\t_preload.call(this, exact ? (_binStr = img.getAsBinaryString()) : img.getAsDataURL());\n\t\t\t\t},\n\t\n\t\t\t\tgetInfo: function() {\n\t\t\t\t\tvar I = this.getRuntime(), info;\n\t\n\t\t\t\t\tif (!_imgInfo && _binStr && I.can('access_image_binary')) {\n\t\t\t\t\t\t_imgInfo = new ImageInfo(_binStr);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tinfo = {\n\t\t\t\t\t\twidth: _getImg().width || 0,\n\t\t\t\t\t\theight: _getImg().height || 0,\n\t\t\t\t\t\ttype: _blob.type || Mime.getFileMime(_blob.name),\n\t\t\t\t\t\tsize: _binStr && _binStr.length || _blob.size || 0,\n\t\t\t\t\t\tname: _blob.name || '',\n\t\t\t\t\t\tmeta: _imgInfo && _imgInfo.meta || this.meta || {}\n\t\t\t\t\t};\n\t\n\t\t\t\t\treturn info;\n\t\t\t\t},\n\t\n\t\t\t\tdownsize: function() {\n\t\t\t\t\t_downsize.apply(this, arguments);\n\t\t\t\t},\n\t\n\t\t\t\tgetAsCanvas: function() {\n\t\t\t\t\tif (_canvas) {\n\t\t\t\t\t\t_canvas.id = this.uid + '_canvas';\n\t\t\t\t\t}\n\t\t\t\t\treturn _canvas;\n\t\t\t\t},\n\t\n\t\t\t\tgetAsBlob: function(type, quality) {\n\t\t\t\t\tif (type !== this.type) {\n\t\t\t\t\t\t// if different mime type requested prepare image for conversion\n\t\t\t\t\t\t_downsize.call(this, this.width, this.height, false);\n\t\t\t\t\t}\n\t\t\t\t\treturn new File(null, {\n\t\t\t\t\t\tname: _blob.name || '',\n\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\tdata: me.getAsBinaryString.call(this, type, quality)\n\t\t\t\t\t});\n\t\t\t\t},\n\t\n\t\t\t\tgetAsDataURL: function(type) {\n\t\t\t\t\tvar quality = arguments[1] || 90;\n\t\n\t\t\t\t\t// if image has not been modified, return the source right away\n\t\t\t\t\tif (!_modified) {\n\t\t\t\t\t\treturn _img.src;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ('image/jpeg' !== type) {\n\t\t\t\t\t\treturn _canvas.toDataURL('image/png');\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t// older Geckos used to result in an exception on quality argument\n\t\t\t\t\t\t\treturn _canvas.toDataURL('image/jpeg', quality/100);\n\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\treturn _canvas.toDataURL('image/jpeg');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tgetAsBinaryString: function(type, quality) {\n\t\t\t\t\t// if image has not been modified, return the source right away\n\t\t\t\t\tif (!_modified) {\n\t\t\t\t\t\t// if image was not loaded from binary string\n\t\t\t\t\t\tif (!_binStr) {\n\t\t\t\t\t\t\t_binStr = _toBinary(me.getAsDataURL(type, quality));\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn _binStr;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ('image/jpeg' !== type) {\n\t\t\t\t\t\t_binStr = _toBinary(me.getAsDataURL(type, quality));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar dataUrl;\n\t\n\t\t\t\t\t\t// if jpeg\n\t\t\t\t\t\tif (!quality) {\n\t\t\t\t\t\t\tquality = 90;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t// older Geckos used to result in an exception on quality argument\n\t\t\t\t\t\t\tdataUrl = _canvas.toDataURL('image/jpeg', quality/100);\n\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\tdataUrl = _canvas.toDataURL('image/jpeg');\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t_binStr = _toBinary(dataUrl);\n\t\n\t\t\t\t\t\tif (_imgInfo) {\n\t\t\t\t\t\t\t_binStr = _imgInfo.stripHeaders(_binStr);\n\t\n\t\t\t\t\t\t\tif (_preserveHeaders) {\n\t\t\t\t\t\t\t\t// update dimensions info in exif\n\t\t\t\t\t\t\t\tif (_imgInfo.meta && _imgInfo.meta.exif) {\n\t\t\t\t\t\t\t\t\t_imgInfo.setExif({\n\t\t\t\t\t\t\t\t\t\tPixelXDimension: this.width,\n\t\t\t\t\t\t\t\t\t\tPixelYDimension: this.height\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\t// re-inject the headers\n\t\t\t\t\t\t\t\t_binStr = _imgInfo.writeHeaders(_binStr);\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t// will be re-created from fresh on next getInfo call\n\t\t\t\t\t\t\t_imgInfo.purge();\n\t\t\t\t\t\t\t_imgInfo = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t_modified = false;\n\t\n\t\t\t\t\treturn _binStr;\n\t\t\t\t},\n\t\n\t\t\t\tdestroy: function() {\n\t\t\t\t\tme = null;\n\t\t\t\t\t_purge.call(this);\n\t\t\t\t\tthis.getRuntime().getShim().removeInstance(this.uid);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\n\t\t\tfunction _getImg() {\n\t\t\t\tif (!_canvas && !_img) {\n\t\t\t\t\tthrow new x.ImageError(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t}\n\t\t\t\treturn _canvas || _img;\n\t\t\t}\n\t\n\t\n\t\t\tfunction _toBinary(str) {\n\t\t\t\treturn Encode.atob(str.substring(str.indexOf('base64,') + 7));\n\t\t\t}\n\t\n\t\n\t\t\tfunction _toDataUrl(str, type) {\n\t\t\t\treturn 'data:' + (type || '') + ';base64,' + Encode.btoa(str);\n\t\t\t}\n\t\n\t\n\t\t\tfunction _preload(str) {\n\t\t\t\tvar comp = this;\n\t\n\t\t\t\t_img = new Image();\n\t\t\t\t_img.onerror = function() {\n\t\t\t\t\t_purge.call(this);\n\t\t\t\t\tcomp.trigger('error', x.ImageError.WRONG_FORMAT);\n\t\t\t\t};\n\t\t\t\t_img.onload = function() {\n\t\t\t\t\tcomp.trigger('load');\n\t\t\t\t};\n\t\n\t\t\t\t_img.src = /^data:[^;]*;base64,/.test(str) ? str : _toDataUrl(str, _blob.type);\n\t\t\t}\n\t\n\t\n\t\t\tfunction _readAsDataUrl(file, callback) {\n\t\t\t\tvar comp = this, fr;\n\t\n\t\t\t\t// use FileReader if it's available\n\t\t\t\tif (window.FileReader) {\n\t\t\t\t\tfr = new FileReader();\n\t\t\t\t\tfr.onload = function() {\n\t\t\t\t\t\tcallback(this.result);\n\t\t\t\t\t};\n\t\t\t\t\tfr.onerror = function() {\n\t\t\t\t\t\tcomp.trigger('error', x.ImageError.WRONG_FORMAT);\n\t\t\t\t\t};\n\t\t\t\t\tfr.readAsDataURL(file);\n\t\t\t\t} else {\n\t\t\t\t\treturn callback(file.getAsDataURL());\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tfunction _downsize(width, height, crop, preserveHeaders) {\n\t\t\t\tvar self = this\n\t\t\t\t, scale\n\t\t\t\t, mathFn\n\t\t\t\t, x = 0\n\t\t\t\t, y = 0\n\t\t\t\t, img\n\t\t\t\t, destWidth\n\t\t\t\t, destHeight\n\t\t\t\t, orientation\n\t\t\t\t;\n\t\n\t\t\t\t_preserveHeaders = preserveHeaders; // we will need to check this on export (see getAsBinaryString())\n\t\n\t\t\t\t// take into account orientation tag\n\t\t\t\torientation = (this.meta && this.meta.tiff && this.meta.tiff.Orientation) || 1;\n\t\n\t\t\t\tif (Basic.inArray(orientation, [5,6,7,8]) !== -1) { // values that require 90 degree rotation\n\t\t\t\t\t// swap dimensions\n\t\t\t\t\tvar tmp = width;\n\t\t\t\t\twidth = height;\n\t\t\t\t\theight = tmp;\n\t\t\t\t}\n\t\n\t\t\t\timg = _getImg();\n\t\n\t\t\t\t// unify dimensions\n\t\t\t\tif (!crop) {\n\t\t\t\t\tscale = Math.min(width/img.width, height/img.height);\n\t\t\t\t} else {\n\t\t\t\t\t// one of the dimensions may exceed the actual image dimensions - we need to take the smallest value\n\t\t\t\t\twidth = Math.min(width, img.width);\n\t\t\t\t\theight = Math.min(height, img.height);\n\t\n\t\t\t\t\tscale = Math.max(width/img.width, height/img.height);\n\t\t\t\t}\n\t\t\t\n\t\t\t\t// we only downsize here\n\t\t\t\tif (scale > 1 && !crop && preserveHeaders) {\n\t\t\t\t\tthis.trigger('Resize');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\t// prepare canvas if necessary\n\t\t\t\tif (!_canvas) {\n\t\t\t\t\t_canvas = document.createElement(\"canvas\");\n\t\t\t\t}\n\t\n\t\t\t\t// calculate dimensions of proportionally resized image\n\t\t\t\tdestWidth = Math.round(img.width * scale);\t\n\t\t\t\tdestHeight = Math.round(img.height * scale);\n\t\n\t\t\t\t// scale image and canvas\n\t\t\t\tif (crop) {\n\t\t\t\t\t_canvas.width = width;\n\t\t\t\t\t_canvas.height = height;\n\t\n\t\t\t\t\t// if dimensions of the resulting image still larger than canvas, center it\n\t\t\t\t\tif (destWidth > width) {\n\t\t\t\t\t\tx = Math.round((destWidth - width) / 2);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (destHeight > height) {\n\t\t\t\t\t\ty = Math.round((destHeight - height) / 2);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t_canvas.width = destWidth;\n\t\t\t\t\t_canvas.height = destHeight;\n\t\t\t\t}\n\t\n\t\t\t\t// rotate if required, according to orientation tag\n\t\t\t\tif (!_preserveHeaders) {\n\t\t\t\t\t_rotateToOrientaion(_canvas.width, _canvas.height, orientation);\n\t\t\t\t}\n\t\n\t\t\t\t_drawToCanvas.call(this, img, _canvas, -x, -y, destWidth, destHeight);\n\t\n\t\t\t\tthis.width = _canvas.width;\n\t\t\t\tthis.height = _canvas.height;\n\t\n\t\t\t\t_modified = true;\n\t\t\t\tself.trigger('Resize');\n\t\t\t}\n\t\n\t\n\t\t\tfunction _drawToCanvas(img, canvas, x, y, w, h) {\n\t\t\t\tif (Env.OS === 'iOS') { \n\t\t\t\t\t// avoid squish bug in iOS6\n\t\t\t\t\tMegaPixel.renderTo(img, canvas, { width: w, height: h, x: x, y: y });\n\t\t\t\t} else {\n\t\t\t\t\tvar ctx = canvas.getContext('2d');\n\t\t\t\t\tctx.drawImage(img, x, y, w, h);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\n\t\t\t/**\n\t\t\t* Transform canvas coordination according to specified frame size and orientation\n\t\t\t* Orientation value is from EXIF tag\n\t\t\t* @author Shinichi Tomita <shinichi.tomita@gmail.com>\n\t\t\t*/\n\t\t\tfunction _rotateToOrientaion(width, height, orientation) {\n\t\t\t\tswitch (orientation) {\n\t\t\t\t\tcase 5:\n\t\t\t\t\tcase 6:\n\t\t\t\t\tcase 7:\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\t_canvas.width = height;\n\t\t\t\t\t\t_canvas.height = width;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t_canvas.width = width;\n\t\t\t\t\t\t_canvas.height = height;\n\t\t\t\t}\n\t\n\t\t\t\t/**\n\t\t\t\t1 = The 0th row is at the visual top of the image, and the 0th column is the visual left-hand side.\n\t\t\t\t2 = The 0th row is at the visual top of the image, and the 0th column is the visual right-hand side.\n\t\t\t\t3 = The 0th row is at the visual bottom of the image, and the 0th column is the visual right-hand side.\n\t\t\t\t4 = The 0th row is at the visual bottom of the image, and the 0th column is the visual left-hand side.\n\t\t\t\t5 = The 0th row is the visual left-hand side of the image, and the 0th column is the visual top.\n\t\t\t\t6 = The 0th row is the visual right-hand side of the image, and the 0th column is the visual top.\n\t\t\t\t7 = The 0th row is the visual right-hand side of the image, and the 0th column is the visual bottom.\n\t\t\t\t8 = The 0th row is the visual left-hand side of the image, and the 0th column is the visual bottom.\n\t\t\t\t*/\n\t\n\t\t\t\tvar ctx = _canvas.getContext('2d');\n\t\t\t\tswitch (orientation) {\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\t// horizontal flip\n\t\t\t\t\t\tctx.translate(width, 0);\n\t\t\t\t\t\tctx.scale(-1, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\t// 180 rotate left\n\t\t\t\t\t\tctx.translate(width, height);\n\t\t\t\t\t\tctx.rotate(Math.PI);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\t// vertical flip\n\t\t\t\t\t\tctx.translate(0, height);\n\t\t\t\t\t\tctx.scale(1, -1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\t// vertical flip + 90 rotate right\n\t\t\t\t\t\tctx.rotate(0.5 * Math.PI);\n\t\t\t\t\t\tctx.scale(1, -1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\t// 90 rotate right\n\t\t\t\t\t\tctx.rotate(0.5 * Math.PI);\n\t\t\t\t\t\tctx.translate(0, -height);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 7:\n\t\t\t\t\t\t// horizontal flip + 90 rotate right\n\t\t\t\t\t\tctx.rotate(0.5 * Math.PI);\n\t\t\t\t\t\tctx.translate(width, -height);\n\t\t\t\t\t\tctx.scale(-1, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\t// 90 rotate left\n\t\t\t\t\t\tctx.rotate(-0.5 * Math.PI);\n\t\t\t\t\t\tctx.translate(-width, 0);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\n\t\t\tfunction _purge() {\n\t\t\t\tif (_imgInfo) {\n\t\t\t\t\t_imgInfo.purge();\n\t\t\t\t\t_imgInfo = null;\n\t\t\t\t}\n\t\t\t\t_binStr = _img = _canvas = _blob = null;\n\t\t\t\t_modified = false;\n\t\t\t}\n\t\t}\n\t\n\t\treturn (extensions.Image = HTML5Image);\n\t});\n\t\n\t// Included from: src/javascript/runtime/flash/Runtime.js\n\t\n\t/**\n\t * Runtime.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/*global ActiveXObject:true */\n\t\n\t/**\n\tDefines constructor for Flash runtime.\n\t\n\t@class moxie/runtime/flash/Runtime\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/flash/Runtime\", [\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/core/utils/Env\",\n\t\t\"moxie/core/utils/Dom\",\n\t\t\"moxie/core/Exceptions\",\n\t\t\"moxie/runtime/Runtime\"\n\t], function(Basic, Env, Dom, x, Runtime) {\n\t\t\n\t\tvar type = 'flash', extensions = {};\n\t\n\t\t/**\n\t\tGet the version of the Flash Player\n\t\n\t\t@method getShimVersion\n\t\t@private\n\t\t@return {Number} Flash Player version\n\t\t*/\n\t\tfunction getShimVersion() {\n\t\t\tvar version;\n\t\n\t\t\ttry {\n\t\t\t\tversion = navigator.plugins['Shockwave Flash'];\n\t\t\t\tversion = version.description;\n\t\t\t} catch (e1) {\n\t\t\t\ttry {\n\t\t\t\t\tversion = new ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version');\n\t\t\t\t} catch (e2) {\n\t\t\t\t\tversion = '0.0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tversion = version.match(/\\d+/g);\n\t\t\treturn parseFloat(version[0] + '.' + version[1]);\n\t\t}\n\t\n\t\t/**\n\t\tConstructor for the Flash Runtime\n\t\n\t\t@class FlashRuntime\n\t\t@extends Runtime\n\t\t*/\n\t\tfunction FlashRuntime(options) {\n\t\t\tvar I = this, initTimer;\n\t\n\t\t\toptions = Basic.extend({ swf_url: Env.swf_url }, options);\n\t\n\t\t\tRuntime.call(this, options, type, {\n\t\t\t\taccess_binary: function(value) {\n\t\t\t\t\treturn value && I.mode === 'browser';\n\t\t\t\t},\n\t\t\t\taccess_image_binary: function(value) {\n\t\t\t\t\treturn value && I.mode === 'browser';\n\t\t\t\t},\n\t\t\t\tdisplay_media: Runtime.capTrue,\n\t\t\t\tdo_cors: Runtime.capTrue,\n\t\t\t\tdrag_and_drop: false,\n\t\t\t\treport_upload_progress: function() {\n\t\t\t\t\treturn I.mode === 'client';\n\t\t\t\t},\n\t\t\t\tresize_image: Runtime.capTrue,\n\t\t\t\treturn_response_headers: false,\n\t\t\t\treturn_response_type: function(responseType) {\n\t\t\t\t\tif (responseType === 'json' && !!window.JSON) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} \n\t\t\t\t\treturn !Basic.arrayDiff(responseType, ['', 'text', 'document']) || I.mode === 'browser';\n\t\t\t\t},\n\t\t\t\treturn_status_code: function(code) {\n\t\t\t\t\treturn I.mode === 'browser' || !Basic.arrayDiff(code, [200, 404]);\n\t\t\t\t},\n\t\t\t\tselect_file: Runtime.capTrue,\n\t\t\t\tselect_multiple: Runtime.capTrue,\n\t\t\t\tsend_binary_string: function(value) {\n\t\t\t\t\treturn value && I.mode === 'browser';\n\t\t\t\t},\n\t\t\t\tsend_browser_cookies: function(value) {\n\t\t\t\t\treturn value && I.mode === 'browser';\n\t\t\t\t},\n\t\t\t\tsend_custom_headers: function(value) {\n\t\t\t\t\treturn value && I.mode === 'browser';\n\t\t\t\t},\n\t\t\t\tsend_multipart: Runtime.capTrue,\n\t\t\t\tslice_blob: function(value) {\n\t\t\t\t\treturn value && I.mode === 'browser';\n\t\t\t\t},\n\t\t\t\tstream_upload: function(value) {\n\t\t\t\t\treturn value && I.mode === 'browser';\n\t\t\t\t},\n\t\t\t\tsummon_file_dialog: false,\n\t\t\t\tupload_filesize: function(size) {\n\t\t\t\t\treturn Basic.parseSizeStr(size) <= 2097152 || I.mode === 'client';\n\t\t\t\t},\n\t\t\t\tuse_http_method: function(methods) {\n\t\t\t\t\treturn !Basic.arrayDiff(methods, ['GET', 'POST']);\n\t\t\t\t}\n\t\t\t}, { \n\t\t\t\t// capabilities that require specific mode\n\t\t\t\taccess_binary: function(value) {\n\t\t\t\t\treturn value ? 'browser' : 'client';\n\t\t\t\t},\n\t\t\t\taccess_image_binary: function(value) {\n\t\t\t\t\treturn value ? 'browser' : 'client';\n\t\t\t\t},\n\t\t\t\treport_upload_progress: function(value) {\n\t\t\t\t\treturn value ? 'browser' : 'client';\n\t\t\t\t},\n\t\t\t\treturn_response_type: function(responseType) {\n\t\t\t\t\treturn Basic.arrayDiff(responseType, ['', 'text', 'json', 'document']) ? 'browser' : ['client', 'browser'];\n\t\t\t\t},\n\t\t\t\treturn_status_code: function(code) {\n\t\t\t\t\treturn Basic.arrayDiff(code, [200, 404]) ? 'browser' : ['client', 'browser'];\n\t\t\t\t},\n\t\t\t\tsend_binary_string: function(value) {\n\t\t\t\t\treturn value ? 'browser' : 'client';\n\t\t\t\t},\n\t\t\t\tsend_browser_cookies: function(value) {\n\t\t\t\t\treturn value ? 'browser' : 'client';\n\t\t\t\t},\n\t\t\t\tsend_custom_headers: function(value) {\n\t\t\t\t\treturn value ? 'browser' : 'client';\n\t\t\t\t},\n\t\t\t\tstream_upload: function(value) {\n\t\t\t\t\treturn value ? 'client' : 'browser';\n\t\t\t\t},\n\t\t\t\tupload_filesize: function(size) {\n\t\t\t\t\treturn Basic.parseSizeStr(size) >= 2097152 ? 'client' : 'browser';\n\t\t\t\t}\n\t\t\t}, 'client');\n\t\n\t\n\t\t\t// minimal requirement for Flash Player version\n\t\t\tif (getShimVersion() < 10) {\n\t\t\t\tthis.mode = false; // with falsy mode, runtime won't operable, no matter what the mode was before\n\t\t\t}\n\t\n\t\n\t\t\tBasic.extend(this, {\n\t\n\t\t\t\tgetShim: function() {\n\t\t\t\t\treturn Dom.get(this.uid);\n\t\t\t\t},\n\t\n\t\t\t\tshimExec: function(component, action) {\n\t\t\t\t\tvar args = [].slice.call(arguments, 2);\n\t\t\t\t\treturn I.getShim().exec(this.uid, component, action, args);\n\t\t\t\t},\n\t\n\t\t\t\tinit: function() {\n\t\t\t\t\tvar html, el, container;\n\t\n\t\t\t\t\tcontainer = this.getShimContainer();\n\t\n\t\t\t\t\t// if not the minimal height, shims are not initialized in older browsers (e.g FF3.6, IE6,7,8, Safari 4.0,5.0, etc)\n\t\t\t\t\tBasic.extend(container.style, {\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\ttop: '-8px',\n\t\t\t\t\t\tleft: '-8px',\n\t\t\t\t\t\twidth: '9px',\n\t\t\t\t\t\theight: '9px',\n\t\t\t\t\t\toverflow: 'hidden'\n\t\t\t\t\t});\n\t\n\t\t\t\t\t// insert flash object\n\t\t\t\t\thtml = '<object id=\"' + this.uid + '\" type=\"application/x-shockwave-flash\" data=\"' +  options.swf_url + '\" ';\n\t\n\t\t\t\t\tif (Env.browser === 'IE') {\n\t\t\t\t\t\thtml += 'classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" ';\n\t\t\t\t\t}\n\t\n\t\t\t\t\thtml += 'width=\"100%\" height=\"100%\" style=\"outline:0\">'  +\n\t\t\t\t\t\t'<param name=\"movie\" value=\"' + options.swf_url + '\" />' +\n\t\t\t\t\t\t'<param name=\"flashvars\" value=\"uid=' + escape(this.uid) + '&target=' + Env.global_event_dispatcher + '\" />' +\n\t\t\t\t\t\t'<param name=\"wmode\" value=\"transparent\" />' +\n\t\t\t\t\t\t'<param name=\"allowscriptaccess\" value=\"always\" />' +\n\t\t\t\t\t'</object>';\n\t\n\t\t\t\t\tif (Env.browser === 'IE') {\n\t\t\t\t\t\tel = document.createElement('div');\n\t\t\t\t\t\tcontainer.appendChild(el);\n\t\t\t\t\t\tel.outerHTML = html;\n\t\t\t\t\t\tel = container = null; // just in case\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontainer.innerHTML = html;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Init is dispatched by the shim\n\t\t\t\t\tinitTimer = setTimeout(function() {\n\t\t\t\t\t\tif (I && !I.initialized) { // runtime might be already destroyed by this moment\n\t\t\t\t\t\t\tI.trigger(\"Error\", new x.RuntimeError(x.RuntimeError.NOT_INIT_ERR));\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 5000);\n\t\t\t\t},\n\t\n\t\t\t\tdestroy: (function(destroy) { // extend default destroy method\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tdestroy.call(I);\n\t\t\t\t\t\tclearTimeout(initTimer); // initialization check might be still onwait\n\t\t\t\t\t\toptions = initTimer = destroy = I = null;\n\t\t\t\t\t};\n\t\t\t\t}(this.destroy))\n\t\n\t\t\t}, extensions);\n\t\t}\n\t\n\t\tRuntime.addConstructor(type, FlashRuntime);\n\t\n\t\treturn extensions;\n\t});\n\t\n\t// Included from: src/javascript/runtime/flash/file/Blob.js\n\t\n\t/**\n\t * Blob.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/flash/file/Blob\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/flash/file/Blob\", [\n\t\t\"moxie/runtime/flash/Runtime\",\n\t\t\"moxie/file/Blob\"\n\t], function(extensions, Blob) {\n\t\n\t\tvar FlashBlob = {\n\t\t\tslice: function(blob, start, end, type) {\n\t\t\t\tvar self = this.getRuntime();\n\t\n\t\t\t\tif (start < 0) {\n\t\t\t\t\tstart = Math.max(blob.size + start, 0);\n\t\t\t\t} else if (start > 0) {\n\t\t\t\t\tstart = Math.min(start, blob.size);\n\t\t\t\t}\n\t\n\t\t\t\tif (end < 0) {\n\t\t\t\t\tend = Math.max(blob.size + end, 0);\n\t\t\t\t} else if (end > 0) {\n\t\t\t\t\tend = Math.min(end, blob.size);\n\t\t\t\t}\n\t\n\t\t\t\tblob = self.shimExec.call(this, 'Blob', 'slice', start, end, type || '');\n\t\n\t\t\t\tif (blob) {\n\t\t\t\t\tblob = new Blob(self.uid, blob);\n\t\t\t\t}\n\t\t\t\treturn blob;\n\t\t\t}\n\t\t};\n\t\n\t\treturn (extensions.Blob = FlashBlob);\n\t});\n\t\n\t// Included from: src/javascript/runtime/flash/file/FileInput.js\n\t\n\t/**\n\t * FileInput.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/flash/file/FileInput\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/flash/file/FileInput\", [\n\t\t\"moxie/runtime/flash/Runtime\"\n\t], function(extensions) {\n\t\t\n\t\tvar FileInput = {\t\t\n\t\t\tinit: function(options) {\n\t\t\t\tthis.getRuntime().shimExec.call(this, 'FileInput', 'init', {\n\t\t\t\t\tname: options.name,\n\t\t\t\t\taccept: options.accept,\n\t\t\t\t\tmultiple: options.multiple\n\t\t\t\t});\n\t\t\t\tthis.trigger('ready');\n\t\t\t}\n\t\t};\n\t\n\t\treturn (extensions.FileInput = FileInput);\n\t});\n\t\n\t// Included from: src/javascript/runtime/flash/file/FileReader.js\n\t\n\t/**\n\t * FileReader.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/flash/file/FileReader\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/flash/file/FileReader\", [\n\t\t\"moxie/runtime/flash/Runtime\",\n\t\t\"moxie/core/utils/Encode\"\n\t], function(extensions, Encode) {\n\t\n\t\tvar _result = '';\n\t\n\t\tfunction _formatData(data, op) {\n\t\t\tswitch (op) {\n\t\t\t\tcase 'readAsText':\n\t\t\t\t\treturn Encode.atob(data, 'utf8');\n\t\t\t\tcase 'readAsBinaryString':\n\t\t\t\t\treturn Encode.atob(data);\n\t\t\t\tcase 'readAsDataURL':\n\t\t\t\t\treturn data;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\n\t\tvar FileReader = {\n\t\t\tread: function(op, blob) {\n\t\t\t\tvar target = this, self = target.getRuntime();\n\t\n\t\t\t\t// special prefix for DataURL read mode\n\t\t\t\tif (op === 'readAsDataURL') {\n\t\t\t\t\t_result = 'data:' + (blob.type || '') + ';base64,';\n\t\t\t\t}\n\t\n\t\t\t\ttarget.bind('Progress', function(e, data) {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\t_result += _formatData(data, op);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\treturn self.shimExec.call(this, 'FileReader', 'readAsBase64', blob.uid);\n\t\t\t},\n\t\n\t\t\tgetResult: function() {\n\t\t\t\treturn _result;\n\t\t\t},\n\t\n\t\t\tdestroy: function() {\n\t\t\t\t_result = null;\n\t\t\t}\n\t\t};\n\t\n\t\treturn (extensions.FileReader = FileReader);\n\t});\n\t\n\t// Included from: src/javascript/runtime/flash/file/FileReaderSync.js\n\t\n\t/**\n\t * FileReaderSync.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/flash/file/FileReaderSync\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/flash/file/FileReaderSync\", [\n\t\t\"moxie/runtime/flash/Runtime\",\n\t\t\"moxie/core/utils/Encode\"\n\t], function(extensions, Encode) {\n\t\t\n\t\tfunction _formatData(data, op) {\n\t\t\tswitch (op) {\n\t\t\t\tcase 'readAsText':\n\t\t\t\t\treturn Encode.atob(data, 'utf8');\n\t\t\t\tcase 'readAsBinaryString':\n\t\t\t\t\treturn Encode.atob(data);\n\t\t\t\tcase 'readAsDataURL':\n\t\t\t\t\treturn data;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\n\t\tvar FileReaderSync = {\n\t\t\tread: function(op, blob) {\n\t\t\t\tvar result, self = this.getRuntime();\n\t\n\t\t\t\tresult = self.shimExec.call(this, 'FileReaderSync', 'readAsBase64', blob.uid);\n\t\t\t\tif (!result) {\n\t\t\t\t\treturn null; // or throw ex\n\t\t\t\t}\n\t\n\t\t\t\t// special prefix for DataURL read mode\n\t\t\t\tif (op === 'readAsDataURL') {\n\t\t\t\t\tresult = 'data:' + (blob.type || '') + ';base64,' + result;\n\t\t\t\t}\n\t\n\t\t\t\treturn _formatData(result, op, blob.type);\n\t\t\t}\n\t\t};\n\t\n\t\treturn (extensions.FileReaderSync = FileReaderSync);\n\t});\n\t\n\t// Included from: src/javascript/runtime/flash/xhr/XMLHttpRequest.js\n\t\n\t/**\n\t * XMLHttpRequest.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/flash/xhr/XMLHttpRequest\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/flash/xhr/XMLHttpRequest\", [\n\t\t\"moxie/runtime/flash/Runtime\",\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/file/Blob\",\n\t\t\"moxie/file/File\",\n\t\t\"moxie/file/FileReaderSync\",\n\t\t\"moxie/xhr/FormData\",\n\t\t\"moxie/runtime/Transporter\"\n\t], function(extensions, Basic, Blob, File, FileReaderSync, FormData, Transporter) {\n\t\t\n\t\tvar XMLHttpRequest = {\n\t\n\t\t\tsend: function(meta, data) {\n\t\t\t\tvar target = this, self = target.getRuntime();\n\t\n\t\t\t\tfunction send() {\n\t\t\t\t\tmeta.transport = self.mode;\n\t\t\t\t\tself.shimExec.call(target, 'XMLHttpRequest', 'send', meta, data);\n\t\t\t\t}\n\t\n\t\n\t\t\t\tfunction appendBlob(name, blob) {\n\t\t\t\t\tself.shimExec.call(target, 'XMLHttpRequest', 'appendBlob', name, blob.uid);\n\t\t\t\t\tdata = null;\n\t\t\t\t\tsend();\n\t\t\t\t}\n\t\n\t\n\t\t\t\tfunction attachBlob(blob, cb) {\n\t\t\t\t\tvar tr = new Transporter();\n\t\n\t\t\t\t\ttr.bind(\"TransportingComplete\", function() {\n\t\t\t\t\t\tcb(this.result);\n\t\t\t\t\t});\n\t\n\t\t\t\t\ttr.transport(blob.getSource(), blob.type, {\n\t\t\t\t\t\truid: self.uid\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\t// copy over the headers if any\n\t\t\t\tif (!Basic.isEmptyObj(meta.headers)) {\n\t\t\t\t\tBasic.each(meta.headers, function(value, header) {\n\t\t\t\t\t\tself.shimExec.call(target, 'XMLHttpRequest', 'setRequestHeader', header, value.toString()); // Silverlight doesn't accept integers into the arguments of type object\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\t// transfer over multipart params and blob itself\n\t\t\t\tif (data instanceof FormData) {\n\t\t\t\t\tvar blobField;\n\t\t\t\t\tdata.each(function(value, name) {\n\t\t\t\t\t\tif (value instanceof Blob) {\n\t\t\t\t\t\t\tblobField = name;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.shimExec.call(target, 'XMLHttpRequest', 'append', name, value);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\n\t\t\t\t\tif (!data.hasBlob()) {\n\t\t\t\t\t\tdata = null;\n\t\t\t\t\t\tsend();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar blob = data.getBlob();\n\t\t\t\t\t\tif (blob.isDetached()) {\n\t\t\t\t\t\t\tattachBlob(blob, function(attachedBlob) {\n\t\t\t\t\t\t\t\tblob.destroy();\n\t\t\t\t\t\t\t\tappendBlob(blobField, attachedBlob);\t\t\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tappendBlob(blobField, blob);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (data instanceof Blob) {\n\t\t\t\t\tif (data.isDetached()) {\n\t\t\t\t\t\tattachBlob(data, function(attachedBlob) {\n\t\t\t\t\t\t\tdata.destroy();\n\t\t\t\t\t\t\tdata = attachedBlob.uid;\n\t\t\t\t\t\t\tsend();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdata = data.uid;\n\t\t\t\t\t\tsend();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsend();\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tgetResponse: function(responseType) {\n\t\t\t\tvar frs, blob, self = this.getRuntime();\n\t\n\t\t\t\tblob = self.shimExec.call(this, 'XMLHttpRequest', 'getResponseAsBlob');\n\t\n\t\t\t\tif (blob) {\n\t\t\t\t\tblob = new File(self.uid, blob);\n\t\n\t\t\t\t\tif ('blob' === responseType) {\n\t\t\t\t\t\treturn blob;\n\t\t\t\t\t}\n\t\n\t\t\t\t\ttry { \n\t\t\t\t\t\tfrs = new FileReaderSync();\n\t\n\t\t\t\t\t\tif (!!~Basic.inArray(responseType, [\"\", \"text\"])) {\n\t\t\t\t\t\t\treturn frs.readAsText(blob);\n\t\t\t\t\t\t} else if ('json' === responseType && !!window.JSON) {\n\t\t\t\t\t\t\treturn JSON.parse(frs.readAsText(blob));\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tblob.destroy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\t\n\t\t\tabort: function(upload_complete_flag) {\n\t\t\t\tvar self = this.getRuntime();\n\t\n\t\t\t\tself.shimExec.call(this, 'XMLHttpRequest', 'abort');\n\t\n\t\t\t\tthis.dispatchEvent('readystatechange');\n\t\t\t\t// this.dispatchEvent('progress');\n\t\t\t\tthis.dispatchEvent('abort');\n\t\n\t\t\t\t//if (!upload_complete_flag) {\n\t\t\t\t\t// this.dispatchEvent('uploadprogress');\n\t\t\t\t//}\n\t\t\t}\n\t\t};\n\t\n\t\treturn (extensions.XMLHttpRequest = XMLHttpRequest);\n\t});\n\t\n\t// Included from: src/javascript/runtime/flash/runtime/Transporter.js\n\t\n\t/**\n\t * Transporter.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/flash/runtime/Transporter\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/flash/runtime/Transporter\", [\n\t\t\"moxie/runtime/flash/Runtime\",\n\t\t\"moxie/file/Blob\"\n\t], function(extensions, Blob) {\n\t\n\t\tvar Transporter = {\n\t\t\tgetAsBlob: function(type) {\n\t\t\t\tvar self = this.getRuntime()\n\t\t\t\t, blob = self.shimExec.call(this, 'Transporter', 'getAsBlob', type)\n\t\t\t\t;\n\t\t\t\tif (blob) {\n\t\t\t\t\treturn new Blob(self.uid, blob);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t};\n\t\n\t\treturn (extensions.Transporter = Transporter);\n\t});\n\t\n\t// Included from: src/javascript/runtime/flash/image/Image.js\n\t\n\t/**\n\t * Image.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/flash/image/Image\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/flash/image/Image\", [\n\t\t\"moxie/runtime/flash/Runtime\",\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/runtime/Transporter\",\n\t\t\"moxie/file/Blob\",\n\t\t\"moxie/file/FileReaderSync\"\n\t], function(extensions, Basic, Transporter, Blob, FileReaderSync) {\n\t\t\n\t\tvar Image = {\n\t\t\tloadFromBlob: function(blob) {\n\t\t\t\tvar comp = this, self = comp.getRuntime();\n\t\n\t\t\t\tfunction exec(srcBlob) {\n\t\t\t\t\tself.shimExec.call(comp, 'Image', 'loadFromBlob', srcBlob.uid);\n\t\t\t\t\tcomp = self = null;\n\t\t\t\t}\n\t\n\t\t\t\tif (blob.isDetached()) { // binary string\n\t\t\t\t\tvar tr = new Transporter();\n\t\t\t\t\ttr.bind(\"TransportingComplete\", function() {\n\t\t\t\t\t\texec(tr.result.getSource());\n\t\t\t\t\t});\n\t\t\t\t\ttr.transport(blob.getSource(), blob.type, { ruid: self.uid });\n\t\t\t\t} else {\n\t\t\t\t\texec(blob.getSource());\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tloadFromImage: function(img) {\n\t\t\t\tvar self = this.getRuntime();\n\t\t\t\treturn self.shimExec.call(this, 'Image', 'loadFromImage', img.uid);\n\t\t\t},\n\t\n\t\t\tgetAsBlob: function(type, quality) {\n\t\t\t\tvar self = this.getRuntime()\n\t\t\t\t, blob = self.shimExec.call(this, 'Image', 'getAsBlob', type, quality)\n\t\t\t\t;\n\t\t\t\tif (blob) {\n\t\t\t\t\treturn new Blob(self.uid, blob);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\t\n\t\t\tgetAsDataURL: function() {\n\t\t\t\tvar self = this.getRuntime()\n\t\t\t\t, blob = self.Image.getAsBlob.apply(this, arguments)\n\t\t\t\t, frs\n\t\t\t\t;\n\t\t\t\tif (!blob) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tfrs = new FileReaderSync();\n\t\t\t\treturn frs.readAsDataURL(blob);\n\t\t\t}\n\t\t};\n\t\n\t\treturn (extensions.Image = Image);\n\t});\n\t\n\t// Included from: src/javascript/runtime/silverlight/Runtime.js\n\t\n\t/**\n\t * RunTime.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/*global ActiveXObject:true */\n\t\n\t/**\n\tDefines constructor for Silverlight runtime.\n\t\n\t@class moxie/runtime/silverlight/Runtime\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/silverlight/Runtime\", [\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/core/utils/Env\",\n\t\t\"moxie/core/utils/Dom\",\n\t\t\"moxie/core/Exceptions\",\n\t\t\"moxie/runtime/Runtime\"\n\t], function(Basic, Env, Dom, x, Runtime) {\n\t\t\n\t\tvar type = \"silverlight\", extensions = {};\n\t\n\t\tfunction isInstalled(version) {\n\t\t\tvar isVersionSupported = false, control = null, actualVer,\n\t\t\t\tactualVerArray, reqVerArray, requiredVersionPart, actualVersionPart, index = 0;\n\t\n\t\t\ttry {\n\t\t\t\ttry {\n\t\t\t\t\tcontrol = new ActiveXObject('AgControl.AgControl');\n\t\n\t\t\t\t\tif (control.IsVersionSupported(version)) {\n\t\t\t\t\t\tisVersionSupported = true;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tcontrol = null;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tvar plugin = navigator.plugins[\"Silverlight Plug-In\"];\n\t\n\t\t\t\t\tif (plugin) {\n\t\t\t\t\t\tactualVer = plugin.description;\n\t\n\t\t\t\t\t\tif (actualVer === \"1.0.30226.2\") {\n\t\t\t\t\t\t\tactualVer = \"2.0.30226.2\";\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tactualVerArray = actualVer.split(\".\");\n\t\n\t\t\t\t\t\twhile (actualVerArray.length > 3) {\n\t\t\t\t\t\t\tactualVerArray.pop();\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\twhile ( actualVerArray.length < 4) {\n\t\t\t\t\t\t\tactualVerArray.push(0);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\treqVerArray = version.split(\".\");\n\t\n\t\t\t\t\t\twhile (reqVerArray.length > 4) {\n\t\t\t\t\t\t\treqVerArray.pop();\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\trequiredVersionPart = parseInt(reqVerArray[index], 10);\n\t\t\t\t\t\t\tactualVersionPart = parseInt(actualVerArray[index], 10);\n\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t} while (index < reqVerArray.length && requiredVersionPart === actualVersionPart);\n\t\n\t\t\t\t\t\tif (requiredVersionPart <= actualVersionPart && !isNaN(requiredVersionPart)) {\n\t\t\t\t\t\t\tisVersionSupported = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e2) {\n\t\t\t\tisVersionSupported = false;\n\t\t\t}\n\t\n\t\t\treturn isVersionSupported;\n\t\t}\n\t\n\t\t/**\n\t\tConstructor for the Silverlight Runtime\n\t\n\t\t@class SilverlightRuntime\n\t\t@extends Runtime\n\t\t*/\n\t\tfunction SilverlightRuntime(options) {\n\t\t\tvar I = this, initTimer;\n\t\n\t\t\toptions = Basic.extend({ xap_url: Env.xap_url }, options);\n\t\n\t\t\tRuntime.call(this, options, type, {\n\t\t\t\taccess_binary: Runtime.capTrue,\n\t\t\t\taccess_image_binary: Runtime.capTrue,\n\t\t\t\tdisplay_media: Runtime.capTrue,\n\t\t\t\tdo_cors: Runtime.capTrue,\n\t\t\t\tdrag_and_drop: false,\n\t\t\t\treport_upload_progress: Runtime.capTrue,\n\t\t\t\tresize_image: Runtime.capTrue,\n\t\t\t\treturn_response_headers: function(value) {\n\t\t\t\t\treturn value && I.mode === 'client';\n\t\t\t\t},\n\t\t\t\treturn_response_type: function(responseType) {\n\t\t\t\t\tif (responseType !== 'json') {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn !!window.JSON;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\treturn_status_code: function(code) {\n\t\t\t\t\treturn I.mode === 'client' || !Basic.arrayDiff(code, [200, 404]);\n\t\t\t\t},\n\t\t\t\tselect_file: Runtime.capTrue,\n\t\t\t\tselect_multiple: Runtime.capTrue,\n\t\t\t\tsend_binary_string: Runtime.capTrue,\n\t\t\t\tsend_browser_cookies: function(value) {\n\t\t\t\t\treturn value && I.mode === 'browser';\n\t\t\t\t},\n\t\t\t\tsend_custom_headers: function(value) {\n\t\t\t\t\treturn value && I.mode === 'client';\n\t\t\t\t},\n\t\t\t\tsend_multipart: Runtime.capTrue,\n\t\t\t\tslice_blob: Runtime.capTrue,\n\t\t\t\tstream_upload: true,\n\t\t\t\tsummon_file_dialog: false,\n\t\t\t\tupload_filesize: Runtime.capTrue,\n\t\t\t\tuse_http_method: function(methods) {\n\t\t\t\t\treturn I.mode === 'client' || !Basic.arrayDiff(methods, ['GET', 'POST']);\n\t\t\t\t}\n\t\t\t}, { \n\t\t\t\t// capabilities that require specific mode\n\t\t\t\treturn_response_headers: function(value) {\n\t\t\t\t\treturn value ? 'client' : 'browser';\n\t\t\t\t},\n\t\t\t\treturn_status_code: function(code) {\n\t\t\t\t\treturn Basic.arrayDiff(code, [200, 404]) ? 'client' : ['client', 'browser'];\n\t\t\t\t},\n\t\t\t\tsend_browser_cookies: function(value) {\n\t\t\t\t\treturn value ? 'browser' : 'client';\n\t\t\t\t},\n\t\t\t\tsend_custom_headers: function(value) {\n\t\t\t\t\treturn value ? 'client' : 'browser';\n\t\t\t\t},\n\t\t\t\tuse_http_method: function(methods) {\n\t\t\t\t\treturn Basic.arrayDiff(methods, ['GET', 'POST']) ? 'client' : ['client', 'browser'];\n\t\t\t\t}\n\t\t\t});\n\t\n\t\n\t\t\t// minimal requirement\n\t\t\tif (!isInstalled('2.0.31005.0') || Env.browser === 'Opera') {\n\t\t\t\tthis.mode = false;\n\t\t\t}\n\t\n\t\n\t\t\tBasic.extend(this, {\n\t\t\t\tgetShim: function() {\n\t\t\t\t\treturn Dom.get(this.uid).content.Moxie;\n\t\t\t\t},\n\t\n\t\t\t\tshimExec: function(component, action) {\n\t\t\t\t\tvar args = [].slice.call(arguments, 2);\n\t\t\t\t\treturn I.getShim().exec(this.uid, component, action, args);\n\t\t\t\t},\n\t\n\t\t\t\tinit : function() {\n\t\t\t\t\tvar container;\n\t\n\t\t\t\t\tcontainer = this.getShimContainer();\n\t\n\t\t\t\t\tcontainer.innerHTML = '<object id=\"' + this.uid + '\" data=\"data:application/x-silverlight,\" type=\"application/x-silverlight-2\" width=\"100%\" height=\"100%\" style=\"outline:none;\">' +\n\t\t\t\t\t\t'<param name=\"source\" value=\"' + options.xap_url + '\"/>' +\n\t\t\t\t\t\t'<param name=\"background\" value=\"Transparent\"/>' +\n\t\t\t\t\t\t'<param name=\"windowless\" value=\"true\"/>' +\n\t\t\t\t\t\t'<param name=\"enablehtmlaccess\" value=\"true\"/>' +\n\t\t\t\t\t\t'<param name=\"initParams\" value=\"uid=' + this.uid + ',target=' + Env.global_event_dispatcher + '\"/>' +\n\t\t\t\t\t'</object>';\n\t\n\t\t\t\t\t// Init is dispatched by the shim\n\t\t\t\t\tinitTimer = setTimeout(function() {\n\t\t\t\t\t\tif (I && !I.initialized) { // runtime might be already destroyed by this moment\n\t\t\t\t\t\t\tI.trigger(\"Error\", new x.RuntimeError(x.RuntimeError.NOT_INIT_ERR));\n\t\t\t\t\t\t}\n\t\t\t\t\t}, Env.OS !== 'Windows'? 10000 : 5000); // give it more time to initialize in non Windows OS (like Mac)\n\t\t\t\t},\n\t\n\t\t\t\tdestroy: (function(destroy) { // extend default destroy method\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tdestroy.call(I);\n\t\t\t\t\t\tclearTimeout(initTimer); // initialization check might be still onwait\n\t\t\t\t\t\toptions = initTimer = destroy = I = null;\n\t\t\t\t\t};\n\t\t\t\t}(this.destroy))\n\t\n\t\t\t}, extensions);\n\t\t}\n\t\n\t\tRuntime.addConstructor(type, SilverlightRuntime); \n\t\n\t\treturn extensions;\n\t});\n\t\n\t// Included from: src/javascript/runtime/silverlight/file/Blob.js\n\t\n\t/**\n\t * Blob.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/silverlight/file/Blob\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/silverlight/file/Blob\", [\n\t\t\"moxie/runtime/silverlight/Runtime\",\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/runtime/flash/file/Blob\"\n\t], function(extensions, Basic, Blob) {\n\t\treturn (extensions.Blob = Basic.extend({}, Blob));\n\t});\n\t\n\t// Included from: src/javascript/runtime/silverlight/file/FileInput.js\n\t\n\t/**\n\t * FileInput.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/silverlight/file/FileInput\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/silverlight/file/FileInput\", [\n\t\t\"moxie/runtime/silverlight/Runtime\"\n\t], function(extensions) {\n\t\t\n\t\tvar FileInput = {\n\t\t\tinit: function(options) {\n\t\n\t\t\t\tfunction toFilters(accept) {\n\t\t\t\t\tvar filter = '';\n\t\t\t\t\tfor (var i = 0; i < accept.length; i++) {\n\t\t\t\t\t\tfilter += (filter !== '' ? '|' : '') + accept[i].title + \" | *.\" + accept[i].extensions.replace(/,/g, ';*.');\n\t\t\t\t\t}\n\t\t\t\t\treturn filter;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.getRuntime().shimExec.call(this, 'FileInput', 'init', toFilters(options.accept), options.name, options.multiple);\n\t\t\t\tthis.trigger('ready');\n\t\t\t}\n\t\t};\n\t\n\t\treturn (extensions.FileInput = FileInput);\n\t});\n\t\n\t// Included from: src/javascript/runtime/silverlight/file/FileDrop.js\n\t\n\t/**\n\t * FileDrop.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/silverlight/file/FileDrop\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/silverlight/file/FileDrop\", [\n\t\t\"moxie/runtime/silverlight/Runtime\",\n\t\t\"moxie/core/utils/Dom\", \n\t\t\"moxie/core/utils/Events\"\n\t], function(extensions, Dom, Events) {\n\t\n\t\t// not exactly useful, since works only in safari (...crickets...)\n\t\tvar FileDrop = {\n\t\t\tinit: function() {\n\t\t\t\tvar comp = this, self = comp.getRuntime(), dropZone;\n\t\n\t\t\t\tdropZone = self.getShimContainer();\n\t\n\t\t\t\tEvents.addEvent(dropZone, 'dragover', function(e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.dataTransfer.dropEffect = 'copy';\n\t\t\t\t}, comp.uid);\n\t\n\t\t\t\tEvents.addEvent(dropZone, 'dragenter', function(e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tvar flag = Dom.get(self.uid).dragEnter(e);\n\t\t\t\t\t// If handled, then stop propagation of event in DOM\n\t\t\t\t\tif (flag) {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t}, comp.uid);\n\t\n\t\t\t\tEvents.addEvent(dropZone, 'drop', function(e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tvar flag = Dom.get(self.uid).dragDrop(e);\n\t\t\t\t\t// If handled, then stop propagation of event in DOM\n\t\t\t\t\tif (flag) {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t}, comp.uid);\n\t\n\t\t\t\treturn self.shimExec.call(this, 'FileDrop', 'init');\n\t\t\t}\n\t\t};\n\t\n\t\treturn (extensions.FileDrop = FileDrop);\n\t});\n\t\n\t// Included from: src/javascript/runtime/silverlight/file/FileReader.js\n\t\n\t/**\n\t * FileReader.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/silverlight/file/FileReader\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/silverlight/file/FileReader\", [\n\t\t\"moxie/runtime/silverlight/Runtime\",\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/runtime/flash/file/FileReader\"\n\t], function(extensions, Basic, FileReader) {\n\t\treturn (extensions.FileReader = Basic.extend({}, FileReader));\n\t});\n\t\n\t// Included from: src/javascript/runtime/silverlight/file/FileReaderSync.js\n\t\n\t/**\n\t * FileReaderSync.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/silverlight/file/FileReaderSync\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/silverlight/file/FileReaderSync\", [\n\t\t\"moxie/runtime/silverlight/Runtime\",\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/runtime/flash/file/FileReaderSync\"\n\t], function(extensions, Basic, FileReaderSync) {\n\t\treturn (extensions.FileReaderSync = Basic.extend({}, FileReaderSync));\n\t});\n\t\n\t// Included from: src/javascript/runtime/silverlight/xhr/XMLHttpRequest.js\n\t\n\t/**\n\t * XMLHttpRequest.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/silverlight/xhr/XMLHttpRequest\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/silverlight/xhr/XMLHttpRequest\", [\n\t\t\"moxie/runtime/silverlight/Runtime\",\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/runtime/flash/xhr/XMLHttpRequest\"\n\t], function(extensions, Basic, XMLHttpRequest) {\n\t\treturn (extensions.XMLHttpRequest = Basic.extend({}, XMLHttpRequest));\n\t});\n\t\n\t// Included from: src/javascript/runtime/silverlight/runtime/Transporter.js\n\t\n\t/**\n\t * Transporter.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/silverlight/runtime/Transporter\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/silverlight/runtime/Transporter\", [\n\t\t\"moxie/runtime/silverlight/Runtime\",\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/runtime/flash/runtime/Transporter\"\n\t], function(extensions, Basic, Transporter) {\n\t\treturn (extensions.Transporter = Basic.extend({}, Transporter));\n\t});\n\t\n\t// Included from: src/javascript/runtime/silverlight/image/Image.js\n\t\n\t/**\n\t * Image.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t \n\t/**\n\t@class moxie/runtime/silverlight/image/Image\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/silverlight/image/Image\", [\n\t\t\"moxie/runtime/silverlight/Runtime\",\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/runtime/flash/image/Image\"\n\t], function(extensions, Basic, Image) {\n\t\treturn (extensions.Image = Basic.extend({}, Image, {\n\t\n\t\t\tgetInfo: function() {\n\t\t\t\tvar self = this.getRuntime()\n\t\t\t\t, grps = ['tiff', 'exif', 'gps']\n\t\t\t\t, info = { meta: {} }\n\t\t\t\t, rawInfo = self.shimExec.call(this, 'Image', 'getInfo')\n\t\t\t\t;\n\t\n\t\t\t\tif (rawInfo.meta) {\n\t\t\t\t\tBasic.each(grps, function(grp) {\n\t\t\t\t\t\tvar meta = rawInfo.meta[grp]\n\t\t\t\t\t\t, tag\n\t\t\t\t\t\t, i\n\t\t\t\t\t\t, length\n\t\t\t\t\t\t, value\n\t\t\t\t\t\t;\n\t\t\t\t\t\tif (meta && meta.keys) {\n\t\t\t\t\t\t\tinfo.meta[grp] = {};\n\t\t\t\t\t\t\tfor (i = 0, length = meta.keys.length; i < length; i++) {\n\t\t\t\t\t\t\t\ttag = meta.keys[i];\n\t\t\t\t\t\t\t\tvalue = meta[tag];\n\t\t\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t\t\t// convert numbers\n\t\t\t\t\t\t\t\t\tif (/^(\\d|[1-9]\\d+)$/.test(value)) { // integer (make sure doesn't start with zero)\n\t\t\t\t\t\t\t\t\t\tvalue = parseInt(value, 10);\n\t\t\t\t\t\t\t\t\t} else if (/^\\d*\\.\\d+$/.test(value)) { // double\n\t\t\t\t\t\t\t\t\t\tvalue = parseFloat(value);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tinfo.meta[grp][tag] = value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\tinfo.width = parseInt(rawInfo.width, 10);\n\t\t\t\tinfo.height = parseInt(rawInfo.height, 10);\n\t\t\t\tinfo.size = parseInt(rawInfo.size, 10);\n\t\t\t\tinfo.type = rawInfo.type;\n\t\t\t\tinfo.name = rawInfo.name;\n\t\n\t\t\t\treturn info;\n\t\t\t}\n\t\t}));\n\t});\n\t\n\t// Included from: src/javascript/runtime/html4/Runtime.js\n\t\n\t/**\n\t * Runtime.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/*global File:true */\n\t\n\t/**\n\tDefines constructor for HTML4 runtime.\n\t\n\t@class moxie/runtime/html4/Runtime\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html4/Runtime\", [\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/core/Exceptions\",\n\t\t\"moxie/runtime/Runtime\",\n\t\t\"moxie/core/utils/Env\"\n\t], function(Basic, x, Runtime, Env) {\n\t\t\n\t\tvar type = 'html4', extensions = {};\n\t\n\t\tfunction Html4Runtime(options) {\n\t\t\tvar I = this\n\t\t\t, Test = Runtime.capTest\n\t\t\t, True = Runtime.capTrue\n\t\t\t;\n\t\n\t\t\tRuntime.call(this, options, type, {\n\t\t\t\taccess_binary: Test(window.FileReader || window.File && File.getAsDataURL),\n\t\t\t\taccess_image_binary: false,\n\t\t\t\tdisplay_media: Test(extensions.Image && (Env.can('create_canvas') || Env.can('use_data_uri_over32kb'))),\n\t\t\t\tdo_cors: false,\n\t\t\t\tdrag_and_drop: false,\n\t\t\t\tfilter_by_extension: Test(function() { // if you know how to feature-detect this, please suggest\n\t\t\t\t\treturn (Env.browser === 'Chrome' && Env.version >= 28) || (Env.browser === 'IE' && Env.version >= 10);\n\t\t\t\t}()),\n\t\t\t\tresize_image: function() {\n\t\t\t\t\treturn extensions.Image && I.can('access_binary') && Env.can('create_canvas');\n\t\t\t\t},\n\t\t\t\treport_upload_progress: false,\n\t\t\t\treturn_response_headers: false,\n\t\t\t\treturn_response_type: function(responseType) {\n\t\t\t\t\tif (responseType === 'json' && !!window.JSON) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} \n\t\t\t\t\treturn !!~Basic.inArray(responseType, ['text', 'document', '']);\n\t\t\t\t},\n\t\t\t\treturn_status_code: function(code) {\n\t\t\t\t\treturn !Basic.arrayDiff(code, [200, 404]);\n\t\t\t\t},\n\t\t\t\tselect_file: function() {\n\t\t\t\t\treturn Env.can('use_fileinput');\n\t\t\t\t},\n\t\t\t\tselect_multiple: false,\n\t\t\t\tsend_binary_string: false,\n\t\t\t\tsend_custom_headers: false,\n\t\t\t\tsend_multipart: true,\n\t\t\t\tslice_blob: false,\n\t\t\t\tstream_upload: function() {\n\t\t\t\t\treturn I.can('select_file');\n\t\t\t\t},\n\t\t\t\tsummon_file_dialog: Test(function() { // yeah... some dirty sniffing here...\n\t\t\t\t\treturn (Env.browser === 'Firefox' && Env.version >= 4) ||\n\t\t\t\t\t\t(Env.browser === 'Opera' && Env.version >= 12) ||\n\t\t\t\t\t\t!!~Basic.inArray(Env.browser, ['Chrome', 'Safari']);\n\t\t\t\t}()),\n\t\t\t\tupload_filesize: True,\n\t\t\t\tuse_http_method: function(methods) {\n\t\t\t\t\treturn !Basic.arrayDiff(methods, ['GET', 'POST']);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\n\t\t\tBasic.extend(this, {\n\t\t\t\tinit : function() {\n\t\t\t\t\tthis.trigger(\"Init\");\n\t\t\t\t},\n\t\n\t\t\t\tdestroy: (function(destroy) { // extend default destroy method\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tdestroy.call(I);\n\t\t\t\t\t\tdestroy = I = null;\n\t\t\t\t\t};\n\t\t\t\t}(this.destroy))\n\t\t\t});\n\t\n\t\t\tBasic.extend(this.getShim(), extensions);\n\t\t}\n\t\n\t\tRuntime.addConstructor(type, Html4Runtime);\n\t\n\t\treturn extensions;\n\t});\n\t\n\t// Included from: src/javascript/runtime/html4/file/FileInput.js\n\t\n\t/**\n\t * FileInput.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/html4/file/FileInput\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html4/file/FileInput\", [\n\t\t\"moxie/runtime/html4/Runtime\",\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/core/utils/Dom\",\n\t\t\"moxie/core/utils/Events\",\n\t\t\"moxie/core/utils/Mime\",\n\t\t\"moxie/core/utils/Env\"\n\t], function(extensions, Basic, Dom, Events, Mime, Env) {\n\t\t\n\t\tfunction FileInput() {\n\t\t\tvar _uid, _files = [], _mimes = [], _options;\n\t\n\t\t\tfunction addInput() {\n\t\t\t\tvar comp = this, I = comp.getRuntime(), shimContainer, browseButton, currForm, form, input, uid;\n\t\n\t\t\t\tuid = Basic.guid('uid_');\n\t\n\t\t\t\tshimContainer = I.getShimContainer(); // we get new ref everytime to avoid memory leaks in IE\n\t\n\t\t\t\tif (_uid) { // move previous form out of the view\n\t\t\t\t\tcurrForm = Dom.get(_uid + '_form');\n\t\t\t\t\tif (currForm) {\n\t\t\t\t\t\tBasic.extend(currForm.style, { top: '100%' });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t// build form in DOM, since innerHTML version not able to submit file for some reason\n\t\t\t\tform = document.createElement('form');\n\t\t\t\tform.setAttribute('id', uid + '_form');\n\t\t\t\tform.setAttribute('method', 'post');\n\t\t\t\tform.setAttribute('enctype', 'multipart/form-data');\n\t\t\t\tform.setAttribute('encoding', 'multipart/form-data');\n\t\n\t\t\t\tBasic.extend(form.style, {\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100%'\n\t\t\t\t});\n\t\n\t\t\t\tinput = document.createElement('input');\n\t\t\t\tinput.setAttribute('id', uid);\n\t\t\t\tinput.setAttribute('type', 'file');\n\t\t\t\tinput.setAttribute('name', _options.name || 'Filedata');\n\t\t\t\tinput.setAttribute('accept', _mimes.join(','));\n\t\n\t\t\t\tBasic.extend(input.style, {\n\t\t\t\t\tfontSize: '999px',\n\t\t\t\t\topacity: 0\n\t\t\t\t});\n\t\n\t\t\t\tform.appendChild(input);\n\t\t\t\tshimContainer.appendChild(form);\n\t\n\t\t\t\t// prepare file input to be placed underneath the browse_button element\n\t\t\t\tBasic.extend(input.style, {\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100%'\n\t\t\t\t});\n\t\n\t\t\t\tif (Env.browser === 'IE' && Env.version < 10) {\n\t\t\t\t\tBasic.extend(input.style, {\n\t\t\t\t\t\tfilter : \"progid:DXImageTransform.Microsoft.Alpha(opacity=0)\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\tinput.onchange = function() { // there should be only one handler for this\n\t\t\t\t\tvar file;\n\t\n\t\t\t\t\tif (!this.value) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (this.files) {\n\t\t\t\t\t\tfile = this.files[0];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfile = {\n\t\t\t\t\t\t\tname: this.value\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\n\t\t\t\t\t_files = [file];\n\t\n\t\t\t\t\tthis.onchange = function() {}; // clear event handler\n\t\t\t\t\taddInput.call(comp);\n\t\n\t\t\t\t\t// after file is initialized as o.File, we need to update form and input ids\n\t\t\t\t\tcomp.bind('change', function onChange() {\n\t\t\t\t\t\tvar input = Dom.get(uid), form = Dom.get(uid + '_form'), file;\n\t\n\t\t\t\t\t\tcomp.unbind('change', onChange);\n\t\n\t\t\t\t\t\tif (comp.files.length && input && form) {\n\t\t\t\t\t\t\tfile = comp.files[0];\n\t\n\t\t\t\t\t\t\tinput.setAttribute('id', file.uid);\n\t\t\t\t\t\t\tform.setAttribute('id', file.uid + '_form');\n\t\n\t\t\t\t\t\t\t// set upload target\n\t\t\t\t\t\t\tform.setAttribute('target', file.uid + '_iframe');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinput = form = null;\n\t\t\t\t\t}, 998);\n\t\n\t\t\t\t\tinput = form = null;\n\t\t\t\t\tcomp.trigger('change');\n\t\t\t\t};\n\t\n\t\n\t\t\t\t// route click event to the input\n\t\t\t\tif (I.can('summon_file_dialog')) {\n\t\t\t\t\tbrowseButton = Dom.get(_options.browse_button);\n\t\t\t\t\tEvents.removeEvent(browseButton, 'click', comp.uid);\n\t\t\t\t\tEvents.addEvent(browseButton, 'click', function(e) {\n\t\t\t\t\t\tif (input && !input.disabled) { // for some reason FF (up to 8.0.1 so far) lets to click disabled input[type=file]\n\t\t\t\t\t\t\tinput.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}, comp.uid);\n\t\t\t\t}\n\t\n\t\t\t\t_uid = uid;\n\t\n\t\t\t\tshimContainer = currForm = browseButton = null;\n\t\t\t}\n\t\n\t\t\tBasic.extend(this, {\n\t\t\t\tinit: function(options) {\n\t\t\t\t\tvar comp = this, I = comp.getRuntime(), shimContainer;\n\t\n\t\t\t\t\t// figure out accept string\n\t\t\t\t\t_options = options;\n\t\t\t\t\t_mimes = options.accept.mimes || Mime.extList2mimes(options.accept, I.can('filter_by_extension'));\n\t\n\t\t\t\t\tshimContainer = I.getShimContainer();\n\t\n\t\t\t\t\t(function() {\n\t\t\t\t\t\tvar browseButton, zIndex, top;\n\t\n\t\t\t\t\t\tbrowseButton = Dom.get(options.browse_button);\n\t\n\t\t\t\t\t\t// Route click event to the input[type=file] element for browsers that support such behavior\n\t\t\t\t\t\tif (I.can('summon_file_dialog')) {\n\t\t\t\t\t\t\tif (Dom.getStyle(browseButton, 'position') === 'static') {\n\t\t\t\t\t\t\t\tbrowseButton.style.position = 'relative';\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tzIndex = parseInt(Dom.getStyle(browseButton, 'z-index'), 10) || 1;\n\t\n\t\t\t\t\t\t\tbrowseButton.style.zIndex = zIndex;\n\t\t\t\t\t\t\tshimContainer.style.zIndex = zIndex - 1;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t/* Since we have to place input[type=file] on top of the browse_button for some browsers,\n\t\t\t\t\t\tbrowse_button loses interactivity, so we restore it here */\n\t\t\t\t\t\ttop = I.can('summon_file_dialog') ? browseButton : shimContainer;\n\t\n\t\t\t\t\t\tEvents.addEvent(top, 'mouseover', function() {\n\t\t\t\t\t\t\tcomp.trigger('mouseenter');\n\t\t\t\t\t\t}, comp.uid);\n\t\n\t\t\t\t\t\tEvents.addEvent(top, 'mouseout', function() {\n\t\t\t\t\t\t\tcomp.trigger('mouseleave');\n\t\t\t\t\t\t}, comp.uid);\n\t\n\t\t\t\t\t\tEvents.addEvent(top, 'mousedown', function() {\n\t\t\t\t\t\t\tcomp.trigger('mousedown');\n\t\t\t\t\t\t}, comp.uid);\n\t\n\t\t\t\t\t\tEvents.addEvent(Dom.get(options.container), 'mouseup', function() {\n\t\t\t\t\t\t\tcomp.trigger('mouseup');\n\t\t\t\t\t\t}, comp.uid);\n\t\n\t\t\t\t\t\tbrowseButton = null;\n\t\t\t\t\t}());\n\t\n\t\t\t\t\taddInput.call(this);\n\t\n\t\t\t\t\tshimContainer = null;\n\t\n\t\t\t\t\t// trigger ready event asynchronously\n\t\t\t\t\tcomp.trigger({\n\t\t\t\t\t\ttype: 'ready',\n\t\t\t\t\t\tasync: true\n\t\t\t\t\t});\n\t\t\t\t},\n\t\n\t\t\t\tgetFiles: function() {\n\t\t\t\t\treturn _files;\n\t\t\t\t},\n\t\n\t\t\t\tdisable: function(state) {\n\t\t\t\t\tvar input;\n\t\n\t\t\t\t\tif ((input = Dom.get(_uid))) {\n\t\t\t\t\t\tinput.disabled = !!state;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tdestroy: function() {\n\t\t\t\t\tvar I = this.getRuntime()\n\t\t\t\t\t, shim = I.getShim()\n\t\t\t\t\t, shimContainer = I.getShimContainer()\n\t\t\t\t\t;\n\t\t\t\t\t\n\t\t\t\t\tEvents.removeAllEvents(shimContainer, this.uid);\n\t\t\t\t\tEvents.removeAllEvents(_options && Dom.get(_options.container), this.uid);\n\t\t\t\t\tEvents.removeAllEvents(_options && Dom.get(_options.browse_button), this.uid);\n\t\t\t\t\t\n\t\t\t\t\tif (shimContainer) {\n\t\t\t\t\t\tshimContainer.innerHTML = '';\n\t\t\t\t\t}\n\t\n\t\t\t\t\tshim.removeInstance(this.uid);\n\t\n\t\t\t\t\t_uid = _files = _mimes = _options = shimContainer = shim = null;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\treturn (extensions.FileInput = FileInput);\n\t});\n\t\n\t// Included from: src/javascript/runtime/html4/file/FileReader.js\n\t\n\t/**\n\t * FileReader.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/html4/file/FileReader\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html4/file/FileReader\", [\n\t\t\"moxie/runtime/html4/Runtime\",\n\t\t\"moxie/runtime/html5/file/FileReader\"\n\t], function(extensions, FileReader) {\n\t\treturn (extensions.FileReader = FileReader);\n\t});\n\t\n\t// Included from: src/javascript/runtime/html4/xhr/XMLHttpRequest.js\n\t\n\t/**\n\t * XMLHttpRequest.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/html4/xhr/XMLHttpRequest\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html4/xhr/XMLHttpRequest\", [\n\t\t\"moxie/runtime/html4/Runtime\",\n\t\t\"moxie/core/utils/Basic\",\n\t\t\"moxie/core/utils/Dom\",\n\t\t\"moxie/core/utils/Url\",\n\t\t\"moxie/core/Exceptions\",\n\t\t\"moxie/core/utils/Events\",\n\t\t\"moxie/file/Blob\",\n\t\t\"moxie/xhr/FormData\"\n\t], function(extensions, Basic, Dom, Url, x, Events, Blob, FormData) {\n\t\t\n\t\tfunction XMLHttpRequest() {\n\t\t\tvar _status, _response, _iframe;\n\t\n\t\t\tfunction cleanup(cb) {\n\t\t\t\tvar target = this, uid, form, inputs, i, hasFile = false;\n\t\n\t\t\t\tif (!_iframe) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tuid = _iframe.id.replace(/_iframe$/, '');\n\t\n\t\t\t\tform = Dom.get(uid + '_form');\n\t\t\t\tif (form) {\n\t\t\t\t\tinputs = form.getElementsByTagName('input');\n\t\t\t\t\ti = inputs.length;\n\t\n\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\tswitch (inputs[i].getAttribute('type')) {\n\t\t\t\t\t\t\tcase 'hidden':\n\t\t\t\t\t\t\t\tinputs[i].parentNode.removeChild(inputs[i]);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'file':\n\t\t\t\t\t\t\t\thasFile = true; // flag the case for later\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tinputs = [];\n\t\n\t\t\t\t\tif (!hasFile) { // we need to keep the form for sake of possible retries\n\t\t\t\t\t\tform.parentNode.removeChild(form);\n\t\t\t\t\t}\n\t\t\t\t\tform = null;\n\t\t\t\t}\n\t\n\t\t\t\t// without timeout, request is marked as canceled (in console)\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tEvents.removeEvent(_iframe, 'load', target.uid);\n\t\t\t\t\tif (_iframe.parentNode) { // #382\n\t\t\t\t\t\t_iframe.parentNode.removeChild(_iframe);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// check if shim container has any other children, if - not, remove it as well\n\t\t\t\t\tvar shimContainer = target.getRuntime().getShimContainer();\n\t\t\t\t\tif (!shimContainer.children.length) {\n\t\t\t\t\t\tshimContainer.parentNode.removeChild(shimContainer);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tshimContainer = _iframe = null;\n\t\t\t\t\tcb();\n\t\t\t\t}, 1);\n\t\t\t}\n\t\n\t\t\tBasic.extend(this, {\n\t\t\t\tsend: function(meta, data) {\n\t\t\t\t\tvar target = this, I = target.getRuntime(), uid, form, input, blob;\n\t\n\t\t\t\t\t_status = _response = null;\n\t\n\t\t\t\t\tfunction createIframe() {\n\t\t\t\t\t\tvar container = I.getShimContainer() || document.body\n\t\t\t\t\t\t, temp = document.createElement('div')\n\t\t\t\t\t\t;\n\t\n\t\t\t\t\t\t// IE 6 won't be able to set the name using setAttribute or iframe.name\n\t\t\t\t\t\ttemp.innerHTML = '<iframe id=\"' + uid + '_iframe\" name=\"' + uid + '_iframe\" src=\"javascript:&quot;&quot;\" style=\"display:none\"></iframe>';\n\t\t\t\t\t\t_iframe = temp.firstChild;\n\t\t\t\t\t\tcontainer.appendChild(_iframe);\n\t\n\t\t\t\t\t\t/* _iframe.onreadystatechange = function() {\n\t\t\t\t\t\t\tconsole.info(_iframe.readyState);\n\t\t\t\t\t\t};*/\n\t\n\t\t\t\t\t\tEvents.addEvent(_iframe, 'load', function() { // _iframe.onload doesn't work in IE lte 8\n\t\t\t\t\t\t\tvar el;\n\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tel = _iframe.contentWindow.document || _iframe.contentDocument || window.frames[_iframe.id].document;\n\t\n\t\t\t\t\t\t\t\t// try to detect some standard error pages\n\t\t\t\t\t\t\t\tif (/^4(0[0-9]|1[0-7]|2[2346])\\s/.test(el.title)) { // test if title starts with 4xx HTTP error\n\t\t\t\t\t\t\t\t\t_status = el.title.replace(/^(\\d+).*$/, '$1');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t_status = 200;\n\t\t\t\t\t\t\t\t\t// get result\n\t\t\t\t\t\t\t\t\t_response = Basic.trim(el.body.innerHTML);\n\t\n\t\t\t\t\t\t\t\t\t// we need to fire these at least once\n\t\t\t\t\t\t\t\t\ttarget.trigger({\n\t\t\t\t\t\t\t\t\t\ttype: 'progress',\n\t\t\t\t\t\t\t\t\t\tloaded: _response.length,\n\t\t\t\t\t\t\t\t\t\ttotal: _response.length\n\t\t\t\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t\t\t\tif (blob) { // if we were uploading a file\n\t\t\t\t\t\t\t\t\t\ttarget.trigger({\n\t\t\t\t\t\t\t\t\t\t\ttype: 'uploadprogress',\n\t\t\t\t\t\t\t\t\t\t\tloaded: blob.size || 1025,\n\t\t\t\t\t\t\t\t\t\t\ttotal: blob.size || 1025\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\tif (Url.hasSameOrigin(meta.url)) {\n\t\t\t\t\t\t\t\t\t// if response is sent with error code, iframe in IE gets redirected to res://ieframe.dll/http_x.htm\n\t\t\t\t\t\t\t\t\t// which obviously results to cross domain error (wtf?)\n\t\t\t\t\t\t\t\t\t_status = 404;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcleanup.call(target, function() {\n\t\t\t\t\t\t\t\t\t\ttarget.trigger('error');\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tcleanup.call(target, function() {\n\t\t\t\t\t\t\t\ttarget.trigger('load');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, target.uid);\n\t\t\t\t\t} // end createIframe\n\t\n\t\t\t\t\t// prepare data to be sent and convert if required\n\t\t\t\t\tif (data instanceof FormData && data.hasBlob()) {\n\t\t\t\t\t\tblob = data.getBlob();\n\t\t\t\t\t\tuid = blob.uid;\n\t\t\t\t\t\tinput = Dom.get(uid);\n\t\t\t\t\t\tform = Dom.get(uid + '_form');\n\t\t\t\t\t\tif (!form) {\n\t\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.NOT_FOUND_ERR);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuid = Basic.guid('uid_');\n\t\n\t\t\t\t\t\tform = document.createElement('form');\n\t\t\t\t\t\tform.setAttribute('id', uid + '_form');\n\t\t\t\t\t\tform.setAttribute('method', meta.method);\n\t\t\t\t\t\tform.setAttribute('enctype', 'multipart/form-data');\n\t\t\t\t\t\tform.setAttribute('encoding', 'multipart/form-data');\n\t\t\t\t\t\tform.setAttribute('target', uid + '_iframe');\n\t\n\t\t\t\t\t\tI.getShimContainer().appendChild(form);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (data instanceof FormData) {\n\t\t\t\t\t\tdata.each(function(value, name) {\n\t\t\t\t\t\t\tif (value instanceof Blob) {\n\t\t\t\t\t\t\t\tif (input) {\n\t\t\t\t\t\t\t\t\tinput.setAttribute('name', name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar hidden = document.createElement('input');\n\t\n\t\t\t\t\t\t\t\tBasic.extend(hidden, {\n\t\t\t\t\t\t\t\t\ttype : 'hidden',\n\t\t\t\t\t\t\t\t\tname : name,\n\t\t\t\t\t\t\t\t\tvalue : value\n\t\t\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t\t\t// make sure that input[type=\"file\"], if it's there, comes last\n\t\t\t\t\t\t\t\tif (input) {\n\t\t\t\t\t\t\t\t\tform.insertBefore(hidden, input);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tform.appendChild(hidden);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// set destination url\n\t\t\t\t\tform.setAttribute(\"action\", meta.url);\n\t\n\t\t\t\t\tcreateIframe();\n\t\t\t\t\tform.submit();\n\t\t\t\t\ttarget.trigger('loadstart');\n\t\t\t\t},\n\t\n\t\t\t\tgetStatus: function() {\n\t\t\t\t\treturn _status;\n\t\t\t\t},\n\t\n\t\t\t\tgetResponse: function(responseType) {\n\t\t\t\t\tif ('json' === responseType) {\n\t\t\t\t\t\t// strip off <pre>..</pre> tags that might be enclosing the response\n\t\t\t\t\t\tif (Basic.typeOf(_response) === 'string' && !!window.JSON) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\treturn JSON.parse(_response.replace(/^\\s*<pre[^>]*>/, '').replace(/<\\/pre>\\s*$/, ''));\n\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} \n\t\t\t\t\t} else if ('document' === responseType) {\n\t\n\t\t\t\t\t}\n\t\t\t\t\treturn _response;\n\t\t\t\t},\n\t\n\t\t\t\tabort: function() {\n\t\t\t\t\tvar target = this;\n\t\n\t\t\t\t\tif (_iframe && _iframe.contentWindow) {\n\t\t\t\t\t\tif (_iframe.contentWindow.stop) { // FireFox/Safari/Chrome\n\t\t\t\t\t\t\t_iframe.contentWindow.stop();\n\t\t\t\t\t\t} else if (_iframe.contentWindow.document.execCommand) { // IE\n\t\t\t\t\t\t\t_iframe.contentWindow.document.execCommand('Stop');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_iframe.src = \"about:blank\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\tcleanup.call(this, function() {\n\t\t\t\t\t\t// target.dispatchEvent('readystatechange');\n\t\t\t\t\t\ttarget.dispatchEvent('abort');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\treturn (extensions.XMLHttpRequest = XMLHttpRequest);\n\t});\n\t\n\t// Included from: src/javascript/runtime/html4/image/Image.js\n\t\n\t/**\n\t * Image.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/**\n\t@class moxie/runtime/html4/image/Image\n\t@private\n\t*/\n\tdefine(\"moxie/runtime/html4/image/Image\", [\n\t\t\"moxie/runtime/html4/Runtime\",\n\t\t\"moxie/runtime/html5/image/Image\"\n\t], function(extensions, Image) {\n\t\treturn (extensions.Image = Image);\n\t});\n\t\n\texpose([\"moxie/core/utils/Basic\",\"moxie/core/I18n\",\"moxie/core/utils/Mime\",\"moxie/core/utils/Env\",\"moxie/core/utils/Dom\",\"moxie/core/Exceptions\",\"moxie/core/EventTarget\",\"moxie/core/utils/Encode\",\"moxie/runtime/Runtime\",\"moxie/runtime/RuntimeClient\",\"moxie/file/Blob\",\"moxie/file/File\",\"moxie/file/FileInput\",\"moxie/file/FileDrop\",\"moxie/runtime/RuntimeTarget\",\"moxie/file/FileReader\",\"moxie/core/utils/Url\",\"moxie/file/FileReaderSync\",\"moxie/xhr/FormData\",\"moxie/xhr/XMLHttpRequest\",\"moxie/runtime/Transporter\",\"moxie/image/Image\",\"moxie/core/utils/Events\"]);\n\t})(this);/**\n\t * o.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/*global moxie:true */\n\t\n\t/**\n\tGlobally exposed namespace with the most frequently used public classes and handy methods.\n\t\n\t@class o\n\t@static\n\t@private\n\t*/\n\t(function(exports) {\n\t\t\"use strict\";\n\t\n\t\tvar o = {}, inArray = exports.moxie.core.utils.Basic.inArray;\n\t\n\t\t// directly add some public classes\n\t\t// (we do it dynamically here, since for custom builds we cannot know beforehand what modules were included)\n\t\t(function addAlias(ns) {\n\t\t\tvar name, itemType;\n\t\t\tfor (name in ns) {\n\t\t\t\titemType = typeof(ns[name]);\n\t\t\t\tif (itemType === 'object' && !~inArray(name, ['Exceptions', 'Env', 'Mime'])) {\n\t\t\t\t\taddAlias(ns[name]);\n\t\t\t\t} else if (itemType === 'function') {\n\t\t\t\t\to[name] = ns[name];\n\t\t\t\t}\n\t\t\t}\n\t\t})(exports.moxie);\n\t\n\t\t// add some manually\n\t\to.Env = exports.moxie.core.utils.Env;\n\t\to.Mime = exports.moxie.core.utils.Mime;\n\t\to.Exceptions = exports.moxie.core.Exceptions;\n\t\n\t\t// expose globally\n\t\texports.mOxie = o;\n\t\tif (!exports.o) {\n\t\t\texports.o = o;\n\t\t}\n\t\treturn o;\n\t})(this);\n\t\n\t\n\t/*** EXPORTS FROM exports-loader ***/\n\tmodule.exports = this.mOxie\n\n/***/ },\n/* 94 */,\n/* 95 */,\n/* 96 */,\n/* 97 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 98 */,\n/* 99 */,\n/* 100 */,\n/* 101 */,\n/* 102 */,\n/* 103 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=tag-item><div class=point :style=\\\"{ background: '#' + tag.color }\\\"></div><p class=tag-name>{{tag.tagName}}</p><i v-if=showDel class=delete @click=removeTag(tag.tagId)></i></div>\";\n\n/***/ },\n/* 104 */,\n/* 105 */,\n/* 106 */,\n/* 107 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(97)\n\tmodule.exports = __webpack_require__(91)\n\t\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\t;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __webpack_require__(103)\n\tif (false) {(function () {  module.hot.accept()\n\t  var hotAPI = require(\"vue-hot-reload-api\")\n\t  hotAPI.install(require(\"vue\"), true)\n\t  if (!hotAPI.compatible) return\n\t  var id = \"/Users/yuqiu/github/code-review-web/src/components/tag.vue\"\n\t  if (!module.hot.data) {\n\t    hotAPI.createRecord(id, module.exports)\n\t  } else {\n\t    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n\t  }\n\t})()}\n\n/***/ },\n/* 108 */,\n/* 109 */,\n/* 110 */,\n/* 111 */,\n/* 112 */,\n/* 113 */,\n/* 114 */,\n/* 115 */,\n/* 116 */,\n/* 117 */,\n/* 118 */,\n/* 119 */,\n/* 120 */,\n/* 121 */,\n/* 122 */,\n/* 123 */,\n/* 124 */,\n/* 125 */,\n/* 126 */,\n/* 127 */,\n/* 128 */,\n/* 129 */,\n/* 130 */,\n/* 131 */,\n/* 132 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _util = __webpack_require__(2);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _userAvatar = __webpack_require__(16);\n\t\n\tvar _userAvatar2 = _interopRequireDefault(_userAvatar);\n\t\n\tvar _qiniuJsSdk = __webpack_require__(175);\n\t\n\tvar _qiniuJsSdk2 = _interopRequireDefault(_qiniuJsSdk);\n\t\n\tvar _serviceUrl = __webpack_require__(5);\n\t\n\tvar _serviceUrl2 = _interopRequireDefault(_serviceUrl);\n\t\n\tvar _tag = __webpack_require__(107);\n\t\n\tvar _tag2 = _interopRequireDefault(_tag);\n\t\n\tvar _loading = __webpack_require__(81);\n\t\n\tvar _loading2 = _interopRequireDefault(_loading);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// <template>\n\t// \t<loading>\n\t// \t\t<section class=\"setting\">\n\t// \t\t\t<h2></h2>\n\t// \t\t\t<section class=\"form\">\n\t// \t\t\t\t<h3></h3>\n\t// \t\t\t\t<div class=\"white\">\n\t// \t\t\t\t\t<div class=\"avatar-container\" id=\"upload-container\">\n\t// \t\t\t\t\t\t<user-avatar :user=\"user\"></user-avatar>\n\t// \t\t\t\t\t\t<button type=\"button\" id=\"pickfiles\"></button>\n\t// \t\t\t\t\t</div>\n\t// \t\t\t\t\t<div class=\"row\">\n\t// \t\t\t\t\t\t<p></p>\n\t// \t\t\t\t\t\t<input type=\"text\" v-model=\"username\"/>\n\t// \t\t\t\t\t</div>\n\t// \t\t\t\t\t<div class=\"row\">\n\t// \t\t\t\t\t\t<p>Github </p>\n\t// \t\t\t\t\t\t<input type=\"text\" v-model=\"github\" style=\"text-indent: 110px\" />\n\t// \t\t\t\t\t\t<span>github.com / </span>\n\t// \t\t\t\t\t</div>\n\t// \t\t\t\t</div>\n\t// \t\t\t\t<div class=\"color\">\n\t// \t\t\t\t\t<div class=\"row\">\n\t// \t\t\t\t\t\t<p></p>\n\t// \t\t\t\t\t\t<input type=\"text\" v-model=\"company\"/>\n\t// \t\t\t\t\t</div>\n\t// \t\t\t\t\t<div class=\"row\">\n\t// \t\t\t\t\t\t<p></p>\n\t// \t\t\t\t\t\t<input type=\"text\"  v-model=\"jobTitle\"/>\n\t// \t\t\t\t\t</div>\n\t// \t\t\t\t\t<div class=\"row\">\n\t// \t\t\t\t\t\t<p></p>\n\t// \t\t\t\t\t\t<textarea v-model=\"introduction\"></textarea>\n\t// \t\t\t\t\t</div>\n\t// \t\t\t\t\t<div class=\"row\">\n\t// \t\t\t\t\t\t<button type=\"button\" @click=\"updateUser\"></button>\n\t// \t\t\t\t\t</div>\n\t// \t\t\t\t</div>\n\t// \t\t\t</section>\n\t// \t\t\t<section class=\"tags\">\n\t// \t\t\t\t<h3 class=\"region-title\">{{tagTitle}}</h3>\n\t// \t\t\t\t<div class=\"tags-content\">\t\n\t// \t\t\t\t\t<ul class=\"list\">\n\t// \t\t\t\t\t\t<li v-for=\"tag in tags\">\n\t// \t\t\t\t\t\t\t<tag :tag=\"tag\" :show-del=\"true\"></tag>\n\t// \t\t\t\t\t\t</li>\n\t// \t\t\t\t\t</ul>\n\t// \t\t\t\t\t<div class=\"select-content\">\n\t// \t\t\t\t\t\t<p> {{tagTitle}}</p>\n\t// \t\t\t\t\t\t<select v-model=\"selected\">\n\t// \t\t\t\t\t\t\t<option v-for=\"tag in remains\" :value=\"{tagId: tag.tagId}\">{{tag.tagName}}</option>\n\t// \t\t\t\t\t\t</select>\n\t// \t\t\t\t\t\t<button type=\"button\" @click=\"addTag\"></button>\n\t// \t\t\t\t\t</div>\n\t// \t\t\t\t</div>\n\t// \t\t\t</section>\n\t// \t\t</section>\n\t// \t</loading>\n\t\n\t// </template>\n\t\n\t// <script type=\"text/javascript\">\n\t\n\tvar debug = __webpack_require__(3)('setting');\n\tvar moxie = __webpack_require__(93);\n\tvar plupload = __webpack_require__(205);\n\texports.default = {\n\t\tcomponents: {\n\t\t\t'user-avatar': _userAvatar2.default,\n\t\t\t'tag': _tag2.default,\n\t\t\t'loading': _loading2.default\n\t\t},\n\t\tdata: function data() {\n\t\t\treturn {\n\t\t\t\tuser: {},\n\t\t\t\tusername: '',\n\t\t\t\tgithub: '',\n\t\t\t\tphone: '',\n\t\t\t\tcompany: '',\n\t\t\t\tjobTitle: '',\n\t\t\t\tintroduction: '',\n\t\t\t\tavatarUrl: '',\n\t\t\t\ttags: [],\n\t\t\t\tallTags: [],\n\t\t\t\tselected: ''\n\t\t\t};\n\t\t},\n\t\n\t\tevents: {\n\t\t\t/**\n\t   * []\n\t   * @param  {[type]} newObj []\n\t   * @return {[type]}        []\n\t   */\n\t\t\t'remove-tag': function removeTag(newTags) {\n\t\t\t\tthis.tags = newTags;\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\t'remains': function remains() {\n\t\t\t\tif (!this.allTags || !this.tags) {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t\tvar remain = [];\n\t\t\t\tfor (var i = 0; i < this.allTags.length; i++) {\n\t\t\t\t\tvar tag = this.allTags[i];\n\t\t\t\t\tvar found = false;\n\t\t\t\t\tfor (var j = 0; j < this.tags.length; j++) {\n\t\t\t\t\t\tif (tag.tagId === this.tags[j].tagId) {\n\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!found) {\n\t\t\t\t\t\tremain.push(tag);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn remain;\n\t\t\t},\n\t\t\t'tagTitle': function tagTitle() {\n\t\t\t\tdebug('type %j', this.user.type);\n\t\t\t\tswitch (this.user.type) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\treturn '';\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\treturn '';\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tupdateUser: function updateUser(e, cb) {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tvar data = {\n\t\t\t\t\tgitHubUsername: this.github,\n\t\t\t\t\tcompany: this.company,\n\t\t\t\t\tjobTitle: this.jobTitle,\n\t\t\t\t\tintroduction: this.introduction\n\t\t\t\t};\n\t\t\t\tif (this.username && this.username.length > 0) {\n\t\t\t\t\tdata.username = this.username;\n\t\t\t\t}\n\t\t\t\tif (this.avatarUrl && this.avatarUrl.length > 0) {\n\t\t\t\t\tdata.avatarUrl = this.avatarUrl;\n\t\t\t\t}\n\t\t\t\tthis.$http.patch(_serviceUrl2.default.updateUser, data).then(function (res) {\n\t\t\t\t\tdebug(res);\n\t\t\t\t\tif (_util2.default.filterError(_this, res)) {\n\t\t\t\t\t\t_util2.default.show(_this, 'success', '');\n\t\t\t\t\t\t_this.setUserInfo(res.data.result);\n\t\t\t\t\t\t_util2.default.updateNavUser(_this, user);\n\t\t\t\t\t\tdebug('cb: %j', cb);\n\t\t\t\t\t\tcb && cb();\n\t\t\t\t\t}\n\t\t\t\t}, _util2.default.httpErrorFn(this));\n\t\t\t},\n\t\t\tsetUserInfo: function setUserInfo(user) {\n\t\t\t\tthis.user = user;\n\t\t\t\tthis.username = user.username;\n\t\t\t\tthis.github = user.gitHubUsername;\n\t\t\t\tthis.phone = user.mobilePhoneNumber;\n\t\t\t\tthis.company = user.company;\n\t\t\t\tthis.jobTitle = user.jobTitle;\n\t\t\t\tthis.introduction = user.introduction;\n\t\t\t\tthis.avatarUrl = user.avatarUrl;\n\t\t\t\tthis.tags = user.tags;\n\t\t\t},\n\t\t\taddTag: function addTag() {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tif (!this.selected.tagId) {\n\t\t\t\t\t_util2.default.show(this, 'warn', '');\n\t\t\t\t}\n\t\t\t\tthis.$http.post(_serviceUrl2.default.userTag, {\n\t\t\t\t\ttagId: this.selected.tagId\n\t\t\t\t}).then(function (res) {\n\t\t\t\t\t_this2.tags = res.data.result;\n\t\t\t\t}, _util2.default.httpErrorFn(this));\n\t\t\t},\n\t\t\tloaded: function loaded() {\n\t\t\t\tif (this.username && this.allTags) {\n\t\t\t\t\tthis.$broadcast('loaded');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcreated: function created() {\n\t\t\tvar _this3 = this;\n\t\n\t\t\tthis.$http.get(_serviceUrl2.default.userStatus).then(function (res) {\n\t\t\t\tif (_util2.default.filterError(_this3, res)) {\n\t\t\t\t\tdebug(res.data.result);\n\t\t\t\t\t_this3.setUserInfo(res.data.result);\n\t\t\t\t\t_util2.default.updateNavUser(_this3, res.data.result); // addTag  nav user\n\t\t\t\t\t_this3.loaded();\n\t\t\t\t}\n\t\t\t}, _util2.default.httpErrorFn(this));\n\t\t\tthis.$http.get(_serviceUrl2.default.tags).then(function (res) {\n\t\t\t\tif (_util2.default.filterError(_this3, res)) {\n\t\t\t\t\t_this3.allTags = res.data.result;\n\t\t\t\t\t_this3.loaded();\n\t\t\t\t}\n\t\t\t}, _util2.default.httpErrorFn(this));\n\t\t},\n\t\tready: function ready() {\n\t\t\tvar _this4 = this;\n\t\n\t\t\tvar component = this;\n\t\t\tthis.$http.get(_serviceUrl2.default.qiniu).then(function (res) {\n\t\t\t\tif (_util2.default.filterError(_this4, res)) {\n\t\t\t\t\tdebug('qiniu token %j', res.data);\n\t\t\t\t\tvar uptoken = res.data.result.uptoken;\n\t\t\t\t\tvar bucketUrl = res.data.result.bucketUrl;\n\t\t\t\t\tvar uploader = _qiniuJsSdk2.default.uploader({\n\t\t\t\t\t\truntimes: 'html5,flash,html4', //,\n\t\t\t\t\t\tbrowse_button: 'pickfiles', //****\n\t\t\t\t\t\tuptoken_url: 'useless',\n\t\t\t\t\t\tuptoken: uptoken,\n\t\t\t\t\t\tdomain: bucketUrl,\n\t\t\t\t\t\tflash_swf_url: 'js/plupload/Moxie.swf',\n\t\t\t\t\t\tunique_names: true,\n\t\t\t\t\t\tget_new_uptoken: false, //token\n\t\t\t\t\t\tcontainer: 'upload-container', //DOM IDbrowser_button\n\t\t\t\t\t\tmax_file_size: '100mb', //\n\t\t\t\t\t\tmax_retries: 3, //\n\t\t\t\t\t\tdragdrop: false, //\n\t\t\t\t\t\tdrop_element: 'container', //ID\n\t\t\t\t\t\tchunk_size: '4mb', //\n\t\t\t\t\t\tauto_start: true, //,\n\t\t\t\t\t\tinit: {\n\t\t\t\t\t\t\t'FilesAdded': function FilesAdded(up, files) {},\n\t\t\t\t\t\t\t'BeforeUpload': function BeforeUpload(up, file) {},\n\t\t\t\t\t\t\t'UploadProgress': function UploadProgress(up, file) {},\n\t\t\t\t\t\t\t'FileUploaded': function FileUploaded(up, file, info) {\n\t\t\t\t\t\t\t\t// info:\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t//    \"hash\": \"Fh8xVqod2MQ1mocfI4S4KpRL6D98\",\n\t\t\t\t\t\t\t\t//    \"key\": \"gogopher.jpg\"\n\t\t\t\t\t\t\t\t//  }\n\t\t\t\t\t\t\t\tvar res = JSON.parse(info);\n\t\t\t\t\t\t\t\tvar domain = up.getOption('domain');\n\t\t\t\t\t\t\t\t// 10 http://  / \n\t\t\t\t\t\t\t\tif (domain.indexOf('/', 10) == -1) {\n\t\t\t\t\t\t\t\t\tdomain += '/';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar sourceLink = domain + res.key;\n\t\t\t\t\t\t\t\tdebug('sourceLink: %j', sourceLink);\n\t\t\t\t\t\t\t\tcomponent.avatarUrl = sourceLink;\n\t\t\t\t\t\t\t\tcomponent.updateUser(null, function () {\n\t\t\t\t\t\t\t\t\t// todocomponent \n\t\t\t\t\t\t\t\t\twindow.location = '/setting.html';\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'Error': function Error(up, err, errTip) {\n\t\t\t\t\t\t\t\tdebug('qiniu error %j errTip %j', err, errTip);\n\t\t\t\t\t\t\t\t_util2.default.show(component, 'error', errTip);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'UploadComplete': function UploadComplete() {},\n\t\t\t\t\t\t\t'Key': function Key(up, file) {\n\t\t\t\t\t\t\t\t// key\n\t\t\t\t\t\t\t\t//  unique_names: false , save_key: false \n\t\t\t\t\t\t\t\tvar key = \"\";\n\t\t\t\t\t\t\t\treturn key;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, _util2.default.httpErrorFn(this));\n\t\t}\n\t};\n\t// </script>\n\n\t// <style lang=\"stylus\">\n\t// @import \"../stylus/variables.styl\";\n\n\t// \t.avatar-container\n\t// \t\ttext-align center\n\t// \t\tbackground white\n\t// \t\tborder-top-left-radius 3px\n\t// \t\tborder-top-right-radius 3px\n\t// \t\tbutton\n\t// \t\t\tdisplay block\n\t// \t\t\tmargin 0 auto\n\t// \t\t.avatar\n\t// \t\t\twidth 104px\n\t// \t\t\theight 112px\n\t// \t\t\tmargin-top 32px\n\n\t// \t.setting\n\t// \t\twidth 1160px\n\t// \t\tpadding-bottom 80px\n\t// \t\tfont-size 1rem\n\t// \t\tmargin 80px auto\n\t// \t\tclearfix()\n\t// \t\tinput,textarea,select,button\n\t// \t\t\tborder-radius 3px\n\t// \t\th2\n\t// \t\t\tfont-size 1.5rem\n\t// \t\t\theight 65px\n\t// \t\t\tborder-bottom 1px solid rgba(0,0,0,.3)\n\t// \t\th3\n\t// \t\t\tline-height 80px\n\t// \t\t\tborder-bottom 1px solid rgba(0,0,0,.15)\n\t// \t\t\tbackground white\n\t// \t\t\tborder-top-left-radius 3px\n\t// \t\t\tborder-top-right-radius 3px\n\t// \t\t\tpadding-left 40px\n\t// \t\t.form, .tags\n\t// \t\t\tfloat left\n\t// \t\t\tmargin-top 50px\n\t// \t\t\tborder 1px solid rgba(0,0,0,.15)\n\t// \t\t\tborder-radius 3px\n\t// \t\t.form\n\t// \t\t\twidth 61%\n\t// \t\t\tfont-weight 200\n\t// \t\t\t.white\n\t// \t\t\t\tbackground white\n\t// \t\t\t\tpadding-bottom 54px\n\t// \t\t\t\tborder-bottom 1px solid rgba(0,0,0,.15)\n\t// \t\t\t.color\n\t// \t\t\t\tbackground #FDFFFF\n\t// \t\t\t\tborder-bottom-left-radius 3px\n\t// \t\t\t\tborder-bottom-right-radius 3px\n\t// \t\t\t\tborder-top none\n\t// \t\t\tbutton\n\t// \t\t\t\twidth 150px\n\t// \t\t\t\theight 60px\n\t// \t\t\t\tcolor white\n\t// \t\t\t\tfont-size 1rem\n\t// \t\t\t\tbackground green\n\t// \t\t\t\ttext-align center\n\t// \t\t\t\tline-height 60px\n\t// \t\t\t\tborder none\n\t// \t\t\t.row\n\t// \t\t\t\tpadding 27px 40px 0;\n\t// \t\t\t\tposition relative\n\t// \t\t\t\t&:last-child\n\t// \t\t\t\t\tborder-bottom-left-radius 3px\n\t// \t\t\t\t\tborder-bottom-right-radius 3px\n\t// \t\t\t\tp\n\t// \t\t\t\t\topacity 0.6\n\t// \t\t\t\t\tline-height 32px\n\t// \t\t\t\tspan\n\t// \t\t\t\t\topacity .6\n\t// \t\t\t\t\tposition absolute\n\t// \t\t\t\t\ttop 78px\n\t// \t\t\t\t\tleft 50px\n\t// \t\t\t\tinput\n\t// \t\t\t\t\theight 50px\n\t// \t\t\t\t\tborder 1px solid rgba(40,47,49,.3)\n\t// \t\t\t\t\twidth 100%\n\t// \t\t\t\t\tfont-size 1rem\n\t// \t\t\t\t\ttext-indent 15px\n\t// \t\t\t\t\tbox-shadow 0 1px 4px rgba(0,0,0,0.03)\n\t// \t\t\t\t\tcolor rgba(40,47,49,.6)\n\t// \t\t\t\ttextarea\n\t// \t\t\t\t\twidth 100%\n\t// \t\t\t\t\theight 280px\n\t// \t\t\t\t\tpadding 15px\n\t// \t\t\t\t\tresize none\n\t// \t\t\t\t\tcolor rgba(40,47,49,.6)\n\t// \t\t\t\t\tfont-size 1rem\n\t// \t\t\t\t\tborder 1px solid rgba(40,47,49,.3)\n\t// \t\t\t\tbutton\n\t// \t\t\t\t\tmargin 27px 0 54px\n\t// \t\t\t\t\tbackground blue\n\t// \t\t.tags\n\t// \t\t\twidth 34%\n\t// \t\t\tmargin-left 5%\n\t// \t\t\tbox-shadow 0 4px 4px rgba(135,135,135,0.15)\n\t// \t\t\t.tags-content\n\t// \t\t\t\tbackground #FDFFFF\n\t// \t\t\t\tfont-weight 200\n\t// \t\t\t\t.list\n\t// \t\t\t\t\tbackground white\n\t// \t\t\t\t\tmin-height 300px\n\t// \t\t\t\t\tpadding 40px\n\t// \t\t\t\t\tli\n\t// \t\t\t\t\t\tborder-radius 3px\n\t// \t\t\t\t\t\theight 48px\n\t// \t\t\t\t\t\twidth 50%\n\t// \t\t\t\t\t\ttext-align left\n\t// \t\t\t\t.select-content\n\t// \t\t\t\t\tborder-top 1px solid rgba(0,0,0,0.15)\n\t// \t\t\t\t\tpadding 40px\n\t// \t\t\t\t\tborder-bottom-left-radius 3px\n\t// \t\t\t\t\tborder-bottom-right-radius 3px\n\t// \t\t\t\t\tp\n\t// \t\t\t\t\t\topacity 0.6\n\t// \t\t\t\t\t\tline-height 50px\n\t// \t\t\t\t\tselect\n\t// \t\t\t\t\t\theight 50px\n\t// \t\t\t\t\t\twidth 205px\n\t// \t\t\t\t\t\t-webkit-appearance: none\n\t// \t\t\t\t\t\tborder 1px solid rgba(40,47,49,0.3)\n\t// \t\t\t\t\t\tbox-shadow 0 1px 4px rgba(0,0,0,0.03)\n\t// \t\t\t\t\t\tbackground white\n\t// \t\t\t\t\t\toption\n\t// \t\t\t\t\t\t\t-webkit-appearance: none\n\t// \t\t\t\t\t\t\theight 40px\n\t// \t\t\t\t\t\t\tline-height 40px\n\t// \t\t\t\t\tbutton\n\t// \t\t\t\t\t\twidth 82px\n\t// \t\t\t\t\t\theight 50px\n\t// \t\t\t\t\t\tbackground blue\n\t// \t\t\t\t\t\tcolor white\n\t// \t\t\t\t\t\tfont-size 1rem\n\t// \t\t\t\t\t\ttext-align center\n\t// \t\t\t\t\t\tline-height 50px\n\t// \t\t\t\t\t\tborder none\n\t// \t\t\t\t\t\tmargin-left 20px\n\t// </style>\n\n/***/ },\n/* 133 */,\n/* 134 */,\n/* 135 */,\n/* 136 */,\n/* 137 */,\n/* 138 */,\n/* 139 */,\n/* 140 */,\n/* 141 */,\n/* 142 */,\n/* 143 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(71);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _nav = __webpack_require__(48);\n\t\n\tvar _nav2 = _interopRequireDefault(_nav);\n\t\n\tvar _footer = __webpack_require__(47);\n\t\n\tvar _footer2 = _interopRequireDefault(_footer);\n\t\n\tvar _setting = __webpack_require__(203);\n\t\n\tvar _setting2 = _interopRequireDefault(_setting);\n\t\n\tvar _util = __webpack_require__(2);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_util2.default.configVue(_vue2.default); /**\n\t                                          * \n\t                                          * @authors yuqiu (yuqiu@luojilab.com)\n\t                                          * @date    2015-12-23 16:07:42\n\t                                          * @version $Id$\n\t                                          */\n\t\n\tvar reviewer = new _vue2.default({\n\t  el: 'body',\n\t  components: {\n\t    'my-nav': _nav2.default,\n\t    'my-footer': _footer2.default,\n\t    'setting': _setting2.default\n\t  }\n\t});\n\n/***/ },\n/* 144 */,\n/* 145 */,\n/* 146 */,\n/* 147 */,\n/* 148 */,\n/* 149 */,\n/* 150 */,\n/* 151 */,\n/* 152 */,\n/* 153 */,\n/* 154 */,\n/* 155 */,\n/* 156 */,\n/* 157 */,\n/* 158 */,\n/* 159 */,\n/* 160 */,\n/* 161 */,\n/* 162 */,\n/* 163 */,\n/* 164 */,\n/* 165 */,\n/* 166 */,\n/* 167 */,\n/* 168 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 169 */,\n/* 170 */,\n/* 171 */,\n/* 172 */,\n/* 173 */,\n/* 174 */,\n/* 175 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(mOxie) {/*global plupload ,mOxie*/\n\t/*global ActiveXObject */\n\t/*exported Qiniu */\n\t\n\tfunction QiniuJsSDK() {\n\t\n\t\n\t    this.detectIEVersion = function() {\n\t        var v = 4,\n\t            div = document.createElement('div'),\n\t            all = div.getElementsByTagName('i');\n\t        while (\n\t            div.innerHTML = '<!--[if gt IE ' + v + ']><i></i><![endif]-->',\n\t            all[0]\n\t        ) {\n\t            v++;\n\t        }\n\t        return v > 4 ? v : false;\n\t    };\n\t\n\t    this.isImage = function(url) {\n\t        var res, suffix = \"\";\n\t        var imageSuffixes = [\"png\", \"jpg\", \"jpeg\", \"gif\", \"bmp\"];\n\t        var suffixMatch = /\\.([a-zA-Z0-9]+)(\\?|\\@|$)/;\n\t\n\t        if (!url || !suffixMatch.test(url)) {\n\t            return false;\n\t        }\n\t        res = suffixMatch.exec(url);\n\t        suffix = res[1].toLowerCase();\n\t        for (var i = 0, l = imageSuffixes.length; i < l; i++) {\n\t            if (suffix === imageSuffixes[i]) {\n\t                return true;\n\t            }\n\t        }\n\t        return false;\n\t    };\n\t\n\t    this.getFileExtension = function(filename) {\n\t        var tempArr = filename.split(\".\");\n\t        var ext;\n\t        if (tempArr.length === 1 || (tempArr[0] === \"\" && tempArr.length === 2)) {\n\t            ext = \"\";\n\t        } else {\n\t            ext = tempArr.pop().toLowerCase(); //get the extension and make it lower-case\n\t        }\n\t        return ext;\n\t    };\n\t\n\t    this.utf8_encode = function(argString) {\n\t        // http://kevin.vanzonneveld.net\n\t        // +   original by: Webtoolkit.info (http://www.webtoolkit.info/)\n\t        // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n\t        // +   improved by: sowberry\n\t        // +    tweaked by: Jack\n\t        // +   bugfixed by: Onno Marsman\n\t        // +   improved by: Yves Sucaet\n\t        // +   bugfixed by: Onno Marsman\n\t        // +   bugfixed by: Ulrich\n\t        // +   bugfixed by: Rafal Kukawski\n\t        // +   improved by: kirilloid\n\t        // +   bugfixed by: kirilloid\n\t        // *     example 1: this.utf8_encode('Kevin van Zonneveld');\n\t        // *     returns 1: 'Kevin van Zonneveld'\n\t\n\t        if (argString === null || typeof argString === 'undefined') {\n\t            return '';\n\t        }\n\t\n\t        var string = (argString + ''); // .replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n\t        var utftext = '',\n\t            start, end, stringl = 0;\n\t\n\t        start = end = 0;\n\t        stringl = string.length;\n\t        for (var n = 0; n < stringl; n++) {\n\t            var c1 = string.charCodeAt(n);\n\t            var enc = null;\n\t\n\t            if (c1 < 128) {\n\t                end++;\n\t            } else if (c1 > 127 && c1 < 2048) {\n\t                enc = String.fromCharCode(\n\t                    (c1 >> 6) | 192, (c1 & 63) | 128\n\t                );\n\t            } else if (c1 & 0xF800 ^ 0xD800 > 0) {\n\t                enc = String.fromCharCode(\n\t                    (c1 >> 12) | 224, ((c1 >> 6) & 63) | 128, (c1 & 63) | 128\n\t                );\n\t            } else { // surrogate pairs\n\t                if (c1 & 0xFC00 ^ 0xD800 > 0) {\n\t                    throw new RangeError('Unmatched trail surrogate at ' + n);\n\t                }\n\t                var c2 = string.charCodeAt(++n);\n\t                if (c2 & 0xFC00 ^ 0xDC00 > 0) {\n\t                    throw new RangeError('Unmatched lead surrogate at ' + (n - 1));\n\t                }\n\t                c1 = ((c1 & 0x3FF) << 10) + (c2 & 0x3FF) + 0x10000;\n\t                enc = String.fromCharCode(\n\t                    (c1 >> 18) | 240, ((c1 >> 12) & 63) | 128, ((c1 >> 6) & 63) | 128, (c1 & 63) | 128\n\t                );\n\t            }\n\t            if (enc !== null) {\n\t                if (end > start) {\n\t                    utftext += string.slice(start, end);\n\t                }\n\t                utftext += enc;\n\t                start = end = n + 1;\n\t            }\n\t        }\n\t\n\t        if (end > start) {\n\t            utftext += string.slice(start, stringl);\n\t        }\n\t\n\t        return utftext;\n\t    };\n\t\n\t    this.base64_encode = function(data) {\n\t        // http://kevin.vanzonneveld.net\n\t        // +   original by: Tyler Akins (http://rumkin.com)\n\t        // +   improved by: Bayron Guevara\n\t        // +   improved by: Thunder.m\n\t        // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n\t        // +   bugfixed by: Pellentesque Malesuada\n\t        // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n\t        // -    depends on: this.utf8_encode\n\t        // *     example 1: this.base64_encode('Kevin van Zonneveld');\n\t        // *     returns 1: 'S2V2aW4gdmFuIFpvbm5ldmVsZA=='\n\t        // mozilla has this native\n\t        // - but breaks in 2.0.0.12!\n\t        //if (typeof this.window['atob'] == 'function') {\n\t        //    return atob(data);\n\t        //}\n\t        var b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\t        var o1, o2, o3, h1, h2, h3, h4, bits, i = 0,\n\t            ac = 0,\n\t            enc = '',\n\t            tmp_arr = [];\n\t\n\t        if (!data) {\n\t            return data;\n\t        }\n\t\n\t        data = this.utf8_encode(data + '');\n\t\n\t        do { // pack three octets into four hexets\n\t            o1 = data.charCodeAt(i++);\n\t            o2 = data.charCodeAt(i++);\n\t            o3 = data.charCodeAt(i++);\n\t\n\t            bits = o1 << 16 | o2 << 8 | o3;\n\t\n\t            h1 = bits >> 18 & 0x3f;\n\t            h2 = bits >> 12 & 0x3f;\n\t            h3 = bits >> 6 & 0x3f;\n\t            h4 = bits & 0x3f;\n\t\n\t            // use hexets to index into b64, and append result to encoded string\n\t            tmp_arr[ac++] = b64.charAt(h1) + b64.charAt(h2) + b64.charAt(h3) + b64.charAt(h4);\n\t        } while (i < data.length);\n\t\n\t        enc = tmp_arr.join('');\n\t\n\t        switch (data.length % 3) {\n\t            case 1:\n\t                enc = enc.slice(0, -2) + '==';\n\t                break;\n\t            case 2:\n\t                enc = enc.slice(0, -1) + '=';\n\t                break;\n\t        }\n\t\n\t        return enc;\n\t    };\n\t\n\t    this.URLSafeBase64Encode = function(v) {\n\t        v = this.base64_encode(v);\n\t        return v.replace(/\\//g, '_').replace(/\\+/g, '-');\n\t    };\n\t\n\t    this.createAjax = function(argument) {\n\t        var xmlhttp = {};\n\t        if (window.XMLHttpRequest) {\n\t            xmlhttp = new XMLHttpRequest();\n\t        } else {\n\t            xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n\t        }\n\t        return xmlhttp;\n\t    };\n\t\n\t    this.parseJSON = function(data) {\n\t        // Attempt to parse using the native JSON parser first\n\t        if (window.JSON && window.JSON.parse) {\n\t            return window.JSON.parse(data);\n\t        }\n\t\n\t        if (data === null) {\n\t            return data;\n\t        }\n\t        if (typeof data === \"string\") {\n\t\n\t            // Make sure leading/trailing whitespace is removed (IE can't handle it)\n\t            data = this.trim(data);\n\t\n\t            if (data) {\n\t                // Make sure the incoming data is actual JSON\n\t                // Logic borrowed from http://json.org/json2.js\n\t                if (/^[\\],:{}\\s]*$/.test(data.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[\\da-fA-F]{4})/g, \"@\").replace(/\"[^\"\\\\\\r\\n]*\"|true|false|null|-?(?:\\d+\\.|)\\d+(?:[eE][+-]?\\d+|)/g, \"]\").replace(/(?:^|:|,)(?:\\s*\\[)+/g, \"\"))) {\n\t\n\t                    return (function() {\n\t                        return data;\n\t                    })();\n\t                }\n\t            }\n\t        }\n\t    };\n\t\n\t    this.trim = function(text) {\n\t        return text === null ? \"\" : this.trim.call(text);\n\t    };\n\t\n\t    //Todo ie7 handler / this.parseJSON bug;\n\t\n\t    var that = this;\n\t\n\t    this.uploader = function(op) {\n\t        if (!op.domain) {\n\t            throw 'uptoken_url or domain is required!';\n\t        }\n\t\n\t        if (!op.browse_button) {\n\t            throw 'browse_button is required!';\n\t        }\n\t\n\t        var option = {};\n\t\n\t        var _Error_Handler = op.init && op.init.Error;\n\t        var _FileUploaded_Handler = op.init && op.init.FileUploaded;\n\t\n\t        op.init.Error = function() {};\n\t        op.init.FileUploaded = function() {};\n\t\n\t        that.uptoken_url = op.uptoken_url;\n\t        that.token = '';\n\t        that.key_handler = typeof op.init.Key === 'function' ? op.init.Key : '';\n\t        this.domain = op.domain;\n\t        var ctx = '';\n\t\n\t        var reset_chunk_size = function() {\n\t            var ie = that.detectIEVersion();\n\t            var BLOCK_BITS, MAX_CHUNK_SIZE, chunk_size;\n\t            var isSpecialSafari = (mOxie.Env.browser === \"Safari\" && mOxie.Env.version <= 5 && mOxie.Env.os === \"Windows\" && mOxie.Env.osVersion === \"7\") || (mOxie.Env.browser === \"Safari\" && mOxie.Env.os === \"iOS\" && mOxie.Env.osVersion === \"7\");\n\t            if (ie && ie <= 9 && op.chunk_size && op.runtimes.indexOf('flash') >= 0) {\n\t                //  link: http://www.plupload.com/docs/Frequently-Asked-Questions#when-to-use-chunking-and-when-not\n\t                //  when plupload chunk_size setting is't null ,it cause bug in ie8/9  which runs  flash runtimes (not support html5) .\n\t                op.chunk_size = 0;\n\t\n\t            } else if (isSpecialSafari) {\n\t                // win7 safari / iOS7 safari have bug when in chunk upload mode\n\t                // reset chunk_size to 0\n\t                // disable chunk in special version safari\n\t                op.chunk_size = 0;\n\t            } else {\n\t                BLOCK_BITS = 20;\n\t                MAX_CHUNK_SIZE = 4 << BLOCK_BITS; //4M\n\t\n\t                chunk_size = plupload.parseSize(op.chunk_size);\n\t                if (chunk_size > MAX_CHUNK_SIZE) {\n\t                    op.chunk_size = MAX_CHUNK_SIZE;\n\t                }\n\t                // qiniu service  max_chunk_size is 4m\n\t                // reset chunk_size to max_chunk_size(4m) when chunk_size > 4m\n\t            }\n\t        };\n\t        reset_chunk_size();\n\t\n\t        var getUpToken = function() {\n\t            if (!op.uptoken) {\n\t                var ajax = that.createAjax();\n\t                ajax.open('GET', that.uptoken_url, true);\n\t                ajax.setRequestHeader(\"If-Modified-Since\", \"0\");\n\t                ajax.onreadystatechange = function() {\n\t                    if (ajax.readyState === 4 && ajax.status === 200) {\n\t                        var res = that.parseJSON(ajax.responseText);\n\t                        that.token = res.uptoken;\n\t                    }\n\t                };\n\t                ajax.send();\n\t            } else {\n\t                that.token = op.uptoken;\n\t            }\n\t        };\n\t\n\t        var getFileKey = function(up, file, func) {\n\t            var key = '',\n\t                unique_names = false;\n\t            if (!op.save_key) {\n\t                unique_names = up.getOption && up.getOption('unique_names');\n\t                unique_names = unique_names || (up.settings && up.settings.unique_names);\n\t                if (unique_names) {\n\t                    var ext = that.getFileExtension(file.name);\n\t                    key = ext ? file.id + '.' + ext : file.id;\n\t                } else if (typeof func === 'function') {\n\t                    key = func(up, file);\n\t                } else {\n\t                    key = file.name;\n\t                }\n\t            }\n\t            return key;\n\t        };\n\t\n\t        plupload.extend(option, op, {\n\t            url: 'http://up.qiniu.com',\n\t            multipart_params: {\n\t                token: ''\n\t            }\n\t        });\n\t\n\t        var uploader = new plupload.Uploader(option);\n\t\n\t        uploader.bind('Init', function(up, params) {\n\t            getUpToken();\n\t        });\n\t        uploader.init();\n\t\n\t        uploader.bind('FilesAdded', function(up, files) {\n\t            var auto_start = up.getOption && up.getOption('auto_start');\n\t            auto_start = auto_start || (up.settings && up.settings.auto_start);\n\t            if (auto_start) {\n\t                plupload.each(files, function(i, file) {\n\t                    up.start();\n\t                });\n\t            }\n\t            up.refresh(); // Reposition Flash/Silverlight\n\t        });\n\t\n\t        uploader.bind('BeforeUpload', function(up, file) {\n\t\n\t            ctx = '';\n\t\n\t            var directUpload = function(up, file, func) {\n\t\n\t                var multipart_params_obj;\n\t                if (op.save_key) {\n\t                    multipart_params_obj = {\n\t                        'token': that.token\n\t                    };\n\t                } else {\n\t                    multipart_params_obj = {\n\t                        'key': getFileKey(up, file, func),\n\t                        'token': that.token\n\t                    };\n\t                }\n\t\n\t                var x_vars = op.x_vars;\n\t                if (x_vars !== undefined && typeof x_vars === 'object') {\n\t                    for (var x_key in x_vars) {\n\t                        if (x_vars.hasOwnProperty(x_key)) {\n\t                            if (typeof x_vars[x_key] === 'function') {\n\t                                multipart_params_obj['x:' + x_key] = x_vars[x_key](up, file);\n\t                            } else if (typeof x_vars[x_key] !== 'object') {\n\t                                multipart_params_obj['x:' + x_key] = x_vars[x_key];\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t\n\t\n\t                up.setOption({\n\t                    'url': 'http://up.qiniu.com/',\n\t                    'multipart': true,\n\t                    'chunk_size': undefined,\n\t                    'multipart_params': multipart_params_obj\n\t                });\n\t            };\n\t\n\t\n\t            var chunk_size = up.getOption && up.getOption('chunk_size');\n\t            chunk_size = chunk_size || (up.settings && up.settings.chunk_size);\n\t            if (uploader.runtime === 'html5' && chunk_size) {\n\t                if (file.size < chunk_size) {\n\t                    directUpload(up, file, that.key_handler);\n\t                } else {\n\t                    var localFileInfo = localStorage.getItem(file.name);\n\t                    var blockSize = chunk_size;\n\t                    if (localFileInfo) {\n\t                        localFileInfo = JSON.parse(localFileInfo);\n\t                        var now = (new Date()).getTime();\n\t                        var before = localFileInfo.time || 0;\n\t                        var aDay = 24 * 60 * 60 * 1000; //  milliseconds\n\t                        if (now - before < aDay) {\n\t                            if (localFileInfo.percent !== 100) {\n\t                                if (file.size === localFileInfo.total) {\n\t                                    file.percent = localFileInfo.percent;\n\t                                    file.loaded = localFileInfo.offset;\n\t                                    ctx = localFileInfo.ctx;\n\t                                    if (localFileInfo.offset + blockSize > file.size) {\n\t                                        blockSize = file.size - localFileInfo.offset;\n\t                                    }\n\t                                } else {\n\t                                    localStorage.removeItem(file.name);\n\t                                }\n\t\n\t                            } else {\n\t                                // 100%localStorage 499 bug\n\t                                localStorage.removeItem(file.name);\n\t                            }\n\t                        } else {\n\t                            localStorage.removeItem(file.name);\n\t                        }\n\t                    }\n\t                    up.setOption({\n\t                        'url': 'http://up.qiniu.com/mkblk/' + blockSize,\n\t                        'multipart': false,\n\t                        'chunk_size': chunk_size,\n\t                        'required_features': \"chunks\",\n\t                        'headers': {\n\t                            'Authorization': 'UpToken ' + that.token\n\t                        },\n\t                        'multipart_params': {}\n\t                    });\n\t                }\n\t            } else {\n\t                directUpload(up, file, that.key_handler);\n\t            }\n\t        });\n\t\n\t        uploader.bind('ChunkUploaded', function(up, file, info) {\n\t            var res = that.parseJSON(info.response);\n\t\n\t            ctx = ctx ? ctx + ',' + res.ctx : res.ctx;\n\t            var leftSize = info.total - info.offset;\n\t            var chunk_size = up.getOption && up.getOption('chunk_size');\n\t            chunk_size = chunk_size || (up.settings && up.settings.chunk_size);\n\t            if (leftSize < chunk_size) {\n\t                up.setOption({\n\t                    'url': 'http://up.qiniu.com/mkblk/' + leftSize\n\t                });\n\t            }\n\t            localStorage.setItem(file.name, JSON.stringify({\n\t                ctx: ctx,\n\t                percent: file.percent,\n\t                total: info.total,\n\t                offset: info.offset,\n\t                time: (new Date()).getTime()\n\t            }));\n\t        });\n\t\n\t        uploader.bind('Error', (function(_Error_Handler) {\n\t            return function(up, err) {\n\t                var errTip = '';\n\t                var file = err.file;\n\t                if (file) {\n\t                    switch (err.code) {\n\t                        case plupload.FAILED:\n\t                            errTip = '';\n\t                            break;\n\t                        case plupload.FILE_SIZE_ERROR:\n\t                            var max_file_size = up.getOption && up.getOption('max_file_size');\n\t                            max_file_size = max_file_size || (up.settings && up.settings.max_file_size);\n\t                            errTip = '' + max_file_size + '';\n\t                            break;\n\t                        case plupload.FILE_EXTENSION_ERROR:\n\t                            errTip = '';\n\t                            break;\n\t                        case plupload.HTTP_ERROR:\n\t                            var errorObj = that.parseJSON(err.response);\n\t                            var errorText = errorObj.error;\n\t                            switch (err.status) {\n\t                                case 400:\n\t                                    errTip = \"\";\n\t                                    break;\n\t                                case 401:\n\t                                    errTip = \"\";\n\t                                    break;\n\t                                case 405:\n\t                                    errTip = \"\";\n\t                                    break;\n\t                                case 579:\n\t                                    errTip = \"\";\n\t                                    break;\n\t                                case 599:\n\t                                    errTip = \"\";\n\t                                    break;\n\t                                case 614:\n\t                                    errTip = \"\";\n\t                                    try {\n\t                                        errorObj = that.parseJSON(errorObj.error);\n\t                                        errorText = errorObj.error || 'file exists';\n\t                                    } catch (e) {\n\t                                        errorText = errorObj.error || 'file exists';\n\t                                    }\n\t                                    break;\n\t                                case 631:\n\t                                    errTip = \"\";\n\t                                    break;\n\t                                case 701:\n\t                                    errTip = \"\";\n\t                                    break;\n\t                                default:\n\t                                    errTip = \"\";\n\t                                    break;\n\t                            }\n\t                            errTip = errTip + '(' + err.status + '' + errorText + ')';\n\t                            break;\n\t                        case plupload.SECURITY_ERROR:\n\t                            errTip = '';\n\t                            break;\n\t                        case plupload.GENERIC_ERROR:\n\t                            errTip = '';\n\t                            break;\n\t                        case plupload.IO_ERROR:\n\t                            errTip = '';\n\t                            break;\n\t                        case plupload.INIT_ERROR:\n\t                            errTip = '';\n\t                            uploader.destroy();\n\t                            break;\n\t                        default:\n\t                            errTip = err.message + err.details;\n\t                            break;\n\t                    }\n\t                    if (_Error_Handler) {\n\t                        _Error_Handler(up, err, errTip);\n\t                    }\n\t                }\n\t                up.refresh(); // Reposition Flash/Silverlight\n\t            };\n\t        })(_Error_Handler));\n\t\n\t        uploader.bind('FileUploaded', (function(_FileUploaded_Handler) {\n\t            return function(up, file, info) {\n\t\n\t                var last_step = function(up, file, info) {\n\t                    if (op.downtoken_url) {\n\t                        var ajax_downtoken = that.createAjax();\n\t                        ajax_downtoken.open('POST', op.downtoken_url, true);\n\t                        ajax_downtoken.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n\t                        ajax_downtoken.onreadystatechange = function() {\n\t                            if (ajax_downtoken.readyState === 4) {\n\t                                if (ajax_downtoken.status === 200) {\n\t                                    var res_downtoken;\n\t                                    try {\n\t                                        res_downtoken = that.parseJSON(ajax_downtoken.responseText);\n\t                                    } catch (e) {\n\t                                        throw ('invalid json format');\n\t                                    }\n\t                                    var info_extended = {};\n\t                                    plupload.extend(info_extended, that.parseJSON(info), res_downtoken);\n\t                                    if (_FileUploaded_Handler) {\n\t                                        _FileUploaded_Handler(up, file, JSON.stringify(info_extended));\n\t                                    }\n\t                                } else {\n\t                                    uploader.trigger('Error', {\n\t                                        status: ajax_downtoken.status,\n\t                                        response: ajax_downtoken.responseText,\n\t                                        file: file,\n\t                                        code: plupload.HTTP_ERROR\n\t                                    });\n\t                                }\n\t                            }\n\t                        };\n\t                        ajax_downtoken.send('key=' + that.parseJSON(info).key + '&domain=' + op.domain);\n\t                    } else if (_FileUploaded_Handler) {\n\t                        _FileUploaded_Handler(up, file, info);\n\t                    }\n\t                };\n\t\n\t                var res = that.parseJSON(info.response);\n\t                ctx = ctx ? ctx : res.ctx;\n\t                if (ctx) {\n\t                    var key = '';\n\t                    if (!op.save_key) {\n\t                        key = getFileKey(up, file, that.key_handler);\n\t                        key = key ? '/key/' + that.URLSafeBase64Encode(key) : '';\n\t                    }\n\t\n\t                    var x_vars = op.x_vars,\n\t                        x_val = '',\n\t                        x_vars_url = '';\n\t                    if (x_vars !== undefined && typeof x_vars === 'object') {\n\t                        for (var x_key in x_vars) {\n\t                            if (x_vars.hasOwnProperty(x_key)) {\n\t                                if (typeof x_vars[x_key] === 'function') {\n\t                                    x_val = that.URLSafeBase64Encode(x_vars[x_key](up, file));\n\t                                } else if (typeof x_vars[x_key] !== 'object') {\n\t                                    x_val = that.URLSafeBase64Encode(x_vars[x_key]);\n\t                                }\n\t                                x_vars_url += '/x:' + x_key + '/' + x_val;\n\t                            }\n\t                        }\n\t                    }\n\t\n\t                    var url = 'http://up.qiniu.com/mkfile/' + file.size + key + x_vars_url;\n\t                    var ajax = that.createAjax();\n\t                    ajax.open('POST', url, true);\n\t                    ajax.setRequestHeader('Content-Type', 'text/plain;charset=UTF-8');\n\t                    ajax.setRequestHeader('Authorization', 'UpToken ' + that.token);\n\t                    ajax.onreadystatechange = function() {\n\t                        if (ajax.readyState === 4) {\n\t                            localStorage.removeItem(file.name);\n\t                            if (ajax.status === 200) {\n\t                                var info = ajax.responseText;\n\t                                last_step(up, file, info);\n\t                            } else {\n\t                                uploader.trigger('Error', {\n\t                                    status: ajax.status,\n\t                                    response: ajax.responseText,\n\t                                    file: file,\n\t                                    code: -200\n\t                                });\n\t                            }\n\t                        }\n\t                    };\n\t                    ajax.send(ctx);\n\t                } else {\n\t                    last_step(up, file, info.response);\n\t                }\n\t\n\t            };\n\t        })(_FileUploaded_Handler));\n\t\n\t        return uploader;\n\t    };\n\t\n\t    this.getUrl = function(key) {\n\t        if (!key) {\n\t            return false;\n\t        }\n\t        key = encodeURI(key);\n\t        var domain = this.domain;\n\t        if (domain.slice(domain.length - 1) !== '/') {\n\t            domain = domain + '/';\n\t        }\n\t        return domain + key;\n\t    };\n\t\n\t    this.imageView2 = function(op, key) {\n\t        var mode = op.mode || '',\n\t            w = op.w || '',\n\t            h = op.h || '',\n\t            q = op.quality || '',\n\t            format = op.format || '';\n\t        if (!mode) {\n\t            return false;\n\t        }\n\t        if (!w && !h) {\n\t            return false;\n\t        }\n\t\n\t        var imageUrl = 'imageView2/' + mode;\n\t        imageUrl += w ? '/w/' + w : '';\n\t        imageUrl += h ? '/h/' + h : '';\n\t        imageUrl += q ? '/q/' + q : '';\n\t        imageUrl += format ? '/format/' + format : '';\n\t        if (key) {\n\t            imageUrl = this.getUrl(key) + '?' + imageUrl;\n\t        }\n\t        return imageUrl;\n\t    };\n\t\n\t\n\t    this.imageMogr2 = function(op, key) {\n\t        var auto_orient = op['auto-orient'] || '',\n\t            thumbnail = op.thumbnail || '',\n\t            strip = op.strip || '',\n\t            gravity = op.gravity || '',\n\t            crop = op.crop || '',\n\t            quality = op.quality || '',\n\t            rotate = op.rotate || '',\n\t            format = op.format || '',\n\t            blur = op.blur || '';\n\t        //Todo check option\n\t\n\t        var imageUrl = 'imageMogr2';\n\t\n\t        imageUrl += auto_orient ? '/auto-orient' : '';\n\t        imageUrl += thumbnail ? '/thumbnail/' + thumbnail : '';\n\t        imageUrl += strip ? '/strip' : '';\n\t        imageUrl += gravity ? '/gravity/' + gravity : '';\n\t        imageUrl += quality ? '/quality/' + quality : '';\n\t        imageUrl += crop ? '/crop/' + crop : '';\n\t        imageUrl += rotate ? '/rotate/' + rotate : '';\n\t        imageUrl += format ? '/format/' + format : '';\n\t        imageUrl += blur ? '/blur/' + blur : '';\n\t\n\t        if (key) {\n\t            imageUrl = this.getUrl(key) + '?' + imageUrl;\n\t        }\n\t        return imageUrl;\n\t    };\n\t\n\t    this.watermark = function(op, key) {\n\t\n\t        var mode = op.mode;\n\t        if (!mode) {\n\t            return false;\n\t        }\n\t\n\t        var imageUrl = 'watermark/' + mode;\n\t\n\t        if (mode === 1) {\n\t            var image = op.image || '';\n\t            if (!image) {\n\t                return false;\n\t            }\n\t            imageUrl += image ? '/image/' + this.URLSafeBase64Encode(image) : '';\n\t        } else if (mode === 2) {\n\t            var text = op.text ? op.text : '',\n\t                font = op.font ? op.font : '',\n\t                fontsize = op.fontsize ? op.fontsize : '',\n\t                fill = op.fill ? op.fill : '';\n\t            if (!text) {\n\t                return false;\n\t            }\n\t            imageUrl += text ? '/text/' + this.URLSafeBase64Encode(text) : '';\n\t            imageUrl += font ? '/font/' + this.URLSafeBase64Encode(font) : '';\n\t            imageUrl += fontsize ? '/fontsize/' + fontsize : '';\n\t            imageUrl += fill ? '/fill/' + this.URLSafeBase64Encode(fill) : '';\n\t        } else {\n\t            // Todo mode3\n\t            return false;\n\t        }\n\t\n\t        var dissolve = op.dissolve || '',\n\t            gravity = op.gravity || '',\n\t            dx = op.dx || '',\n\t            dy = op.dy || '';\n\t\n\t        imageUrl += dissolve ? '/dissolve/' + dissolve : '';\n\t        imageUrl += gravity ? '/gravity/' + gravity : '';\n\t        imageUrl += dx ? '/dx/' + dx : '';\n\t        imageUrl += dy ? '/dy/' + dy : '';\n\t\n\t        if (key) {\n\t            imageUrl = this.getUrl(key) + '?' + imageUrl;\n\t        }\n\t        return imageUrl;\n\t\n\t    };\n\t\n\t    this.imageInfo = function(key) {\n\t        if (!key) {\n\t            return false;\n\t        }\n\t        var url = this.getUrl(key) + '?imageInfo';\n\t        var xhr = this.createAjax();\n\t        var info;\n\t        var that = this;\n\t        xhr.open('GET', url, false);\n\t        xhr.onreadystatechange = function() {\n\t            if (xhr.readyState === 4 && xhr.status === 200) {\n\t                info = that.parseJSON(xhr.responseText);\n\t            }\n\t        };\n\t        xhr.send();\n\t        return info;\n\t    };\n\t\n\t\n\t    this.exif = function(key) {\n\t        if (!key) {\n\t            return false;\n\t        }\n\t        var url = this.getUrl(key) + '?exif';\n\t        var xhr = this.createAjax();\n\t        var info;\n\t        var that = this;\n\t        xhr.open('GET', url, false);\n\t        xhr.onreadystatechange = function() {\n\t            if (xhr.readyState === 4 && xhr.status === 200) {\n\t                info = that.parseJSON(xhr.responseText);\n\t            }\n\t        };\n\t        xhr.send();\n\t        return info;\n\t    };\n\t\n\t    this.get = function(type, key) {\n\t        if (!key || !type) {\n\t            return false;\n\t        }\n\t        if (type === 'exif') {\n\t            return this.exif(key);\n\t        } else if (type === 'imageInfo') {\n\t            return this.imageInfo(key);\n\t        }\n\t        return false;\n\t    };\n\t\n\t\n\t    this.pipeline = function(arr, key) {\n\t\n\t        var isArray = Object.prototype.toString.call(arr) === '[object Array]';\n\t        var option, errOp, imageUrl = '';\n\t        if (isArray) {\n\t            for (var i = 0, len = arr.length; i < len; i++) {\n\t                option = arr[i];\n\t                if (!option.fop) {\n\t                    return false;\n\t                }\n\t                switch (option.fop) {\n\t                    case 'watermark':\n\t                        imageUrl += this.watermark(option) + '|';\n\t                        break;\n\t                    case 'imageView2':\n\t                        imageUrl += this.imageView2(option) + '|';\n\t                        break;\n\t                    case 'imageMogr2':\n\t                        imageUrl += this.imageMogr2(option) + '|';\n\t                        break;\n\t                    default:\n\t                        errOp = true;\n\t                        break;\n\t                }\n\t                if (errOp) {\n\t                    return false;\n\t                }\n\t            }\n\t            if (key) {\n\t                imageUrl = this.getUrl(key) + '?' + imageUrl;\n\t                var length = imageUrl.length;\n\t                if (imageUrl.slice(length - 1) === '|') {\n\t                    imageUrl = imageUrl.slice(0, length - 1);\n\t                }\n\t            }\n\t            return imageUrl;\n\t        }\n\t        return false;\n\t    };\n\t\n\t}\n\t\n\texports.uploader = function(options) {\n\t  var qiniu = new QiniuJsSDK();\n\t  return qiniu.uploader(options);\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(93)))\n\n/***/ },\n/* 176 */,\n/* 177 */,\n/* 178 */,\n/* 179 */,\n/* 180 */,\n/* 181 */,\n/* 182 */,\n/* 183 */,\n/* 184 */,\n/* 185 */,\n/* 186 */,\n/* 187 */,\n/* 188 */,\n/* 189 */,\n/* 190 */,\n/* 191 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<loading><section class=setting><h2></h2><section class=form><h3></h3><div class=white><div class=avatar-container id=upload-container><user-avatar :user=user></user-avatar><button type=button id=pickfiles></button></div><div class=row><p></p><input v-model=\\\"username\\\"></div><div class=row><p>Github </p><input v-model=github style=\\\"text-indent: 110px\\\"> <span>github.com /</span></div></div><div class=color><div class=row><p></p><input v-model=\\\"company\\\"></div><div class=row><p></p><input v-model=\\\"jobTitle\\\"></div><div class=row><p></p><textarea v-model=introduction></textarea></div><div class=row><button type=button @click=updateUser></button></div></div></section><section class=tags><h3 class=region-title>{{tagTitle}}</h3><div class=tags-content><ul class=list><li v-for=\\\"tag in tags\\\"><tag :tag=tag :show-del=true></tag></li></ul><div class=select-content><p> {{tagTitle}}</p><select v-model=selected><option v-for=\\\"tag in remains\\\" :value=\\\"{tagId: tag.tagId}\\\">{{tag.tagName}}</select><button type=button @click=addTag></button></div></div></section></section></loading>\";\n\n/***/ },\n/* 192 */,\n/* 193 */,\n/* 194 */,\n/* 195 */,\n/* 196 */,\n/* 197 */,\n/* 198 */,\n/* 199 */,\n/* 200 */,\n/* 201 */,\n/* 202 */,\n/* 203 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(168)\n\tmodule.exports = __webpack_require__(132)\n\t\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\t;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __webpack_require__(191)\n\tif (false) {(function () {  module.hot.accept()\n\t  var hotAPI = require(\"vue-hot-reload-api\")\n\t  hotAPI.install(require(\"vue\"), true)\n\t  if (!hotAPI.compatible) return\n\t  var id = \"/Users/yuqiu/github/code-review-web/src/views/setting.vue\"\n\t  if (!module.hot.data) {\n\t    hotAPI.createRecord(id, module.exports)\n\t  } else {\n\t    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n\t  }\n\t})()}\n\n/***/ },\n/* 204 */,\n/* 205 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(mOxie) {/**\n\t * Plupload - multi-runtime File Uploader\n\t * v2.1.2\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t *\n\t * Date: 2014-05-14\n\t */\n\t/**\n\t * Plupload.js\n\t *\n\t * Copyright 2013, Moxiecode Systems AB\n\t * Released under GPL License.\n\t *\n\t * License: http://www.plupload.com/license\n\t * Contributing: http://www.plupload.com/contributing\n\t */\n\t\n\t/*global mOxie:true */\n\t\n\t;(function(window, o, undef) {\n\t\n\tvar delay = window.setTimeout\n\t, fileFilters = {}\n\t;\n\t\n\t// convert plupload features to caps acceptable by mOxie\n\tfunction normalizeCaps(settings) {\t\t\n\t\tvar features = settings.required_features, caps = {};\n\t\n\t\tfunction resolve(feature, value, strict) {\n\t\t\t// Feature notation is deprecated, use caps (this thing here is required for backward compatibility)\n\t\t\tvar map = { \n\t\t\t\tchunks: 'slice_blob',\n\t\t\t\tjpgresize: 'send_binary_string',\n\t\t\t\tpngresize: 'send_binary_string',\n\t\t\t\tprogress: 'report_upload_progress',\n\t\t\t\tmulti_selection: 'select_multiple',\n\t\t\t\tdragdrop: 'drag_and_drop',\n\t\t\t\tdrop_element: 'drag_and_drop',\n\t\t\t\theaders: 'send_custom_headers',\n\t\t\t\turlstream_upload: 'send_binary_string',\n\t\t\t\tcanSendBinary: 'send_binary',\n\t\t\t\ttriggerDialog: 'summon_file_dialog'\n\t\t\t};\n\t\n\t\t\tif (map[feature]) {\n\t\t\t\tcaps[map[feature]] = value;\n\t\t\t} else if (!strict) {\n\t\t\t\tcaps[feature] = value;\n\t\t\t}\n\t\t}\n\t\n\t\tif (typeof(features) === 'string') {\n\t\t\tplupload.each(features.split(/\\s*,\\s*/), function(feature) {\n\t\t\t\tresolve(feature, true);\n\t\t\t});\n\t\t} else if (typeof(features) === 'object') {\n\t\t\tplupload.each(features, function(value, feature) {\n\t\t\t\tresolve(feature, value);\n\t\t\t});\n\t\t} else if (features === true) {\n\t\t\t// check settings for required features\n\t\t\tif (settings.chunk_size > 0) {\n\t\t\t\tcaps.slice_blob = true;\n\t\t\t}\n\t\n\t\t\tif (settings.resize.enabled || !settings.multipart) {\n\t\t\t\tcaps.send_binary_string = true;\n\t\t\t}\n\t\t\t\n\t\t\tplupload.each(settings, function(value, feature) {\n\t\t\t\tresolve(feature, !!value, true); // strict check\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn caps;\n\t}\n\t\n\t/** \n\t * @module plupload\t\n\t * @static\n\t */\n\tvar plupload = {\n\t\t/**\n\t\t * Plupload version will be replaced on build.\n\t\t *\n\t\t * @property VERSION\n\t\t * @for Plupload\n\t\t * @static\n\t\t * @final\n\t\t */\n\t\tVERSION : '2.1.2',\n\t\n\t\t/**\n\t\t * Inital state of the queue and also the state ones it's finished all it's uploads.\n\t\t *\n\t\t * @property STOPPED\n\t\t * @static\n\t\t * @final\n\t\t */\n\t\tSTOPPED : 1,\n\t\n\t\t/**\n\t\t * Upload process is running\n\t\t *\n\t\t * @property STARTED\n\t\t * @static\n\t\t * @final\n\t\t */\n\t\tSTARTED : 2,\n\t\n\t\t/**\n\t\t * File is queued for upload\n\t\t *\n\t\t * @property QUEUED\n\t\t * @static\n\t\t * @final\n\t\t */\n\t\tQUEUED : 1,\n\t\n\t\t/**\n\t\t * File is being uploaded\n\t\t *\n\t\t * @property UPLOADING\n\t\t * @static\n\t\t * @final\n\t\t */\n\t\tUPLOADING : 2,\n\t\n\t\t/**\n\t\t * File has failed to be uploaded\n\t\t *\n\t\t * @property FAILED\n\t\t * @static\n\t\t * @final\n\t\t */\n\t\tFAILED : 4,\n\t\n\t\t/**\n\t\t * File has been uploaded successfully\n\t\t *\n\t\t * @property DONE\n\t\t * @static\n\t\t * @final\n\t\t */\n\t\tDONE : 5,\n\t\n\t\t// Error constants used by the Error event\n\t\n\t\t/**\n\t\t * Generic error for example if an exception is thrown inside Silverlight.\n\t\t *\n\t\t * @property GENERIC_ERROR\n\t\t * @static\n\t\t * @final\n\t\t */\n\t\tGENERIC_ERROR : -100,\n\t\n\t\t/**\n\t\t * HTTP transport error. For example if the server produces a HTTP status other than 200.\n\t\t *\n\t\t * @property HTTP_ERROR\n\t\t * @static\n\t\t * @final\n\t\t */\n\t\tHTTP_ERROR : -200,\n\t\n\t\t/**\n\t\t * Generic I/O error. For example if it wasn't possible to open the file stream on local machine.\n\t\t *\n\t\t * @property IO_ERROR\n\t\t * @static\n\t\t * @final\n\t\t */\n\t\tIO_ERROR : -300,\n\t\n\t\t/**\n\t\t * @property SECURITY_ERROR\n\t\t * @static\n\t\t * @final\n\t\t */\n\t\tSECURITY_ERROR : -400,\n\t\n\t\t/**\n\t\t * Initialization error. Will be triggered if no runtime was initialized.\n\t\t *\n\t\t * @property INIT_ERROR\n\t\t * @static\n\t\t * @final\n\t\t */\n\t\tINIT_ERROR : -500,\n\t\n\t\t/**\n\t\t * File size error. If the user selects a file that is too large it will be blocked and an error of this type will be triggered.\n\t\t *\n\t\t * @property FILE_SIZE_ERROR\n\t\t * @static\n\t\t * @final\n\t\t */\n\t\tFILE_SIZE_ERROR : -600,\n\t\n\t\t/**\n\t\t * File extension error. If the user selects a file that isn't valid according to the filters setting.\n\t\t *\n\t\t * @property FILE_EXTENSION_ERROR\n\t\t * @static\n\t\t * @final\n\t\t */\n\t\tFILE_EXTENSION_ERROR : -601,\n\t\n\t\t/**\n\t\t * Duplicate file error. If prevent_duplicates is set to true and user selects the same file again.\n\t\t *\n\t\t * @property FILE_DUPLICATE_ERROR\n\t\t * @static\n\t\t * @final\n\t\t */\n\t\tFILE_DUPLICATE_ERROR : -602,\n\t\n\t\t/**\n\t\t * Runtime will try to detect if image is proper one. Otherwise will throw this error.\n\t\t *\n\t\t * @property IMAGE_FORMAT_ERROR\n\t\t * @static\n\t\t * @final\n\t\t */\n\t\tIMAGE_FORMAT_ERROR : -700,\n\t\n\t\t/**\n\t\t * While working on files runtime may run out of memory and will throw this error.\n\t\t *\n\t\t * @since 2.1.2\n\t\t * @property MEMORY_ERROR\n\t\t * @static\n\t\t * @final\n\t\t */\n\t\tMEMORY_ERROR : -701,\n\t\n\t\t/**\n\t\t * Each runtime has an upper limit on a dimension of the image it can handle. If bigger, will throw this error.\n\t\t *\n\t\t * @property IMAGE_DIMENSIONS_ERROR\n\t\t * @static\n\t\t * @final\n\t\t */\n\t\tIMAGE_DIMENSIONS_ERROR : -702,\n\t\n\t\t/**\n\t\t * Mime type lookup table.\n\t\t *\n\t\t * @property mimeTypes\n\t\t * @type Object\n\t\t * @final\n\t\t */\n\t\tmimeTypes : o.mimes,\n\t\n\t\t/**\n\t\t * In some cases sniffing is the only way around :(\n\t\t */\n\t\tua: o.ua,\n\t\n\t\t/**\n\t\t * Gets the true type of the built-in object (better version of typeof).\n\t\t * @credits Angus Croll (http://javascriptweblog.wordpress.com/)\n\t\t *\n\t\t * @method typeOf\n\t\t * @static\n\t\t * @param {Object} o Object to check.\n\t\t * @return {String} Object [[Class]]\n\t\t */\n\t\ttypeOf: o.typeOf,\n\t\n\t\t/**\n\t\t * Extends the specified object with another object.\n\t\t *\n\t\t * @method extend\n\t\t * @static\n\t\t * @param {Object} target Object to extend.\n\t\t * @param {Object..} obj Multiple objects to extend with.\n\t\t * @return {Object} Same as target, the extended object.\n\t\t */\n\t\textend : o.extend,\n\t\n\t\t/**\n\t\t * Generates an unique ID. This is 99.99% unique since it takes the current time and 5 random numbers.\n\t\t * The only way a user would be able to get the same ID is if the two persons at the same exact milisecond manages\n\t\t * to get 5 the same random numbers between 0-65535 it also uses a counter so each call will be guaranteed to be page unique.\n\t\t * It's more probable for the earth to be hit with an ansteriod. You can also if you want to be 100% sure set the plupload.guidPrefix property\n\t\t * to an user unique key.\n\t\t *\n\t\t * @method guid\n\t\t * @static\n\t\t * @return {String} Virtually unique id.\n\t\t */\n\t\tguid : o.guid,\n\t\n\t\t/**\n\t\t * Get array of DOM Elements by their ids.\n\t\t * \n\t\t * @method get\n\t\t * @for Utils\n\t\t * @param {String} id Identifier of the DOM Element\n\t\t * @return {Array}\n\t\t*/\n\t\tget : function get(ids) {\n\t\t\tvar els = [], el;\n\t\n\t\t\tif (o.typeOf(ids) !== 'array') {\n\t\t\t\tids = [ids];\n\t\t\t}\n\t\n\t\t\tvar i = ids.length;\n\t\t\twhile (i--) {\n\t\t\t\tel = o.get(ids[i]);\n\t\t\t\tif (el) {\n\t\t\t\t\tels.push(el);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn els.length ? els : null;\n\t\t},\n\t\n\t\t/**\n\t\t * Executes the callback function for each item in array/object. If you return false in the\n\t\t * callback it will break the loop.\n\t\t *\n\t\t * @method each\n\t\t * @static\n\t\t * @param {Object} obj Object to iterate.\n\t\t * @param {function} callback Callback function to execute for each item.\n\t\t */\n\t\teach : o.each,\n\t\n\t\t/**\n\t\t * Returns the absolute x, y position of an Element. The position will be returned in a object with x, y fields.\n\t\t *\n\t\t * @method getPos\n\t\t * @static\n\t\t * @param {Element} node HTML element or element id to get x, y position from.\n\t\t * @param {Element} root Optional root element to stop calculations at.\n\t\t * @return {object} Absolute position of the specified element object with x, y fields.\n\t\t */\n\t\tgetPos : o.getPos,\n\t\n\t\t/**\n\t\t * Returns the size of the specified node in pixels.\n\t\t *\n\t\t * @method getSize\n\t\t * @static\n\t\t * @param {Node} node Node to get the size of.\n\t\t * @return {Object} Object with a w and h property.\n\t\t */\n\t\tgetSize : o.getSize,\n\t\n\t\t/**\n\t\t * Encodes the specified string.\n\t\t *\n\t\t * @method xmlEncode\n\t\t * @static\n\t\t * @param {String} s String to encode.\n\t\t * @return {String} Encoded string.\n\t\t */\n\t\txmlEncode : function(str) {\n\t\t\tvar xmlEncodeChars = {'<' : 'lt', '>' : 'gt', '&' : 'amp', '\"' : 'quot', '\\'' : '#39'}, xmlEncodeRegExp = /[<>&\\\"\\']/g;\n\t\n\t\t\treturn str ? ('' + str).replace(xmlEncodeRegExp, function(chr) {\n\t\t\t\treturn xmlEncodeChars[chr] ? '&' + xmlEncodeChars[chr] + ';' : chr;\n\t\t\t}) : str;\n\t\t},\n\t\n\t\t/**\n\t\t * Forces anything into an array.\n\t\t *\n\t\t * @method toArray\n\t\t * @static\n\t\t * @param {Object} obj Object with length field.\n\t\t * @return {Array} Array object containing all items.\n\t\t */\n\t\ttoArray : o.toArray,\n\t\n\t\t/**\n\t\t * Find an element in array and return it's index if present, otherwise return -1.\n\t\t *\n\t\t * @method inArray\n\t\t * @static\n\t\t * @param {mixed} needle Element to find\n\t\t * @param {Array} array\n\t\t * @return {Int} Index of the element, or -1 if not found\n\t\t */\n\t\tinArray : o.inArray,\n\t\n\t\t/**\n\t\t * Extends the language pack object with new items.\n\t\t *\n\t\t * @method addI18n\n\t\t * @static\n\t\t * @param {Object} pack Language pack items to add.\n\t\t * @return {Object} Extended language pack object.\n\t\t */\n\t\taddI18n : o.addI18n,\n\t\n\t\t/**\n\t\t * Translates the specified string by checking for the english string in the language pack lookup.\n\t\t *\n\t\t * @method translate\n\t\t * @static\n\t\t * @param {String} str String to look for.\n\t\t * @return {String} Translated string or the input string if it wasn't found.\n\t\t */\n\t\ttranslate : o.translate,\n\t\n\t\t/**\n\t\t * Checks if object is empty.\n\t\t *\n\t\t * @method isEmptyObj\n\t\t * @static\n\t\t * @param {Object} obj Object to check.\n\t\t * @return {Boolean}\n\t\t */\n\t\tisEmptyObj : o.isEmptyObj,\n\t\n\t\t/**\n\t\t * Checks if specified DOM element has specified class.\n\t\t *\n\t\t * @method hasClass\n\t\t * @static\n\t\t * @param {Object} obj DOM element like object to add handler to.\n\t\t * @param {String} name Class name\n\t\t */\n\t\thasClass : o.hasClass,\n\t\n\t\t/**\n\t\t * Adds specified className to specified DOM element.\n\t\t *\n\t\t * @method addClass\n\t\t * @static\n\t\t * @param {Object} obj DOM element like object to add handler to.\n\t\t * @param {String} name Class name\n\t\t */\n\t\taddClass : o.addClass,\n\t\n\t\t/**\n\t\t * Removes specified className from specified DOM element.\n\t\t *\n\t\t * @method removeClass\n\t\t * @static\n\t\t * @param {Object} obj DOM element like object to add handler to.\n\t\t * @param {String} name Class name\n\t\t */\n\t\tremoveClass : o.removeClass,\n\t\n\t\t/**\n\t\t * Returns a given computed style of a DOM element.\n\t\t *\n\t\t * @method getStyle\n\t\t * @static\n\t\t * @param {Object} obj DOM element like object.\n\t\t * @param {String} name Style you want to get from the DOM element\n\t\t */\n\t\tgetStyle : o.getStyle,\n\t\n\t\t/**\n\t\t * Adds an event handler to the specified object and store reference to the handler\n\t\t * in objects internal Plupload registry (@see removeEvent).\n\t\t *\n\t\t * @method addEvent\n\t\t * @static\n\t\t * @param {Object} obj DOM element like object to add handler to.\n\t\t * @param {String} name Name to add event listener to.\n\t\t * @param {Function} callback Function to call when event occurs.\n\t\t * @param {String} (optional) key that might be used to add specifity to the event record.\n\t\t */\n\t\taddEvent : o.addEvent,\n\t\n\t\t/**\n\t\t * Remove event handler from the specified object. If third argument (callback)\n\t\t * is not specified remove all events with the specified name.\n\t\t *\n\t\t * @method removeEvent\n\t\t * @static\n\t\t * @param {Object} obj DOM element to remove event listener(s) from.\n\t\t * @param {String} name Name of event listener to remove.\n\t\t * @param {Function|String} (optional) might be a callback or unique key to match.\n\t\t */\n\t\tremoveEvent: o.removeEvent,\n\t\n\t\t/**\n\t\t * Remove all kind of events from the specified object\n\t\t *\n\t\t * @method removeAllEvents\n\t\t * @static\n\t\t * @param {Object} obj DOM element to remove event listeners from.\n\t\t * @param {String} (optional) unique key to match, when removing events.\n\t\t */\n\t\tremoveAllEvents: o.removeAllEvents,\n\t\n\t\t/**\n\t\t * Cleans the specified name from national characters (diacritics). The result will be a name with only a-z, 0-9 and _.\n\t\t *\n\t\t * @method cleanName\n\t\t * @static\n\t\t * @param {String} s String to clean up.\n\t\t * @return {String} Cleaned string.\n\t\t */\n\t\tcleanName : function(name) {\n\t\t\tvar i, lookup;\n\t\n\t\t\t// Replace diacritics\n\t\t\tlookup = [\n\t\t\t\t/[\\300-\\306]/g, 'A', /[\\340-\\346]/g, 'a',\n\t\t\t\t/\\307/g, 'C', /\\347/g, 'c',\n\t\t\t\t/[\\310-\\313]/g, 'E', /[\\350-\\353]/g, 'e',\n\t\t\t\t/[\\314-\\317]/g, 'I', /[\\354-\\357]/g, 'i',\n\t\t\t\t/\\321/g, 'N', /\\361/g, 'n',\n\t\t\t\t/[\\322-\\330]/g, 'O', /[\\362-\\370]/g, 'o',\n\t\t\t\t/[\\331-\\334]/g, 'U', /[\\371-\\374]/g, 'u'\n\t\t\t];\n\t\n\t\t\tfor (i = 0; i < lookup.length; i += 2) {\n\t\t\t\tname = name.replace(lookup[i], lookup[i + 1]);\n\t\t\t}\n\t\n\t\t\t// Replace whitespace\n\t\t\tname = name.replace(/\\s+/g, '_');\n\t\n\t\t\t// Remove anything else\n\t\t\tname = name.replace(/[^a-z0-9_\\-\\.]+/gi, '');\n\t\n\t\t\treturn name;\n\t\t},\n\t\n\t\t/**\n\t\t * Builds a full url out of a base URL and an object with items to append as query string items.\n\t\t *\n\t\t * @method buildUrl\n\t\t * @static\n\t\t * @param {String} url Base URL to append query string items to.\n\t\t * @param {Object} items Name/value object to serialize as a querystring.\n\t\t * @return {String} String with url + serialized query string items.\n\t\t */\n\t\tbuildUrl : function(url, items) {\n\t\t\tvar query = '';\n\t\n\t\t\tplupload.each(items, function(value, name) {\n\t\t\t\tquery += (query ? '&' : '') + encodeURIComponent(name) + '=' + encodeURIComponent(value);\n\t\t\t});\n\t\n\t\t\tif (query) {\n\t\t\t\turl += (url.indexOf('?') > 0 ? '&' : '?') + query;\n\t\t\t}\n\t\n\t\t\treturn url;\n\t\t},\n\t\n\t\t/**\n\t\t * Formats the specified number as a size string for example 1024 becomes 1 KB.\n\t\t *\n\t\t * @method formatSize\n\t\t * @static\n\t\t * @param {Number} size Size to format as string.\n\t\t * @return {String} Formatted size string.\n\t\t */\n\t\tformatSize : function(size) {\n\t\n\t\t\tif (size === undef || /\\D/.test(size)) {\n\t\t\t\treturn plupload.translate('N/A');\n\t\t\t}\n\t\n\t\t\tfunction round(num, precision) {\n\t\t\t\treturn Math.round(num * Math.pow(10, precision)) / Math.pow(10, precision);\n\t\t\t}\n\t\n\t\t\tvar boundary = Math.pow(1024, 4);\n\t\n\t\t\t// TB\n\t\t\tif (size > boundary) {\n\t\t\t\treturn round(size / boundary, 1) + \" \" + plupload.translate('tb');\n\t\t\t}\n\t\n\t\t\t// GB\n\t\t\tif (size > (boundary/=1024)) {\n\t\t\t\treturn round(size / boundary, 1) + \" \" + plupload.translate('gb');\n\t\t\t}\n\t\n\t\t\t// MB\n\t\t\tif (size > (boundary/=1024)) {\n\t\t\t\treturn round(size / boundary, 1) + \" \" + plupload.translate('mb');\n\t\t\t}\n\t\n\t\t\t// KB\n\t\t\tif (size > 1024) {\n\t\t\t\treturn Math.round(size / 1024) + \" \" + plupload.translate('kb');\n\t\t\t}\n\t\n\t\t\treturn size + \" \" + plupload.translate('b');\n\t\t},\n\t\n\t\n\t\t/**\n\t\t * Parses the specified size string into a byte value. For example 10kb becomes 10240.\n\t\t *\n\t\t * @method parseSize\n\t\t * @static\n\t\t * @param {String|Number} size String to parse or number to just pass through.\n\t\t * @return {Number} Size in bytes.\n\t\t */\n\t\tparseSize : o.parseSizeStr,\n\t\n\t\n\t\t/**\n\t\t * A way to predict what runtime will be choosen in the current environment with the\n\t\t * specified settings.\n\t\t *\n\t\t * @method predictRuntime\n\t\t * @static\n\t\t * @param {Object|String} config Plupload settings to check\n\t\t * @param {String} [runtimes] Comma-separated list of runtimes to check against\n\t\t * @return {String} Type of compatible runtime\n\t\t */\n\t\tpredictRuntime : function(config, runtimes) {\n\t\t\tvar up, runtime;\n\t\n\t\t\tup = new plupload.Uploader(config);\n\t\t\truntime = o.Runtime.thatCan(up.getOption().required_features, runtimes || config.runtimes);\n\t\t\tup.destroy();\n\t\t\treturn runtime;\n\t\t},\n\t\n\t\t/**\n\t\t * Registers a filter that will be executed for each file added to the queue.\n\t\t * If callback returns false, file will not be added.\n\t\t *\n\t\t * Callback receives two arguments: a value for the filter as it was specified in settings.filters\n\t\t * and a file to be filtered. Callback is executed in the context of uploader instance.\n\t\t *\n\t\t * @method addFileFilter\n\t\t * @static\n\t\t * @param {String} name Name of the filter by which it can be referenced in settings.filters\n\t\t * @param {String} cb Callback - the actual routine that every added file must pass\n\t\t */\n\t\taddFileFilter: function(name, cb) {\n\t\t\tfileFilters[name] = cb;\n\t\t}\n\t};\n\t\n\t\n\tplupload.addFileFilter('mime_types', function(filters, file, cb) {\n\t\tif (filters.length && !filters.regexp.test(file.name)) {\n\t\t\tthis.trigger('Error', {\n\t\t\t\tcode : plupload.FILE_EXTENSION_ERROR,\n\t\t\t\tmessage : plupload.translate('File extension error.'),\n\t\t\t\tfile : file\n\t\t\t});\n\t\t\tcb(false);\n\t\t} else {\n\t\t\tcb(true);\n\t\t}\n\t});\n\t\n\t\n\tplupload.addFileFilter('max_file_size', function(maxSize, file, cb) {\n\t\tvar undef;\n\t\n\t\tmaxSize = plupload.parseSize(maxSize);\n\t\n\t\t// Invalid file size\n\t\tif (file.size !== undef && maxSize && file.size > maxSize) {\n\t\t\tthis.trigger('Error', {\n\t\t\t\tcode : plupload.FILE_SIZE_ERROR,\n\t\t\t\tmessage : plupload.translate('File size error.'),\n\t\t\t\tfile : file\n\t\t\t});\n\t\t\tcb(false);\n\t\t} else {\n\t\t\tcb(true);\n\t\t}\n\t});\n\t\n\t\n\tplupload.addFileFilter('prevent_duplicates', function(value, file, cb) {\n\t\tif (value) {\n\t\t\tvar ii = this.files.length;\n\t\t\twhile (ii--) {\n\t\t\t\t// Compare by name and size (size might be 0 or undefined, but still equivalent for both)\n\t\t\t\tif (file.name === this.files[ii].name && file.size === this.files[ii].size) {\n\t\t\t\t\tthis.trigger('Error', {\n\t\t\t\t\t\tcode : plupload.FILE_DUPLICATE_ERROR,\n\t\t\t\t\t\tmessage : plupload.translate('Duplicate file error.'),\n\t\t\t\t\t\tfile : file\n\t\t\t\t\t});\n\t\t\t\t\tcb(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcb(true);\n\t});\n\t\n\t\n\t/**\n\t@class Uploader\n\t@constructor\n\t\n\t@param {Object} settings For detailed information about each option check documentation.\n\t\t@param {String|DOMElement} settings.browse_button id of the DOM element or DOM element itself to use as file dialog trigger.\n\t\t@param {String} settings.url URL of the server-side upload handler.\n\t\t@param {Number|String} [settings.chunk_size=0] Chunk size in bytes to slice the file into. Shorcuts with b, kb, mb, gb, tb suffixes also supported. `e.g. 204800 or \"204800b\" or \"200kb\"`. By default - disabled.\n\t\t@param {Boolean} [settings.send_chunk_number=true] Whether to send chunks and chunk numbers, or total and offset bytes.\n\t\t@param {String} [settings.container] id of the DOM element to use as a container for uploader structures. Defaults to document.body.\n\t\t@param {String|DOMElement} [settings.drop_element] id of the DOM element or DOM element itself to use as a drop zone for Drag-n-Drop.\n\t\t@param {String} [settings.file_data_name=\"file\"] Name for the file field in Multipart formated message.\n\t\t@param {Object} [settings.filters={}] Set of file type filters.\n\t\t\t@param {Array} [settings.filters.mime_types=[]] List of file types to accept, each one defined by title and list of extensions. `e.g. {title : \"Image files\", extensions : \"jpg,jpeg,gif,png\"}`. Dispatches `plupload.FILE_EXTENSION_ERROR`\n\t\t\t@param {String|Number} [settings.filters.max_file_size=0] Maximum file size that the user can pick, in bytes. Optionally supports b, kb, mb, gb, tb suffixes. `e.g. \"10mb\" or \"1gb\"`. By default - not set. Dispatches `plupload.FILE_SIZE_ERROR`.\n\t\t\t@param {Boolean} [settings.filters.prevent_duplicates=false] Do not let duplicates into the queue. Dispatches `plupload.FILE_DUPLICATE_ERROR`.\n\t\t@param {String} [settings.flash_swf_url] URL of the Flash swf.\n\t\t@param {Object} [settings.headers] Custom headers to send with the upload. Hash of name/value pairs.\n\t\t@param {Number} [settings.max_retries=0] How many times to retry the chunk or file, before triggering Error event.\n\t\t@param {Boolean} [settings.multipart=true] Whether to send file and additional parameters as Multipart formated message.\n\t\t@param {Object} [settings.multipart_params] Hash of key/value pairs to send with every file upload.\n\t\t@param {Boolean} [settings.multi_selection=true] Enable ability to select multiple files at once in file dialog.\n\t\t@param {String|Object} [settings.required_features] Either comma-separated list or hash of required features that chosen runtime should absolutely possess.\n\t\t@param {Object} [settings.resize] Enable resizng of images on client-side. Applies to `image/jpeg` and `image/png` only. `e.g. {width : 200, height : 200, quality : 90, crop: true}`\n\t\t\t@param {Number} [settings.resize.width] If image is bigger, it will be resized.\n\t\t\t@param {Number} [settings.resize.height] If image is bigger, it will be resized.\n\t\t\t@param {Number} [settings.resize.quality=90] Compression quality for jpegs (1-100).\n\t\t\t@param {Boolean} [settings.resize.crop=false] Whether to crop images to exact dimensions. By default they will be resized proportionally.\n\t\t@param {String} [settings.runtimes=\"html5,flash,silverlight,html4\"] Comma separated list of runtimes, that Plupload will try in turn, moving to the next if previous fails.\n\t\t@param {String} [settings.silverlight_xap_url] URL of the Silverlight xap.\n\t\t@param {Boolean} [settings.unique_names=false] If true will generate unique filenames for uploaded files.\n\t\t@param {Boolean} [settings.send_file_name=true] Whether to send file name as additional argument - 'name' (required for chunked uploads and some other cases where file name cannot be sent via normal ways).\n\t*/\n\tplupload.Uploader = function(options) {\n\t\t/**\n\t\t * Fires when the current RunTime has been initialized.\n\t\t *\n\t\t * @event Init\n\t\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t\t */\n\t\n\t\t/**\n\t\t * Fires after the init event incase you need to perform actions there.\n\t\t *\n\t\t * @event PostInit\n\t\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t\t */\n\t\n\t\t/**\n\t\t * Fires when the option is changed in via uploader.setOption().\n\t\t *\n\t\t * @event OptionChanged\n\t\t * @since 2.1\n\t\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t\t * @param {String} name Name of the option that was changed\n\t\t * @param {Mixed} value New value for the specified option\n\t\t * @param {Mixed} oldValue Previous value of the option\n\t\t */\n\t\n\t\t/**\n\t\t * Fires when the silverlight/flash or other shim needs to move.\n\t\t *\n\t\t * @event Refresh\n\t\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t\t */\n\t\n\t\t/**\n\t\t * Fires when the overall state is being changed for the upload queue.\n\t\t *\n\t\t * @event StateChanged\n\t\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t\t */\n\t\n\t\t/**\n\t\t * Fires when browse_button is clicked and browse dialog shows.\n\t\t *\n\t\t * @event Browse\n\t\t * @since 2.1.2\n\t\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t\t */\t\n\t\n\t\t/**\n\t\t * Fires for every filtered file before it is added to the queue.\n\t\t * \n\t\t * @event FileFiltered\n\t\t * @since 2.1\n\t\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t\t * @param {plupload.File} file Another file that has to be added to the queue.\n\t\t */\n\t\n\t\t/**\n\t\t * Fires when the file queue is changed. In other words when files are added/removed to the files array of the uploader instance.\n\t\t *\n\t\t * @event QueueChanged\n\t\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t\t */ \n\t\n\t\t/**\n\t\t * Fires after files were filtered and added to the queue.\n\t\t *\n\t\t * @event FilesAdded\n\t\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t\t * @param {Array} files Array of file objects that were added to queue by the user.\n\t\t */\n\t\n\t\t/**\n\t\t * Fires when file is removed from the queue.\n\t\t *\n\t\t * @event FilesRemoved\n\t\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t\t * @param {Array} files Array of files that got removed.\n\t\t */\n\t\n\t\t/**\n\t\t * Fires when just before a file is uploaded. This event enables you to override settings\n\t\t * on the uploader instance before the file is uploaded.\n\t\t *\n\t\t * @event BeforeUpload\n\t\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t\t * @param {plupload.File} file File to be uploaded.\n\t\t */\n\t\n\t\t/**\n\t\t * Fires when a file is to be uploaded by the runtime.\n\t\t *\n\t\t * @event UploadFile\n\t\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t\t * @param {plupload.File} file File to be uploaded.\n\t\t */\n\t\n\t\t/**\n\t\t * Fires while a file is being uploaded. Use this event to update the current file upload progress.\n\t\t *\n\t\t * @event UploadProgress\n\t\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t\t * @param {plupload.File} file File that is currently being uploaded.\n\t\t */\t\n\t\n\t\t/**\n\t\t * Fires when file chunk is uploaded.\n\t\t *\n\t\t * @event ChunkUploaded\n\t\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t\t * @param {plupload.File} file File that the chunk was uploaded for.\n\t\t * @param {Object} response Object with response properties.\n\t\t */\n\t\n\t\t/**\n\t\t * Fires when a file is successfully uploaded.\n\t\t *\n\t\t * @event FileUploaded\n\t\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t\t * @param {plupload.File} file File that was uploaded.\n\t\t * @param {Object} response Object with response properties.\n\t\t */\n\t\n\t\t/**\n\t\t * Fires when all files in a queue are uploaded.\n\t\t *\n\t\t * @event UploadComplete\n\t\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t\t * @param {Array} files Array of file objects that was added to queue/selected by the user.\n\t\t */\n\t\n\t\t/**\n\t\t * Fires when a error occurs.\n\t\t *\n\t\t * @event Error\n\t\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t\t * @param {Object} error Contains code, message and sometimes file and other details.\n\t\t */\n\t\n\t\t/**\n\t\t * Fires when destroy method is called.\n\t\t *\n\t\t * @event Destroy\n\t\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t\t */\n\t\tvar uid = plupload.guid()\n\t\t, settings\n\t\t, files = []\n\t\t, preferred_caps = {}\n\t\t, fileInputs = []\n\t\t, fileDrops = []\n\t\t, startTime\n\t\t, total\n\t\t, disabled = false\n\t\t, xhr\n\t\t;\n\t\n\t\n\t\t// Private methods\n\t\tfunction uploadNext() {\n\t\t\tvar file, count = 0, i;\n\t\n\t\t\tif (this.state == plupload.STARTED) {\n\t\t\t\t// Find first QUEUED file\n\t\t\t\tfor (i = 0; i < files.length; i++) {\n\t\t\t\t\tif (!file && files[i].status == plupload.QUEUED) {\n\t\t\t\t\t\tfile = files[i];\n\t\t\t\t\t\tif (this.trigger(\"BeforeUpload\", file)) {\n\t\t\t\t\t\t\tfile.status = plupload.UPLOADING;\n\t\t\t\t\t\t\tthis.trigger(\"UploadFile\", file);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t// All files are DONE or FAILED\n\t\t\t\tif (count == files.length) {\n\t\t\t\t\tif (this.state !== plupload.STOPPED) {\n\t\t\t\t\t\tthis.state = plupload.STOPPED;\n\t\t\t\t\t\tthis.trigger(\"StateChanged\");\n\t\t\t\t\t}\n\t\t\t\t\tthis.trigger(\"UploadComplete\", files);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\n\t\tfunction calcFile(file) {\n\t\t\tfile.percent = file.size > 0 ? Math.ceil(file.loaded / file.size * 100) : 100;\n\t\t\tcalc();\n\t\t}\n\t\n\t\n\t\tfunction calc() {\n\t\t\tvar i, file;\n\t\n\t\t\t// Reset stats\n\t\t\ttotal.reset();\n\t\n\t\t\t// Check status, size, loaded etc on all files\n\t\t\tfor (i = 0; i < files.length; i++) {\n\t\t\t\tfile = files[i];\n\t\n\t\t\t\tif (file.size !== undef) {\n\t\t\t\t\t// We calculate totals based on original file size\n\t\t\t\t\ttotal.size += file.origSize;\n\t\n\t\t\t\t\t// Since we cannot predict file size after resize, we do opposite and\n\t\t\t\t\t// interpolate loaded amount to match magnitude of total\n\t\t\t\t\ttotal.loaded += file.loaded * file.origSize / file.size;\n\t\t\t\t} else {\n\t\t\t\t\ttotal.size = undef;\n\t\t\t\t}\n\t\n\t\t\t\tif (file.status == plupload.DONE) {\n\t\t\t\t\ttotal.uploaded++;\n\t\t\t\t} else if (file.status == plupload.FAILED) {\n\t\t\t\t\ttotal.failed++;\n\t\t\t\t} else {\n\t\t\t\t\ttotal.queued++;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// If we couldn't calculate a total file size then use the number of files to calc percent\n\t\t\tif (total.size === undef) {\n\t\t\t\ttotal.percent = files.length > 0 ? Math.ceil(total.uploaded / files.length * 100) : 0;\n\t\t\t} else {\n\t\t\t\ttotal.bytesPerSec = Math.ceil(total.loaded / ((+new Date() - startTime || 1) / 1000.0));\n\t\t\t\ttotal.percent = total.size > 0 ? Math.ceil(total.loaded / total.size * 100) : 0;\n\t\t\t}\n\t\t}\n\t\n\t\n\t\tfunction getRUID() {\n\t\t\tvar ctrl = fileInputs[0] || fileDrops[0];\n\t\t\tif (ctrl) {\n\t\t\t\treturn ctrl.getRuntime().uid;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\n\t\n\t\tfunction runtimeCan(file, cap) {\n\t\t\tif (file.ruid) {\n\t\t\t\tvar info = o.Runtime.getInfo(file.ruid);\n\t\t\t\tif (info) {\n\t\t\t\t\treturn info.can(cap);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\n\t\n\t\tfunction bindEventListeners() {\n\t\t\tthis.bind('FilesAdded FilesRemoved', function(up) {\n\t\t\t\tup.trigger('QueueChanged');\n\t\t\t\tup.refresh();\n\t\t\t});\n\t\n\t\t\tthis.bind('CancelUpload', onCancelUpload);\n\t\t\t\n\t\t\tthis.bind('BeforeUpload', onBeforeUpload);\n\t\n\t\t\tthis.bind('UploadFile', onUploadFile);\n\t\n\t\t\tthis.bind('UploadProgress', onUploadProgress);\n\t\n\t\t\tthis.bind('StateChanged', onStateChanged);\n\t\n\t\t\tthis.bind('QueueChanged', calc);\n\t\n\t\t\tthis.bind('Error', onError);\n\t\n\t\t\tthis.bind('FileUploaded', onFileUploaded);\n\t\n\t\t\tthis.bind('Destroy', onDestroy);\n\t\t}\n\t\n\t\n\t\tfunction initControls(settings, cb) {\n\t\t\tvar self = this, inited = 0, queue = [];\n\t\n\t\t\t// common settings\n\t\t\tvar options = {\n\t\t\t\truntime_order: settings.runtimes,\n\t\t\t\trequired_caps: settings.required_features,\n\t\t\t\tpreferred_caps: preferred_caps,\n\t\t\t\tswf_url: settings.flash_swf_url,\n\t\t\t\txap_url: settings.silverlight_xap_url\n\t\t\t};\n\t\n\t\t\t// add runtime specific options if any\n\t\t\tplupload.each(settings.runtimes.split(/\\s*,\\s*/), function(runtime) {\n\t\t\t\tif (settings[runtime]) {\n\t\t\t\t\toptions[runtime] = settings[runtime];\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\t// initialize file pickers - there can be many\n\t\t\tif (settings.browse_button) {\n\t\t\t\tplupload.each(settings.browse_button, function(el) {\n\t\t\t\t\tqueue.push(function(cb) {\n\t\t\t\t\t\tvar fileInput = new o.FileInput(plupload.extend({}, options, {\n\t\t\t\t\t\t\taccept: settings.filters.mime_types,\n\t\t\t\t\t\t\tname: settings.file_data_name,\n\t\t\t\t\t\t\tmultiple: settings.multi_selection,\n\t\t\t\t\t\t\tcontainer: settings.container,\n\t\t\t\t\t\t\tbrowse_button: el\n\t\t\t\t\t\t}));\n\t\n\t\t\t\t\t\tfileInput.onready = function() {\n\t\t\t\t\t\t\tvar info = o.Runtime.getInfo(this.ruid);\n\t\n\t\t\t\t\t\t\t// for backward compatibility\n\t\t\t\t\t\t\to.extend(self.features, {\n\t\t\t\t\t\t\t\tchunks: info.can('slice_blob'),\n\t\t\t\t\t\t\t\tmultipart: info.can('send_multipart'),\n\t\t\t\t\t\t\t\tmulti_selection: info.can('select_multiple')\n\t\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t\tinited++;\n\t\t\t\t\t\t\tfileInputs.push(this);\n\t\t\t\t\t\t\tcb();\n\t\t\t\t\t\t};\n\t\n\t\t\t\t\t\tfileInput.onchange = function() {\n\t\t\t\t\t\t\tself.addFile(this.files);\n\t\t\t\t\t\t};\n\t\n\t\t\t\t\t\tfileInput.bind('mouseenter mouseleave mousedown mouseup', function(e) {\n\t\t\t\t\t\t\tif (!disabled) {\n\t\t\t\t\t\t\t\tif (settings.browse_button_hover) {\n\t\t\t\t\t\t\t\t\tif ('mouseenter' === e.type) {\n\t\t\t\t\t\t\t\t\t\to.addClass(el, settings.browse_button_hover);\n\t\t\t\t\t\t\t\t\t} else if ('mouseleave' === e.type) {\n\t\t\t\t\t\t\t\t\t\to.removeClass(el, settings.browse_button_hover);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\tif (settings.browse_button_active) {\n\t\t\t\t\t\t\t\t\tif ('mousedown' === e.type) {\n\t\t\t\t\t\t\t\t\t\to.addClass(el, settings.browse_button_active);\n\t\t\t\t\t\t\t\t\t} else if ('mouseup' === e.type) {\n\t\t\t\t\t\t\t\t\t\to.removeClass(el, settings.browse_button_active);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\tfileInput.bind('mousedown', function() {\n\t\t\t\t\t\t\tself.trigger('Browse');\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\tfileInput.bind('error runtimeerror', function() {\n\t\t\t\t\t\t\tfileInput = null;\n\t\t\t\t\t\t\tcb();\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\tfileInput.init();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t// initialize drop zones\n\t\t\tif (settings.drop_element) {\n\t\t\t\tplupload.each(settings.drop_element, function(el) {\n\t\t\t\t\tqueue.push(function(cb) {\n\t\t\t\t\t\tvar fileDrop = new o.FileDrop(plupload.extend({}, options, {\n\t\t\t\t\t\t\tdrop_zone: el\n\t\t\t\t\t\t}));\n\t\n\t\t\t\t\t\tfileDrop.onready = function() {\n\t\t\t\t\t\t\tvar info = o.Runtime.getInfo(this.ruid);\n\t\n\t\t\t\t\t\t\tself.features.dragdrop = info.can('drag_and_drop'); // for backward compatibility\n\t\n\t\t\t\t\t\t\tinited++;\n\t\t\t\t\t\t\tfileDrops.push(this);\n\t\t\t\t\t\t\tcb();\n\t\t\t\t\t\t};\n\t\n\t\t\t\t\t\tfileDrop.ondrop = function() {\n\t\t\t\t\t\t\tself.addFile(this.files);\n\t\t\t\t\t\t};\n\t\n\t\t\t\t\t\tfileDrop.bind('error runtimeerror', function() {\n\t\t\t\t\t\t\tfileDrop = null;\n\t\t\t\t\t\t\tcb();\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\tfileDrop.init();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\n\t\n\t\t\to.inSeries(queue, function() {\n\t\t\t\tif (typeof(cb) === 'function') {\n\t\t\t\t\tcb(inited);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\n\t\tfunction resizeImage(blob, params, cb) {\n\t\t\tvar img = new o.Image();\n\t\n\t\t\ttry {\n\t\t\t\timg.onload = function() {\n\t\t\t\t\t// no manipulation required if...\n\t\t\t\t\tif (params.width > this.width &&\n\t\t\t\t\t\tparams.height > this.height &&\n\t\t\t\t\t\tparams.quality === undef &&\n\t\t\t\t\t\tparams.preserve_headers &&\n\t\t\t\t\t\t!params.crop\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t\treturn cb(blob);\n\t\t\t\t\t}\n\t\t\t\t\t// otherwise downsize\n\t\t\t\t\timg.downsize(params.width, params.height, params.crop, params.preserve_headers);\n\t\t\t\t};\n\t\n\t\t\t\timg.onresize = function() {\n\t\t\t\t\tcb(this.getAsBlob(blob.type, params.quality));\n\t\t\t\t\tthis.destroy();\n\t\t\t\t};\n\t\n\t\t\t\timg.onerror = function() {\n\t\t\t\t\tcb(blob);\n\t\t\t\t};\n\t\n\t\t\t\timg.load(blob);\n\t\t\t} catch(ex) {\n\t\t\t\tcb(blob);\n\t\t\t}\n\t\t}\n\t\n\t\n\t\tfunction setOption(option, value, init) {\n\t\t\tvar self = this, reinitRequired = false;\n\t\n\t\t\tfunction _setOption(option, value, init) {\n\t\t\t\tvar oldValue = settings[option];\n\t\n\t\t\t\tswitch (option) {\n\t\t\t\t\tcase 'max_file_size':\n\t\t\t\t\t\tif (option === 'max_file_size') {\n\t\t\t\t\t\t\tsettings.max_file_size = settings.filters.max_file_size = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'chunk_size':\n\t\t\t\t\t\tif (value = plupload.parseSize(value)) {\n\t\t\t\t\t\t\tsettings[option] = value;\n\t\t\t\t\t\t\tsettings.send_file_name = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'multipart':\n\t\t\t\t\t\tsettings[option] = value;\n\t\t\t\t\t\tif (!value) {\n\t\t\t\t\t\t\tsettings.send_file_name = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'unique_names':\n\t\t\t\t\t\tsettings[option] = value;\n\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\tsettings.send_file_name = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'filters':\n\t\t\t\t\t\t// for sake of backward compatibility\n\t\t\t\t\t\tif (plupload.typeOf(value) === 'array') {\n\t\t\t\t\t\t\tvalue = {\n\t\t\t\t\t\t\t\tmime_types: value\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (init) {\n\t\t\t\t\t\t\tplupload.extend(settings.filters, value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsettings.filters = value;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// if file format filters are being updated, regenerate the matching expressions\n\t\t\t\t\t\tif (value.mime_types) {\n\t\t\t\t\t\t\tsettings.filters.mime_types.regexp = (function(filters) {\n\t\t\t\t\t\t\t\tvar extensionsRegExp = [];\n\t\n\t\t\t\t\t\t\t\tplupload.each(filters, function(filter) {\n\t\t\t\t\t\t\t\t\tplupload.each(filter.extensions.split(/,/), function(ext) {\n\t\t\t\t\t\t\t\t\t\tif (/^\\s*\\*\\s*$/.test(ext)) {\n\t\t\t\t\t\t\t\t\t\t\textensionsRegExp.push('\\\\.*');\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\textensionsRegExp.push('\\\\.' + ext.replace(new RegExp('[' + ('/^$.*+?|()[]{}\\\\'.replace(/./g, '\\\\$&')) + ']', 'g'), '\\\\$&'));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t\t\treturn new RegExp('(' + extensionsRegExp.join('|') + ')$', 'i');\n\t\t\t\t\t\t\t}(settings.filters.mime_types));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\tcase 'resize':\n\t\t\t\t\t\tif (init) {\n\t\t\t\t\t\t\tplupload.extend(settings.resize, value, {\n\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsettings.resize = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'prevent_duplicates':\n\t\t\t\t\t\tsettings.prevent_duplicates = settings.filters.prevent_duplicates = !!value;\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'browse_button':\n\t\t\t\t\tcase 'drop_element':\n\t\t\t\t\t\t\tvalue = plupload.get(value);\n\t\n\t\t\t\t\tcase 'container':\n\t\t\t\t\tcase 'runtimes':\n\t\t\t\t\tcase 'multi_selection':\n\t\t\t\t\tcase 'flash_swf_url':\n\t\t\t\t\tcase 'silverlight_xap_url':\n\t\t\t\t\t\tsettings[option] = value;\n\t\t\t\t\t\tif (!init) {\n\t\t\t\t\t\t\treinitRequired = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tsettings[option] = value;\n\t\t\t\t}\n\t\n\t\t\t\tif (!init) {\n\t\t\t\t\tself.trigger('OptionChanged', option, value, oldValue);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (typeof(option) === 'object') {\n\t\t\t\tplupload.each(option, function(value, option) {\n\t\t\t\t\t_setOption(option, value, init);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t_setOption(option, value, init);\n\t\t\t}\n\t\n\t\t\tif (init) {\n\t\t\t\t// Normalize the list of required capabilities\n\t\t\t\tsettings.required_features = normalizeCaps(plupload.extend({}, settings));\n\t\n\t\t\t\t// Come up with the list of capabilities that can affect default mode in a multi-mode runtimes\n\t\t\t\tpreferred_caps = normalizeCaps(plupload.extend({}, settings, {\n\t\t\t\t\trequired_features: true\n\t\t\t\t}));\n\t\t\t} else if (reinitRequired) {\n\t\t\t\tself.trigger('Destroy');\n\t\t\t\t\n\t\t\t\tinitControls.call(self, settings, function(inited) {\n\t\t\t\t\tif (inited) {\n\t\t\t\t\t\tself.runtime = o.Runtime.getInfo(getRUID()).type;\n\t\t\t\t\t\tself.trigger('Init', { runtime: self.runtime });\n\t\t\t\t\t\tself.trigger('PostInit');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.trigger('Error', {\n\t\t\t\t\t\t\tcode : plupload.INIT_ERROR,\n\t\t\t\t\t\t\tmessage : plupload.translate('Init error.')\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\n\t\n\t\t// Internal event handlers\n\t\tfunction onBeforeUpload(up, file) {\n\t\t\t// Generate unique target filenames\n\t\t\tif (up.settings.unique_names) {\n\t\t\t\tvar matches = file.name.match(/\\.([^.]+)$/), ext = \"part\";\n\t\t\t\tif (matches) {\n\t\t\t\t\text = matches[1];\n\t\t\t\t}\n\t\t\t\tfile.target_name = file.id + '.' + ext;\n\t\t\t}\n\t\t}\n\t\n\t\n\t\tfunction onUploadFile(up, file) {\n\t\t\tvar url = up.settings.url\n\t\t\t, chunkSize = up.settings.chunk_size\n\t\t\t, retries = up.settings.max_retries\n\t\t\t, features = up.features\n\t\t\t, offset = 0\n\t\t\t, blob\n\t\t\t;\n\t\n\t\t\t// make sure we start at a predictable offset\n\t\t\tif (file.loaded) {\n\t\t\t\toffset = file.loaded = chunkSize ? chunkSize * Math.floor(file.loaded / chunkSize) : 0;\n\t\t\t}\n\t\n\t\t\tfunction handleError() {\n\t\t\t\tif (retries-- > 0) {\n\t\t\t\t\tdelay(uploadNextChunk, 1000);\n\t\t\t\t} else {\n\t\t\t\t\tfile.loaded = offset; // reset all progress\n\t\n\t\t\t\t\tup.trigger('Error', {\n\t\t\t\t\t\tcode : plupload.HTTP_ERROR,\n\t\t\t\t\t\tmessage : plupload.translate('HTTP Error.'),\n\t\t\t\t\t\tfile : file,\n\t\t\t\t\t\tresponse : xhr.responseText,\n\t\t\t\t\t\tstatus : xhr.status,\n\t\t\t\t\t\tresponseHeaders: xhr.getAllResponseHeaders()\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tfunction uploadNextChunk() {\n\t\t\t\tvar chunkBlob, formData, args = {}, curChunkSize;\n\t\n\t\t\t\t// make sure that file wasn't cancelled and upload is not stopped in general\n\t\t\t\tif (file.status !== plupload.UPLOADING || up.state === plupload.STOPPED) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\t// send additional 'name' parameter only if required\n\t\t\t\tif (up.settings.send_file_name) {\n\t\t\t\t\targs.name = file.target_name || file.name;\n\t\t\t\t}\n\t\n\t\t\t\tif (chunkSize && features.chunks && blob.size > chunkSize) { // blob will be of type string if it was loaded in memory \n\t\t\t\t\tcurChunkSize = Math.min(chunkSize, blob.size - offset);\n\t\t\t\t\tchunkBlob = blob.slice(offset, offset + curChunkSize);\n\t\t\t\t} else {\n\t\t\t\t\tcurChunkSize = blob.size;\n\t\t\t\t\tchunkBlob = blob;\n\t\t\t\t}\n\t\n\t\t\t\t// If chunking is enabled add corresponding args, no matter if file is bigger than chunk or smaller\n\t\t\t\tif (chunkSize && features.chunks) {\n\t\t\t\t\t// Setup query string arguments\n\t\t\t\t\tif (up.settings.send_chunk_number) {\n\t\t\t\t\t\targs.chunk = Math.ceil(offset / chunkSize);\n\t\t\t\t\t\targs.chunks = Math.ceil(blob.size / chunkSize);\n\t\t\t\t\t} else { // keep support for experimental chunk format, just in case\n\t\t\t\t\t\targs.offset = offset;\n\t\t\t\t\t\targs.total = blob.size;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\txhr = new o.XMLHttpRequest();\n\t\n\t\t\t\t// Do we have upload progress support\n\t\t\t\tif (xhr.upload) {\n\t\t\t\t\txhr.upload.onprogress = function(e) {\n\t\t\t\t\t\tfile.loaded = Math.min(file.size, offset + e.loaded);\n\t\t\t\t\t\tup.trigger('UploadProgress', file);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\n\t\t\t\txhr.onload = function() {\n\t\t\t\t\t// check if upload made itself through\n\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\thandleError();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tretries = up.settings.max_retries; // reset the counter\n\t\n\t\t\t\t\t// Handle chunk response\n\t\t\t\t\tif (curChunkSize < blob.size) {\n\t\t\t\t\t\tchunkBlob.destroy();\n\t\n\t\t\t\t\t\toffset += curChunkSize;\n\t\t\t\t\t\tfile.loaded = Math.min(offset, blob.size);\n\t\n\t\t\t\t\t\tup.trigger('ChunkUploaded', file, {\n\t\t\t\t\t\t\toffset : file.loaded,\n\t\t\t\t\t\t\ttotal : blob.size,\n\t\t\t\t\t\t\tresponse : xhr.responseText,\n\t\t\t\t\t\t\tstatus : xhr.status,\n\t\t\t\t\t\t\tresponseHeaders: xhr.getAllResponseHeaders()\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t// stock Android browser doesn't fire upload progress events, but in chunking mode we can fake them\n\t\t\t\t\t\tif (o.Env.browser === 'Android Browser') {\n\t\t\t\t\t\t\t// doesn't harm in general, but is not required anywhere else\n\t\t\t\t\t\t\tup.trigger('UploadProgress', file);\n\t\t\t\t\t\t} \n\t\t\t\t\t} else {\n\t\t\t\t\t\tfile.loaded = file.size;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tchunkBlob = formData = null; // Free memory\n\t\n\t\t\t\t\t// Check if file is uploaded\n\t\t\t\t\tif (!offset || offset >= blob.size) {\n\t\t\t\t\t\t// If file was modified, destory the copy\n\t\t\t\t\t\tif (file.size != file.origSize) {\n\t\t\t\t\t\t\tblob.destroy();\n\t\t\t\t\t\t\tblob = null;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tup.trigger('UploadProgress', file);\n\t\n\t\t\t\t\t\tfile.status = plupload.DONE;\n\t\n\t\t\t\t\t\tup.trigger('FileUploaded', file, {\n\t\t\t\t\t\t\tresponse : xhr.responseText,\n\t\t\t\t\t\t\tstatus : xhr.status,\n\t\t\t\t\t\t\tresponseHeaders: xhr.getAllResponseHeaders()\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Still chunks left\n\t\t\t\t\t\tdelay(uploadNextChunk, 1); // run detached, otherwise event handlers interfere\n\t\t\t\t\t}\n\t\t\t\t};\n\t\n\t\t\t\txhr.onerror = function() {\n\t\t\t\t\thandleError();\n\t\t\t\t};\n\t\n\t\t\t\txhr.onloadend = function() {\n\t\t\t\t\tthis.destroy();\n\t\t\t\t\txhr = null;\n\t\t\t\t};\n\t\n\t\t\t\t// Build multipart request\n\t\t\t\tif (up.settings.multipart && features.multipart) {\n\t\t\t\t\txhr.open(\"post\", url, true);\n\t\n\t\t\t\t\t// Set custom headers\n\t\t\t\t\tplupload.each(up.settings.headers, function(value, name) {\n\t\t\t\t\t\txhr.setRequestHeader(name, value);\n\t\t\t\t\t});\n\t\n\t\t\t\t\tformData = new o.FormData();\n\t\n\t\t\t\t\t// Add multipart params\n\t\t\t\t\tplupload.each(plupload.extend(args, up.settings.multipart_params), function(value, name) {\n\t\t\t\t\t\tformData.append(name, value);\n\t\t\t\t\t});\n\t\n\t\t\t\t\t// Add file and send it\n\t\t\t\t\tformData.append(up.settings.file_data_name, chunkBlob);\n\t\t\t\t\txhr.send(formData, {\n\t\t\t\t\t\truntime_order: up.settings.runtimes,\n\t\t\t\t\t\trequired_caps: up.settings.required_features,\n\t\t\t\t\t\tpreferred_caps: preferred_caps,\n\t\t\t\t\t\tswf_url: up.settings.flash_swf_url,\n\t\t\t\t\t\txap_url: up.settings.silverlight_xap_url\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// if no multipart, send as binary stream\n\t\t\t\t\turl = plupload.buildUrl(up.settings.url, plupload.extend(args, up.settings.multipart_params));\n\t\n\t\t\t\t\txhr.open(\"post\", url, true);\n\t\n\t\t\t\t\txhr.setRequestHeader('Content-Type', 'application/octet-stream'); // Binary stream header\n\t\n\t\t\t\t\t// Set custom headers\n\t\t\t\t\tplupload.each(up.settings.headers, function(value, name) {\n\t\t\t\t\t\txhr.setRequestHeader(name, value);\n\t\t\t\t\t});\n\t\n\t\t\t\t\txhr.send(chunkBlob, {\n\t\t\t\t\t\truntime_order: up.settings.runtimes,\n\t\t\t\t\t\trequired_caps: up.settings.required_features,\n\t\t\t\t\t\tpreferred_caps: preferred_caps,\n\t\t\t\t\t\tswf_url: up.settings.flash_swf_url,\n\t\t\t\t\t\txap_url: up.settings.silverlight_xap_url\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tblob = file.getSource();\n\t\n\t\t\t// Start uploading chunks\n\t\t\tif (up.settings.resize.enabled && runtimeCan(blob, 'send_binary_string') && !!~o.inArray(blob.type, ['image/jpeg', 'image/png'])) {\n\t\t\t\t// Resize if required\n\t\t\t\tresizeImage.call(this, blob, up.settings.resize, function(resizedBlob) {\n\t\t\t\t\tblob = resizedBlob;\n\t\t\t\t\tfile.size = resizedBlob.size;\n\t\t\t\t\tuploadNextChunk();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tuploadNextChunk();\n\t\t\t}\n\t\t}\n\t\n\t\n\t\tfunction onUploadProgress(up, file) {\n\t\t\tcalcFile(file);\n\t\t}\n\t\n\t\n\t\tfunction onStateChanged(up) {\n\t\t\tif (up.state == plupload.STARTED) {\n\t\t\t\t// Get start time to calculate bps\n\t\t\t\tstartTime = (+new Date());\n\t\t\t} else if (up.state == plupload.STOPPED) {\n\t\t\t\t// Reset currently uploading files\n\t\t\t\tfor (var i = up.files.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (up.files[i].status == plupload.UPLOADING) {\n\t\t\t\t\t\tup.files[i].status = plupload.QUEUED;\n\t\t\t\t\t\tcalc();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\n\t\tfunction onCancelUpload() {\n\t\t\tif (xhr) {\n\t\t\t\txhr.abort();\n\t\t\t}\n\t\t}\n\t\n\t\n\t\tfunction onFileUploaded(up) {\n\t\t\tcalc();\n\t\n\t\t\t// Upload next file but detach it from the error event\n\t\t\t// since other custom listeners might want to stop the queue\n\t\t\tdelay(function() {\n\t\t\t\tuploadNext.call(up);\n\t\t\t}, 1);\n\t\t}\n\t\n\t\n\t\tfunction onError(up, err) {\n\t\t\tif (err.code === plupload.INIT_ERROR) {\n\t\t\t\tup.destroy();\n\t\t\t}\n\t\t\t// Set failed status if an error occured on a file\n\t\t\telse if (err.file) {\n\t\t\t\terr.file.status = plupload.FAILED;\n\t\t\t\tcalcFile(err.file);\n\t\n\t\t\t\t// Upload next file but detach it from the error event\n\t\t\t\t// since other custom listeners might want to stop the queue\n\t\t\t\tif (up.state == plupload.STARTED) { // upload in progress\n\t\t\t\t\tup.trigger('CancelUpload');\n\t\t\t\t\tdelay(function() {\n\t\t\t\t\t\tuploadNext.call(up);\n\t\t\t\t\t}, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\n\t\tfunction onDestroy(up) {\n\t\t\tup.stop();\n\t\n\t\t\t// Purge the queue\n\t\t\tplupload.each(files, function(file) {\n\t\t\t\tfile.destroy();\n\t\t\t});\n\t\t\tfiles = [];\n\t\n\t\t\tif (fileInputs.length) {\n\t\t\t\tplupload.each(fileInputs, function(fileInput) {\n\t\t\t\t\tfileInput.destroy();\n\t\t\t\t});\n\t\t\t\tfileInputs = [];\n\t\t\t}\n\t\n\t\t\tif (fileDrops.length) {\n\t\t\t\tplupload.each(fileDrops, function(fileDrop) {\n\t\t\t\t\tfileDrop.destroy();\n\t\t\t\t});\n\t\t\t\tfileDrops = [];\n\t\t\t}\n\t\n\t\t\tpreferred_caps = {};\n\t\t\tdisabled = false;\n\t\t\tstartTime = xhr = null;\n\t\t\ttotal.reset();\n\t\t}\n\t\n\t\n\t\t// Default settings\n\t\tsettings = {\n\t\t\truntimes: o.Runtime.order,\n\t\t\tmax_retries: 0,\n\t\t\tchunk_size: 0,\n\t\t\tmultipart: true,\n\t\t\tmulti_selection: true,\n\t\t\tfile_data_name: 'file',\n\t\t\tflash_swf_url: 'js/Moxie.swf',\n\t\t\tsilverlight_xap_url: 'js/Moxie.xap',\n\t\t\tfilters: {\n\t\t\t\tmime_types: [],\n\t\t\t\tprevent_duplicates: false,\n\t\t\t\tmax_file_size: 0\n\t\t\t},\n\t\t\tresize: {\n\t\t\t\tenabled: false,\n\t\t\t\tpreserve_headers: true,\n\t\t\t\tcrop: false\n\t\t\t},\n\t\t\tsend_file_name: true,\n\t\t\tsend_chunk_number: true\n\t\t};\n\t\n\t\t\n\t\tsetOption.call(this, options, null, true);\n\t\n\t\t// Inital total state\n\t\ttotal = new plupload.QueueProgress(); \n\t\n\t\t// Add public methods\n\t\tplupload.extend(this, {\n\t\n\t\t\t/**\n\t\t\t * Unique id for the Uploader instance.\n\t\t\t *\n\t\t\t * @property id\n\t\t\t * @type String\n\t\t\t */\n\t\t\tid : uid,\n\t\t\tuid : uid, // mOxie uses this to differentiate between event targets\n\t\n\t\t\t/**\n\t\t\t * Current state of the total uploading progress. This one can either be plupload.STARTED or plupload.STOPPED.\n\t\t\t * These states are controlled by the stop/start methods. The default value is STOPPED.\n\t\t\t *\n\t\t\t * @property state\n\t\t\t * @type Number\n\t\t\t */\n\t\t\tstate : plupload.STOPPED,\n\t\n\t\t\t/**\n\t\t\t * Map of features that are available for the uploader runtime. Features will be filled\n\t\t\t * before the init event is called, these features can then be used to alter the UI for the end user.\n\t\t\t * Some of the current features that might be in this map is: dragdrop, chunks, jpgresize, pngresize.\n\t\t\t *\n\t\t\t * @property features\n\t\t\t * @type Object\n\t\t\t */\n\t\t\tfeatures : {},\n\t\n\t\t\t/**\n\t\t\t * Current runtime name.\n\t\t\t *\n\t\t\t * @property runtime\n\t\t\t * @type String\n\t\t\t */\n\t\t\truntime : null,\n\t\n\t\t\t/**\n\t\t\t * Current upload queue, an array of File instances.\n\t\t\t *\n\t\t\t * @property files\n\t\t\t * @type Array\n\t\t\t * @see plupload.File\n\t\t\t */\n\t\t\tfiles : files,\n\t\n\t\t\t/**\n\t\t\t * Object with name/value settings.\n\t\t\t *\n\t\t\t * @property settings\n\t\t\t * @type Object\n\t\t\t */\n\t\t\tsettings : settings,\n\t\n\t\t\t/**\n\t\t\t * Total progess information. How many files has been uploaded, total percent etc.\n\t\t\t *\n\t\t\t * @property total\n\t\t\t * @type plupload.QueueProgress\n\t\t\t */\n\t\t\ttotal : total,\n\t\n\t\n\t\t\t/**\n\t\t\t * Initializes the Uploader instance and adds internal event listeners.\n\t\t\t *\n\t\t\t * @method init\n\t\t\t */\n\t\t\tinit : function() {\n\t\t\t\tvar self = this;\n\t\n\t\t\t\tif (typeof(settings.preinit) == \"function\") {\n\t\t\t\t\tsettings.preinit(self);\n\t\t\t\t} else {\n\t\t\t\t\tplupload.each(settings.preinit, function(func, name) {\n\t\t\t\t\t\tself.bind(name, func);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\tbindEventListeners.call(this);\n\t\n\t\t\t\t// Check for required options\n\t\t\t\tif (!settings.browse_button || !settings.url) {\n\t\t\t\t\tthis.trigger('Error', {\n\t\t\t\t\t\tcode : plupload.INIT_ERROR,\n\t\t\t\t\t\tmessage : plupload.translate('Init error.')\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tinitControls.call(this, settings, function(inited) {\n\t\t\t\t\tif (typeof(settings.init) == \"function\") {\n\t\t\t\t\t\tsettings.init(self);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tplupload.each(settings.init, function(func, name) {\n\t\t\t\t\t\t\tself.bind(name, func);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (inited) {\n\t\t\t\t\t\tself.runtime = o.Runtime.getInfo(getRUID()).type;\n\t\t\t\t\t\tself.trigger('Init', { runtime: self.runtime });\n\t\t\t\t\t\tself.trigger('PostInit');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.trigger('Error', {\n\t\t\t\t\t\t\tcode : plupload.INIT_ERROR,\n\t\t\t\t\t\t\tmessage : plupload.translate('Init error.')\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\n\t\t\t/**\n\t\t\t * Set the value for the specified option(s).\n\t\t\t *\n\t\t\t * @method setOption\n\t\t\t * @since 2.1\n\t\t\t * @param {String|Object} option Name of the option to change or the set of key/value pairs\n\t\t\t * @param {Mixed} [value] Value for the option (is ignored, if first argument is object)\n\t\t\t */\n\t\t\tsetOption: function(option, value) {\n\t\t\t\tsetOption.call(this, option, value, !this.runtime); // until runtime not set we do not need to reinitialize\n\t\t\t},\n\t\n\t\t\t/**\n\t\t\t * Get the value for the specified option or the whole configuration, if not specified.\n\t\t\t * \n\t\t\t * @method getOption\n\t\t\t * @since 2.1\n\t\t\t * @param {String} [option] Name of the option to get\n\t\t\t * @return {Mixed} Value for the option or the whole set\n\t\t\t */\n\t\t\tgetOption: function(option) {\n\t\t\t\tif (!option) {\n\t\t\t\t\treturn settings;\n\t\t\t\t}\n\t\t\t\treturn settings[option];\n\t\t\t},\n\t\n\t\t\t/**\n\t\t\t * Refreshes the upload instance by dispatching out a refresh event to all runtimes.\n\t\t\t * This would for example reposition flash/silverlight shims on the page.\n\t\t\t *\n\t\t\t * @method refresh\n\t\t\t */\n\t\t\trefresh : function() {\n\t\t\t\tif (fileInputs.length) {\n\t\t\t\t\tplupload.each(fileInputs, function(fileInput) {\n\t\t\t\t\t\tfileInput.trigger('Refresh');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.trigger('Refresh');\n\t\t\t},\n\t\n\t\t\t/**\n\t\t\t * Starts uploading the queued files.\n\t\t\t *\n\t\t\t * @method start\n\t\t\t */\n\t\t\tstart : function() {\n\t\t\t\tif (this.state != plupload.STARTED) {\n\t\t\t\t\tthis.state = plupload.STARTED;\n\t\t\t\t\tthis.trigger('StateChanged');\n\t\n\t\t\t\t\tuploadNext.call(this);\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t/**\n\t\t\t * Stops the upload of the queued files.\n\t\t\t *\n\t\t\t * @method stop\n\t\t\t */\n\t\t\tstop : function() {\n\t\t\t\tif (this.state != plupload.STOPPED) {\n\t\t\t\t\tthis.state = plupload.STOPPED;\n\t\t\t\t\tthis.trigger('StateChanged');\n\t\t\t\t\tthis.trigger('CancelUpload');\n\t\t\t\t}\n\t\t\t},\n\t\n\t\n\t\t\t/**\n\t\t\t * Disables/enables browse button on request.\n\t\t\t *\n\t\t\t * @method disableBrowse\n\t\t\t * @param {Boolean} disable Whether to disable or enable (default: true)\n\t\t\t */\n\t\t\tdisableBrowse : function() {\n\t\t\t\tdisabled = arguments[0] !== undef ? arguments[0] : true;\n\t\n\t\t\t\tif (fileInputs.length) {\n\t\t\t\t\tplupload.each(fileInputs, function(fileInput) {\n\t\t\t\t\t\tfileInput.disable(disabled);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\tthis.trigger('DisableBrowse', disabled);\n\t\t\t},\n\t\n\t\t\t/**\n\t\t\t * Returns the specified file object by id.\n\t\t\t *\n\t\t\t * @method getFile\n\t\t\t * @param {String} id File id to look for.\n\t\t\t * @return {plupload.File} File object or undefined if it wasn't found;\n\t\t\t */\n\t\t\tgetFile : function(id) {\n\t\t\t\tvar i;\n\t\t\t\tfor (i = files.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (files[i].id === id) {\n\t\t\t\t\t\treturn files[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t/**\n\t\t\t * Adds file to the queue programmatically. Can be native file, instance of Plupload.File,\n\t\t\t * instance of mOxie.File, input[type=\"file\"] element, or array of these. Fires FilesAdded, \n\t\t\t * if any files were added to the queue. Otherwise nothing happens.\n\t\t\t *\n\t\t\t * @method addFile\n\t\t\t * @since 2.0\n\t\t\t * @param {plupload.File|mOxie.File|File|Node|Array} file File or files to add to the queue.\n\t\t\t * @param {String} [fileName] If specified, will be used as a name for the file\n\t\t\t */\n\t\t\taddFile : function(file, fileName) {\n\t\t\t\tvar self = this\n\t\t\t\t, queue = [] \n\t\t\t\t, filesAdded = []\n\t\t\t\t, ruid\n\t\t\t\t;\n\t\n\t\t\t\tfunction filterFile(file, cb) {\n\t\t\t\t\tvar queue = [];\n\t\t\t\t\to.each(self.settings.filters, function(rule, name) {\n\t\t\t\t\t\tif (fileFilters[name]) {\n\t\t\t\t\t\t\tqueue.push(function(cb) {\n\t\t\t\t\t\t\t\tfileFilters[name].call(self, rule, file, function(res) {\n\t\t\t\t\t\t\t\t\tcb(!res);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\to.inSeries(queue, cb);\n\t\t\t\t}\n\t\n\t\t\t\t/**\n\t\t\t\t * @method resolveFile\n\t\t\t\t * @private\n\t\t\t\t * @param {o.File|o.Blob|plupload.File|File|Blob|input[type=\"file\"]} file\n\t\t\t\t */\n\t\t\t\tfunction resolveFile(file) {\n\t\t\t\t\tvar type = o.typeOf(file);\n\t\n\t\t\t\t\t// o.File\n\t\t\t\t\tif (file instanceof o.File) { \n\t\t\t\t\t\tif (!file.ruid && !file.isDetached()) {\n\t\t\t\t\t\t\tif (!ruid) { // weird case\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfile.ruid = ruid;\n\t\t\t\t\t\t\tfile.connectRuntime(ruid);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolveFile(new plupload.File(file));\n\t\t\t\t\t}\n\t\t\t\t\t// o.Blob \n\t\t\t\t\telse if (file instanceof o.Blob) {\n\t\t\t\t\t\tresolveFile(file.getSource());\n\t\t\t\t\t\tfile.destroy();\n\t\t\t\t\t} \n\t\t\t\t\t// plupload.File - final step for other branches\n\t\t\t\t\telse if (file instanceof plupload.File) {\n\t\t\t\t\t\tif (fileName) {\n\t\t\t\t\t\t\tfile.name = fileName;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tqueue.push(function(cb) {\n\t\t\t\t\t\t\t// run through the internal and user-defined filters, if any\n\t\t\t\t\t\t\tfilterFile(file, function(err) {\n\t\t\t\t\t\t\t\tif (!err) {\n\t\t\t\t\t\t\t\t\t// make files available for the filters by updating the main queue directly\n\t\t\t\t\t\t\t\t\tfiles.push(file);\n\t\t\t\t\t\t\t\t\t// collect the files that will be passed to FilesAdded event\n\t\t\t\t\t\t\t\t\tfilesAdded.push(file); \n\t\n\t\t\t\t\t\t\t\t\tself.trigger(\"FileFiltered\", file);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdelay(cb, 1); // do not build up recursions or eventually we might hit the limits\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t} \n\t\t\t\t\t// native File or blob\n\t\t\t\t\telse if (o.inArray(type, ['file', 'blob']) !== -1) {\n\t\t\t\t\t\tresolveFile(new o.File(null, file));\n\t\t\t\t\t} \n\t\t\t\t\t// input[type=\"file\"]\n\t\t\t\t\telse if (type === 'node' && o.typeOf(file.files) === 'filelist') {\n\t\t\t\t\t\t// if we are dealing with input[type=\"file\"]\n\t\t\t\t\t\to.each(file.files, resolveFile);\n\t\t\t\t\t} \n\t\t\t\t\t// mixed array of any supported types (see above)\n\t\t\t\t\telse if (type === 'array') {\n\t\t\t\t\t\tfileName = null; // should never happen, but unset anyway to avoid funny situations\n\t\t\t\t\t\to.each(file, resolveFile);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\truid = getRUID();\n\t\t\t\t\n\t\t\t\tresolveFile(file);\n\t\n\t\t\t\tif (queue.length) {\n\t\t\t\t\to.inSeries(queue, function() {\n\t\t\t\t\t\t// if any files left after filtration, trigger FilesAdded\n\t\t\t\t\t\tif (filesAdded.length) {\n\t\t\t\t\t\t\tself.trigger(\"FilesAdded\", filesAdded);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t/**\n\t\t\t * Removes a specific file.\n\t\t\t *\n\t\t\t * @method removeFile\n\t\t\t * @param {plupload.File|String} file File to remove from queue.\n\t\t\t */\n\t\t\tremoveFile : function(file) {\n\t\t\t\tvar id = typeof(file) === 'string' ? file : file.id;\n\t\n\t\t\t\tfor (var i = files.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (files[i].id === id) {\n\t\t\t\t\t\treturn this.splice(i, 1)[0];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t/**\n\t\t\t * Removes part of the queue and returns the files removed. This will also trigger the FilesRemoved and QueueChanged events.\n\t\t\t *\n\t\t\t * @method splice\n\t\t\t * @param {Number} start (Optional) Start index to remove from.\n\t\t\t * @param {Number} length (Optional) Lengh of items to remove.\n\t\t\t * @return {Array} Array of files that was removed.\n\t\t\t */\n\t\t\tsplice : function(start, length) {\n\t\t\t\t// Splice and trigger events\n\t\t\t\tvar removed = files.splice(start === undef ? 0 : start, length === undef ? files.length : length);\n\t\n\t\t\t\t// if upload is in progress we need to stop it and restart after files are removed\n\t\t\t\tvar restartRequired = false;\n\t\t\t\tif (this.state == plupload.STARTED) { // upload in progress\n\t\t\t\t\tplupload.each(removed, function(file) {\n\t\t\t\t\t\tif (file.status === plupload.UPLOADING) {\n\t\t\t\t\t\t\trestartRequired = true; // do not restart, unless file that is being removed is uploading\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif (restartRequired) {\n\t\t\t\t\t\tthis.stop();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tthis.trigger(\"FilesRemoved\", removed);\n\t\n\t\t\t\t// Dispose any resources allocated by those files\n\t\t\t\tplupload.each(removed, function(file) {\n\t\t\t\t\tfile.destroy();\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (restartRequired) {\n\t\t\t\t\tthis.start();\n\t\t\t\t}\n\t\n\t\t\t\treturn removed;\n\t\t\t},\n\t\n\t\t\t/**\n\t\t\t * Dispatches the specified event name and it's arguments to all listeners.\n\t\t\t *\n\t\t\t *\n\t\t\t * @method trigger\n\t\t\t * @param {String} name Event name to fire.\n\t\t\t * @param {Object..} Multiple arguments to pass along to the listener functions.\n\t\t\t */\n\t\n\t\t\t/**\n\t\t\t * Check whether uploader has any listeners to the specified event.\n\t\t\t *\n\t\t\t * @method hasEventListener\n\t\t\t * @param {String} name Event name to check for.\n\t\t\t */\n\t\n\t\n\t\t\t/**\n\t\t\t * Adds an event listener by name.\n\t\t\t *\n\t\t\t * @method bind\n\t\t\t * @param {String} name Event name to listen for.\n\t\t\t * @param {function} func Function to call ones the event gets fired.\n\t\t\t * @param {Object} scope Optional scope to execute the specified function in.\n\t\t\t */\n\t\t\tbind : function(name, func, scope) {\n\t\t\t\tvar self = this;\n\t\t\t\t// adapt moxie EventTarget style to Plupload-like\n\t\t\t\tplupload.Uploader.prototype.bind.call(this, name, function() {\n\t\t\t\t\tvar args = [].slice.call(arguments);\n\t\t\t\t\targs.splice(0, 1, self); // replace event object with uploader instance\n\t\t\t\t\treturn func.apply(this, args);\n\t\t\t\t}, 0, scope);\n\t\t\t},\n\t\n\t\t\t/**\n\t\t\t * Removes the specified event listener.\n\t\t\t *\n\t\t\t * @method unbind\n\t\t\t * @param {String} name Name of event to remove.\n\t\t\t * @param {function} func Function to remove from listener.\n\t\t\t */\n\t\n\t\t\t/**\n\t\t\t * Removes all event listeners.\n\t\t\t *\n\t\t\t * @method unbindAll\n\t\t\t */\n\t\n\t\n\t\t\t/**\n\t\t\t * Destroys Plupload instance and cleans after itself.\n\t\t\t *\n\t\t\t * @method destroy\n\t\t\t */\n\t\t\tdestroy : function() {\n\t\t\t\tthis.trigger('Destroy');\n\t\t\t\tsettings = total = null; // purge these exclusively\n\t\t\t\tthis.unbindAll();\n\t\t\t}\n\t\t});\n\t};\n\t\n\tplupload.Uploader.prototype = o.EventTarget.instance;\n\t\n\t/**\n\t * Constructs a new file instance.\n\t *\n\t * @class File\n\t * @constructor\n\t * \n\t * @param {Object} file Object containing file properties\n\t * @param {String} file.name Name of the file.\n\t * @param {Number} file.size File size.\n\t */\n\tplupload.File = (function() {\n\t\tvar filepool = {};\n\t\n\t\tfunction PluploadFile(file) {\n\t\n\t\t\tplupload.extend(this, {\n\t\n\t\t\t\t/**\n\t\t\t\t * File id this is a globally unique id for the specific file.\n\t\t\t\t *\n\t\t\t\t * @property id\n\t\t\t\t * @type String\n\t\t\t\t */\n\t\t\t\tid: plupload.guid(),\n\t\n\t\t\t\t/**\n\t\t\t\t * File name for example \"myfile.gif\".\n\t\t\t\t *\n\t\t\t\t * @property name\n\t\t\t\t * @type String\n\t\t\t\t */\n\t\t\t\tname: file.name || file.fileName,\n\t\n\t\t\t\t/**\n\t\t\t\t * File type, `e.g image/jpeg`\n\t\t\t\t *\n\t\t\t\t * @property type\n\t\t\t\t * @type String\n\t\t\t\t */\n\t\t\t\ttype: file.type || '',\n\t\n\t\t\t\t/**\n\t\t\t\t * File size in bytes (may change after client-side manupilation).\n\t\t\t\t *\n\t\t\t\t * @property size\n\t\t\t\t * @type Number\n\t\t\t\t */\n\t\t\t\tsize: file.size || file.fileSize,\n\t\n\t\t\t\t/**\n\t\t\t\t * Original file size in bytes.\n\t\t\t\t *\n\t\t\t\t * @property origSize\n\t\t\t\t * @type Number\n\t\t\t\t */\n\t\t\t\torigSize: file.size || file.fileSize,\n\t\n\t\t\t\t/**\n\t\t\t\t * Number of bytes uploaded of the files total size.\n\t\t\t\t *\n\t\t\t\t * @property loaded\n\t\t\t\t * @type Number\n\t\t\t\t */\n\t\t\t\tloaded: 0,\n\t\n\t\t\t\t/**\n\t\t\t\t * Number of percentage uploaded of the file.\n\t\t\t\t *\n\t\t\t\t * @property percent\n\t\t\t\t * @type Number\n\t\t\t\t */\n\t\t\t\tpercent: 0,\n\t\n\t\t\t\t/**\n\t\t\t\t * Status constant matching the plupload states QUEUED, UPLOADING, FAILED, DONE.\n\t\t\t\t *\n\t\t\t\t * @property status\n\t\t\t\t * @type Number\n\t\t\t\t * @see plupload\n\t\t\t\t */\n\t\t\t\tstatus: plupload.QUEUED,\n\t\n\t\t\t\t/**\n\t\t\t\t * Date of last modification.\n\t\t\t\t *\n\t\t\t\t * @property lastModifiedDate\n\t\t\t\t * @type {String}\n\t\t\t\t */\n\t\t\t\tlastModifiedDate: file.lastModifiedDate || (new Date()).toLocaleString(), // Thu Aug 23 2012 19:40:00 GMT+0400 (GET)\n\t\n\t\t\t\t/**\n\t\t\t\t * Returns native window.File object, when it's available.\n\t\t\t\t *\n\t\t\t\t * @method getNative\n\t\t\t\t * @return {window.File} or null, if plupload.File is of different origin\n\t\t\t\t */\n\t\t\t\tgetNative: function() {\n\t\t\t\t\tvar file = this.getSource().getSource();\n\t\t\t\t\treturn o.inArray(o.typeOf(file), ['blob', 'file']) !== -1 ? file : null;\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\t * Returns mOxie.File - unified wrapper object that can be used across runtimes.\n\t\t\t\t *\n\t\t\t\t * @method getSource\n\t\t\t\t * @return {mOxie.File} or null\n\t\t\t\t */\n\t\t\t\tgetSource: function() {\n\t\t\t\t\tif (!filepool[this.id]) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\treturn filepool[this.id];\n\t\t\t\t},\n\t\n\t\t\t\t/**\n\t\t\t\t * Destroys plupload.File object.\n\t\t\t\t *\n\t\t\t\t * @method destroy\n\t\t\t\t */\n\t\t\t\tdestroy: function() {\n\t\t\t\t\tvar src = this.getSource();\n\t\t\t\t\tif (src) {\n\t\t\t\t\t\tsrc.destroy();\n\t\t\t\t\t\tdelete filepool[this.id];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tfilepool[this.id] = file;\n\t\t}\n\t\n\t\treturn PluploadFile;\n\t}());\n\t\n\t\n\t/**\n\t * Constructs a queue progress.\n\t *\n\t * @class QueueProgress\n\t * @constructor\n\t */\n\t plupload.QueueProgress = function() {\n\t\tvar self = this; // Setup alias for self to reduce code size when it's compressed\n\t\n\t\t/**\n\t\t * Total queue file size.\n\t\t *\n\t\t * @property size\n\t\t * @type Number\n\t\t */\n\t\tself.size = 0;\n\t\n\t\t/**\n\t\t * Total bytes uploaded.\n\t\t *\n\t\t * @property loaded\n\t\t * @type Number\n\t\t */\n\t\tself.loaded = 0;\n\t\n\t\t/**\n\t\t * Number of files uploaded.\n\t\t *\n\t\t * @property uploaded\n\t\t * @type Number\n\t\t */\n\t\tself.uploaded = 0;\n\t\n\t\t/**\n\t\t * Number of files failed to upload.\n\t\t *\n\t\t * @property failed\n\t\t * @type Number\n\t\t */\n\t\tself.failed = 0;\n\t\n\t\t/**\n\t\t * Number of files yet to be uploaded.\n\t\t *\n\t\t * @property queued\n\t\t * @type Number\n\t\t */\n\t\tself.queued = 0;\n\t\n\t\t/**\n\t\t * Total percent of the uploaded bytes.\n\t\t *\n\t\t * @property percent\n\t\t * @type Number\n\t\t */\n\t\tself.percent = 0;\n\t\n\t\t/**\n\t\t * Bytes uploaded per second.\n\t\t *\n\t\t * @property bytesPerSec\n\t\t * @type Number\n\t\t */\n\t\tself.bytesPerSec = 0;\n\t\n\t\t/**\n\t\t * Resets the progress to it's initial values.\n\t\t *\n\t\t * @method reset\n\t\t */\n\t\tself.reset = function() {\n\t\t\tself.size = self.loaded = self.uploaded = self.failed = self.queued = self.percent = self.bytesPerSec = 0;\n\t\t};\n\t};\n\t\n\twindow.plupload = plupload;\n\t\n\t}(window, mOxie));\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(93)))\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** setting.81ecbc0e95dcb868af68.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 59c7e29718fdf89a5322\n **/","/**\n * Utility functions.\n */\n\nvar _ = exports, array = [], console = window.console;\n\n_.warn = function (msg) {\n    if (console && _.warning && (!_.config.silent || _.config.debug)) {\n        console.warn('[VueResource warn]: ' + msg);\n    }\n};\n\n_.error = function (msg) {\n    if (console) {\n        console.error(msg);\n    }\n};\n\n_.trim = function (str) {\n    return str.replace(/^\\s*|\\s*$/g, '');\n};\n\n_.toLower = function (str) {\n    return str ? str.toLowerCase() : '';\n};\n\n_.isArray = Array.isArray;\n\n_.isString = function (val) {\n    return typeof val === 'string';\n};\n\n_.isFunction = function (val) {\n    return typeof val === 'function';\n};\n\n_.isObject = function (obj) {\n    return obj !== null && typeof obj === 'object';\n};\n\n_.isPlainObject = function (obj) {\n    return _.isObject(obj) && Object.getPrototypeOf(obj) == Object.prototype;\n};\n\n_.options = function (fn, obj, options) {\n\n    options = options || {};\n\n    if (_.isFunction(options)) {\n        options = options.call(obj);\n    }\n\n    return _.merge(fn.bind({$vm: obj, $options: options}), fn, {$options: options});\n};\n\n_.each = function (obj, iterator) {\n\n    var i, key;\n\n    if (typeof obj.length == 'number') {\n        for (i = 0; i < obj.length; i++) {\n            iterator.call(obj[i], obj[i], i);\n        }\n    } else if (_.isObject(obj)) {\n        for (key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                iterator.call(obj[key], obj[key], key);\n            }\n        }\n    }\n\n    return obj;\n};\n\n_.defaults = function (target, source) {\n\n    for (var key in source) {\n        if (target[key] === undefined) {\n            target[key] = source[key];\n        }\n    }\n\n    return target;\n};\n\n_.extend = function (target) {\n\n    var args = array.slice.call(arguments, 1);\n\n    args.forEach(function (arg) {\n        merge(target, arg);\n    });\n\n    return target;\n};\n\n_.merge = function (target) {\n\n    var args = array.slice.call(arguments, 1);\n\n    args.forEach(function (arg) {\n        merge(target, arg, true);\n    });\n\n    return target;\n};\n\nfunction merge(target, source, deep) {\n    for (var key in source) {\n        if (deep && (_.isPlainObject(source[key]) || _.isArray(source[key]))) {\n            if (_.isPlainObject(source[key]) && !_.isPlainObject(target[key])) {\n                target[key] = {};\n            }\n            if (_.isArray(source[key]) && !_.isArray(target[key])) {\n                target[key] = [];\n            }\n            merge(target[key], source[key], deep);\n        } else if (source[key] !== undefined) {\n            target[key] = source[key];\n        }\n    }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/util.js\n ** module id = 1\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","//  import  undefined \nvar filters = require('./filters');\nimport Ajax from 'vue-resource'\n\nexports.filterError = (component, res) => {\n  if (res.data.code != 0) {\n    var nav = component.$root.$children[0];\n    nav.show('error', res.data.error);\n    return false;\n  } else {\n    return true;\n  }\n};\n\nexports.httpErrorFn = (component) => {\n  return function (res) {\n    component.$root.$children[0].show('error', res.statusText);\n  }\n};\n\n\nexports.escape = (html) => {\n  html = html || '';\n  return html\n  .replace(/&/g, '&amp;')\n  .replace(/</g, '&lt;')\n  .replace(/>/g, '&gt;')\n  .replace(/\"/g, '&quot;')\n  .replace(/'/g, '&#39;');\n};\n\nexports.show = (component, type, text) => {\n  component.$root.$children[0].show(type, text);\n};\n\nexports.updateNavUser = (component, user) => {\n  var nav = component.$root.$children[0];\n  window.localStorage.setItem('user',JSON.stringify(user));\n  nav.user = user;\n  nav.userStatus = true;\n}\n\nfunction transformToAssocArray( prmstr ) {\n    var params = {};\n    var prmarr = prmstr.split(\"&\");\n    for ( var i = 0; i < prmarr.length; i++) {\n        var tmparr = prmarr[i].split(\"=\");\n        params[tmparr[0]] = tmparr[1];\n    }\n    return params;\n}\n\nexports.getSearchParameters = () => {\n      var prmstr = window.location.search.substr(1);\n      return prmstr != null && prmstr != \"\" ? transformToAssocArray(prmstr) : {};\n}\n\nexports.configVue = (Vue) => {\n\n  Vue.config.debug = true;\n  Vue.use(Ajax);\n  Vue.http.options.root = '/api';\n  Vue.http.options.emulateJSON = true;\n  Vue.http.options.timeout = 1000 * 15;\n\n  //  debug \n  localStorage.debug = 'api,user,components,setting,reviewer-list,home,reviewer-detail,order-form,'\n   + 'order,write-review,tag,markdown-area,markdown,article,reward-form,loading,order-detail,case';\n\n  // register filters globally\n  for(let  k in filters){\n    Vue.filter(k, filters[k])\n  }\n}\n\nexports.getLocalUser = () => {\n  var str = window.localStorage.getItem('user')\n  if (str) {\n    return JSON.parse(str);\n  } else {\n    return {};\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/util.js\n **/","\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage(){\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/debug/browser.js\n ** module id = 3\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * Promise adapter.\n */\n\nvar _ = require('./util');\nvar PromiseObj = window.Promise || require('./lib/promise');\n\nfunction Promise(executor, context) {\n\n    if (executor instanceof PromiseObj) {\n        this.promise = executor;\n    } else {\n        this.promise = new PromiseObj(executor.bind(context));\n    }\n\n    this.context = context;\n}\n\nPromise.all = function (iterable, context) {\n    return new Promise(PromiseObj.all(iterable), context);\n};\n\nPromise.resolve = function (value, context) {\n    return new Promise(PromiseObj.resolve(value), context);\n};\n\nPromise.reject = function (reason, context) {\n    return new Promise(PromiseObj.reject(reason), context);\n};\n\nPromise.race = function (iterable, context) {\n    return new Promise(PromiseObj.race(iterable), context);\n};\n\nvar p = Promise.prototype;\n\np.bind = function (context) {\n    this.context = context;\n    return this;\n};\n\np.then = function (fulfilled, rejected) {\n\n    if (fulfilled && fulfilled.bind && this.context) {\n        fulfilled = fulfilled.bind(this.context);\n    }\n\n    if (rejected && rejected.bind && this.context) {\n        rejected = rejected.bind(this.context);\n    }\n\n    this.promise = this.promise.then(fulfilled, rejected);\n\n    return this;\n};\n\np.catch = function (rejected) {\n\n    if (rejected && rejected.bind && this.context) {\n        rejected = rejected.bind(this.context);\n    }\n\n    this.promise = this.promise.catch(rejected);\n\n    return this;\n};\n\np.finally = function (callback) {\n\n    return this.then(function (value) {\n            callback.call(this);\n            return value;\n        }, function (reason) {\n            callback.call(this);\n            return PromiseObj.reject(reason);\n        }\n    );\n};\n\np.success = function (callback) {\n\n    _.warn('The `success` method has been deprecated. Use the `then` method instead.');\n\n    return this.then(function (response) {\n        return callback.call(this, response.data, response.status, response) || response;\n    });\n};\n\np.error = function (callback) {\n\n    _.warn('The `error` method has been deprecated. Use the `catch` method instead.');\n\n    return this.catch(function (response) {\n        return callback.call(this, response.data, response.status, response) || response;\n    });\n};\n\np.always = function (callback) {\n\n    _.warn('The `always` method has been deprecated. Use the `finally` method instead.');\n\n    var cb = function (response) {\n        return callback.call(this, response.data, response.status, response) || response;\n    };\n\n    return this.then(cb, cb);\n};\n\nmodule.exports = Promise;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/promise.js\n ** module id = 4\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n *\n * @authors Your Name (you@example.org)\n * @date    2015-12-28 22:43:14\n * @version $Id$\n */\n\nexport default {\n    logout: 'user/logout',\n    login: 'user/login',\n    register: 'user/register',\n    userStatus: 'user/self',\n    reviewers: 'reviewers',\n    updateUser: 'user',\n    qiniu: 'qiniu/token',\n    tags: 'tags',\n    userTag: 'user/tags',\n    userTagDelete: 'user/tags/:id',\n    reviewerView: 'reviewers/:id',\n    reviewerReviews: 'reviewers/:id/reviews',\n    ordersAdd: 'orders',\n    ordersList: 'user/orders',\n    ordersView: 'orders/:id',\n    ordersReward: 'orders/:id/reward',\n    ordersReview: 'orders/:id/review',\n    reviewsAdd: 'reviews',\n    reviewsEdit: 'reviews/:id', // post\n    reviewsView: 'reviews/:id', // get\n    reviewsGet: 'reviews'\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/serviceUrl.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/json/stringify.js\n ** module id = 6\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/*\n * JavaScript MD5 1.0.1\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n * \n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/*jslint bitwise: true */\n/*global unescape, define */\n\n(function ($) {\n    'use strict';\n\n    /*\n    * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n    * to work around bugs in some JS interpreters.\n    */\n    function safe_add(x, y) {\n        var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n            msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n        return (msw << 16) | (lsw & 0xFFFF);\n    }\n\n    /*\n    * Bitwise rotate a 32-bit number to the left.\n    */\n    function bit_rol(num, cnt) {\n        return (num << cnt) | (num >>> (32 - cnt));\n    }\n\n    /*\n    * These functions implement the four basic operations the algorithm uses.\n    */\n    function md5_cmn(q, a, b, x, s, t) {\n        return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b);\n    }\n    function md5_ff(a, b, c, d, x, s, t) {\n        return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);\n    }\n    function md5_gg(a, b, c, d, x, s, t) {\n        return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);\n    }\n    function md5_hh(a, b, c, d, x, s, t) {\n        return md5_cmn(b ^ c ^ d, a, b, x, s, t);\n    }\n    function md5_ii(a, b, c, d, x, s, t) {\n        return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);\n    }\n\n    /*\n    * Calculate the MD5 of an array of little-endian words, and a bit length.\n    */\n    function binl_md5(x, len) {\n        /* append padding */\n        x[len >> 5] |= 0x80 << (len % 32);\n        x[(((len + 64) >>> 9) << 4) + 14] = len;\n\n        var i, olda, oldb, oldc, oldd,\n            a =  1732584193,\n            b = -271733879,\n            c = -1732584194,\n            d =  271733878;\n\n        for (i = 0; i < x.length; i += 16) {\n            olda = a;\n            oldb = b;\n            oldc = c;\n            oldd = d;\n\n            a = md5_ff(a, b, c, d, x[i],       7, -680876936);\n            d = md5_ff(d, a, b, c, x[i +  1], 12, -389564586);\n            c = md5_ff(c, d, a, b, x[i +  2], 17,  606105819);\n            b = md5_ff(b, c, d, a, x[i +  3], 22, -1044525330);\n            a = md5_ff(a, b, c, d, x[i +  4],  7, -176418897);\n            d = md5_ff(d, a, b, c, x[i +  5], 12,  1200080426);\n            c = md5_ff(c, d, a, b, x[i +  6], 17, -1473231341);\n            b = md5_ff(b, c, d, a, x[i +  7], 22, -45705983);\n            a = md5_ff(a, b, c, d, x[i +  8],  7,  1770035416);\n            d = md5_ff(d, a, b, c, x[i +  9], 12, -1958414417);\n            c = md5_ff(c, d, a, b, x[i + 10], 17, -42063);\n            b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);\n            a = md5_ff(a, b, c, d, x[i + 12],  7,  1804603682);\n            d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101);\n            c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);\n            b = md5_ff(b, c, d, a, x[i + 15], 22,  1236535329);\n\n            a = md5_gg(a, b, c, d, x[i +  1],  5, -165796510);\n            d = md5_gg(d, a, b, c, x[i +  6],  9, -1069501632);\n            c = md5_gg(c, d, a, b, x[i + 11], 14,  643717713);\n            b = md5_gg(b, c, d, a, x[i],      20, -373897302);\n            a = md5_gg(a, b, c, d, x[i +  5],  5, -701558691);\n            d = md5_gg(d, a, b, c, x[i + 10],  9,  38016083);\n            c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335);\n            b = md5_gg(b, c, d, a, x[i +  4], 20, -405537848);\n            a = md5_gg(a, b, c, d, x[i +  9],  5,  568446438);\n            d = md5_gg(d, a, b, c, x[i + 14],  9, -1019803690);\n            c = md5_gg(c, d, a, b, x[i +  3], 14, -187363961);\n            b = md5_gg(b, c, d, a, x[i +  8], 20,  1163531501);\n            a = md5_gg(a, b, c, d, x[i + 13],  5, -1444681467);\n            d = md5_gg(d, a, b, c, x[i +  2],  9, -51403784);\n            c = md5_gg(c, d, a, b, x[i +  7], 14,  1735328473);\n            b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);\n\n            a = md5_hh(a, b, c, d, x[i +  5],  4, -378558);\n            d = md5_hh(d, a, b, c, x[i +  8], 11, -2022574463);\n            c = md5_hh(c, d, a, b, x[i + 11], 16,  1839030562);\n            b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556);\n            a = md5_hh(a, b, c, d, x[i +  1],  4, -1530992060);\n            d = md5_hh(d, a, b, c, x[i +  4], 11,  1272893353);\n            c = md5_hh(c, d, a, b, x[i +  7], 16, -155497632);\n            b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);\n            a = md5_hh(a, b, c, d, x[i + 13],  4,  681279174);\n            d = md5_hh(d, a, b, c, x[i],      11, -358537222);\n            c = md5_hh(c, d, a, b, x[i +  3], 16, -722521979);\n            b = md5_hh(b, c, d, a, x[i +  6], 23,  76029189);\n            a = md5_hh(a, b, c, d, x[i +  9],  4, -640364487);\n            d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835);\n            c = md5_hh(c, d, a, b, x[i + 15], 16,  530742520);\n            b = md5_hh(b, c, d, a, x[i +  2], 23, -995338651);\n\n            a = md5_ii(a, b, c, d, x[i],       6, -198630844);\n            d = md5_ii(d, a, b, c, x[i +  7], 10,  1126891415);\n            c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);\n            b = md5_ii(b, c, d, a, x[i +  5], 21, -57434055);\n            a = md5_ii(a, b, c, d, x[i + 12],  6,  1700485571);\n            d = md5_ii(d, a, b, c, x[i +  3], 10, -1894986606);\n            c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523);\n            b = md5_ii(b, c, d, a, x[i +  1], 21, -2054922799);\n            a = md5_ii(a, b, c, d, x[i +  8],  6,  1873313359);\n            d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744);\n            c = md5_ii(c, d, a, b, x[i +  6], 15, -1560198380);\n            b = md5_ii(b, c, d, a, x[i + 13], 21,  1309151649);\n            a = md5_ii(a, b, c, d, x[i +  4],  6, -145523070);\n            d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);\n            c = md5_ii(c, d, a, b, x[i +  2], 15,  718787259);\n            b = md5_ii(b, c, d, a, x[i +  9], 21, -343485551);\n\n            a = safe_add(a, olda);\n            b = safe_add(b, oldb);\n            c = safe_add(c, oldc);\n            d = safe_add(d, oldd);\n        }\n        return [a, b, c, d];\n    }\n\n    /*\n    * Convert an array of little-endian words to a string\n    */\n    function binl2rstr(input) {\n        var i,\n            output = '';\n        for (i = 0; i < input.length * 32; i += 8) {\n            output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xFF);\n        }\n        return output;\n    }\n\n    /*\n    * Convert a raw string to an array of little-endian words\n    * Characters >255 have their high-byte silently ignored.\n    */\n    function rstr2binl(input) {\n        var i,\n            output = [];\n        output[(input.length >> 2) - 1] = undefined;\n        for (i = 0; i < output.length; i += 1) {\n            output[i] = 0;\n        }\n        for (i = 0; i < input.length * 8; i += 8) {\n            output[i >> 5] |= (input.charCodeAt(i / 8) & 0xFF) << (i % 32);\n        }\n        return output;\n    }\n\n    /*\n    * Calculate the MD5 of a raw string\n    */\n    function rstr_md5(s) {\n        return binl2rstr(binl_md5(rstr2binl(s), s.length * 8));\n    }\n\n    /*\n    * Calculate the HMAC-MD5, of a key and some data (raw strings)\n    */\n    function rstr_hmac_md5(key, data) {\n        var i,\n            bkey = rstr2binl(key),\n            ipad = [],\n            opad = [],\n            hash;\n        ipad[15] = opad[15] = undefined;\n        if (bkey.length > 16) {\n            bkey = binl_md5(bkey, key.length * 8);\n        }\n        for (i = 0; i < 16; i += 1) {\n            ipad[i] = bkey[i] ^ 0x36363636;\n            opad[i] = bkey[i] ^ 0x5C5C5C5C;\n        }\n        hash = binl_md5(ipad.concat(rstr2binl(data)), 512 + data.length * 8);\n        return binl2rstr(binl_md5(opad.concat(hash), 512 + 128));\n    }\n\n    /*\n    * Convert a raw string to a hex string\n    */\n    function rstr2hex(input) {\n        var hex_tab = '0123456789abcdef',\n            output = '',\n            x,\n            i;\n        for (i = 0; i < input.length; i += 1) {\n            x = input.charCodeAt(i);\n            output += hex_tab.charAt((x >>> 4) & 0x0F) +\n                hex_tab.charAt(x & 0x0F);\n        }\n        return output;\n    }\n\n    /*\n    * Encode a string as utf-8\n    */\n    function str2rstr_utf8(input) {\n        return unescape(encodeURIComponent(input));\n    }\n\n    /*\n    * Take string arguments and return either raw or hex encoded strings\n    */\n    function raw_md5(s) {\n        return rstr_md5(str2rstr_utf8(s));\n    }\n    function hex_md5(s) {\n        return rstr2hex(raw_md5(s));\n    }\n    function raw_hmac_md5(k, d) {\n        return rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d));\n    }\n    function hex_hmac_md5(k, d) {\n        return rstr2hex(raw_hmac_md5(k, d));\n    }\n\n    function md5(string, key, raw) {\n        if (!key) {\n            if (!raw) {\n                return hex_md5(string);\n            }\n            return raw_md5(string);\n        }\n        if (!raw) {\n            return hex_hmac_md5(key, string);\n        }\n        return raw_hmac_md5(key, string);\n    }\n\n    if (typeof define === 'function' && define.amd) {\n        define(function () {\n            return md5;\n        });\n    } else {\n        $.md5 = md5;\n    }\n}(this));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/blueimp-md5/js/md5.js\n ** module id = 7\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","require(\"-!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!style-loader!css-loader!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-4c295728&file=overlay.vue!stylus-loader!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./overlay.vue\")\nmodule.exports = require(\"-!babel!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./overlay.vue\")\n\nif (module.exports.__esModule) module.exports = module.exports.default\n;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = require(\"-!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./overlay.vue\")\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Users/yuqiu/github/code-review-web/src/components/overlay.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n  }\n})()}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/overlay.vue\n ** module id = 15\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","require(\"-!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!style-loader!css-loader!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-170bcaf3&file=user-avatar.vue!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./user-avatar.vue\")\nmodule.exports = require(\"-!babel!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./user-avatar.vue\")\n\nif (module.exports.__esModule) module.exports = module.exports.default\n;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = require(\"-!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./user-avatar.vue\")\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Users/yuqiu/github/code-review-web/src/components/user-avatar.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n  }\n})()}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/user-avatar.vue\n ** module id = 16\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","var core = module.exports = {version: '1.2.6'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.core.js\n ** module id = 17\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","// <template>\n//   <div class=\"dropdown\">\n\n//     <div class=\"dropdown-mask\" @click=\"show=!show\">\n//       <slot name=\"showText\"></slot>\n//     </div>\n//     <div class=\"dropdown-inner\" @click=\"choose\" v-show=\"show\">\n//       <slot name=\"options\"></slot>\n//     </div>\n//     </div>\n//   </div>\n// </template>\n\n// <script>\n  module.exports = {\n    data (){\n      return {\n        show: false\n      }\n    },\n    methods: {\n      choose: function(e) {\n        var el = e.target;\n        if (el.classList.contains('dropdown-item')) {\n          this.show = false;\n        }\n      }\n    }\n  };\n// </script>\n\n// <style lang=\"stylus\">\n//   .dropdown\n//     position relative\n//     width 100%\n//     height 100%\n//   .dropdown-mask\n//     width 100%\n//     height 100%\n//     background transparent\n//   .dropdown-inner\n//     position absolute\n//     top 100%\n//     margin-top 20px\n//     background-color white\n//     background-clip padding-box\n//     padding 6px 0\n//     border 1px solid rgba(0, 0, 0, 0.18)\n//     box-shadow 0 3px 13px rgba(0, 0, 0, 0.18)\n//     border-radius 3px\n//     z-index 11\n//     padding 10px 20px\n//     &:before, &:after\n//       position absolute\n//       left 50%\n//       margin-left -8px\n//       content ''\n//       display block\n//       border 8px solid transparent\n//     &:before\n//       top -16px\n//       border-bottom-color rgba(0, 0, 0, 0.18)\n//     &:after\n//       top -15px\n//       border-bottom-color white\n//     .dropdown-item\n//       padding 20px\n//       position relative\n//       color #282F31\n//       display block\n//       font-size 14px\n//       font-weight 700\n//       padding 2px 5px 2px 13px\n//       margin-bottom 3px\n//       z-index: 20;\n//       &:last-child\n//         opacity 0.6\n//       &:hover\n//         color #00BDEF\n//         &:last-child\n//           opacity 0.6\n//           color #EF0031\n//     .dropdown-divider\n//       border-top: 1px solid #ddd\n//       opacity 0.75\n//       margin: 8px 0\n//     .avatar\n//       margin-left 14px\n//     .name\n//       position relative\n//       margin-left 54px\n//       margin-top -38px\n// </style>\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/dropdown.vue\n **/","// <template>\n// \t<section class=\"login\" @click=\"stop($event)\">\n// \t\t<button type=\"button\" class=\"cancel\" @click=\"cancel\"></button>\n// \t\t<h2> Code Review</h2>\n// \t\t<div class=\"form\">\n// \t\t\t<ul class=\"row\">\n// \t\t\t\t<li>\n// \t\t\t\t\t<input type=\"text\" class=\"phone\" v-model=\"phone\" placeholder=\"\">\n// \t\t\t\t</li>\n// \t\t\t\t<li>\n// \t\t\t\t\t<input type=\"password\"  class=\"password\" v-model=\"password\" placeholder=\"\">\n// \t\t\t\t</li>\n// \t\t\t</ul>\n// \t\t\t<button type=\"button\" @click=\"login\"></button>\n// <!-- \t\t\t<p></p> -->\n// \t\t</div>\n// \t\t<p style=\"padding-top: 30px;\"><strong></strong></p>\n// \t</section>\n// </template>\n// <script>\n  'use strict'\n  import md5 from 'blueimp-md5'\n  import util from '../common/util'\n  import serviceUrl from \"../common/serviceUrl.js\"\n  var debug = require('debug')('components');\n  debug(util);\n\texport default{\n\t\tdata (){\n\t\t\treturn {\n\t\t\t\tphone:'13261630925',\n\t\t\t\tpassword: '123456'\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tstop (e){\n\t\t\t\te.stopPropagation();\n\t\t\t},\n\t\t\tcancel (){\n\t\t\t\tthis.$parent.overlay = false;\n\t\t\t},\n\t\t\tlogin (){\n\t\t\t\tthis.$http.post(serviceUrl.login, {\n\t\t\t\t\tmobilePhoneNumber: this.phone,\n\t\t\t\t\tpassword: md5(this.password)\n\t\t\t\t},{\n\t\t\t\t\temulateJSON: true\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tif (util.filterError(this, res)) {\n\t\t\t\t\t\tthis.$parent.overlay = false;\n\t\t\t\t\t\tutil.updateNavUser(this, res.data.result);\n\t\t\t\t\t}\n\t\t\t\t}, util.httpErrorFn(this))\n\t\t\t}\n\t\t}\n\t}\n// </script>\n// <style lang=\"stylus\">\n// blue = #00BDEF\n\n// green = #33C96F\n\n// \t.login\n// \t\tbackground white\n// \t\twidth 500px\n// \t\theight 500px\n// \t\tpadding 50px\n// \t\tposition absolute\n// \t\tleft 50%\n// \t\ttop 50%\n// \t\tmargin -250px 0 0 -250px\n// \t\t.cancel\n// \t\t\tposition absolute\n// \t\t\tright 20px\n// \t\t\ttop 20px\n// \t\tp\n// \t\t\tfont-size 0.8rem\n// \t\t\ttext-align center\n// \t\t\tstrong\n// \t\t\t\tcolor blue\n// \t\th2\n// \t\t\tfont-size 1.5rem\n// \t\t\ttext-align center\n// \t\t.form\n// \t\t\tborder-top 1px solid #E9EAEC\n// \t\t\tborder-bottom 1px solid #E9EAEC\n// \t\t\tpadding 30px 0\n// \t\t\tmargin-top 20px\n// \t\t\tp\n// \t\t\t\tcolor blue\n// \t\t\t\tmargin-bottom 10px\n// \t\t\tbutton\n// \t\t\t\twidth 100%\n// \t\t\t\theight 55px\n// \t\t\t\tcolor white\n// \t\t\t\tfont-size 1rem\n// \t\t\t\ttext-align center\n// \t\t\t\tline-height 55px\n// \t\t\t\tbackground green\n// \t\t\t\tborder-radius 3px\n// \t\t\t\tmargin-top 50px\n// \t\t\t\tmargin-bottom 30px\n// \t\t.row\n// \t\t\twidth 100%\n// \t\t\theight 116px\n// \t\t\tborder 1px solid rgba(40,47,49,.3)\n// \t\t\tborder-radius 3px\n// \t\t\tli\n// \t\t\t\theight 57px\n// \t\t\t\tpadding-left 30px\n// \t\t\tli:first-child\n// \t\t\t\tborder-bottom 1px solid rgba(40,47,49,.3)\n// \t\t\tinput\n// \t\t\t\twidth 100%\n// \t\t\t\theight 55px\n// \t\t\t\tmargin-top 1px\n// \t\t\t\tborder none\n// \t\t\t\toutline none\n\n// </style>\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/login.vue\n **/","// <template>\n//   <div class=\"overlay\" @click=\"hide\" v-show=\"overlay\">\n//     <slot></slot>\n//   </div>\n// </template>\n\n// <script>\n  module.exports = {\n    props: ['overlay'],\n    methods:{\n      hide (){\n        this.overlay = false\n      }\n    }\n  };\n// </script>\n\n// <style lang=\"stylus\">\n// .overlay\n//   position fixed\n//   left 0\n//   right 0\n//   top 0\n//   bottom 0\n//   z-index 9998\n//   background-color rgba(0,0,0,.5)\n//   transition opacity .5s ease\n// </style>\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/overlay.vue\n **/","// <template>\n// \t<section class=\"sign-up\" @click=\"stop($event)\">\n// \t\t<button type=\"button\" class=\"close\" @click=\"close\">X</button>\n// \t\t<h2> Code Review </h2>\n// \t\t<div class=\"form\">\n// \t\t\t\t<div class=\"row\">\n// \t\t\t\t\t<input type=\"text\" v-model=\"phone\" placeholder=\"\">\n// \t\t\t\t</div>\n// \t\t\t\t<div class=\"code\">\n// \t\t\t\t\t<div class=\"row\" style=\"width: 250px;\">\n// \t\t\t\t\t\t<input type=\"text\" v-model=\"smsCode\" placeholder=\"\">\n// \t\t\t\t\t</div>\n// \t\t\t\t\t<button class=\"send\" type=\"button\" @click=\"requestSmsCode\"></button>\n// \t\t\t\t</div>\n// \t\t\t\t<div class=\"row\">\n// \t\t\t\t\t<input type=\"password\"  v-model=\"password\" placeholder=\"\">\n// \t\t\t\t</div>\n// \t\t\t\t<div class=\"row\">\n// \t\t\t\t\t<input type=\"text\"  v-model=\"username\" placeholder=\"\">\n// \t\t\t\t</div>\n// \t\t\t<button type=\"button\" @click=\"register\"></button>\n// \t\t\t<a href=\"/statement.html\"><p> <strong></strong>  <strong></strong></p></a>\n// \t\t</div>\n// \t\t<p style=\"padding-top: 30px;\">? <strong>  </strong></p>\n// \t</section>\n// </template>\n// <script>\n  import md5 from 'blueimp-md5'\n  import util from '../common/util'\n  import serviceUrl from \"../common/serviceUrl.js\";\n  var debug = require('debug')('components')\n\texport default{\n\t\tdata () {\n\t\t\treturn {\n\t\t\t\tphone:'13261630925',\n\t\t\t\tsmsCode: '5555',\n\t\t\t\tpassword: '123456',\n\t\t\t\tusername: 'lzwjava1'\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tstop (e){\n\t\t\t\te.stopPropagation();\n\t\t\t},\n\t\t\tclose (){\n\t\t\t\tthis.$parent.overlay = false;\n\t\t\t},\n\t\t\tregister () {\n\t\t\t\tthis.$http.post(serviceUrl.register, {\n\t\t\t\t\tmobilePhoneNumber: this.phone,\n\t\t\t\t\tpassword: md5(this.password),\n\t\t\t\t\tusername: this.username,\n\t\t\t\t\tsmsCode: this.smsCode,\n\t\t\t\t\ttype: 0\n\t\t\t\t},{\n\t\t\t\t\temulateJSON: true\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tif (util.filterError(this, res)) {\n\t\t\t\t\t\tthis.$parent.overlay = false;\n\t\t\t\t\t\tutil.updateNavUser(this, res.data.result);\n\t\t\t\t\t}\n\t\t\t\t}, util.httpErrorFn(this))\n\t\t\t},\n\t\t\trequestSmsCode () {\n\t\t\t\tthis.$http.post('/api/user/requestSmsCode', {\n\t\t\t\t\tmobilePhoneNumber:this.phone\n\t\t\t\t}, {\n\t\t\t\t\temulateJSON: true\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tif (util.filterError(this, res)) {\n\t\t\t\t\t\tdebug('send succeed');\n\t\t\t\t\t}\n\t\t\t\t}, util.httpErrorFn(this))\n\t\t\t}\n\t\t}\n\t}\n// </script>\n// <style lang=\"stylus\">\n// @import \"../stylus/variables.styl\";\n\n// \t.sign-up\n// \t\tbackground white\n// \t\twidth 500px\n// \t\theight 600px\n// \t\tpadding 50px\n// \t\tposition absolute\n// \t\tleft 50%\n// \t\ttop 50%\n// \t\tmargin -300px 0 0 -250px\n// \t\t.close\n// \t\t\tposition absolute\n// \t\t\twidth 20px\n// \t\t\theight 20px\n// \t\t\tright 20px\n// \t\t\ttop 20px\n// \t\tp\n// \t\t\tfont-size 0.8rem\n// \t\t\ttext-align center\n// \t\t\tstrong\n// \t\t\t\tcolor blue\n// \t\th2\n// \t\t\tfont-size 1.5rem\n// \t\t\ttext-align center\n// \t\t.form\n// \t\t\tborder-top 1px solid #E9EAEC\n// \t\t\tborder-bottom 1px solid #E9EAEC\n// \t\t\tpadding 30px 0\n// \t\t\tmargin-top 20px\n// \t\t\t.code\n// \t\t\t\tclearfix()\n// \t\t\t\t.row\n// \t\t\t\t\tfloat left\n// \t\t\t\t\twidth 250px\n// \t\t\t\t.send\n// \t\t\t\t\tfloat right\n// \t\t\t\t\tmargin 0\n// \t\t\t\t\twidth 135px\n// \t\t\t\t\tbackground blue\n// \t\t\tp\n// \t\t\t\tmargin-bottom 10px\n// \t\t\tbutton\n// \t\t\t\twidth 100%\n// \t\t\t\theight 55px\n// \t\t\t\tcolor white\n// \t\t\t\tfont-size 1rem\n// \t\t\t\ttext-align center\n// \t\t\t\tline-height 55px\n// \t\t\t\tbackground green\n// \t\t\t\tborder-radius 3px\n// \t\t\t\tmargin-top 50px\n// \t\t\t\tmargin-bottom 30px\n\n// \t\t.row\n// \t\t\twidth 100%\n// \t\t\theight 58px\n// \t\t\tborder 1px solid rgba(40,47,49,.3)\n// \t\t\tborder-radius 3px\n// \t\t\tpadding-left 30px\n// \t\t\tmargin-bottom 10px\n// \t\t\tinput\n// \t\t\t\twidth 100%\n// \t\t\t\theight 55px\n// \t\t\t\tmargin-top 1px\n// \t\t\t\tborder none\n// \t\t\t\toutline none\n\n// </style>\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/signup.vue\n **/","// <template>\n//   <a v-el:avatar class=\"avatar\" aria-label=\"View @{{user.username}} profile\">\n//     <img v-if=\"user.avatarUrl\" :src=\"user.avatarUrl\" :alt=\"user.username\" />\n//     <span v-if=\"!user.avatarUrl\" style=\"{background-color: spanBgColor, color: spanColor}\">{{user.username}}</span>\n//   </a>\n// </template>\n// <script>\n  var debug = require('debug')('components');\n  var escape = require('../common/util').escape;\n  var wordColor = require('word-color');\n  module.exports = {\n    props: ['user'],\n    data (){\n      return {\n        spanBgColor: '',\n        spanColor: 'white'\n      }\n    },\n    compiled: function() {\n      var user = this.user;\n      if (!user.username) {\n        //  user \n        return;\n      }\n      debug('user: %j', user);\n      if (!user.avatarUrl) {\n        var bg = wordColor.rgb(user.username);\n        if ((bg[0] * 299 + bg[1] * 587 + bg[2] * 114) > 200000) {\n          this.spanColor = 'black';\n        }\n        this.spanBgColor = 'rgb(' + bg.join(',') + ')';\n        user.username = escape(user.username.charAt(0).toUpperCase())\n        debug('avatarUrl: ' + user.avatarUrl);\n      }else{\n        //debug('avatarUrl: ' + user.avatarUrl);\n      }\n    }\n  };\n// </script>\n\n// <style>\n//   .avatar {\n//     display: inline-block;\n//     text-decoration: none;\n//   }\n//   .avatar.small {\n//     width: 36px;\n//     height: 36px;\n//     line-height: 36px;\n//   }\n//   .avatar:hover {\n//     opacity: 0.8;\n//   }\n//   .avatar span, .avatar img {\n//     display: inline-block;\n//     width: 70%;\n//     height: 70%;\n//     color: white;\n//     text-align: center;\n//     font-size: 24px;\n//     border-radius: 50%;\n//   }\n//   .avatar img{\n//     position:relative;\n//     vertical-align: middle;\n//   }\n//   .avatar.small span {\n//     font-size: 18px;\n//   }\n//   .avatar.circle span, .avatar.circle img {\n//     border-radius: 50%;\n//   }\n// </style>\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/user-avatar.vue\n **/","// <template>\n//   <overlay :overlay.sync=\"overlayStatus\">\n//     <component :is=\"currentView\"></component>\n//   </overlay>\n// \t<nav class=\"navbar\">\n//       <div class=\"container\">\n\n//         <a href=\"/\">\n//           <div class=\"left\">\n//             <img class=\"navbar-brand\" src=\"../img/header_logo.png\">\n//             <div class=\"title\">\n//               <span class=\"light\">Code</span>\n//               <span class=\"bold\">Review</span>\n//             </div>\n//           </div>\n//         </a>\n\n//         <div class=\"right\">\n//           <ul class=\"list\">\n//             <a href=\"/reviewers.html\"><li class=\"hover-btn\"></li></a>\n//             <a href=\"/case.html\"><li class=\"hover-btn\"></li></a>\n//             <li class=\"hover-btn\" v-if=\"!userStatus\" class=\"signup\" @click=\"signup\"></li>\n//             <li class=\"hover-btn\" v-if=\"!userStatus\" @click=\"signin\"></li>\n//             <li v-if=\"userStatus\">\n//               <dropdown>\n//                 <user-avatar slot=\"showText\" :user=\"user\" @click=\"viewUserDropdown\"></user-avatar>\n//                 <div slot=\"options\">\n//                   <div><user-avatar :user=\"user\"></user-avatar>\n//                     <div class=\"name\">{{user.username}}</div>\n//                   <div>\n//                   <div class=\"dropdown-divider\"></div>\n//                   <a class=\"dropdown-item\" href=\"setting.html\"></a>\n//                   <a class=\"dropdown-item\" href=\"order.html\">Code Review </a>\n//                   <div class=\"dropdown-divider\"></div>\n//                   <a class=\"dropdown-item\" @click=\"logout\" href=\"/\"></a>\n//                 </div>\n//               </dropdown>\n//             </li>\n//           </ul>\n//         </div>\n\n//       </div>\n//     </nav>\n//     <div id=\"message\" aria-live=\"assertive\">\n//       <div class=\"message message-{{msg.type}}\" v-for=\"msg in messages\" v-text=\"msg.text\" transition=\"fade\"></div>\n//     </div>\n// </template>\n// <script>\n  import Overlay from '../components/overlay.vue';\n  import Login from '../components/login.vue';\n  import Signup from '../components/signup.vue';\n  import DropDown from '../components/dropdown.vue';\n  import UserAvatar from '../components/user-avatar.vue';\n  import serviceUrl from \"../common/serviceUrl.js\";\n  import util from '../common/util'\n  var debug = require('debug')('components');\n  var clock = new Date().getFullYear();\n\texport default {\n    components: {\n      overlay: Overlay,\n      login:  Login,\n      signup: Signup,\n      dropdown: DropDown,\n      'user-avatar':UserAvatar\n    },\n    data (){\n      return {\n        userStatus: false,\n        overlayStatus: false,\n        currentView: 'login',\n        messages: [],\n        user: {}\n      }\n    },\n\t\tmethods: {\n\t\t\tlogout (e){\n        e && e.preventDefault();\n        this.$http.get(serviceUrl.logout).then((resp) => {\n          this.user = {};\n          this.userStatus = false;\n          window.localStorage.removeItem('user');\n          window.location = '/';\n        }, util.httpErrorFn(this));\n\t\t\t},\n      signin (){\n        this.overlayStatus = true;\n        this.currentView = 'login';\n      },\n      signup (){\n        this.overlayStatus = true;\n        this.currentView = 'signup';\n      },\n      viewUserDropdown (e) {\n        e && e.preventDefault();\n        this.showUserDropdown = true;\n      },\n      flush () {\n        this.messages = [];\n      },\n      clear (index) {\n        clearTimeout(clock);\n        this.messages.splice(index, 1);\n        clock = setTimeout(this.flush.bind(this), 4000);\n      },\n      show (type, text) {\n        //  errorwarnsuccess \n        var msg = {type: type, text: text};\n        if (!unique(msg, this.messages)) return;\n\n        this.messages.push(msg);\n        var index = this.messages.length - 1;\n        setTimeout(function() {\n          this.clear(index);\n        }.bind(this), 3000);\n      }\n\t\t},\n    created () {\n      // console.log('created nav');\n      /*this.$http.get(serviceUrl.userStatus).then((res) => {\n        if (res.data.code != 0) {\n          this.userStatus = false;\n          this.user = {}\n        } else {\n          this.userStatus = true;\n          this.user = res.data.result;\n          debug('user %j', this.user)\n        }\n      }, (res) => {\n\n      })*/\n      if(window.localStorage.getItem('user')){\n        this.userStatus = true;\n        this.user = JSON.parse(window.localStorage.getItem('user'));\n      }\n    }\n\t}\n\n  function unique (item, list) {\n    return !list.some(function(data) {\n      return JSON.stringify(data) === JSON.stringify(item);\n    });\n  }\n// </script>\n// <style lang=\"stylus\">\n// @import '../stylus/base.styl';\n\n// .navbar\n//   height totalHeight = 50px\n//   padding paddingTop=5px 150px\n//   background white\n//   border-bottom 1px solid rgba(0,0,0,0.15)\n//   box-shadow 0 2px 1px 0px rgba(135,135,135,.15)\n//   min-width 1200px\n//   left 0\n//   right 0\n//   .container\n//     margin 0 auto\n//     line-height totalHeight - 2 * paddingTop\n//     width 100%\n//     height 100%\n//   .navbar-brand\n//     width 35px\n//     top 3px\n//     position relative\n//   .left\n//     pull-left()\n//     .title\n//       font-size 20px\n//       margin-left 10px\n//       display inline-block\n//       .light\n//         font-family Raleway-Light\n//         top -2px\n//         position relative\n//       .bold\n//         font-family Raleway-SemiBold\n//         top -2px\n//         position relative\n//   .right\n//     pull-right()\n//   .list\n//     li\n//       padding-left 20px\n//       padding-right 20px\n//       text-align left\n//       cursor pointer\n//       font-size 14px\n//       top -2px\n//       position relative\n//       &.hover-btn\n//         border 1px solid #ffff // hover\n//         font-weight 600\n//       &.hover-btn:hover\n//         color #00CFF5\n//     .dropdown-inner\n//       width 220px\n//       right 0\n//       &:before,&:after\n//         left 90%\n//   .avatar\n//     width totalHeight - 2 * paddingTop\n//     height totalHeight - 2 * paddingTop\n\n// #message\n//   position fixed\n//   top 0\n//   left 0\n//   width 100%\n//   text-align center\n//   z-index 99999\n\n// .message\n//   font-size 1rem\n//   line-height 1.8\n//   padding 10px 20px\n//   box-sizing border-box\n//   border-bottom 1px solid #efefef\n//   background-color rgba(255, 255, 255, 0.9)\n//   color #565656\n\n// .message-success\n//   background-color rgba(66, 185, 131, 0.9)\n//   border-color rgb(66, 185, 131)\n//   color white\n\n// .message-error\n//   background-color rgba(255, 68, 68, 0.9)\n//   border-color rgb(255, 68, 68)\n//   color white\n\n// .message-warn\n//   background-color rgba(255, 220, 0, 0.9)\n//   border-color rgb(255, 220, 0)\n\n// </style>\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/nav.vue\n **/","const urlParser = document.createElement('a')\n\nexports.domain = (url) => {\n  urlParser.href = url\n  return urlParser.hostname\n}\n\nexports.fromNow =  (time) => {\n  const between = Date.now() / 1000 - Number(time)\n  if (between < 3600) {\n    return pluralize(~~(between / 60), ' minute')\n  } else if (between < 86400) {\n    return pluralize(~~(between / 3600), ' hour')\n  } else {\n    return pluralize(~~(between / 86400), ' day')\n  }\n}\n\nexports.reviewStatus = (state) => {\n  let text = ''\n    switch(state){\n      case 'unpaid':  text = '';break;\n      case 'paid':  text = '';break;\n      case 'finished':  text = '';break;\n      case 'consented': text = '';break;\n      case 'rejected':  text = '';break;\n    }\n    return text;\n}\n\nexports.integer = (val) =>{\n  return val.split('.')[0]\n}\n\n\nexports.pluralize = (time, label) =>{\n    if (time === 1) {\n        return time + label\n    }\n\n    return time + label + 's';\n}\n\nexports.moneyAsYuan = (money) => {\n  if (!money) {\n    return 0;\n  } else {\n    return money / 100;\n  }\n}\n\nexports.truncate = (s, len) => {\n  if (s && s.length > len) {\n    return s.substring(0, len);\n  } else {\n    return s;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/filters.js\n **/","var core = require('../../modules/$.core');\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return (core.JSON && core.JSON.stringify || JSON.stringify).apply(JSON, arguments);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/fn/json/stringify.js\n ** module id = 26\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/debug/debug.js\n ** module id = 27\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options.long\n    ? long(val)\n    : short(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = '' + str;\n  if (str.length > 10000) return;\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction short(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction long(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/debug/~/ms/index.js\n ** module id = 28\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","module.exports = \"data:image/png;base64,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\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/img/header_logo.png\n ** module id = 36\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","module.exports = \"<div class=dropdown><div class=dropdown-mask @click=\\\"show=!show\\\"><slot name=showText></slot></div><div class=dropdown-inner @click=choose v-show=show><slot name=options></slot></div></div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/dropdown.vue\n ** module id = 37\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","module.exports = \"<section class=login @click=stop($event)><button type=button class=cancel @click=cancel></button><h2> Code Review</h2><div class=form><ul class=row><li><input class=phone v-model=phone placeholder=></li><li><input type=password class=password v-model=password placeholder=></li></ul><button type=button @click=login></button></div><p style=\\\"padding-top: 30px\\\"><strong></strong></p></section>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/login.vue\n ** module id = 38\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","module.exports = \"<div class=overlay @click=hide v-show=overlay><slot></slot></div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/overlay.vue\n ** module id = 39\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","module.exports = \"<section class=sign-up @click=stop($event)><button type=button class=close @click=close>X</button><h2> Code Review </h2><div class=form><div class=row><input v-model=phone placeholder=></div><div class=code><div class=row style=\\\"width: 250px\\\"><input v-model=smsCode placeholder=></div><button class=send type=button @click=requestSmsCode></button></div><div class=row><input type=password v-model=password placeholder=></div><div class=row><input v-model=username placeholder=></div><button type=button @click=register></button> <a href=/statement.html><p> <strong></strong>  <strong></strong></p></a></div><p style=\\\"padding-top: 30px\\\">? <strong></strong></p></section>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/signup.vue\n ** module id = 40\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","module.exports = \"<a v-el:avatar class=avatar aria-label=\\\"View @{{user.username}} profile\\\"><img v-if=user.avatarUrl :src=user.avatarUrl :alt=\\\"user.username\\\"> <span v-if=!user.avatarUrl style=\\\"{background-color: spanBgColor, color: spanColor}\\\">{{user.username}}</span></a>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/user-avatar.vue\n ** module id = 41\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","module.exports = \"<footer><p>&copy; 2015 Company, Inc. &middot; <a href=#>Privacy</a> &middot; <a href=#>Terms</a></p></footer>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/footer.vue\n ** module id = 42\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","module.exports = \"<overlay :overlay.sync=overlayStatus><component :is=currentView></component></overlay><nav class=navbar><div class=container><a href=\\\"/\\\"><div class=left><img class=navbar-brand src=\" + require(\"../img/header_logo.png\") + \"><div class=title><span class=light>Code</span> <span class=bold>Review</span></div></div></a><div class=right><ul class=list><a href=/reviewers.html><li class=hover-btn></li></a> <a href=/case.html><li class=hover-btn></li></a><li class=hover-btn v-if=!userStatus class=signup @click=signup></li><li class=hover-btn v-if=!userStatus @click=signin></li><li v-if=userStatus><dropdown><user-avatar slot=showText :user=user @click=viewUserDropdown></user-avatar><div slot=options><div><user-avatar :user=user></user-avatar><div class=name>{{user.username}}</div><div><div class=dropdown-divider></div><a class=dropdown-item href=setting.html></a> <a class=dropdown-item href=order.html>Code Review </a><div class=dropdown-divider></div><a class=dropdown-item @click=logout href=\\\"/\\\"></a></div></div></div></dropdown></li></ul></div></div></nav><div id=message aria-live=assertive><div class=\\\"message message-{{msg.type}}\\\" v-for=\\\"msg in messages\\\" v-text=msg.text transition=fade></div></div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/nav.vue\n ** module id = 43\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","require(\"-!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!style-loader!css-loader!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-cea8f42e&file=dropdown.vue!stylus-loader!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./dropdown.vue\")\nmodule.exports = require(\"-!babel!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./dropdown.vue\")\n\nif (module.exports.__esModule) module.exports = module.exports.default\n;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = require(\"-!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./dropdown.vue\")\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Users/yuqiu/github/code-review-web/src/components/dropdown.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n  }\n})()}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/dropdown.vue\n ** module id = 44\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","require(\"-!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!style-loader!css-loader!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-6d12ddc1&file=login.vue!stylus-loader!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./login.vue\")\nmodule.exports = require(\"-!babel!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./login.vue\")\n\nif (module.exports.__esModule) module.exports = module.exports.default\n;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = require(\"-!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./login.vue\")\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Users/yuqiu/github/code-review-web/src/components/login.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n  }\n})()}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/login.vue\n ** module id = 45\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","require(\"-!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!style-loader!css-loader!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-fcba7120&file=signup.vue!stylus-loader!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./signup.vue\")\nmodule.exports = require(\"-!babel!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./signup.vue\")\n\nif (module.exports.__esModule) module.exports = module.exports.default\n;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = require(\"-!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./signup.vue\")\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Users/yuqiu/github/code-review-web/src/components/signup.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n  }\n})()}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/signup.vue\n ** module id = 46\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","require(\"-!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!style-loader!css-loader!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-0159c16d&file=footer.vue!stylus-loader!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./footer.vue\")\nmodule.exports = require(\"-!babel!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./footer.vue\")\n\nif (module.exports.__esModule) module.exports = module.exports.default\n;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = require(\"-!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./footer.vue\")\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Users/yuqiu/github/code-review-web/src/views/footer.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n  }\n})()}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/views/footer.vue\n ** module id = 47\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","require(\"-!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!style-loader!css-loader!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-b029047e&file=nav.vue!stylus-loader!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./nav.vue\")\nmodule.exports = require(\"-!babel!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./nav.vue\")\n\nif (module.exports.__esModule) module.exports = module.exports.default\n;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = require(\"-!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./nav.vue\")\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Users/yuqiu/github/code-review-web/src/views/nav.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n  }\n})()}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/views/nav.vue\n ** module id = 48\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * Before Interceptor.\n */\n\nvar _ = require('../util');\n\nmodule.exports = {\n\n    request: function (request) {\n\n        if (_.isFunction(request.beforeSend)) {\n            request.beforeSend.call(this, request);\n        }\n\n        return request;\n    }\n\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/http/before.js\n ** module id = 49\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * Default client.\n */\n\nvar xhrClient = require('./xhr');\n\nmodule.exports = function (request) {\n    return (request.client || xhrClient)(request);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/http/client/default.js\n ** module id = 50\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * JSONP client.\n */\n\nvar _ = require('../../util');\nvar Promise = require('../../promise');\n\nmodule.exports = function (request) {\n    return new Promise(function (resolve) {\n\n        var callback = '_jsonp' + Math.random().toString(36).substr(2), response = {request: request, data: null}, handler, script;\n\n        request.params[request.jsonp] = callback;\n        request.cancel = function () {\n            handler({type: 'cancel'});\n        };\n\n        script = document.createElement('script');\n        script.src = _.url(request);\n        script.type = 'text/javascript';\n        script.async = true;\n\n        window[callback] = function (data) {\n            response.data = data;\n        };\n\n        handler = function (event) {\n\n            if (event.type === 'load' && response.data !== null) {\n                response.status = 200;\n            } else if (event.type === 'error') {\n                response.status = 404;\n            } else {\n                response.status = 0;\n            }\n\n            resolve(response);\n\n            delete window[callback];\n            document.body.removeChild(script);\n        };\n\n        script.onload = handler;\n        script.onerror = handler;\n\n        document.body.appendChild(script);\n    });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/http/client/jsonp.js\n ** module id = 51\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * XDomain client (Internet Explorer).\n */\n\nvar _ = require('../../util');\nvar Promise = require('../../promise');\n\nmodule.exports = function (request) {\n    return new Promise(function (resolve) {\n\n        var xdr = new XDomainRequest(), response = {request: request}, handler;\n\n        request.cancel = function () {\n            xdr.abort();\n        };\n\n        xdr.open(request.method, _.url(request), true);\n\n        handler = function (event) {\n\n            response.data = xdr.responseText;\n            response.status = xdr.status;\n            response.statusText = xdr.statusText;\n\n            resolve(response);\n        };\n\n        xdr.timeout = 0;\n        xdr.onload = handler;\n        xdr.onabort = handler;\n        xdr.onerror = handler;\n        xdr.ontimeout = function () {};\n        xdr.onprogress = function () {};\n\n        xdr.send(request.data);\n    });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/http/client/xdr.js\n ** module id = 52\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * XMLHttp client.\n */\n\nvar _ = require('../../util');\nvar Promise = require('../../promise');\n\nmodule.exports = function (request) {\n    return new Promise(function (resolve) {\n\n        var xhr = new XMLHttpRequest(), response = {request: request}, handler;\n\n        request.cancel = function () {\n            xhr.abort();\n        };\n\n        xhr.open(request.method, _.url(request), true);\n\n        if (_.isPlainObject(request.xhr)) {\n            _.extend(xhr, request.xhr);\n        }\n\n        _.each(request.headers || {}, function (value, header) {\n            xhr.setRequestHeader(header, value);\n        });\n\n        handler = function (event) {\n\n            response.data = xhr.responseText;\n            response.status = xhr.status;\n            response.statusText = xhr.statusText;\n            response.headers = getHeaders(xhr);\n\n            resolve(response);\n        };\n\n        xhr.onload = handler;\n        xhr.onabort = handler;\n        xhr.onerror = handler;\n\n        xhr.send(request.data);\n    });\n};\n\nfunction getHeaders(xhr) {\n\n    var headers;\n\n    if (!headers) {\n        headers = parseHeaders(xhr.getAllResponseHeaders());\n    }\n\n    return function (name) {\n\n        if (name) {\n            return headers[_.toLower(name)];\n        }\n\n        return headers;\n    };\n}\n\nfunction parseHeaders(str) {\n\n    var headers = {}, value, name, i;\n\n    if (_.isString(str)) {\n        _.each(str.split('\\n'), function (row) {\n\n            i = row.indexOf(':');\n            name = _.trim(_.toLower(row.slice(0, i)));\n            value = _.trim(row.slice(i + 1));\n\n            if (headers[name]) {\n\n                if (_.isArray(headers[name])) {\n                    headers[name].push(value);\n                } else {\n                    headers[name] = [headers[name], value];\n                }\n\n            } else {\n\n                headers[name] = value;\n            }\n\n        });\n    }\n\n    return headers;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/http/client/xhr.js\n ** module id = 53\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * CORS Interceptor.\n */\n\nvar _ = require('../util');\nvar xdrClient = require('./client/xdr');\nvar xhrCors = 'withCredentials' in new XMLHttpRequest();\nvar originUrl = _.url.parse(location.href);\n\nmodule.exports = {\n\n    request: function (request) {\n\n        if (request.crossOrigin === null) {\n            request.crossOrigin = crossOrigin(request);\n        }\n\n        if (request.crossOrigin) {\n\n            if (!xhrCors) {\n                request.client = xdrClient;\n            }\n\n            request.emulateHTTP = false;\n        }\n\n        return request;\n    }\n\n};\n\nfunction crossOrigin(request) {\n\n    var requestUrl = _.url.parse(_.url(request));\n\n    return (requestUrl.protocol !== originUrl.protocol || requestUrl.host !== originUrl.host);\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/http/cors.js\n ** module id = 54\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * Header Interceptor.\n */\n\nvar _ = require('../util');\n\nmodule.exports = {\n\n    request: function (request) {\n\n        request.method = request.method.toUpperCase();\n        request.headers = _.extend({}, _.http.headers.common,\n            !request.crossOrigin ? _.http.headers.custom : {},\n            _.http.headers[request.method.toLowerCase()],\n            request.headers\n        );\n\n        if (_.isPlainObject(request.data) && /^(GET|JSONP)$/i.test(request.method)) {\n            _.extend(request.params, request.data);\n            delete request.data;\n        }\n\n        return request;\n    }\n\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/http/header.js\n ** module id = 55\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * Service for sending network requests.\n */\n\nvar _ = require('../util');\nvar Promise = require('../promise');\nvar interceptor = require('./interceptor');\nvar defaultClient = require('./client/default');\nvar jsonType = {'Content-Type': 'application/json'};\n\nfunction Http(url, options) {\n\n    var client = defaultClient, request, promise;\n\n    Http.interceptors.forEach(function (handler) {\n        client = interceptor(handler, this.$vm)(client);\n    }, this);\n\n    options = _.isObject(url) ? url : _.extend({url: url}, options);\n    request = _.merge({}, Http.options, this.$options, options);\n    promise = client(request).bind(this.$vm).then(function (response) {\n\n        response.ok = response.status >= 200 && response.status < 300;\n        return response.ok ? response : Promise.reject(response);\n\n    }, function (response) {\n\n        if (response instanceof Error) {\n            _.error(response);\n        }\n\n        return Promise.reject(response);\n    });\n\n    if (request.success) {\n        promise.success(request.success);\n    }\n\n    if (request.error) {\n        promise.error(request.error);\n    }\n\n    return promise;\n}\n\nHttp.options = {\n    method: 'get',\n    data: '',\n    params: {},\n    headers: {},\n    xhr: null,\n    jsonp: 'callback',\n    beforeSend: null,\n    crossOrigin: null,\n    emulateHTTP: false,\n    emulateJSON: false,\n    timeout: 0\n};\n\nHttp.interceptors = [\n    require('./before'),\n    require('./timeout'),\n    require('./jsonp'),\n    require('./method'),\n    require('./mime'),\n    require('./header'),\n    require('./cors')\n];\n\nHttp.headers = {\n    put: jsonType,\n    post: jsonType,\n    patch: jsonType,\n    delete: jsonType,\n    common: {'Accept': 'application/json, text/plain, */*'},\n    custom: {'X-Requested-With': 'XMLHttpRequest'}\n};\n\n['get', 'put', 'post', 'patch', 'delete', 'jsonp'].forEach(function (method) {\n\n    Http[method] = function (url, data, success, options) {\n\n        if (_.isFunction(data)) {\n            options = success;\n            success = data;\n            data = undefined;\n        }\n\n        if (_.isObject(success)) {\n            options = success;\n            success = undefined;\n        }\n\n        return this(url, _.extend({method: method, data: data, success: success}, options));\n    };\n});\n\nmodule.exports = _.http = Http;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/http/index.js\n ** module id = 56\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * Interceptor factory.\n */\n\nvar _ = require('../util');\nvar Promise = require('../promise');\n\nmodule.exports = function (handler, vm) {\n\n    return function (client) {\n\n        if (_.isFunction(handler)) {\n            handler = handler.call(vm, Promise);\n        }\n\n        return function (request) {\n\n            if (_.isFunction(handler.request)) {\n                request = handler.request.call(vm, request);\n            }\n\n            return when(request, function (request) {\n                return when(client(request), function (response) {\n\n                    if (_.isFunction(handler.response)) {\n                        response = handler.response.call(vm, response);\n                    }\n\n                    return response;\n                });\n            });\n        };\n    };\n};\n\nfunction when(value, fulfilled, rejected) {\n\n    var promise = Promise.resolve(value);\n\n    if (arguments.length < 2) {\n        return promise;\n    }\n\n    return promise.then(fulfilled, rejected);\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/http/interceptor.js\n ** module id = 57\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * JSONP Interceptor.\n */\n\nvar jsonpClient = require('./client/jsonp');\n\nmodule.exports = {\n\n    request: function (request) {\n\n        if (request.method == 'JSONP') {\n            request.client = jsonpClient;\n        }\n\n        return request;\n    }\n\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/http/jsonp.js\n ** module id = 58\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * HTTP method override Interceptor.\n */\n\nmodule.exports = {\n\n    request: function (request) {\n\n        if (request.emulateHTTP && /^(PUT|PATCH|DELETE)$/i.test(request.method)) {\n            request.headers['X-HTTP-Method-Override'] = request.method;\n            request.method = 'POST';\n        }\n\n        return request;\n    }\n\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/http/method.js\n ** module id = 59\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * Mime Interceptor.\n */\n\nvar _ = require('../util');\n\nmodule.exports = {\n\n    request: function (request) {\n\n        if (request.emulateJSON && _.isPlainObject(request.data)) {\n            request.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n            request.data = _.url.params(request.data);\n        }\n\n        if (_.isObject(request.data) && /FormData/i.test(request.data.toString())) {\n            delete request.headers['Content-Type'];\n        }\n\n        if (_.isPlainObject(request.data)) {\n            request.data = JSON.stringify(request.data);\n        }\n\n        return request;\n    },\n\n    response: function (response) {\n\n        try {\n            response.data = JSON.parse(response.data);\n        } catch (e) {}\n\n        return response;\n    }\n\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/http/mime.js\n ** module id = 60\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * Timeout Interceptor.\n */\n\nmodule.exports = function () {\n\n    var timeout;\n\n    return {\n\n        request: function (request) {\n\n            if (request.timeout) {\n                timeout = setTimeout(function () {\n                    request.cancel();\n                }, request.timeout);\n            }\n\n            return request;\n        },\n\n        response: function (response) {\n\n            clearTimeout(timeout);\n\n            return response;\n        }\n\n    };\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/http/timeout.js\n ** module id = 61\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * Install plugin.\n */\n\nfunction install(Vue) {\n\n    var _ = require('./util');\n\n    _.config = Vue.config;\n    _.warning = Vue.util.warn;\n    _.nextTick = Vue.util.nextTick;\n\n    Vue.url = require('./url');\n    Vue.http = require('./http');\n    Vue.resource = require('./resource');\n    Vue.Promise = require('./promise');\n\n    Object.defineProperties(Vue.prototype, {\n\n        $url: {\n            get: function () {\n                return _.options(Vue.url, this, this.$options.url);\n            }\n        },\n\n        $http: {\n            get: function () {\n                return _.options(Vue.http, this, this.$options.http);\n            }\n        },\n\n        $resource: {\n            get: function () {\n                return Vue.resource.bind(this);\n            }\n        },\n\n        $promise: {\n            get: function () {\n                return function (executor) {\n                    return new Vue.Promise(executor, this);\n                }.bind(this);\n            }\n        }\n\n    });\n}\n\nif (window.Vue) {\n    Vue.use(install);\n}\n\nmodule.exports = install;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/index.js\n ** module id = 62\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * Promises/A+ polyfill v1.1.4 (https://github.com/bramstein/promis)\n */\n\nvar _ = require('../util');\n\nvar RESOLVED = 0;\nvar REJECTED = 1;\nvar PENDING  = 2;\n\nfunction Promise(executor) {\n\n    this.state = PENDING;\n    this.value = undefined;\n    this.deferred = [];\n\n    var promise = this;\n\n    try {\n        executor(function (x) {\n            promise.resolve(x);\n        }, function (r) {\n            promise.reject(r);\n        });\n    } catch (e) {\n        promise.reject(e);\n    }\n}\n\nPromise.reject = function (r) {\n    return new Promise(function (resolve, reject) {\n        reject(r);\n    });\n};\n\nPromise.resolve = function (x) {\n    return new Promise(function (resolve, reject) {\n        resolve(x);\n    });\n};\n\nPromise.all = function all(iterable) {\n    return new Promise(function (resolve, reject) {\n        var count = 0, result = [];\n\n        if (iterable.length === 0) {\n            resolve(result);\n        }\n\n        function resolver(i) {\n            return function (x) {\n                result[i] = x;\n                count += 1;\n\n                if (count === iterable.length) {\n                    resolve(result);\n                }\n            };\n        }\n\n        for (var i = 0; i < iterable.length; i += 1) {\n            Promise.resolve(iterable[i]).then(resolver(i), reject);\n        }\n    });\n};\n\nPromise.race = function race(iterable) {\n    return new Promise(function (resolve, reject) {\n        for (var i = 0; i < iterable.length; i += 1) {\n            Promise.resolve(iterable[i]).then(resolve, reject);\n        }\n    });\n};\n\nvar p = Promise.prototype;\n\np.resolve = function resolve(x) {\n    var promise = this;\n\n    if (promise.state === PENDING) {\n        if (x === promise) {\n            throw new TypeError('Promise settled with itself.');\n        }\n\n        var called = false;\n\n        try {\n            var then = x && x['then'];\n\n            if (x !== null && typeof x === 'object' && typeof then === 'function') {\n                then.call(x, function (x) {\n                    if (!called) {\n                        promise.resolve(x);\n                    }\n                    called = true;\n\n                }, function (r) {\n                    if (!called) {\n                        promise.reject(r);\n                    }\n                    called = true;\n                });\n                return;\n            }\n        } catch (e) {\n            if (!called) {\n                promise.reject(e);\n            }\n            return;\n        }\n\n        promise.state = RESOLVED;\n        promise.value = x;\n        promise.notify();\n    }\n};\n\np.reject = function reject(reason) {\n    var promise = this;\n\n    if (promise.state === PENDING) {\n        if (reason === promise) {\n            throw new TypeError('Promise settled with itself.');\n        }\n\n        promise.state = REJECTED;\n        promise.value = reason;\n        promise.notify();\n    }\n};\n\np.notify = function notify() {\n    var promise = this;\n\n    _.nextTick(function () {\n        if (promise.state !== PENDING) {\n            while (promise.deferred.length) {\n                var deferred = promise.deferred.shift(),\n                    onResolved = deferred[0],\n                    onRejected = deferred[1],\n                    resolve = deferred[2],\n                    reject = deferred[3];\n\n                try {\n                    if (promise.state === RESOLVED) {\n                        if (typeof onResolved === 'function') {\n                            resolve(onResolved.call(undefined, promise.value));\n                        } else {\n                            resolve(promise.value);\n                        }\n                    } else if (promise.state === REJECTED) {\n                        if (typeof onRejected === 'function') {\n                            resolve(onRejected.call(undefined, promise.value));\n                        } else {\n                            reject(promise.value);\n                        }\n                    }\n                } catch (e) {\n                    reject(e);\n                }\n            }\n        }\n    });\n};\n\np.then = function then(onResolved, onRejected) {\n    var promise = this;\n\n    return new Promise(function (resolve, reject) {\n        promise.deferred.push([onResolved, onRejected, resolve, reject]);\n        promise.notify();\n    });\n};\n\np.catch = function (onRejected) {\n    return this.then(undefined, onRejected);\n};\n\nmodule.exports = Promise;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/lib/promise.js\n ** module id = 63\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * URL Template v2.0.6 (https://github.com/bramstein/url-template)\n */\n\nexports.expand = function (url, params, variables) {\n\n    var tmpl = this.parse(url), expanded = tmpl.expand(params);\n\n    if (variables) {\n        variables.push.apply(variables, tmpl.vars);\n    }\n\n    return expanded;\n};\n\nexports.parse = function (template) {\n\n    var operators = ['+', '#', '.', '/', ';', '?', '&'], variables = [];\n\n    return {\n        vars: variables,\n        expand: function (context) {\n            return template.replace(/\\{([^\\{\\}]+)\\}|([^\\{\\}]+)/g, function (_, expression, literal) {\n                if (expression) {\n\n                    var operator = null, values = [];\n\n                    if (operators.indexOf(expression.charAt(0)) !== -1) {\n                        operator = expression.charAt(0);\n                        expression = expression.substr(1);\n                    }\n\n                    expression.split(/,/g).forEach(function (variable) {\n                        var tmp = /([^:\\*]*)(?::(\\d+)|(\\*))?/.exec(variable);\n                        values.push.apply(values, exports.getValues(context, operator, tmp[1], tmp[2] || tmp[3]));\n                        variables.push(tmp[1]);\n                    });\n\n                    if (operator && operator !== '+') {\n\n                        var separator = ',';\n\n                        if (operator === '?') {\n                            separator = '&';\n                        } else if (operator !== '#') {\n                            separator = operator;\n                        }\n\n                        return (values.length !== 0 ? operator : '') + values.join(separator);\n                    } else {\n                        return values.join(',');\n                    }\n\n                } else {\n                    return exports.encodeReserved(literal);\n                }\n            });\n        }\n    };\n};\n\nexports.getValues = function (context, operator, key, modifier) {\n\n    var value = context[key], result = [];\n\n    if (this.isDefined(value) && value !== '') {\n        if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n            value = value.toString();\n\n            if (modifier && modifier !== '*') {\n                value = value.substring(0, parseInt(modifier, 10));\n            }\n\n            result.push(this.encodeValue(operator, value, this.isKeyOperator(operator) ? key : null));\n        } else {\n            if (modifier === '*') {\n                if (Array.isArray(value)) {\n                    value.filter(this.isDefined).forEach(function (value) {\n                        result.push(this.encodeValue(operator, value, this.isKeyOperator(operator) ? key : null));\n                    }, this);\n                } else {\n                    Object.keys(value).forEach(function (k) {\n                        if (this.isDefined(value[k])) {\n                            result.push(this.encodeValue(operator, value[k], k));\n                        }\n                    }, this);\n                }\n            } else {\n                var tmp = [];\n\n                if (Array.isArray(value)) {\n                    value.filter(this.isDefined).forEach(function (value) {\n                        tmp.push(this.encodeValue(operator, value));\n                    }, this);\n                } else {\n                    Object.keys(value).forEach(function (k) {\n                        if (this.isDefined(value[k])) {\n                            tmp.push(encodeURIComponent(k));\n                            tmp.push(this.encodeValue(operator, value[k].toString()));\n                        }\n                    }, this);\n                }\n\n                if (this.isKeyOperator(operator)) {\n                    result.push(encodeURIComponent(key) + '=' + tmp.join(','));\n                } else if (tmp.length !== 0) {\n                    result.push(tmp.join(','));\n                }\n            }\n        }\n    } else {\n        if (operator === ';') {\n            result.push(encodeURIComponent(key));\n        } else if (value === '' && (operator === '&' || operator === '?')) {\n            result.push(encodeURIComponent(key) + '=');\n        } else if (value === '') {\n            result.push('');\n        }\n    }\n\n    return result;\n};\n\nexports.isDefined = function (value) {\n    return value !== undefined && value !== null;\n};\n\nexports.isKeyOperator = function (operator) {\n    return operator === ';' || operator === '&' || operator === '?';\n};\n\nexports.encodeValue = function (operator, value, key) {\n\n    value = (operator === '+' || operator === '#') ? this.encodeReserved(value) : encodeURIComponent(value);\n\n    if (key) {\n        return encodeURIComponent(key) + '=' + value;\n    } else {\n        return value;\n    }\n};\n\nexports.encodeReserved = function (str) {\n    return str.split(/(%[0-9A-Fa-f]{2})/g).map(function (part) {\n        if (!/%[0-9A-Fa-f]/.test(part)) {\n            part = encodeURI(part);\n        }\n        return part;\n    }).join('');\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/lib/url-template.js\n ** module id = 64\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * Service for interacting with RESTful services.\n */\n\nvar _ = require('./util');\n\nfunction Resource(url, params, actions, options) {\n\n    var self = this, resource = {};\n\n    actions = _.extend({},\n        Resource.actions,\n        actions\n    );\n\n    _.each(actions, function (action, name) {\n\n        action = _.merge({url: url, params: params || {}}, options, action);\n\n        resource[name] = function () {\n            return (self.$http || _.http)(opts(action, arguments));\n        };\n    });\n\n    return resource;\n}\n\nfunction opts(action, args) {\n\n    var options = _.extend({}, action), params = {}, data, success, error;\n\n    switch (args.length) {\n\n        case 4:\n\n            error = args[3];\n            success = args[2];\n\n        case 3:\n        case 2:\n\n            if (_.isFunction(args[1])) {\n\n                if (_.isFunction(args[0])) {\n\n                    success = args[0];\n                    error = args[1];\n\n                    break;\n                }\n\n                success = args[1];\n                error = args[2];\n\n            } else {\n\n                params = args[0];\n                data = args[1];\n                success = args[2];\n\n                break;\n            }\n\n        case 1:\n\n            if (_.isFunction(args[0])) {\n                success = args[0];\n            } else if (/^(POST|PUT|PATCH)$/i.test(options.method)) {\n                data = args[0];\n            } else {\n                params = args[0];\n            }\n\n            break;\n\n        case 0:\n\n            break;\n\n        default:\n\n            throw 'Expected up to 4 arguments [params, data, success, error], got ' + args.length + ' arguments';\n    }\n\n    options.data = data;\n    options.params = _.extend({}, options.params, params);\n\n    if (success) {\n        options.success = success;\n    }\n\n    if (error) {\n        options.error = error;\n    }\n\n    return options;\n}\n\nResource.actions = {\n\n    get: {method: 'GET'},\n    save: {method: 'POST'},\n    query: {method: 'GET'},\n    update: {method: 'PUT'},\n    remove: {method: 'DELETE'},\n    delete: {method: 'DELETE'}\n\n};\n\nmodule.exports = _.resource = Resource;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/resource.js\n ** module id = 65\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * Service for URL templating.\n */\n\nvar _ = require('../util');\nvar ie = document.documentMode;\nvar el = document.createElement('a');\n\nfunction Url(url, params) {\n\n    var options = url, transform;\n\n    if (_.isString(url)) {\n        options = {url: url, params: params};\n    }\n\n    options = _.merge({}, Url.options, this.$options, options);\n\n    Url.transforms.forEach(function (handler) {\n        transform = factory(handler, transform, this.$vm);\n    }, this);\n\n    return transform(options);\n};\n\n/**\n * Url options.\n */\n\nUrl.options = {\n    url: '',\n    root: null,\n    params: {}\n};\n\n/**\n * Url transforms.\n */\n\nUrl.transforms = [\n    require('./template'),\n    require('./legacy'),\n    require('./query'),\n    require('./root')\n];\n\n/**\n * Encodes a Url parameter string.\n *\n * @param {Object} obj\n */\n\nUrl.params = function (obj) {\n\n    var params = [], escape = encodeURIComponent;\n\n    params.add = function (key, value) {\n\n        if (_.isFunction(value)) {\n            value = value();\n        }\n\n        if (value === null) {\n            value = '';\n        }\n\n        this.push(escape(key) + '=' + escape(value));\n    };\n\n    serialize(params, obj);\n\n    return params.join('&').replace(/%20/g, '+');\n};\n\n/**\n * Parse a URL and return its components.\n *\n * @param {String} url\n */\n\nUrl.parse = function (url) {\n\n    if (ie) {\n        el.href = url;\n        url = el.href;\n    }\n\n    el.href = url;\n\n    return {\n        href: el.href,\n        protocol: el.protocol ? el.protocol.replace(/:$/, '') : '',\n        port: el.port,\n        host: el.host,\n        hostname: el.hostname,\n        pathname: el.pathname.charAt(0) === '/' ? el.pathname : '/' + el.pathname,\n        search: el.search ? el.search.replace(/^\\?/, '') : '',\n        hash: el.hash ? el.hash.replace(/^#/, '') : ''\n    };\n};\n\nfunction factory(handler, next, vm) {\n    return function (options) {\n        return handler.call(vm, options, next);\n    };\n}\n\nfunction serialize(params, obj, scope) {\n\n    var array = _.isArray(obj), plain = _.isPlainObject(obj), hash;\n\n    _.each(obj, function (value, key) {\n\n        hash = _.isObject(value) || _.isArray(value);\n\n        if (scope) {\n            key = scope + '[' + (plain || hash ? key : '') + ']';\n        }\n\n        if (!scope && array) {\n            params.add(value.name, value.value);\n        } else if (hash) {\n            serialize(params, value, key);\n        } else {\n            params.add(key, value);\n        }\n    });\n}\n\nmodule.exports = _.url = Url;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/url/index.js\n ** module id = 66\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * Legacy Transform.\n */\n\nvar _ = require('../util');\n\nmodule.exports = function (options, next) {\n\n    var variables = [], url = next(options);\n\n    url = url.replace(/(\\/?):([a-z]\\w*)/gi, function (match, slash, name) {\n\n        _.warn('The `:' + name + '` parameter syntax has been deprecated. Use the `{' + name + '}` syntax instead.');\n\n        if (options.params[name]) {\n            variables.push(name);\n            return slash + encodeUriSegment(options.params[name]);\n        }\n\n        return '';\n    });\n\n    variables.forEach(function (key) {\n        delete options.params[key];\n    });\n\n    return url;\n};\n\nfunction encodeUriSegment(value) {\n\n    return encodeUriQuery(value, true).\n        replace(/%26/gi, '&').\n        replace(/%3D/gi, '=').\n        replace(/%2B/gi, '+');\n}\n\nfunction encodeUriQuery(value, spaces) {\n\n    return encodeURIComponent(value).\n        replace(/%40/gi, '@').\n        replace(/%3A/gi, ':').\n        replace(/%24/g, '$').\n        replace(/%2C/gi, ',').\n        replace(/%20/g, (spaces ? '%20' : '+'));\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/url/legacy.js\n ** module id = 67\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * Query Parameter Transform.\n */\n\nvar _ = require('../util');\n\nmodule.exports = function (options, next) {\n\n    var urlParams = Object.keys(_.url.options.params), query = {}, url = next(options);\n\n   _.each(options.params, function (value, key) {\n        if (urlParams.indexOf(key) === -1) {\n            query[key] = value;\n        }\n    });\n\n    query = _.url.params(query);\n\n    if (query) {\n        url += (url.indexOf('?') == -1 ? '?' : '&') + query;\n    }\n\n    return url;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/url/query.js\n ** module id = 68\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * Root Prefix Transform.\n */\n\nvar _ = require('../util');\n\nmodule.exports = function (options, next) {\n\n    var url = next(options);\n\n    if (_.isString(options.root) && !url.match(/^(https?:)?\\//)) {\n        url = options.root + '/' + url;\n    }\n\n    return url;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/url/root.js\n ** module id = 69\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/**\n * URL Template (RFC 6570) Transform.\n */\n\nvar UrlTemplate = require('../lib/url-template');\n\nmodule.exports = function (options) {\n\n    var variables = [], url = UrlTemplate.expand(options.url, options.params, variables);\n\n    variables.forEach(function (key) {\n        delete options.params[key];\n    });\n\n    return url;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-resource/src/url/template.js\n ** module id = 70\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","/*!\n * Vue.js v1.0.11\n * (c) 2015 Evan You\n * Released under the MIT License.\n */\n'use strict';\n\nfunction set(obj, key, val) {\n  if (hasOwn(obj, key)) {\n    obj[key] = val;\n    return;\n  }\n  if (obj._isVue) {\n    set(obj._data, key, val);\n    return;\n  }\n  var ob = obj.__ob__;\n  if (!ob) {\n    obj[key] = val;\n    return;\n  }\n  ob.convert(key, val);\n  ob.dep.notify();\n  if (ob.vms) {\n    var i = ob.vms.length;\n    while (i--) {\n      var vm = ob.vms[i];\n      vm._proxy(key);\n      vm._digest();\n    }\n  }\n  return val;\n}\n\n/**\n * Delete a property and trigger change if necessary.\n *\n * @param {Object} obj\n * @param {String} key\n */\n\nfunction del(obj, key) {\n  if (!hasOwn(obj, key)) {\n    return;\n  }\n  delete obj[key];\n  var ob = obj.__ob__;\n  if (!ob) {\n    return;\n  }\n  ob.dep.notify();\n  if (ob.vms) {\n    var i = ob.vms.length;\n    while (i--) {\n      var vm = ob.vms[i];\n      vm._unproxy(key);\n      vm._digest();\n    }\n  }\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n/**\n * Check whether the object has the property.\n *\n * @param {Object} obj\n * @param {String} key\n * @return {Boolean}\n */\n\nfunction hasOwn(obj, key) {\n  return hasOwnProperty.call(obj, key);\n}\n\n/**\n * Check if an expression is a literal value.\n *\n * @param {String} exp\n * @return {Boolean}\n */\n\nvar literalValueRE = /^\\s?(true|false|[\\d\\.]+|'[^']*'|\"[^\"]*\")\\s?$/;\n\nfunction isLiteral(exp) {\n  return literalValueRE.test(exp);\n}\n\n/**\n * Check if a string starts with $ or _\n *\n * @param {String} str\n * @return {Boolean}\n */\n\nfunction isReserved(str) {\n  var c = (str + '').charCodeAt(0);\n  return c === 0x24 || c === 0x5F;\n}\n\n/**\n * Guard text output, make sure undefined outputs\n * empty string\n *\n * @param {*} value\n * @return {String}\n */\n\nfunction _toString(value) {\n  return value == null ? '' : value.toString();\n}\n\n/**\n * Check and convert possible numeric strings to numbers\n * before setting back to data\n *\n * @param {*} value\n * @return {*|Number}\n */\n\nfunction toNumber(value) {\n  if (typeof value !== 'string') {\n    return value;\n  } else {\n    var parsed = Number(value);\n    return isNaN(parsed) ? value : parsed;\n  }\n}\n\n/**\n * Convert string boolean literals into real booleans.\n *\n * @param {*} value\n * @return {*|Boolean}\n */\n\nfunction toBoolean(value) {\n  return value === 'true' ? true : value === 'false' ? false : value;\n}\n\n/**\n * Strip quotes from a string\n *\n * @param {String} str\n * @return {String | false}\n */\n\nfunction stripQuotes(str) {\n  var a = str.charCodeAt(0);\n  var b = str.charCodeAt(str.length - 1);\n  return a === b && (a === 0x22 || a === 0x27) ? str.slice(1, -1) : str;\n}\n\n/**\n * Camelize a hyphen-delmited string.\n *\n * @param {String} str\n * @return {String}\n */\n\nvar camelizeRE = /-(\\w)/g;\n\nfunction camelize(str) {\n  return str.replace(camelizeRE, toUpper);\n}\n\nfunction toUpper(_, c) {\n  return c ? c.toUpperCase() : '';\n}\n\n/**\n * Hyphenate a camelCase string.\n *\n * @param {String} str\n * @return {String}\n */\n\nvar hyphenateRE = /([a-z\\d])([A-Z])/g;\n\nfunction hyphenate(str) {\n  return str.replace(hyphenateRE, '$1-$2').toLowerCase();\n}\n\n/**\n * Converts hyphen/underscore/slash delimitered names into\n * camelized classNames.\n *\n * e.g. my-component => MyComponent\n *      some_else    => SomeElse\n *      some/comp    => SomeComp\n *\n * @param {String} str\n * @return {String}\n */\n\nvar classifyRE = /(?:^|[-_\\/])(\\w)/g;\n\nfunction classify(str) {\n  return str.replace(classifyRE, toUpper);\n}\n\n/**\n * Simple bind, faster than native\n *\n * @param {Function} fn\n * @param {Object} ctx\n * @return {Function}\n */\n\nfunction bind$1(fn, ctx) {\n  return function (a) {\n    var l = arguments.length;\n    return l ? l > 1 ? fn.apply(ctx, arguments) : fn.call(ctx, a) : fn.call(ctx);\n  };\n}\n\n/**\n * Convert an Array-like object to a real Array.\n *\n * @param {Array-like} list\n * @param {Number} [start] - start index\n * @return {Array}\n */\n\nfunction toArray(list, start) {\n  start = start || 0;\n  var i = list.length - start;\n  var ret = new Array(i);\n  while (i--) {\n    ret[i] = list[i + start];\n  }\n  return ret;\n}\n\n/**\n * Mix properties into target object.\n *\n * @param {Object} to\n * @param {Object} from\n */\n\nfunction extend(to, from) {\n  var keys = Object.keys(from);\n  var i = keys.length;\n  while (i--) {\n    to[keys[i]] = from[keys[i]];\n  }\n  return to;\n}\n\n/**\n * Quick object check - this is primarily used to tell\n * Objects from primitive values when we know the value\n * is a JSON-compliant type.\n *\n * @param {*} obj\n * @return {Boolean}\n */\n\nfunction isObject(obj) {\n  return obj !== null && typeof obj === 'object';\n}\n\n/**\n * Strict object type check. Only returns true\n * for plain JavaScript objects.\n *\n * @param {*} obj\n * @return {Boolean}\n */\n\nvar toString = Object.prototype.toString;\nvar OBJECT_STRING = '[object Object]';\n\nfunction isPlainObject(obj) {\n  return toString.call(obj) === OBJECT_STRING;\n}\n\n/**\n * Array type check.\n *\n * @param {*} obj\n * @return {Boolean}\n */\n\nvar isArray = Array.isArray;\n\n/**\n * Define a non-enumerable property\n *\n * @param {Object} obj\n * @param {String} key\n * @param {*} val\n * @param {Boolean} [enumerable]\n */\n\nfunction def(obj, key, val, enumerable) {\n  Object.defineProperty(obj, key, {\n    value: val,\n    enumerable: !!enumerable,\n    writable: true,\n    configurable: true\n  });\n}\n\n/**\n * Debounce a function so it only gets called after the\n * input stops arriving after the given wait period.\n *\n * @param {Function} func\n * @param {Number} wait\n * @return {Function} - the debounced function\n */\n\nfunction _debounce(func, wait) {\n  var timeout, args, context, timestamp, result;\n  var later = function later() {\n    var last = Date.now() - timestamp;\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    }\n  };\n  return function () {\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    if (!timeout) {\n      timeout = setTimeout(later, wait);\n    }\n    return result;\n  };\n}\n\n/**\n * Manual indexOf because it's slightly faster than\n * native.\n *\n * @param {Array} arr\n * @param {*} obj\n */\n\nfunction indexOf(arr, obj) {\n  var i = arr.length;\n  while (i--) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n}\n\n/**\n * Make a cancellable version of an async callback.\n *\n * @param {Function} fn\n * @return {Function}\n */\n\nfunction cancellable(fn) {\n  var cb = function cb() {\n    if (!cb.cancelled) {\n      return fn.apply(this, arguments);\n    }\n  };\n  cb.cancel = function () {\n    cb.cancelled = true;\n  };\n  return cb;\n}\n\n/**\n * Check if two values are loosely equal - that is,\n * if they are plain objects, do they have the same shape?\n *\n * @param {*} a\n * @param {*} b\n * @return {Boolean}\n */\n\nfunction looseEqual(a, b) {\n  /* eslint-disable eqeqeq */\n  return a == b || (isObject(a) && isObject(b) ? JSON.stringify(a) === JSON.stringify(b) : false);\n  /* eslint-enable eqeqeq */\n}\n\nvar hasProto = ('__proto__' in {});\n\n// Browser environment sniffing\nvar inBrowser = typeof window !== 'undefined' && Object.prototype.toString.call(window) !== '[object Object]';\n\nvar isIE9 = inBrowser && navigator.userAgent.toLowerCase().indexOf('msie 9.0') > 0;\n\nvar isAndroid = inBrowser && navigator.userAgent.toLowerCase().indexOf('android') > 0;\n\nvar transitionProp = undefined;\nvar transitionEndEvent = undefined;\nvar animationProp = undefined;\nvar animationEndEvent = undefined;\n\n// Transition property/event sniffing\nif (inBrowser && !isIE9) {\n  var isWebkitTrans = window.ontransitionend === undefined && window.onwebkittransitionend !== undefined;\n  var isWebkitAnim = window.onanimationend === undefined && window.onwebkitanimationend !== undefined;\n  transitionProp = isWebkitTrans ? 'WebkitTransition' : 'transition';\n  transitionEndEvent = isWebkitTrans ? 'webkitTransitionEnd' : 'transitionend';\n  animationProp = isWebkitAnim ? 'WebkitAnimation' : 'animation';\n  animationEndEvent = isWebkitAnim ? 'webkitAnimationEnd' : 'animationend';\n}\n\n/**\n * Defer a task to execute it asynchronously. Ideally this\n * should be executed as a microtask, so we leverage\n * MutationObserver if it's available, and fallback to\n * setTimeout(0).\n *\n * @param {Function} cb\n * @param {Object} ctx\n */\n\nvar nextTick = (function () {\n  var callbacks = [];\n  var pending = false;\n  var timerFunc;\n  function nextTickHandler() {\n    pending = false;\n    var copies = callbacks.slice(0);\n    callbacks = [];\n    for (var i = 0; i < copies.length; i++) {\n      copies[i]();\n    }\n  }\n  /* istanbul ignore if */\n  if (typeof MutationObserver !== 'undefined') {\n    var counter = 1;\n    var observer = new MutationObserver(nextTickHandler);\n    var textNode = document.createTextNode(counter);\n    observer.observe(textNode, {\n      characterData: true\n    });\n    timerFunc = function () {\n      counter = (counter + 1) % 2;\n      textNode.data = counter;\n    };\n  } else {\n    timerFunc = setTimeout;\n  }\n  return function (cb, ctx) {\n    var func = ctx ? function () {\n      cb.call(ctx);\n    } : cb;\n    callbacks.push(func);\n    if (pending) return;\n    pending = true;\n    timerFunc(nextTickHandler, 0);\n  };\n})();\n\nfunction Cache(limit) {\n  this.size = 0;\n  this.limit = limit;\n  this.head = this.tail = undefined;\n  this._keymap = Object.create(null);\n}\n\nvar p = Cache.prototype;\n\n/**\n * Put <value> into the cache associated with <key>.\n * Returns the entry which was removed to make room for\n * the new entry. Otherwise undefined is returned.\n * (i.e. if there was enough room already).\n *\n * @param {String} key\n * @param {*} value\n * @return {Entry|undefined}\n */\n\np.put = function (key, value) {\n  var entry = {\n    key: key,\n    value: value\n  };\n  this._keymap[key] = entry;\n  if (this.tail) {\n    this.tail.newer = entry;\n    entry.older = this.tail;\n  } else {\n    this.head = entry;\n  }\n  this.tail = entry;\n  if (this.size === this.limit) {\n    return this.shift();\n  } else {\n    this.size++;\n  }\n};\n\n/**\n * Purge the least recently used (oldest) entry from the\n * cache. Returns the removed entry or undefined if the\n * cache was empty.\n */\n\np.shift = function () {\n  var entry = this.head;\n  if (entry) {\n    this.head = this.head.newer;\n    this.head.older = undefined;\n    entry.newer = entry.older = undefined;\n    this._keymap[entry.key] = undefined;\n  }\n  return entry;\n};\n\n/**\n * Get and register recent use of <key>. Returns the value\n * associated with <key> or undefined if not in cache.\n *\n * @param {String} key\n * @param {Boolean} returnEntry\n * @return {Entry|*}\n */\n\np.get = function (key, returnEntry) {\n  var entry = this._keymap[key];\n  if (entry === undefined) return;\n  if (entry === this.tail) {\n    return returnEntry ? entry : entry.value;\n  }\n  // HEAD--------------TAIL\n  //   <.older   .newer>\n  //  <--- add direction --\n  //   A  B  C  <D>  E\n  if (entry.newer) {\n    if (entry === this.head) {\n      this.head = entry.newer;\n    }\n    entry.newer.older = entry.older; // C <-- E.\n  }\n  if (entry.older) {\n    entry.older.newer = entry.newer; // C. --> E\n  }\n  entry.newer = undefined; // D --x\n  entry.older = this.tail; // D. --> E\n  if (this.tail) {\n    this.tail.newer = entry; // E. <-- D\n  }\n  this.tail = entry;\n  return returnEntry ? entry : entry.value;\n};\n\nvar cache$1 = new Cache(1000);\nvar filterTokenRE = /[^\\s'\"]+|'[^']*'|\"[^\"]*\"/g;\nvar reservedArgRE = /^in$|^-?\\d+/;\n\n/**\n * Parser state\n */\n\nvar str;\nvar dir;\nvar c;\nvar prev;\nvar i;\nvar l;\nvar lastFilterIndex;\nvar inSingle;\nvar inDouble;\nvar curly;\nvar square;\nvar paren;\n/**\n * Push a filter to the current directive object\n */\n\nfunction pushFilter() {\n  var exp = str.slice(lastFilterIndex, i).trim();\n  var filter;\n  if (exp) {\n    filter = {};\n    var tokens = exp.match(filterTokenRE);\n    filter.name = tokens[0];\n    if (tokens.length > 1) {\n      filter.args = tokens.slice(1).map(processFilterArg);\n    }\n  }\n  if (filter) {\n    (dir.filters = dir.filters || []).push(filter);\n  }\n  lastFilterIndex = i + 1;\n}\n\n/**\n * Check if an argument is dynamic and strip quotes.\n *\n * @param {String} arg\n * @return {Object}\n */\n\nfunction processFilterArg(arg) {\n  if (reservedArgRE.test(arg)) {\n    return {\n      value: toNumber(arg),\n      dynamic: false\n    };\n  } else {\n    var stripped = stripQuotes(arg);\n    var dynamic = stripped === arg;\n    return {\n      value: dynamic ? arg : stripped,\n      dynamic: dynamic\n    };\n  }\n}\n\n/**\n * Parse a directive value and extract the expression\n * and its filters into a descriptor.\n *\n * Example:\n *\n * \"a + 1 | uppercase\" will yield:\n * {\n *   expression: 'a + 1',\n *   filters: [\n *     { name: 'uppercase', args: null }\n *   ]\n * }\n *\n * @param {String} str\n * @return {Object}\n */\n\nfunction parseDirective(s) {\n\n  var hit = cache$1.get(s);\n  if (hit) {\n    return hit;\n  }\n\n  // reset parser state\n  str = s;\n  inSingle = inDouble = false;\n  curly = square = paren = 0;\n  lastFilterIndex = 0;\n  dir = {};\n\n  for (i = 0, l = str.length; i < l; i++) {\n    prev = c;\n    c = str.charCodeAt(i);\n    if (inSingle) {\n      // check single quote\n      if (c === 0x27 && prev !== 0x5C) inSingle = !inSingle;\n    } else if (inDouble) {\n      // check double quote\n      if (c === 0x22 && prev !== 0x5C) inDouble = !inDouble;\n    } else if (c === 0x7C && // pipe\n    str.charCodeAt(i + 1) !== 0x7C && str.charCodeAt(i - 1) !== 0x7C) {\n      if (dir.expression == null) {\n        // first filter, end of expression\n        lastFilterIndex = i + 1;\n        dir.expression = str.slice(0, i).trim();\n      } else {\n        // already has filter\n        pushFilter();\n      }\n    } else {\n      switch (c) {\n        case 0x22:\n          inDouble = true;break; // \"\n        case 0x27:\n          inSingle = true;break; // '\n        case 0x28:\n          paren++;break; // (\n        case 0x29:\n          paren--;break; // )\n        case 0x5B:\n          square++;break; // [\n        case 0x5D:\n          square--;break; // ]\n        case 0x7B:\n          curly++;break; // {\n        case 0x7D:\n          curly--;break; // }\n      }\n    }\n  }\n\n  if (dir.expression == null) {\n    dir.expression = str.slice(0, i).trim();\n  } else if (lastFilterIndex !== 0) {\n    pushFilter();\n  }\n\n  cache$1.put(s, dir);\n  return dir;\n}\n\nvar directive = Object.freeze({\n  parseDirective: parseDirective\n});\n\nvar regexEscapeRE = /[-.*+?^${}()|[\\]\\/\\\\]/g;\nvar cache = undefined;\nvar tagRE = undefined;\nvar htmlRE = undefined;\n/**\n * Escape a string so it can be used in a RegExp\n * constructor.\n *\n * @param {String} str\n */\n\nfunction escapeRegex(str) {\n  return str.replace(regexEscapeRE, '\\\\$&');\n}\n\nfunction compileRegex() {\n  var open = escapeRegex(config.delimiters[0]);\n  var close = escapeRegex(config.delimiters[1]);\n  var unsafeOpen = escapeRegex(config.unsafeDelimiters[0]);\n  var unsafeClose = escapeRegex(config.unsafeDelimiters[1]);\n  tagRE = new RegExp(unsafeOpen + '(.+?)' + unsafeClose + '|' + open + '(.+?)' + close, 'g');\n  htmlRE = new RegExp('^' + unsafeOpen + '.*' + unsafeClose + '$');\n  // reset cache\n  cache = new Cache(1000);\n}\n\n/**\n * Parse a template text string into an array of tokens.\n *\n * @param {String} text\n * @return {Array<Object> | null}\n *               - {String} type\n *               - {String} value\n *               - {Boolean} [html]\n *               - {Boolean} [oneTime]\n */\n\nfunction parseText(text) {\n  if (!cache) {\n    compileRegex();\n  }\n  var hit = cache.get(text);\n  if (hit) {\n    return hit;\n  }\n  text = text.replace(/\\n/g, '');\n  if (!tagRE.test(text)) {\n    return null;\n  }\n  var tokens = [];\n  var lastIndex = tagRE.lastIndex = 0;\n  var match, index, html, value, first, oneTime;\n  /* eslint-disable no-cond-assign */\n  while (match = tagRE.exec(text)) {\n    /* eslint-enable no-cond-assign */\n    index = match.index;\n    // push text token\n    if (index > lastIndex) {\n      tokens.push({\n        value: text.slice(lastIndex, index)\n      });\n    }\n    // tag token\n    html = htmlRE.test(match[0]);\n    value = html ? match[1] : match[2];\n    first = value.charCodeAt(0);\n    oneTime = first === 42; // *\n    value = oneTime ? value.slice(1) : value;\n    tokens.push({\n      tag: true,\n      value: value.trim(),\n      html: html,\n      oneTime: oneTime\n    });\n    lastIndex = index + match[0].length;\n  }\n  if (lastIndex < text.length) {\n    tokens.push({\n      value: text.slice(lastIndex)\n    });\n  }\n  cache.put(text, tokens);\n  return tokens;\n}\n\n/**\n * Format a list of tokens into an expression.\n * e.g. tokens parsed from 'a {{b}} c' can be serialized\n * into one single expression as '\"a \" + b + \" c\"'.\n *\n * @param {Array} tokens\n * @return {String}\n */\n\nfunction tokensToExp(tokens) {\n  if (tokens.length > 1) {\n    return tokens.map(function (token) {\n      return formatToken(token);\n    }).join('+');\n  } else {\n    return formatToken(tokens[0], true);\n  }\n}\n\n/**\n * Format a single token.\n *\n * @param {Object} token\n * @param {Boolean} single\n * @return {String}\n */\n\nfunction formatToken(token, single) {\n  return token.tag ? inlineFilters(token.value, single) : '\"' + token.value + '\"';\n}\n\n/**\n * For an attribute with multiple interpolation tags,\n * e.g. attr=\"some-{{thing | filter}}\", in order to combine\n * the whole thing into a single watchable expression, we\n * have to inline those filters. This function does exactly\n * that. This is a bit hacky but it avoids heavy changes\n * to directive parser and watcher mechanism.\n *\n * @param {String} exp\n * @param {Boolean} single\n * @return {String}\n */\n\nvar filterRE$1 = /[^|]\\|[^|]/;\nfunction inlineFilters(exp, single) {\n  if (!filterRE$1.test(exp)) {\n    return single ? exp : '(' + exp + ')';\n  } else {\n    var dir = parseDirective(exp);\n    if (!dir.filters) {\n      return '(' + exp + ')';\n    } else {\n      return 'this._applyFilters(' + dir.expression + // value\n      ',null,' + // oldValue (null for read)\n      JSON.stringify(dir.filters) + // filter descriptors\n      ',false)'; // write?\n    }\n  }\n}\n\n/**\n * Replace all interpolation tags in a piece of text.\n *\n * @param {String} text\n * @return {String}\n */\n\nfunction removeTags(text) {\n  return text.replace(tagRE, '');\n}\n\nvar text$1 = Object.freeze({\n  compileRegex: compileRegex,\n  parseText: parseText,\n  tokensToExp: tokensToExp,\n  removeTags: removeTags\n});\n\nvar delimiters = ['{{', '}}'];\nvar unsafeDelimiters = ['{{{', '}}}'];\n\nvar config = Object.defineProperties({\n\n  /**\n   * Whether to print debug messages.\n   * Also enables stack trace for warnings.\n   *\n   * @type {Boolean}\n   */\n\n  debug: false,\n\n  /**\n   * Whether to suppress warnings.\n   *\n   * @type {Boolean}\n   */\n\n  silent: false,\n\n  /**\n   * Whether to use async rendering.\n   */\n\n  async: true,\n\n  /**\n   * Whether to warn against errors caught when evaluating\n   * expressions.\n   */\n\n  warnExpressionErrors: true,\n\n  /**\n   * Whether or not to handle fully object properties which\n   * are already backed by getters and seters. Depending on\n   * use case and environment, this might introduce non-neglible\n   * performance penalties.\n   */\n  convertAllProperties: false,\n\n  /**\n   * Internal flag to indicate the delimiters have been\n   * changed.\n   *\n   * @type {Boolean}\n   */\n\n  _delimitersChanged: true,\n\n  /**\n   * List of asset types that a component can own.\n   *\n   * @type {Array}\n   */\n\n  _assetTypes: ['component', 'directive', 'elementDirective', 'filter', 'transition', 'partial'],\n\n  /**\n   * prop binding modes\n   */\n\n  _propBindingModes: {\n    ONE_WAY: 0,\n    TWO_WAY: 1,\n    ONE_TIME: 2\n  },\n\n  /**\n   * Max circular updates allowed in a batcher flush cycle.\n   */\n\n  _maxUpdateCount: 100\n\n}, {\n  delimiters: { /**\n                 * Interpolation delimiters. Changing these would trigger\n                 * the text parser to re-compile the regular expressions.\n                 *\n                 * @type {Array<String>}\n                 */\n\n    get: function get() {\n      return delimiters;\n    },\n    set: function set(val) {\n      delimiters = val;\n      compileRegex();\n    },\n    configurable: true,\n    enumerable: true\n  },\n  unsafeDelimiters: {\n    get: function get() {\n      return unsafeDelimiters;\n    },\n    set: function set(val) {\n      unsafeDelimiters = val;\n      compileRegex();\n    },\n    configurable: true,\n    enumerable: true\n  }\n});\n\nvar warn = undefined;\n\nif (process.env.NODE_ENV !== 'production') {\n  (function () {\n    var hasConsole = typeof console !== 'undefined';\n    warn = function (msg, e) {\n      if (hasConsole && (!config.silent || config.debug)) {\n        console.warn('[Vue warn]: ' + msg);\n        /* istanbul ignore if */\n        if (config.debug) {\n          if (e) {\n            throw e;\n          } else {\n            console.warn(new Error('Warning Stack Trace').stack);\n          }\n        }\n      }\n    };\n  })();\n}\n\n/**\n * Append with transition.\n *\n * @param {Element} el\n * @param {Element} target\n * @param {Vue} vm\n * @param {Function} [cb]\n */\n\nfunction appendWithTransition(el, target, vm, cb) {\n  applyTransition(el, 1, function () {\n    target.appendChild(el);\n  }, vm, cb);\n}\n\n/**\n * InsertBefore with transition.\n *\n * @param {Element} el\n * @param {Element} target\n * @param {Vue} vm\n * @param {Function} [cb]\n */\n\nfunction beforeWithTransition(el, target, vm, cb) {\n  applyTransition(el, 1, function () {\n    before(el, target);\n  }, vm, cb);\n}\n\n/**\n * Remove with transition.\n *\n * @param {Element} el\n * @param {Vue} vm\n * @param {Function} [cb]\n */\n\nfunction removeWithTransition(el, vm, cb) {\n  applyTransition(el, -1, function () {\n    remove(el);\n  }, vm, cb);\n}\n\n/**\n * Apply transitions with an operation callback.\n *\n * @param {Element} el\n * @param {Number} direction\n *                  1: enter\n *                 -1: leave\n * @param {Function} op - the actual DOM operation\n * @param {Vue} vm\n * @param {Function} [cb]\n */\n\nfunction applyTransition(el, direction, op, vm, cb) {\n  var transition = el.__v_trans;\n  if (!transition ||\n  // skip if there are no js hooks and CSS transition is\n  // not supported\n  !transition.hooks && !transitionEndEvent ||\n  // skip transitions for initial compile\n  !vm._isCompiled ||\n  // if the vm is being manipulated by a parent directive\n  // during the parent's compilation phase, skip the\n  // animation.\n  vm.$parent && !vm.$parent._isCompiled) {\n    op();\n    if (cb) cb();\n    return;\n  }\n  var action = direction > 0 ? 'enter' : 'leave';\n  transition[action](op, cb);\n}\n\n/**\n * Query an element selector if it's not an element already.\n *\n * @param {String|Element} el\n * @return {Element}\n */\n\nfunction query(el) {\n  if (typeof el === 'string') {\n    var selector = el;\n    el = document.querySelector(el);\n    if (!el) {\n      process.env.NODE_ENV !== 'production' && warn('Cannot find element: ' + selector);\n    }\n  }\n  return el;\n}\n\n/**\n * Check if a node is in the document.\n * Note: document.documentElement.contains should work here\n * but always returns false for comment nodes in phantomjs,\n * making unit tests difficult. This is fixed by doing the\n * contains() check on the node's parentNode instead of\n * the node itself.\n *\n * @param {Node} node\n * @return {Boolean}\n */\n\nfunction inDoc(node) {\n  var doc = document.documentElement;\n  var parent = node && node.parentNode;\n  return doc === node || doc === parent || !!(parent && parent.nodeType === 1 && doc.contains(parent));\n}\n\n/**\n * Get and remove an attribute from a node.\n *\n * @param {Node} node\n * @param {String} _attr\n */\n\nfunction getAttr(node, _attr) {\n  var val = node.getAttribute(_attr);\n  if (val !== null) {\n    node.removeAttribute(_attr);\n  }\n  return val;\n}\n\n/**\n * Get an attribute with colon or v-bind: prefix.\n *\n * @param {Node} node\n * @param {String} name\n * @return {String|null}\n */\n\nfunction getBindAttr(node, name) {\n  var val = getAttr(node, ':' + name);\n  if (val === null) {\n    val = getAttr(node, 'v-bind:' + name);\n  }\n  return val;\n}\n\n/**\n * Check the presence of a bind attribute.\n *\n * @param {Node} node\n * @param {String} name\n * @return {Boolean}\n */\n\nfunction hasBindAttr(node, name) {\n  return node.hasAttribute(name) || node.hasAttribute(':' + name) || node.hasAttribute('v-bind:' + name);\n}\n\n/**\n * Insert el before target\n *\n * @param {Element} el\n * @param {Element} target\n */\n\nfunction before(el, target) {\n  target.parentNode.insertBefore(el, target);\n}\n\n/**\n * Insert el after target\n *\n * @param {Element} el\n * @param {Element} target\n */\n\nfunction after(el, target) {\n  if (target.nextSibling) {\n    before(el, target.nextSibling);\n  } else {\n    target.parentNode.appendChild(el);\n  }\n}\n\n/**\n * Remove el from DOM\n *\n * @param {Element} el\n */\n\nfunction remove(el) {\n  el.parentNode.removeChild(el);\n}\n\n/**\n * Prepend el to target\n *\n * @param {Element} el\n * @param {Element} target\n */\n\nfunction prepend(el, target) {\n  if (target.firstChild) {\n    before(el, target.firstChild);\n  } else {\n    target.appendChild(el);\n  }\n}\n\n/**\n * Replace target with el\n *\n * @param {Element} target\n * @param {Element} el\n */\n\nfunction replace(target, el) {\n  var parent = target.parentNode;\n  if (parent) {\n    parent.replaceChild(el, target);\n  }\n}\n\n/**\n * Add event listener shorthand.\n *\n * @param {Element} el\n * @param {String} event\n * @param {Function} cb\n */\n\nfunction on$1(el, event, cb) {\n  el.addEventListener(event, cb);\n}\n\n/**\n * Remove event listener shorthand.\n *\n * @param {Element} el\n * @param {String} event\n * @param {Function} cb\n */\n\nfunction off(el, event, cb) {\n  el.removeEventListener(event, cb);\n}\n\n/**\n * In IE9, setAttribute('class') will result in empty class\n * if the element also has the :class attribute; However in\n * PhantomJS, setting `className` does not work on SVG elements...\n * So we have to do a conditional check here.\n *\n * @param {Element} el\n * @param {String} cls\n */\n\nfunction setClass(el, cls) {\n  /* istanbul ignore if */\n  if (isIE9 && el.hasOwnProperty('className')) {\n    el.className = cls;\n  } else {\n    el.setAttribute('class', cls);\n  }\n}\n\n/**\n * Add class with compatibility for IE & SVG\n *\n * @param {Element} el\n * @param {String} cls\n */\n\nfunction addClass(el, cls) {\n  if (el.classList) {\n    el.classList.add(cls);\n  } else {\n    var cur = ' ' + (el.getAttribute('class') || '') + ' ';\n    if (cur.indexOf(' ' + cls + ' ') < 0) {\n      setClass(el, (cur + cls).trim());\n    }\n  }\n}\n\n/**\n * Remove class with compatibility for IE & SVG\n *\n * @param {Element} el\n * @param {String} cls\n */\n\nfunction removeClass(el, cls) {\n  if (el.classList) {\n    el.classList.remove(cls);\n  } else {\n    var cur = ' ' + (el.getAttribute('class') || '') + ' ';\n    var tar = ' ' + cls + ' ';\n    while (cur.indexOf(tar) >= 0) {\n      cur = cur.replace(tar, ' ');\n    }\n    setClass(el, cur.trim());\n  }\n  if (!el.className) {\n    el.removeAttribute('class');\n  }\n}\n\n/**\n * Extract raw content inside an element into a temporary\n * container div\n *\n * @param {Element} el\n * @param {Boolean} asFragment\n * @return {Element}\n */\n\nfunction extractContent(el, asFragment) {\n  var child;\n  var rawContent;\n  /* istanbul ignore if */\n  if (isTemplate(el) && el.content instanceof DocumentFragment) {\n    el = el.content;\n  }\n  if (el.hasChildNodes()) {\n    trimNode(el);\n    rawContent = asFragment ? document.createDocumentFragment() : document.createElement('div');\n    /* eslint-disable no-cond-assign */\n    while (child = el.firstChild) {\n      /* eslint-enable no-cond-assign */\n      rawContent.appendChild(child);\n    }\n  }\n  return rawContent;\n}\n\n/**\n * Trim possible empty head/tail textNodes inside a parent.\n *\n * @param {Node} node\n */\n\nfunction trimNode(node) {\n  trim(node, node.firstChild);\n  trim(node, node.lastChild);\n}\n\nfunction trim(parent, node) {\n  if (node && node.nodeType === 3 && !node.data.trim()) {\n    parent.removeChild(node);\n  }\n}\n\n/**\n * Check if an element is a template tag.\n * Note if the template appears inside an SVG its tagName\n * will be in lowercase.\n *\n * @param {Element} el\n */\n\nfunction isTemplate(el) {\n  return el.tagName && el.tagName.toLowerCase() === 'template';\n}\n\n/**\n * Create an \"anchor\" for performing dom insertion/removals.\n * This is used in a number of scenarios:\n * - fragment instance\n * - v-html\n * - v-if\n * - v-for\n * - component\n *\n * @param {String} content\n * @param {Boolean} persist - IE trashes empty textNodes on\n *                            cloneNode(true), so in certain\n *                            cases the anchor needs to be\n *                            non-empty to be persisted in\n *                            templates.\n * @return {Comment|Text}\n */\n\nfunction createAnchor(content, persist) {\n  var anchor = config.debug ? document.createComment(content) : document.createTextNode(persist ? ' ' : '');\n  anchor.__vue_anchor = true;\n  return anchor;\n}\n\n/**\n * Find a component ref attribute that starts with $.\n *\n * @param {Element} node\n * @return {String|undefined}\n */\n\nvar refRE = /^v-ref:/;\n\nfunction findRef(node) {\n  if (node.hasAttributes()) {\n    var attrs = node.attributes;\n    for (var i = 0, l = attrs.length; i < l; i++) {\n      var name = attrs[i].name;\n      if (refRE.test(name)) {\n        return camelize(name.replace(refRE, ''));\n      }\n    }\n  }\n}\n\n/**\n * Map a function to a range of nodes .\n *\n * @param {Node} node\n * @param {Node} end\n * @param {Function} op\n */\n\nfunction mapNodeRange(node, end, op) {\n  var next;\n  while (node !== end) {\n    next = node.nextSibling;\n    op(node);\n    node = next;\n  }\n  op(end);\n}\n\n/**\n * Remove a range of nodes with transition, store\n * the nodes in a fragment with correct ordering,\n * and call callback when done.\n *\n * @param {Node} start\n * @param {Node} end\n * @param {Vue} vm\n * @param {DocumentFragment} frag\n * @param {Function} cb\n */\n\nfunction removeNodeRange(start, end, vm, frag, cb) {\n  var done = false;\n  var removed = 0;\n  var nodes = [];\n  mapNodeRange(start, end, function (node) {\n    if (node === end) done = true;\n    nodes.push(node);\n    removeWithTransition(node, vm, onRemoved);\n  });\n  function onRemoved() {\n    removed++;\n    if (done && removed >= nodes.length) {\n      for (var i = 0; i < nodes.length; i++) {\n        frag.appendChild(nodes[i]);\n      }\n      cb && cb();\n    }\n  }\n}\n\nvar commonTagRE = /^(div|p|span|img|a|b|i|br|ul|ol|li|h1|h2|h3|h4|h5|h6|code|pre|table|th|td|tr|form|label|input|select|option|nav|article|section|header|footer)$/;\n\n/**\n * Check if an element is a component, if yes return its\n * component id.\n *\n * @param {Element} el\n * @param {Object} options\n * @return {Object|undefined}\n */\n\nfunction checkComponentAttr(el, options) {\n  var tag = el.tagName.toLowerCase();\n  var hasAttrs = el.hasAttributes();\n  if (!commonTagRE.test(tag) && tag !== 'component') {\n    if (resolveAsset(options, 'components', tag)) {\n      return { id: tag };\n    } else {\n      var is = hasAttrs && getIsBinding(el);\n      if (is) {\n        return is;\n      } else if (process.env.NODE_ENV !== 'production') {\n        if (tag.indexOf('-') > -1 || /HTMLUnknownElement/.test(el.toString()) &&\n        // Chrome returns unknown for several HTML5 elements.\n        // https://code.google.com/p/chromium/issues/detail?id=540526\n        !/^(data|time|rtc|rb)$/.test(tag)) {\n          warn('Unknown custom element: <' + tag + '> - did you ' + 'register the component correctly?');\n        }\n      }\n    }\n  } else if (hasAttrs) {\n    return getIsBinding(el);\n  }\n}\n\n/**\n * Get \"is\" binding from an element.\n *\n * @param {Element} el\n * @return {Object|undefined}\n */\n\nfunction getIsBinding(el) {\n  // dynamic syntax\n  var exp = getAttr(el, 'is');\n  if (exp != null) {\n    return { id: exp };\n  } else {\n    exp = getBindAttr(el, 'is');\n    if (exp != null) {\n      return { id: exp, dynamic: true };\n    }\n  }\n}\n\n/**\n * Set a prop's initial value on a vm and its data object.\n *\n * @param {Vue} vm\n * @param {Object} prop\n * @param {*} value\n */\n\nfunction initProp(vm, prop, value) {\n  var key = prop.path;\n  vm[key] = vm._data[key] = assertProp(prop, value) ? value : undefined;\n}\n\n/**\n * Assert whether a prop is valid.\n *\n * @param {Object} prop\n * @param {*} value\n */\n\nfunction assertProp(prop, value) {\n  // if a prop is not provided and is not required,\n  // skip the check.\n  if (prop.raw === null && !prop.required) {\n    return true;\n  }\n  var options = prop.options;\n  var type = options.type;\n  var valid = true;\n  var expectedType;\n  if (type) {\n    if (type === String) {\n      expectedType = 'string';\n      valid = typeof value === expectedType;\n    } else if (type === Number) {\n      expectedType = 'number';\n      valid = typeof value === 'number';\n    } else if (type === Boolean) {\n      expectedType = 'boolean';\n      valid = typeof value === 'boolean';\n    } else if (type === Function) {\n      expectedType = 'function';\n      valid = typeof value === 'function';\n    } else if (type === Object) {\n      expectedType = 'object';\n      valid = isPlainObject(value);\n    } else if (type === Array) {\n      expectedType = 'array';\n      valid = isArray(value);\n    } else {\n      valid = value instanceof type;\n    }\n  }\n  if (!valid) {\n    process.env.NODE_ENV !== 'production' && warn('Invalid prop: type check failed for ' + prop.path + '=\"' + prop.raw + '\".' + ' Expected ' + formatType(expectedType) + ', got ' + formatValue(value) + '.');\n    return false;\n  }\n  var validator = options.validator;\n  if (validator) {\n    if (!validator.call(null, value)) {\n      process.env.NODE_ENV !== 'production' && warn('Invalid prop: custom validator check failed for ' + prop.path + '=\"' + prop.raw + '\"');\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction formatType(val) {\n  return val ? val.charAt(0).toUpperCase() + val.slice(1) : 'custom type';\n}\n\nfunction formatValue(val) {\n  return Object.prototype.toString.call(val).slice(8, -1);\n}\n\n/**\n * Option overwriting strategies are functions that handle\n * how to merge a parent option value and a child option\n * value into the final value.\n *\n * All strategy functions follow the same signature:\n *\n * @param {*} parentVal\n * @param {*} childVal\n * @param {Vue} [vm]\n */\n\nvar strats = config.optionMergeStrategies = Object.create(null);\n\n/**\n * Helper that recursively merges two data objects together.\n */\n\nfunction mergeData(to, from) {\n  var key, toVal, fromVal;\n  for (key in from) {\n    toVal = to[key];\n    fromVal = from[key];\n    if (!hasOwn(to, key)) {\n      set(to, key, fromVal);\n    } else if (isObject(toVal) && isObject(fromVal)) {\n      mergeData(toVal, fromVal);\n    }\n  }\n  return to;\n}\n\n/**\n * Data\n */\n\nstrats.data = function (parentVal, childVal, vm) {\n  if (!vm) {\n    // in a Vue.extend merge, both should be functions\n    if (!childVal) {\n      return parentVal;\n    }\n    if (typeof childVal !== 'function') {\n      process.env.NODE_ENV !== 'production' && warn('The \"data\" option should be a function ' + 'that returns a per-instance value in component ' + 'definitions.');\n      return parentVal;\n    }\n    if (!parentVal) {\n      return childVal;\n    }\n    // when parentVal & childVal are both present,\n    // we need to return a function that returns the\n    // merged result of both functions... no need to\n    // check if parentVal is a function here because\n    // it has to be a function to pass previous merges.\n    return function mergedDataFn() {\n      return mergeData(childVal.call(this), parentVal.call(this));\n    };\n  } else if (parentVal || childVal) {\n    return function mergedInstanceDataFn() {\n      // instance merge\n      var instanceData = typeof childVal === 'function' ? childVal.call(vm) : childVal;\n      var defaultData = typeof parentVal === 'function' ? parentVal.call(vm) : undefined;\n      if (instanceData) {\n        return mergeData(instanceData, defaultData);\n      } else {\n        return defaultData;\n      }\n    };\n  }\n};\n\n/**\n * El\n */\n\nstrats.el = function (parentVal, childVal, vm) {\n  if (!vm && childVal && typeof childVal !== 'function') {\n    process.env.NODE_ENV !== 'production' && warn('The \"el\" option should be a function ' + 'that returns a per-instance value in component ' + 'definitions.');\n    return;\n  }\n  var ret = childVal || parentVal;\n  // invoke the element factory if this is instance merge\n  return vm && typeof ret === 'function' ? ret.call(vm) : ret;\n};\n\n/**\n * Hooks and param attributes are merged as arrays.\n */\n\nstrats.init = strats.created = strats.ready = strats.attached = strats.detached = strats.beforeCompile = strats.compiled = strats.beforeDestroy = strats.destroyed = function (parentVal, childVal) {\n  return childVal ? parentVal ? parentVal.concat(childVal) : isArray(childVal) ? childVal : [childVal] : parentVal;\n};\n\n/**\n * 0.11 deprecation warning\n */\n\nstrats.paramAttributes = function () {\n  /* istanbul ignore next */\n  process.env.NODE_ENV !== 'production' && warn('\"paramAttributes\" option has been deprecated in 0.12. ' + 'Use \"props\" instead.');\n};\n\n/**\n * Assets\n *\n * When a vm is present (instance creation), we need to do\n * a three-way merge between constructor options, instance\n * options and parent options.\n */\n\nfunction mergeAssets(parentVal, childVal) {\n  var res = Object.create(parentVal);\n  return childVal ? extend(res, guardArrayAssets(childVal)) : res;\n}\n\nconfig._assetTypes.forEach(function (type) {\n  strats[type + 's'] = mergeAssets;\n});\n\n/**\n * Events & Watchers.\n *\n * Events & watchers hashes should not overwrite one\n * another, so we merge them as arrays.\n */\n\nstrats.watch = strats.events = function (parentVal, childVal) {\n  if (!childVal) return parentVal;\n  if (!parentVal) return childVal;\n  var ret = {};\n  extend(ret, parentVal);\n  for (var key in childVal) {\n    var parent = ret[key];\n    var child = childVal[key];\n    if (parent && !isArray(parent)) {\n      parent = [parent];\n    }\n    ret[key] = parent ? parent.concat(child) : [child];\n  }\n  return ret;\n};\n\n/**\n * Other object hashes.\n */\n\nstrats.props = strats.methods = strats.computed = function (parentVal, childVal) {\n  if (!childVal) return parentVal;\n  if (!parentVal) return childVal;\n  var ret = Object.create(null);\n  extend(ret, parentVal);\n  extend(ret, childVal);\n  return ret;\n};\n\n/**\n * Default strategy.\n */\n\nvar defaultStrat = function defaultStrat(parentVal, childVal) {\n  return childVal === undefined ? parentVal : childVal;\n};\n\n/**\n * Make sure component options get converted to actual\n * constructors.\n *\n * @param {Object} options\n */\n\nfunction guardComponents(options) {\n  if (options.components) {\n    var components = options.components = guardArrayAssets(options.components);\n    var def;\n    var ids = Object.keys(components);\n    for (var i = 0, l = ids.length; i < l; i++) {\n      var key = ids[i];\n      if (commonTagRE.test(key)) {\n        process.env.NODE_ENV !== 'production' && warn('Do not use built-in HTML elements as component ' + 'id: ' + key);\n        continue;\n      }\n      def = components[key];\n      if (isPlainObject(def)) {\n        components[key] = Vue.extend(def);\n      }\n    }\n  }\n}\n\n/**\n * Ensure all props option syntax are normalized into the\n * Object-based format.\n *\n * @param {Object} options\n */\n\nfunction guardProps(options) {\n  var props = options.props;\n  var i, val;\n  if (isArray(props)) {\n    options.props = {};\n    i = props.length;\n    while (i--) {\n      val = props[i];\n      if (typeof val === 'string') {\n        options.props[val] = null;\n      } else if (val.name) {\n        options.props[val.name] = val;\n      }\n    }\n  } else if (isPlainObject(props)) {\n    var keys = Object.keys(props);\n    i = keys.length;\n    while (i--) {\n      val = props[keys[i]];\n      if (typeof val === 'function') {\n        props[keys[i]] = { type: val };\n      }\n    }\n  }\n}\n\n/**\n * Guard an Array-format assets option and converted it\n * into the key-value Object format.\n *\n * @param {Object|Array} assets\n * @return {Object}\n */\n\nfunction guardArrayAssets(assets) {\n  if (isArray(assets)) {\n    var res = {};\n    var i = assets.length;\n    var asset;\n    while (i--) {\n      asset = assets[i];\n      var id = typeof asset === 'function' ? asset.options && asset.options.name || asset.id : asset.name || asset.id;\n      if (!id) {\n        process.env.NODE_ENV !== 'production' && warn('Array-syntax assets must provide a \"name\" or \"id\" field.');\n      } else {\n        res[id] = asset;\n      }\n    }\n    return res;\n  }\n  return assets;\n}\n\n/**\n * Merge two option objects into a new one.\n * Core utility used in both instantiation and inheritance.\n *\n * @param {Object} parent\n * @param {Object} child\n * @param {Vue} [vm] - if vm is present, indicates this is\n *                     an instantiation merge.\n */\n\nfunction mergeOptions(parent, child, vm) {\n  guardComponents(child);\n  guardProps(child);\n  var options = {};\n  var key;\n  if (child.mixins) {\n    for (var i = 0, l = child.mixins.length; i < l; i++) {\n      parent = mergeOptions(parent, child.mixins[i], vm);\n    }\n  }\n  for (key in parent) {\n    mergeField(key);\n  }\n  for (key in child) {\n    if (!hasOwn(parent, key)) {\n      mergeField(key);\n    }\n  }\n  function mergeField(key) {\n    var strat = strats[key] || defaultStrat;\n    options[key] = strat(parent[key], child[key], vm, key);\n  }\n  return options;\n}\n\n/**\n * Resolve an asset.\n * This function is used because child instances need access\n * to assets defined in its ancestor chain.\n *\n * @param {Object} options\n * @param {String} type\n * @param {String} id\n * @return {Object|Function}\n */\n\nfunction resolveAsset(options, type, id) {\n  var assets = options[type];\n  var camelizedId;\n  return assets[id] ||\n  // camelCase ID\n  assets[camelizedId = camelize(id)] ||\n  // Pascal Case ID\n  assets[camelizedId.charAt(0).toUpperCase() + camelizedId.slice(1)];\n}\n\n/**\n * Assert asset exists\n */\n\nfunction assertAsset(val, type, id) {\n  if (!val) {\n    process.env.NODE_ENV !== 'production' && warn('Failed to resolve ' + type + ': ' + id);\n  }\n}\n\nvar arrayProto = Array.prototype;\nvar arrayMethods = Object.create(arrayProto)\n\n/**\n * Intercept mutating methods and emit events\n */\n\n;['push', 'pop', 'shift', 'unshift', 'splice', 'sort', 'reverse'].forEach(function (method) {\n  // cache original method\n  var original = arrayProto[method];\n  def(arrayMethods, method, function mutator() {\n    // avoid leaking arguments:\n    // http://jsperf.com/closure-with-arguments\n    var i = arguments.length;\n    var args = new Array(i);\n    while (i--) {\n      args[i] = arguments[i];\n    }\n    var result = original.apply(this, args);\n    var ob = this.__ob__;\n    var inserted;\n    switch (method) {\n      case 'push':\n        inserted = args;\n        break;\n      case 'unshift':\n        inserted = args;\n        break;\n      case 'splice':\n        inserted = args.slice(2);\n        break;\n    }\n    if (inserted) ob.observeArray(inserted);\n    // notify change\n    ob.dep.notify();\n    return result;\n  });\n});\n\n/**\n * Swap the element at the given index with a new value\n * and emits corresponding event.\n *\n * @param {Number} index\n * @param {*} val\n * @return {*} - replaced element\n */\n\ndef(arrayProto, '$set', function $set(index, val) {\n  if (index >= this.length) {\n    this.length = index + 1;\n  }\n  return this.splice(index, 1, val)[0];\n});\n\n/**\n * Convenience method to remove the element at given index.\n *\n * @param {Number} index\n * @param {*} val\n */\n\ndef(arrayProto, '$remove', function $remove(item) {\n  /* istanbul ignore if */\n  if (!this.length) return;\n  var index = indexOf(this, item);\n  if (index > -1) {\n    return this.splice(index, 1);\n  }\n});\n\nvar uid$3 = 0;\n\n/**\n * A dep is an observable that can have multiple\n * directives subscribing to it.\n *\n * @constructor\n */\nfunction Dep() {\n  this.id = uid$3++;\n  this.subs = [];\n}\n\n// the current target watcher being evaluated.\n// this is globally unique because there could be only one\n// watcher being evaluated at any time.\nDep.target = null;\n\n/**\n * Add a directive subscriber.\n *\n * @param {Directive} sub\n */\n\nDep.prototype.addSub = function (sub) {\n  this.subs.push(sub);\n};\n\n/**\n * Remove a directive subscriber.\n *\n * @param {Directive} sub\n */\n\nDep.prototype.removeSub = function (sub) {\n  this.subs.$remove(sub);\n};\n\n/**\n * Add self as a dependency to the target watcher.\n */\n\nDep.prototype.depend = function () {\n  Dep.target.addDep(this);\n};\n\n/**\n * Notify all subscribers of a new value.\n */\n\nDep.prototype.notify = function () {\n  // stablize the subscriber list first\n  var subs = toArray(this.subs);\n  for (var i = 0, l = subs.length; i < l; i++) {\n    subs[i].update();\n  }\n};\n\nvar arrayKeys = Object.getOwnPropertyNames(arrayMethods);\n\n/**\n * Observer class that are attached to each observed\n * object. Once attached, the observer converts target\n * object's property keys into getter/setters that\n * collect dependencies and dispatches updates.\n *\n * @param {Array|Object} value\n * @constructor\n */\n\nfunction Observer(value) {\n  this.value = value;\n  this.dep = new Dep();\n  def(value, '__ob__', this);\n  if (isArray(value)) {\n    var augment = hasProto ? protoAugment : copyAugment;\n    augment(value, arrayMethods, arrayKeys);\n    this.observeArray(value);\n  } else {\n    this.walk(value);\n  }\n}\n\n// Instance methods\n\n/**\n * Walk through each property and convert them into\n * getter/setters. This method should only be called when\n * value type is Object.\n *\n * @param {Object} obj\n */\n\nObserver.prototype.walk = function (obj) {\n  var keys = Object.keys(obj);\n  var i = keys.length;\n  while (i--) {\n    this.convert(keys[i], obj[keys[i]]);\n  }\n};\n\n/**\n * Observe a list of Array items.\n *\n * @param {Array} items\n */\n\nObserver.prototype.observeArray = function (items) {\n  var i = items.length;\n  while (i--) {\n    observe(items[i]);\n  }\n};\n\n/**\n * Convert a property into getter/setter so we can emit\n * the events when the property is accessed/changed.\n *\n * @param {String} key\n * @param {*} val\n */\n\nObserver.prototype.convert = function (key, val) {\n  defineReactive(this.value, key, val);\n};\n\n/**\n * Add an owner vm, so that when $set/$delete mutations\n * happen we can notify owner vms to proxy the keys and\n * digest the watchers. This is only called when the object\n * is observed as an instance's root $data.\n *\n * @param {Vue} vm\n */\n\nObserver.prototype.addVm = function (vm) {\n  (this.vms || (this.vms = [])).push(vm);\n};\n\n/**\n * Remove an owner vm. This is called when the object is\n * swapped out as an instance's $data object.\n *\n * @param {Vue} vm\n */\n\nObserver.prototype.removeVm = function (vm) {\n  this.vms.$remove(vm);\n};\n\n// helpers\n\n/**\n * Augment an target Object or Array by intercepting\n * the prototype chain using __proto__\n *\n * @param {Object|Array} target\n * @param {Object} proto\n */\n\nfunction protoAugment(target, src) {\n  target.__proto__ = src;\n}\n\n/**\n * Augment an target Object or Array by defining\n * hidden properties.\n *\n * @param {Object|Array} target\n * @param {Object} proto\n */\n\nfunction copyAugment(target, src, keys) {\n  var i = keys.length;\n  var key;\n  while (i--) {\n    key = keys[i];\n    def(target, key, src[key]);\n  }\n}\n\n/**\n * Attempt to create an observer instance for a value,\n * returns the new observer if successfully observed,\n * or the existing observer if the value already has one.\n *\n * @param {*} value\n * @param {Vue} [vm]\n * @return {Observer|undefined}\n * @static\n */\n\nfunction observe(value, vm) {\n  if (!value || typeof value !== 'object') {\n    return;\n  }\n  var ob;\n  if (hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {\n    ob = value.__ob__;\n  } else if ((isArray(value) || isPlainObject(value)) && Object.isExtensible(value) && !value._isVue) {\n    ob = new Observer(value);\n  }\n  if (ob && vm) {\n    ob.addVm(vm);\n  }\n  return ob;\n}\n\n/**\n * Define a reactive property on an Object.\n *\n * @param {Object} obj\n * @param {String} key\n * @param {*} val\n */\n\nfunction defineReactive(obj, key, val) {\n  var dep = new Dep();\n\n  // cater for pre-defined getter/setters\n  var getter, setter;\n  if (config.convertAllProperties) {\n    var property = Object.getOwnPropertyDescriptor(obj, key);\n    if (property && property.configurable === false) {\n      return;\n    }\n    getter = property && property.get;\n    setter = property && property.set;\n  }\n\n  var childOb = observe(val);\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter() {\n      var value = getter ? getter.call(obj) : val;\n      if (Dep.target) {\n        dep.depend();\n        if (childOb) {\n          childOb.dep.depend();\n        }\n        if (isArray(value)) {\n          for (var e, i = 0, l = value.length; i < l; i++) {\n            e = value[i];\n            e && e.__ob__ && e.__ob__.dep.depend();\n          }\n        }\n      }\n      return value;\n    },\n    set: function reactiveSetter(newVal) {\n      var value = getter ? getter.call(obj) : val;\n      if (newVal === value) {\n        return;\n      }\n      if (setter) {\n        setter.call(obj, newVal);\n      } else {\n        val = newVal;\n      }\n      childOb = observe(newVal);\n      dep.notify();\n    }\n  });\n}\n\nvar util = Object.freeze({\n\tdefineReactive: defineReactive,\n\tset: set,\n\tdel: del,\n\thasOwn: hasOwn,\n\tisLiteral: isLiteral,\n\tisReserved: isReserved,\n\t_toString: _toString,\n\ttoNumber: toNumber,\n\ttoBoolean: toBoolean,\n\tstripQuotes: stripQuotes,\n\tcamelize: camelize,\n\thyphenate: hyphenate,\n\tclassify: classify,\n\tbind: bind$1,\n\ttoArray: toArray,\n\textend: extend,\n\tisObject: isObject,\n\tisPlainObject: isPlainObject,\n\tdef: def,\n\tdebounce: _debounce,\n\tindexOf: indexOf,\n\tcancellable: cancellable,\n\tlooseEqual: looseEqual,\n\tisArray: isArray,\n\thasProto: hasProto,\n\tinBrowser: inBrowser,\n\tisIE9: isIE9,\n\tisAndroid: isAndroid,\n\tget transitionProp () { return transitionProp; },\n\tget transitionEndEvent () { return transitionEndEvent; },\n\tget animationProp () { return animationProp; },\n\tget animationEndEvent () { return animationEndEvent; },\n\tnextTick: nextTick,\n\tquery: query,\n\tinDoc: inDoc,\n\tgetAttr: getAttr,\n\tgetBindAttr: getBindAttr,\n\thasBindAttr: hasBindAttr,\n\tbefore: before,\n\tafter: after,\n\tremove: remove,\n\tprepend: prepend,\n\treplace: replace,\n\ton: on$1,\n\toff: off,\n\taddClass: addClass,\n\tremoveClass: removeClass,\n\textractContent: extractContent,\n\ttrimNode: trimNode,\n\tisTemplate: isTemplate,\n\tcreateAnchor: createAnchor,\n\tfindRef: findRef,\n\tmapNodeRange: mapNodeRange,\n\tremoveNodeRange: removeNodeRange,\n\tmergeOptions: mergeOptions,\n\tresolveAsset: resolveAsset,\n\tassertAsset: assertAsset,\n\tcheckComponentAttr: checkComponentAttr,\n\tinitProp: initProp,\n\tassertProp: assertProp,\n\tcommonTagRE: commonTagRE,\n\tget warn () { return warn; }\n});\n\nvar uid = 0;\n\nfunction initMixin (Vue) {\n\n  /**\n   * The main init sequence. This is called for every\n   * instance, including ones that are created from extended\n   * constructors.\n   *\n   * @param {Object} options - this options object should be\n   *                           the result of merging class\n   *                           options and the options passed\n   *                           in to the constructor.\n   */\n\n  Vue.prototype._init = function (options) {\n\n    options = options || {};\n\n    this.$el = null;\n    this.$parent = options.parent;\n    this.$root = this.$parent ? this.$parent.$root : this;\n    this.$children = [];\n    this.$refs = {}; // child vm references\n    this.$els = {}; // element references\n    this._watchers = []; // all watchers as an array\n    this._directives = []; // all directives\n\n    // a uid\n    this._uid = uid++;\n\n    // a flag to avoid this being observed\n    this._isVue = true;\n\n    // events bookkeeping\n    this._events = {}; // registered callbacks\n    this._eventsCount = {}; // for $broadcast optimization\n\n    // fragment instance properties\n    this._isFragment = false;\n    this._fragment = // @type {DocumentFragment}\n    this._fragmentStart = // @type {Text|Comment}\n    this._fragmentEnd = null; // @type {Text|Comment}\n\n    // lifecycle state\n    this._isCompiled = this._isDestroyed = this._isReady = this._isAttached = this._isBeingDestroyed = false;\n    this._unlinkFn = null;\n\n    // context:\n    // if this is a transcluded component, context\n    // will be the common parent vm of this instance\n    // and its host.\n    this._context = options._context || this.$parent;\n\n    // scope:\n    // if this is inside an inline v-for, the scope\n    // will be the intermediate scope created for this\n    // repeat fragment. this is used for linking props\n    // and container directives.\n    this._scope = options._scope;\n\n    // fragment:\n    // if this instance is compiled inside a Fragment, it\n    // needs to reigster itself as a child of that fragment\n    // for attach/detach to work properly.\n    this._frag = options._frag;\n    if (this._frag) {\n      this._frag.children.push(this);\n    }\n\n    // push self into parent / transclusion host\n    if (this.$parent) {\n      this.$parent.$children.push(this);\n    }\n\n    // merge options.\n    options = this.$options = mergeOptions(this.constructor.options, options, this);\n\n    // set ref\n    this._updateRef();\n\n    // initialize data as empty object.\n    // it will be filled up in _initScope().\n    this._data = {};\n\n    // call init hook\n    this._callHook('init');\n\n    // initialize data observation and scope inheritance.\n    this._initState();\n\n    // setup event system and option events.\n    this._initEvents();\n\n    // call created hook\n    this._callHook('created');\n\n    // if `el` option is passed, start compilation.\n    if (options.el) {\n      this.$mount(options.el);\n    }\n  };\n}\n\nvar pathCache = new Cache(1000);\n\n// actions\nvar APPEND = 0;\nvar PUSH = 1;\nvar INC_SUB_PATH_DEPTH = 2;\nvar PUSH_SUB_PATH = 3;\n\n// states\nvar BEFORE_PATH = 0;\nvar IN_PATH = 1;\nvar BEFORE_IDENT = 2;\nvar IN_IDENT = 3;\nvar IN_SUB_PATH = 4;\nvar IN_SINGLE_QUOTE = 5;\nvar IN_DOUBLE_QUOTE = 6;\nvar AFTER_PATH = 7;\nvar ERROR = 8;\n\nvar pathStateMachine = [];\n\npathStateMachine[BEFORE_PATH] = {\n  'ws': [BEFORE_PATH],\n  'ident': [IN_IDENT, APPEND],\n  '[': [IN_SUB_PATH],\n  'eof': [AFTER_PATH]\n};\n\npathStateMachine[IN_PATH] = {\n  'ws': [IN_PATH],\n  '.': [BEFORE_IDENT],\n  '[': [IN_SUB_PATH],\n  'eof': [AFTER_PATH]\n};\n\npathStateMachine[BEFORE_IDENT] = {\n  'ws': [BEFORE_IDENT],\n  'ident': [IN_IDENT, APPEND]\n};\n\npathStateMachine[IN_IDENT] = {\n  'ident': [IN_IDENT, APPEND],\n  '0': [IN_IDENT, APPEND],\n  'number': [IN_IDENT, APPEND],\n  'ws': [IN_PATH, PUSH],\n  '.': [BEFORE_IDENT, PUSH],\n  '[': [IN_SUB_PATH, PUSH],\n  'eof': [AFTER_PATH, PUSH]\n};\n\npathStateMachine[IN_SUB_PATH] = {\n  \"'\": [IN_SINGLE_QUOTE, APPEND],\n  '\"': [IN_DOUBLE_QUOTE, APPEND],\n  '[': [IN_SUB_PATH, INC_SUB_PATH_DEPTH],\n  ']': [IN_PATH, PUSH_SUB_PATH],\n  'eof': ERROR,\n  'else': [IN_SUB_PATH, APPEND]\n};\n\npathStateMachine[IN_SINGLE_QUOTE] = {\n  \"'\": [IN_SUB_PATH, APPEND],\n  'eof': ERROR,\n  'else': [IN_SINGLE_QUOTE, APPEND]\n};\n\npathStateMachine[IN_DOUBLE_QUOTE] = {\n  '\"': [IN_SUB_PATH, APPEND],\n  'eof': ERROR,\n  'else': [IN_DOUBLE_QUOTE, APPEND]\n};\n\n/**\n * Determine the type of a character in a keypath.\n *\n * @param {Char} ch\n * @return {String} type\n */\n\nfunction getPathCharType(ch) {\n  if (ch === undefined) {\n    return 'eof';\n  }\n\n  var code = ch.charCodeAt(0);\n\n  switch (code) {\n    case 0x5B: // [\n    case 0x5D: // ]\n    case 0x2E: // .\n    case 0x22: // \"\n    case 0x27: // '\n    case 0x30:\n      // 0\n      return ch;\n\n    case 0x5F: // _\n    case 0x24:\n      // $\n      return 'ident';\n\n    case 0x20: // Space\n    case 0x09: // Tab\n    case 0x0A: // Newline\n    case 0x0D: // Return\n    case 0xA0: // No-break space\n    case 0xFEFF: // Byte Order Mark\n    case 0x2028: // Line Separator\n    case 0x2029:\n      // Paragraph Separator\n      return 'ws';\n  }\n\n  // a-z, A-Z\n  if (code >= 0x61 && code <= 0x7A || code >= 0x41 && code <= 0x5A) {\n    return 'ident';\n  }\n\n  // 1-9\n  if (code >= 0x31 && code <= 0x39) {\n    return 'number';\n  }\n\n  return 'else';\n}\n\n/**\n * Format a subPath, return its plain form if it is\n * a literal string or number. Otherwise prepend the\n * dynamic indicator (*).\n *\n * @param {String} path\n * @return {String}\n */\n\nfunction formatSubPath(path) {\n  var trimmed = path.trim();\n  // invalid leading 0\n  if (path.charAt(0) === '0' && isNaN(path)) {\n    return false;\n  }\n  return isLiteral(trimmed) ? stripQuotes(trimmed) : '*' + trimmed;\n}\n\n/**\n * Parse a string path into an array of segments\n *\n * @param {String} path\n * @return {Array|undefined}\n */\n\nfunction parse(path) {\n  var keys = [];\n  var index = -1;\n  var mode = BEFORE_PATH;\n  var subPathDepth = 0;\n  var c, newChar, key, type, transition, action, typeMap;\n\n  var actions = [];\n\n  actions[PUSH] = function () {\n    if (key !== undefined) {\n      keys.push(key);\n      key = undefined;\n    }\n  };\n\n  actions[APPEND] = function () {\n    if (key === undefined) {\n      key = newChar;\n    } else {\n      key += newChar;\n    }\n  };\n\n  actions[INC_SUB_PATH_DEPTH] = function () {\n    actions[APPEND]();\n    subPathDepth++;\n  };\n\n  actions[PUSH_SUB_PATH] = function () {\n    if (subPathDepth > 0) {\n      subPathDepth--;\n      mode = IN_SUB_PATH;\n      actions[APPEND]();\n    } else {\n      subPathDepth = 0;\n      key = formatSubPath(key);\n      if (key === false) {\n        return false;\n      } else {\n        actions[PUSH]();\n      }\n    }\n  };\n\n  function maybeUnescapeQuote() {\n    var nextChar = path[index + 1];\n    if (mode === IN_SINGLE_QUOTE && nextChar === \"'\" || mode === IN_DOUBLE_QUOTE && nextChar === '\"') {\n      index++;\n      newChar = '\\\\' + nextChar;\n      actions[APPEND]();\n      return true;\n    }\n  }\n\n  while (mode != null) {\n    index++;\n    c = path[index];\n\n    if (c === '\\\\' && maybeUnescapeQuote()) {\n      continue;\n    }\n\n    type = getPathCharType(c);\n    typeMap = pathStateMachine[mode];\n    transition = typeMap[type] || typeMap['else'] || ERROR;\n\n    if (transition === ERROR) {\n      return; // parse error\n    }\n\n    mode = transition[0];\n    action = actions[transition[1]];\n    if (action) {\n      newChar = transition[2];\n      newChar = newChar === undefined ? c : newChar;\n      if (action() === false) {\n        return;\n      }\n    }\n\n    if (mode === AFTER_PATH) {\n      keys.raw = path;\n      return keys;\n    }\n  }\n}\n\n/**\n * External parse that check for a cache hit first\n *\n * @param {String} path\n * @return {Array|undefined}\n */\n\nfunction parsePath(path) {\n  var hit = pathCache.get(path);\n  if (!hit) {\n    hit = parse(path);\n    if (hit) {\n      pathCache.put(path, hit);\n    }\n  }\n  return hit;\n}\n\n/**\n * Get from an object from a path string\n *\n * @param {Object} obj\n * @param {String} path\n */\n\nfunction getPath(obj, path) {\n  return parseExpression(path).get(obj);\n}\n\n/**\n * Warn against setting non-existent root path on a vm.\n */\n\nvar warnNonExistent;\nif (process.env.NODE_ENV !== 'production') {\n  warnNonExistent = function (path) {\n    warn('You are setting a non-existent path \"' + path.raw + '\" ' + 'on a vm instance. Consider pre-initializing the property ' + 'with the \"data\" option for more reliable reactivity ' + 'and better performance.');\n  };\n}\n\n/**\n * Set on an object from a path\n *\n * @param {Object} obj\n * @param {String | Array} path\n * @param {*} val\n */\n\nfunction setPath(obj, path, val) {\n  var original = obj;\n  if (typeof path === 'string') {\n    path = parse(path);\n  }\n  if (!path || !isObject(obj)) {\n    return false;\n  }\n  var last, key;\n  for (var i = 0, l = path.length; i < l; i++) {\n    last = obj;\n    key = path[i];\n    if (key.charAt(0) === '*') {\n      key = parseExpression(key.slice(1)).get.call(original, original);\n    }\n    if (i < l - 1) {\n      obj = obj[key];\n      if (!isObject(obj)) {\n        obj = {};\n        if (process.env.NODE_ENV !== 'production' && last._isVue) {\n          warnNonExistent(path);\n        }\n        set(last, key, obj);\n      }\n    } else {\n      if (isArray(obj)) {\n        obj.$set(key, val);\n      } else if (key in obj) {\n        obj[key] = val;\n      } else {\n        if (process.env.NODE_ENV !== 'production' && obj._isVue) {\n          warnNonExistent(path);\n        }\n        set(obj, key, val);\n      }\n    }\n  }\n  return true;\n}\n\nvar path = Object.freeze({\n  parsePath: parsePath,\n  getPath: getPath,\n  setPath: setPath\n});\n\nvar expressionCache = new Cache(1000);\n\nvar allowedKeywords = 'Math,Date,this,true,false,null,undefined,Infinity,NaN,' + 'isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,' + 'encodeURIComponent,parseInt,parseFloat';\nvar allowedKeywordsRE = new RegExp('^(' + allowedKeywords.replace(/,/g, '\\\\b|') + '\\\\b)');\n\n// keywords that don't make sense inside expressions\nvar improperKeywords = 'break,case,class,catch,const,continue,debugger,default,' + 'delete,do,else,export,extends,finally,for,function,if,' + 'import,in,instanceof,let,return,super,switch,throw,try,' + 'var,while,with,yield,enum,await,implements,package,' + 'proctected,static,interface,private,public';\nvar improperKeywordsRE = new RegExp('^(' + improperKeywords.replace(/,/g, '\\\\b|') + '\\\\b)');\n\nvar wsRE = /\\s/g;\nvar newlineRE = /\\n/g;\nvar saveRE = /[\\{,]\\s*[\\w\\$_]+\\s*:|('(?:[^'\\\\]|\\\\.)*'|\"(?:[^\"\\\\]|\\\\.)*\")|new |typeof |void /g;\nvar restoreRE = /\"(\\d+)\"/g;\nvar pathTestRE = /^[A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['.*?'\\]|\\[\".*?\"\\]|\\[\\d+\\]|\\[[A-Za-z_$][\\w$]*\\])*$/;\nvar identRE = /[^\\w$\\.](?:[A-Za-z_$][\\w$]*)/g;\nvar booleanLiteralRE = /^(?:true|false)$/;\n\n/**\n * Save / Rewrite / Restore\n *\n * When rewriting paths found in an expression, it is\n * possible for the same letter sequences to be found in\n * strings and Object literal property keys. Therefore we\n * remove and store these parts in a temporary array, and\n * restore them after the path rewrite.\n */\n\nvar saved = [];\n\n/**\n * Save replacer\n *\n * The save regex can match two possible cases:\n * 1. An opening object literal\n * 2. A string\n * If matched as a plain string, we need to escape its\n * newlines, since the string needs to be preserved when\n * generating the function body.\n *\n * @param {String} str\n * @param {String} isString - str if matched as a string\n * @return {String} - placeholder with index\n */\n\nfunction save(str, isString) {\n  var i = saved.length;\n  saved[i] = isString ? str.replace(newlineRE, '\\\\n') : str;\n  return '\"' + i + '\"';\n}\n\n/**\n * Path rewrite replacer\n *\n * @param {String} raw\n * @return {String}\n */\n\nfunction rewrite(raw) {\n  var c = raw.charAt(0);\n  var path = raw.slice(1);\n  if (allowedKeywordsRE.test(path)) {\n    return raw;\n  } else {\n    path = path.indexOf('\"') > -1 ? path.replace(restoreRE, restore) : path;\n    return c + 'scope.' + path;\n  }\n}\n\n/**\n * Restore replacer\n *\n * @param {String} str\n * @param {String} i - matched save index\n * @return {String}\n */\n\nfunction restore(str, i) {\n  return saved[i];\n}\n\n/**\n * Rewrite an expression, prefixing all path accessors with\n * `scope.` and generate getter/setter functions.\n *\n * @param {String} exp\n * @return {Function}\n */\n\nfunction compileGetter(exp) {\n  if (improperKeywordsRE.test(exp)) {\n    process.env.NODE_ENV !== 'production' && warn('Avoid using reserved keywords in expression: ' + exp);\n  }\n  // reset state\n  saved.length = 0;\n  // save strings and object literal keys\n  var body = exp.replace(saveRE, save).replace(wsRE, '');\n  // rewrite all paths\n  // pad 1 space here becaue the regex matches 1 extra char\n  body = (' ' + body).replace(identRE, rewrite).replace(restoreRE, restore);\n  return makeGetterFn(body);\n}\n\n/**\n * Build a getter function. Requires eval.\n *\n * We isolate the try/catch so it doesn't affect the\n * optimization of the parse function when it is not called.\n *\n * @param {String} body\n * @return {Function|undefined}\n */\n\nfunction makeGetterFn(body) {\n  try {\n    return new Function('scope', 'return ' + body + ';');\n  } catch (e) {\n    process.env.NODE_ENV !== 'production' && warn('Invalid expression. ' + 'Generated function body: ' + body);\n  }\n}\n\n/**\n * Compile a setter function for the expression.\n *\n * @param {String} exp\n * @return {Function|undefined}\n */\n\nfunction compileSetter(exp) {\n  var path = parsePath(exp);\n  if (path) {\n    return function (scope, val) {\n      setPath(scope, path, val);\n    };\n  } else {\n    process.env.NODE_ENV !== 'production' && warn('Invalid setter expression: ' + exp);\n  }\n}\n\n/**\n * Parse an expression into re-written getter/setters.\n *\n * @param {String} exp\n * @param {Boolean} needSet\n * @return {Function}\n */\n\nfunction parseExpression(exp, needSet) {\n  exp = exp.trim();\n  // try cache\n  var hit = expressionCache.get(exp);\n  if (hit) {\n    if (needSet && !hit.set) {\n      hit.set = compileSetter(hit.exp);\n    }\n    return hit;\n  }\n  var res = { exp: exp };\n  res.get = isSimplePath(exp) && exp.indexOf('[') < 0\n  // optimized super simple getter\n  ? makeGetterFn('scope.' + exp)\n  // dynamic getter\n  : compileGetter(exp);\n  if (needSet) {\n    res.set = compileSetter(exp);\n  }\n  expressionCache.put(exp, res);\n  return res;\n}\n\n/**\n * Check if an expression is a simple path.\n *\n * @param {String} exp\n * @return {Boolean}\n */\n\nfunction isSimplePath(exp) {\n  return pathTestRE.test(exp) &&\n  // don't treat true/false as paths\n  !booleanLiteralRE.test(exp) &&\n  // Math constants e.g. Math.PI, Math.E etc.\n  exp.slice(0, 5) !== 'Math.';\n}\n\nvar expression = Object.freeze({\n  parseExpression: parseExpression,\n  isSimplePath: isSimplePath\n});\n\n// we have two separate queues: one for directive updates\n// and one for user watcher registered via $watch().\n// we want to guarantee directive updates to be called\n// before user watchers so that when user watchers are\n// triggered, the DOM would have already been in updated\n// state.\nvar queue = [];\nvar userQueue = [];\nvar has = {};\nvar circular = {};\nvar waiting = false;\nvar internalQueueDepleted = false;\n\n/**\n * Reset the batcher's state.\n */\n\nfunction resetBatcherState() {\n  queue = [];\n  userQueue = [];\n  has = {};\n  circular = {};\n  waiting = internalQueueDepleted = false;\n}\n\n/**\n * Flush both queues and run the watchers.\n */\n\nfunction flushBatcherQueue() {\n  runBatcherQueue(queue);\n  internalQueueDepleted = true;\n  runBatcherQueue(userQueue);\n  // dev tool hook\n  /* istanbul ignore if */\n  if (process.env.NODE_ENV !== 'production') {\n    if (inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__) {\n      window.__VUE_DEVTOOLS_GLOBAL_HOOK__.emit('flush');\n    }\n  }\n  resetBatcherState();\n}\n\n/**\n * Run the watchers in a single queue.\n *\n * @param {Array} queue\n */\n\nfunction runBatcherQueue(queue) {\n  // do not cache length because more watchers might be pushed\n  // as we run existing watchers\n  for (var i = 0; i < queue.length; i++) {\n    var watcher = queue[i];\n    var id = watcher.id;\n    has[id] = null;\n    watcher.run();\n    // in dev build, check and stop circular updates.\n    if (process.env.NODE_ENV !== 'production' && has[id] != null) {\n      circular[id] = (circular[id] || 0) + 1;\n      if (circular[id] > config._maxUpdateCount) {\n        queue.splice(has[id], 1);\n        warn('You may have an infinite update loop for watcher ' + 'with expression: ' + watcher.expression);\n      }\n    }\n  }\n}\n\n/**\n * Push a watcher into the watcher queue.\n * Jobs with duplicate IDs will be skipped unless it's\n * pushed when the queue is being flushed.\n *\n * @param {Watcher} watcher\n *   properties:\n *   - {Number} id\n *   - {Function} run\n */\n\nfunction pushWatcher(watcher) {\n  var id = watcher.id;\n  if (has[id] == null) {\n    // if an internal watcher is pushed, but the internal\n    // queue is already depleted, we run it immediately.\n    if (internalQueueDepleted && !watcher.user) {\n      watcher.run();\n      return;\n    }\n    // push watcher into appropriate queue\n    var q = watcher.user ? userQueue : queue;\n    has[id] = q.length;\n    q.push(watcher);\n    // queue the flush\n    if (!waiting) {\n      waiting = true;\n      nextTick(flushBatcherQueue);\n    }\n  }\n}\n\nvar uid$2 = 0;\n\n/**\n * A watcher parses an expression, collects dependencies,\n * and fires callback when the expression value changes.\n * This is used for both the $watch() api and directives.\n *\n * @param {Vue} vm\n * @param {String} expression\n * @param {Function} cb\n * @param {Object} options\n *                 - {Array} filters\n *                 - {Boolean} twoWay\n *                 - {Boolean} deep\n *                 - {Boolean} user\n *                 - {Boolean} sync\n *                 - {Boolean} lazy\n *                 - {Function} [preProcess]\n *                 - {Function} [postProcess]\n * @constructor\n */\nfunction Watcher(vm, expOrFn, cb, options) {\n  // mix in options\n  if (options) {\n    extend(this, options);\n  }\n  var isFn = typeof expOrFn === 'function';\n  this.vm = vm;\n  vm._watchers.push(this);\n  this.expression = isFn ? expOrFn.toString() : expOrFn;\n  this.cb = cb;\n  this.id = ++uid$2; // uid for batching\n  this.active = true;\n  this.dirty = this.lazy; // for lazy watchers\n  this.deps = Object.create(null);\n  this.newDeps = null;\n  this.prevError = null; // for async error stacks\n  // parse expression for getter/setter\n  if (isFn) {\n    this.getter = expOrFn;\n    this.setter = undefined;\n  } else {\n    var res = parseExpression(expOrFn, this.twoWay);\n    this.getter = res.get;\n    this.setter = res.set;\n  }\n  this.value = this.lazy ? undefined : this.get();\n  // state for avoiding false triggers for deep and Array\n  // watchers during vm._digest()\n  this.queued = this.shallow = false;\n}\n\n/**\n * Add a dependency to this directive.\n *\n * @param {Dep} dep\n */\n\nWatcher.prototype.addDep = function (dep) {\n  var id = dep.id;\n  if (!this.newDeps[id]) {\n    this.newDeps[id] = dep;\n    if (!this.deps[id]) {\n      this.deps[id] = dep;\n      dep.addSub(this);\n    }\n  }\n};\n\n/**\n * Evaluate the getter, and re-collect dependencies.\n */\n\nWatcher.prototype.get = function () {\n  this.beforeGet();\n  var scope = this.scope || this.vm;\n  var value;\n  try {\n    value = this.getter.call(scope, scope);\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production' && config.warnExpressionErrors) {\n      warn('Error when evaluating expression \"' + this.expression + '\". ' + (config.debug ? '' : 'Turn on debug mode to see stack trace.'), e);\n    }\n  }\n  // \"touch\" every property so they are all tracked as\n  // dependencies for deep watching\n  if (this.deep) {\n    traverse(value);\n  }\n  if (this.preProcess) {\n    value = this.preProcess(value);\n  }\n  if (this.filters) {\n    value = scope._applyFilters(value, null, this.filters, false);\n  }\n  if (this.postProcess) {\n    value = this.postProcess(value);\n  }\n  this.afterGet();\n  return value;\n};\n\n/**\n * Set the corresponding value with the setter.\n *\n * @param {*} value\n */\n\nWatcher.prototype.set = function (value) {\n  var scope = this.scope || this.vm;\n  if (this.filters) {\n    value = scope._applyFilters(value, this.value, this.filters, true);\n  }\n  try {\n    this.setter.call(scope, scope, value);\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production' && config.warnExpressionErrors) {\n      warn('Error when evaluating setter \"' + this.expression + '\"', e);\n    }\n  }\n  // two-way sync for v-for alias\n  var forContext = scope.$forContext;\n  if (forContext && forContext.alias === this.expression) {\n    if (forContext.filters) {\n      process.env.NODE_ENV !== 'production' && warn('It seems you are using two-way binding on ' + 'a v-for alias (' + this.expression + '), and the ' + 'v-for has filters. This will not work properly. ' + 'Either remove the filters or use an array of ' + 'objects and bind to object properties instead.');\n      return;\n    }\n    forContext._withLock(function () {\n      if (scope.$key) {\n        // original is an object\n        forContext.rawValue[scope.$key] = value;\n      } else {\n        forContext.rawValue.$set(scope.$index, value);\n      }\n    });\n  }\n};\n\n/**\n * Prepare for dependency collection.\n */\n\nWatcher.prototype.beforeGet = function () {\n  Dep.target = this;\n  this.newDeps = Object.create(null);\n};\n\n/**\n * Clean up for dependency collection.\n */\n\nWatcher.prototype.afterGet = function () {\n  Dep.target = null;\n  var ids = Object.keys(this.deps);\n  var i = ids.length;\n  while (i--) {\n    var id = ids[i];\n    if (!this.newDeps[id]) {\n      this.deps[id].removeSub(this);\n    }\n  }\n  this.deps = this.newDeps;\n};\n\n/**\n * Subscriber interface.\n * Will be called when a dependency changes.\n *\n * @param {Boolean} shallow\n */\n\nWatcher.prototype.update = function (shallow) {\n  if (this.lazy) {\n    this.dirty = true;\n  } else if (this.sync || !config.async) {\n    this.run();\n  } else {\n    // if queued, only overwrite shallow with non-shallow,\n    // but not the other way around.\n    this.shallow = this.queued ? shallow ? this.shallow : false : !!shallow;\n    this.queued = true;\n    // record before-push error stack in debug mode\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.debug) {\n      this.prevError = new Error('[vue] async stack trace');\n    }\n    pushWatcher(this);\n  }\n};\n\n/**\n * Batcher job interface.\n * Will be called by the batcher.\n */\n\nWatcher.prototype.run = function () {\n  if (this.active) {\n    var value = this.get();\n    if (value !== this.value ||\n    // Deep watchers and Array watchers should fire even\n    // when the value is the same, because the value may\n    // have mutated; but only do so if this is a\n    // non-shallow update (caused by a vm digest).\n    (isArray(value) || this.deep) && !this.shallow) {\n      // set new value\n      var oldValue = this.value;\n      this.value = value;\n      // in debug + async mode, when a watcher callbacks\n      // throws, we also throw the saved before-push error\n      // so the full cross-tick stack trace is available.\n      var prevError = this.prevError;\n      /* istanbul ignore if */\n      if (process.env.NODE_ENV !== 'production' && config.debug && prevError) {\n        this.prevError = null;\n        try {\n          this.cb.call(this.vm, value, oldValue);\n        } catch (e) {\n          nextTick(function () {\n            throw prevError;\n          }, 0);\n          throw e;\n        }\n      } else {\n        this.cb.call(this.vm, value, oldValue);\n      }\n    }\n    this.queued = this.shallow = false;\n  }\n};\n\n/**\n * Evaluate the value of the watcher.\n * This only gets called for lazy watchers.\n */\n\nWatcher.prototype.evaluate = function () {\n  // avoid overwriting another watcher that is being\n  // collected.\n  var current = Dep.target;\n  this.value = this.get();\n  this.dirty = false;\n  Dep.target = current;\n};\n\n/**\n * Depend on all deps collected by this watcher.\n */\n\nWatcher.prototype.depend = function () {\n  var depIds = Object.keys(this.deps);\n  var i = depIds.length;\n  while (i--) {\n    this.deps[depIds[i]].depend();\n  }\n};\n\n/**\n * Remove self from all dependencies' subcriber list.\n */\n\nWatcher.prototype.teardown = function () {\n  if (this.active) {\n    // remove self from vm's watcher list\n    // we can skip this if the vm if being destroyed\n    // which can improve teardown performance.\n    if (!this.vm._isBeingDestroyed) {\n      this.vm._watchers.$remove(this);\n    }\n    var depIds = Object.keys(this.deps);\n    var i = depIds.length;\n    while (i--) {\n      this.deps[depIds[i]].removeSub(this);\n    }\n    this.active = false;\n    this.vm = this.cb = this.value = null;\n  }\n};\n\n/**\n * Recrusively traverse an object to evoke all converted\n * getters, so that every nested property inside the object\n * is collected as a \"deep\" dependency.\n *\n * @param {*} val\n */\n\nfunction traverse(val) {\n  var i, keys;\n  if (isArray(val)) {\n    i = val.length;\n    while (i--) traverse(val[i]);\n  } else if (isObject(val)) {\n    keys = Object.keys(val);\n    i = keys.length;\n    while (i--) traverse(val[keys[i]]);\n  }\n}\n\nvar cloak = {\n  bind: function bind() {\n    var el = this.el;\n    this.vm.$once('hook:compiled', function () {\n      el.removeAttribute('v-cloak');\n    });\n  }\n};\n\nvar ref = {\n  bind: function bind() {\n    process.env.NODE_ENV !== 'production' && warn('v-ref:' + this.arg + ' must be used on a child ' + 'component. Found on <' + this.el.tagName.toLowerCase() + '>.');\n  }\n};\n\nvar el = {\n\n  priority: 1500,\n\n  bind: function bind() {\n    /* istanbul ignore if */\n    if (!this.arg) {\n      return;\n    }\n    var id = this.id = camelize(this.arg);\n    var refs = (this._scope || this.vm).$els;\n    if (hasOwn(refs, id)) {\n      refs[id] = this.el;\n    } else {\n      defineReactive(refs, id, this.el);\n    }\n  },\n\n  unbind: function unbind() {\n    var refs = (this._scope || this.vm).$els;\n    if (refs[this.id] === this.el) {\n      refs[this.id] = null;\n    }\n  }\n};\n\nvar prefixes = ['-webkit-', '-moz-', '-ms-'];\nvar camelPrefixes = ['Webkit', 'Moz', 'ms'];\nvar importantRE = /!important;?$/;\nvar propCache = Object.create(null);\n\nvar testEl = null;\n\nvar style = {\n\n  deep: true,\n\n  update: function update(value) {\n    if (typeof value === 'string') {\n      this.el.style.cssText = value;\n    } else if (isArray(value)) {\n      this.handleObject(value.reduce(extend, {}));\n    } else {\n      this.handleObject(value || {});\n    }\n  },\n\n  handleObject: function handleObject(value) {\n    // cache object styles so that only changed props\n    // are actually updated.\n    var cache = this.cache || (this.cache = {});\n    var name, val;\n    for (name in cache) {\n      if (!(name in value)) {\n        this.handleSingle(name, null);\n        delete cache[name];\n      }\n    }\n    for (name in value) {\n      val = value[name];\n      if (val !== cache[name]) {\n        cache[name] = val;\n        this.handleSingle(name, val);\n      }\n    }\n  },\n\n  handleSingle: function handleSingle(prop, value) {\n    prop = normalize(prop);\n    if (!prop) return; // unsupported prop\n    // cast possible numbers/booleans into strings\n    if (value != null) value += '';\n    if (value) {\n      var isImportant = importantRE.test(value) ? 'important' : '';\n      if (isImportant) {\n        value = value.replace(importantRE, '').trim();\n      }\n      this.el.style.setProperty(prop, value, isImportant);\n    } else {\n      this.el.style.removeProperty(prop);\n    }\n  }\n\n};\n\n/**\n * Normalize a CSS property name.\n * - cache result\n * - auto prefix\n * - camelCase -> dash-case\n *\n * @param {String} prop\n * @return {String}\n */\n\nfunction normalize(prop) {\n  if (propCache[prop]) {\n    return propCache[prop];\n  }\n  var res = prefix(prop);\n  propCache[prop] = propCache[res] = res;\n  return res;\n}\n\n/**\n * Auto detect the appropriate prefix for a CSS property.\n * https://gist.github.com/paulirish/523692\n *\n * @param {String} prop\n * @return {String}\n */\n\nfunction prefix(prop) {\n  prop = hyphenate(prop);\n  var camel = camelize(prop);\n  var upper = camel.charAt(0).toUpperCase() + camel.slice(1);\n  if (!testEl) {\n    testEl = document.createElement('div');\n  }\n  if (camel in testEl.style) {\n    return prop;\n  }\n  var i = prefixes.length;\n  var prefixed;\n  while (i--) {\n    prefixed = camelPrefixes[i] + upper;\n    if (prefixed in testEl.style) {\n      return prefixes[i] + prop;\n    }\n  }\n}\n\n// xlink\nvar xlinkNS = 'http://www.w3.org/1999/xlink';\nvar xlinkRE = /^xlink:/;\n\n// these input element attributes should also set their\n// corresponding properties\nvar inputProps = {\n  value: 1,\n  checked: 1,\n  selected: 1\n};\n\n// these attributes should set a hidden property for\n// binding v-model to object values\nvar modelProps = {\n  value: '_value',\n  'true-value': '_trueValue',\n  'false-value': '_falseValue'\n};\n\n// check for attributes that prohibit interpolations\nvar disallowedInterpAttrRE = /^v-|^:|^@|^(is|transition|transition-mode|debounce|track-by|stagger|enter-stagger|leave-stagger)$/;\n\nvar bind = {\n\n  priority: 850,\n\n  bind: function bind() {\n    var attr = this.arg;\n    var tag = this.el.tagName;\n    // should be deep watch on object mode\n    if (!attr) {\n      this.deep = true;\n    }\n    // handle interpolation bindings\n    if (this.descriptor.interp) {\n      // only allow binding on native attributes\n      if (disallowedInterpAttrRE.test(attr) || attr === 'name' && (tag === 'PARTIAL' || tag === 'SLOT')) {\n        process.env.NODE_ENV !== 'production' && warn(attr + '=\"' + this.descriptor.raw + '\": ' + 'attribute interpolation is not allowed in Vue.js ' + 'directives and special attributes.');\n        this.el.removeAttribute(attr);\n        this.invalid = true;\n      }\n\n      /* istanbul ignore if */\n      if (process.env.NODE_ENV !== 'production') {\n        var raw = attr + '=\"' + this.descriptor.raw + '\": ';\n        // warn src\n        if (attr === 'src') {\n          warn(raw + 'interpolation in \"src\" attribute will cause ' + 'a 404 request. Use v-bind:src instead.');\n        }\n\n        // warn style\n        if (attr === 'style') {\n          warn(raw + 'interpolation in \"style\" attribute will cause ' + 'the attribute to be discarded in Internet Explorer. ' + 'Use v-bind:style instead.');\n        }\n      }\n    }\n  },\n\n  update: function update(value) {\n    if (this.invalid) {\n      return;\n    }\n    var attr = this.arg;\n    if (this.arg) {\n      this.handleSingle(attr, value);\n    } else {\n      this.handleObject(value || {});\n    }\n  },\n\n  // share object handler with v-bind:class\n  handleObject: style.handleObject,\n\n  handleSingle: function handleSingle(attr, value) {\n    if (inputProps[attr] && attr in this.el) {\n      this.el[attr] = attr === 'value' ? value || '' : // IE9 will set input.value to \"null\" for null...\n      value;\n    }\n    // set model props\n    var modelProp = modelProps[attr];\n    if (modelProp) {\n      this.el[modelProp] = value;\n      // update v-model if present\n      var model = this.el.__v_model;\n      if (model) {\n        model.listener();\n      }\n    }\n    // do not set value attribute for textarea\n    if (attr === 'value' && this.el.tagName === 'TEXTAREA') {\n      this.el.removeAttribute(attr);\n      return;\n    }\n    // update attribute\n    if (value != null && value !== false) {\n      if (xlinkRE.test(attr)) {\n        this.el.setAttributeNS(xlinkNS, attr, value);\n      } else {\n        this.el.setAttribute(attr, value);\n      }\n    } else {\n      this.el.removeAttribute(attr);\n    }\n  }\n};\n\n// keyCode aliases\nvar keyCodes = {\n  esc: 27,\n  tab: 9,\n  enter: 13,\n  space: 32,\n  'delete': 46,\n  up: 38,\n  left: 37,\n  right: 39,\n  down: 40\n};\n\nfunction keyFilter(handler, keys) {\n  var codes = keys.map(function (key) {\n    var charCode = key.charCodeAt(0);\n    if (charCode > 47 && charCode < 58) {\n      return parseInt(key, 10);\n    }\n    if (key.length === 1) {\n      charCode = key.toUpperCase().charCodeAt(0);\n      if (charCode > 64 && charCode < 91) {\n        return charCode;\n      }\n    }\n    return keyCodes[key];\n  });\n  return function keyHandler(e) {\n    if (codes.indexOf(e.keyCode) > -1) {\n      return handler.call(this, e);\n    }\n  };\n}\n\nfunction stopFilter(handler) {\n  return function stopHandler(e) {\n    e.stopPropagation();\n    return handler.call(this, e);\n  };\n}\n\nfunction preventFilter(handler) {\n  return function preventHandler(e) {\n    e.preventDefault();\n    return handler.call(this, e);\n  };\n}\n\nvar on = {\n\n  acceptStatement: true,\n  priority: 700,\n\n  bind: function bind() {\n    // deal with iframes\n    if (this.el.tagName === 'IFRAME' && this.arg !== 'load') {\n      var self = this;\n      this.iframeBind = function () {\n        on$1(self.el.contentWindow, self.arg, self.handler);\n      };\n      this.on('load', this.iframeBind);\n    }\n  },\n\n  update: function update(handler) {\n    // stub a noop for v-on with no value,\n    // e.g. @mousedown.prevent\n    if (!this.descriptor.raw) {\n      handler = function () {};\n    }\n\n    if (typeof handler !== 'function') {\n      process.env.NODE_ENV !== 'production' && warn('v-on:' + this.arg + '=\"' + this.expression + '\" expects a function value, ' + 'got ' + handler);\n      return;\n    }\n\n    // apply modifiers\n    if (this.modifiers.stop) {\n      handler = stopFilter(handler);\n    }\n    if (this.modifiers.prevent) {\n      handler = preventFilter(handler);\n    }\n    // key filter\n    var keys = Object.keys(this.modifiers).filter(function (key) {\n      return key !== 'stop' && key !== 'prevent';\n    });\n    if (keys.length) {\n      handler = keyFilter(handler, keys);\n    }\n\n    this.reset();\n    this.handler = handler;\n\n    if (this.iframeBind) {\n      this.iframeBind();\n    } else {\n      on$1(this.el, this.arg, this.handler);\n    }\n  },\n\n  reset: function reset() {\n    var el = this.iframeBind ? this.el.contentWindow : this.el;\n    if (this.handler) {\n      off(el, this.arg, this.handler);\n    }\n  },\n\n  unbind: function unbind() {\n    this.reset();\n  }\n};\n\nvar checkbox = {\n\n  bind: function bind() {\n    var self = this;\n    var el = this.el;\n\n    this.getValue = function () {\n      return el.hasOwnProperty('_value') ? el._value : self.params.number ? toNumber(el.value) : el.value;\n    };\n\n    function getBooleanValue() {\n      var val = el.checked;\n      if (val && el.hasOwnProperty('_trueValue')) {\n        return el._trueValue;\n      }\n      if (!val && el.hasOwnProperty('_falseValue')) {\n        return el._falseValue;\n      }\n      return val;\n    }\n\n    this.listener = function () {\n      var model = self._watcher.value;\n      if (isArray(model)) {\n        var val = self.getValue();\n        if (el.checked) {\n          if (indexOf(model, val) < 0) {\n            model.push(val);\n          }\n        } else {\n          model.$remove(val);\n        }\n      } else {\n        self.set(getBooleanValue());\n      }\n    };\n\n    this.on('change', this.listener);\n    if (el.hasAttribute('checked')) {\n      this.afterBind = this.listener;\n    }\n  },\n\n  update: function update(value) {\n    var el = this.el;\n    if (isArray(value)) {\n      el.checked = indexOf(value, this.getValue()) > -1;\n    } else {\n      if (el.hasOwnProperty('_trueValue')) {\n        el.checked = looseEqual(value, el._trueValue);\n      } else {\n        el.checked = !!value;\n      }\n    }\n  }\n};\n\nvar select = {\n\n  bind: function bind() {\n    var self = this;\n    var el = this.el;\n\n    // method to force update DOM using latest value.\n    this.forceUpdate = function () {\n      if (self._watcher) {\n        self.update(self._watcher.get());\n      }\n    };\n\n    // check if this is a multiple select\n    var multiple = this.multiple = el.hasAttribute('multiple');\n\n    // attach listener\n    this.listener = function () {\n      var value = getValue(el, multiple);\n      value = self.params.number ? isArray(value) ? value.map(toNumber) : toNumber(value) : value;\n      self.set(value);\n    };\n    this.on('change', this.listener);\n\n    // if has initial value, set afterBind\n    var initValue = getValue(el, multiple, true);\n    if (multiple && initValue.length || !multiple && initValue !== null) {\n      this.afterBind = this.listener;\n    }\n\n    // All major browsers except Firefox resets\n    // selectedIndex with value -1 to 0 when the element\n    // is appended to a new parent, therefore we have to\n    // force a DOM update whenever that happens...\n    this.vm.$on('hook:attached', this.forceUpdate);\n  },\n\n  update: function update(value) {\n    var el = this.el;\n    el.selectedIndex = -1;\n    var multi = this.multiple && isArray(value);\n    var options = el.options;\n    var i = options.length;\n    var op, val;\n    while (i--) {\n      op = options[i];\n      val = op.hasOwnProperty('_value') ? op._value : op.value;\n      /* eslint-disable eqeqeq */\n      op.selected = multi ? indexOf$1(value, val) > -1 : looseEqual(value, val);\n      /* eslint-enable eqeqeq */\n    }\n  },\n\n  unbind: function unbind() {\n    /* istanbul ignore next */\n    this.vm.$off('hook:attached', this.forceUpdate);\n  }\n};\n\n/**\n * Get select value\n *\n * @param {SelectElement} el\n * @param {Boolean} multi\n * @param {Boolean} init\n * @return {Array|*}\n */\n\nfunction getValue(el, multi, init) {\n  var res = multi ? [] : null;\n  var op, val, selected;\n  for (var i = 0, l = el.options.length; i < l; i++) {\n    op = el.options[i];\n    selected = init ? op.hasAttribute('selected') : op.selected;\n    if (selected) {\n      val = op.hasOwnProperty('_value') ? op._value : op.value;\n      if (multi) {\n        res.push(val);\n      } else {\n        return val;\n      }\n    }\n  }\n  return res;\n}\n\n/**\n * Native Array.indexOf uses strict equal, but in this\n * case we need to match string/numbers with custom equal.\n *\n * @param {Array} arr\n * @param {*} val\n */\n\nfunction indexOf$1(arr, val) {\n  var i = arr.length;\n  while (i--) {\n    if (looseEqual(arr[i], val)) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nvar radio = {\n\n  bind: function bind() {\n    var self = this;\n    var el = this.el;\n\n    this.getValue = function () {\n      // value overwrite via v-bind:value\n      if (el.hasOwnProperty('_value')) {\n        return el._value;\n      }\n      var val = el.value;\n      if (self.params.number) {\n        val = toNumber(val);\n      }\n      return val;\n    };\n\n    this.listener = function () {\n      self.set(self.getValue());\n    };\n    this.on('change', this.listener);\n\n    if (el.hasAttribute('checked')) {\n      this.afterBind = this.listener;\n    }\n  },\n\n  update: function update(value) {\n    this.el.checked = looseEqual(value, this.getValue());\n  }\n};\n\nvar text$2 = {\n\n  bind: function bind() {\n    var self = this;\n    var el = this.el;\n    var isRange = el.type === 'range';\n    var lazy = this.params.lazy;\n    var number = this.params.number;\n    var debounce = this.params.debounce;\n\n    // handle composition events.\n    //   http://blog.evanyou.me/2014/01/03/composition-event/\n    // skip this for Android because it handles composition\n    // events quite differently. Android doesn't trigger\n    // composition events for language input methods e.g.\n    // Chinese, but instead triggers them for spelling\n    // suggestions... (see Discussion/#162)\n    var composing = false;\n    if (!isAndroid && !isRange) {\n      this.on('compositionstart', function () {\n        composing = true;\n      });\n      this.on('compositionend', function () {\n        composing = false;\n        // in IE11 the \"compositionend\" event fires AFTER\n        // the \"input\" event, so the input handler is blocked\n        // at the end... have to call it here.\n        //\n        // #1327: in lazy mode this is unecessary.\n        if (!lazy) {\n          self.listener();\n        }\n      });\n    }\n\n    // prevent messing with the input when user is typing,\n    // and force update on blur.\n    this.focused = false;\n    if (!isRange) {\n      this.on('focus', function () {\n        self.focused = true;\n      });\n      this.on('blur', function () {\n        self.focused = false;\n        self.listener();\n      });\n    }\n\n    // Now attach the main listener\n    this.listener = function () {\n      if (composing) return;\n      var val = number || isRange ? toNumber(el.value) : el.value;\n      self.set(val);\n      // force update on next tick to avoid lock & same value\n      // also only update when user is not typing\n      nextTick(function () {\n        if (self._bound && !self.focused) {\n          self.update(self._watcher.value);\n        }\n      });\n    };\n\n    // apply debounce\n    if (debounce) {\n      this.listener = _debounce(this.listener, debounce);\n    }\n\n    // Support jQuery events, since jQuery.trigger() doesn't\n    // trigger native events in some cases and some plugins\n    // rely on $.trigger()\n    //\n    // We want to make sure if a listener is attached using\n    // jQuery, it is also removed with jQuery, that's why\n    // we do the check for each directive instance and\n    // store that check result on itself. This also allows\n    // easier test coverage control by unsetting the global\n    // jQuery variable in tests.\n    this.hasjQuery = typeof jQuery === 'function';\n    if (this.hasjQuery) {\n      jQuery(el).on('change', this.listener);\n      if (!lazy) {\n        jQuery(el).on('input', this.listener);\n      }\n    } else {\n      this.on('change', this.listener);\n      if (!lazy) {\n        this.on('input', this.listener);\n      }\n    }\n\n    // IE9 doesn't fire input event on backspace/del/cut\n    if (!lazy && isIE9) {\n      this.on('cut', function () {\n        nextTick(self.listener);\n      });\n      this.on('keyup', function (e) {\n        if (e.keyCode === 46 || e.keyCode === 8) {\n          self.listener();\n        }\n      });\n    }\n\n    // set initial value if present\n    if (el.hasAttribute('value') || el.tagName === 'TEXTAREA' && el.value.trim()) {\n      this.afterBind = this.listener;\n    }\n  },\n\n  update: function update(value) {\n    this.el.value = _toString(value);\n  },\n\n  unbind: function unbind() {\n    var el = this.el;\n    if (this.hasjQuery) {\n      jQuery(el).off('change', this.listener);\n      jQuery(el).off('input', this.listener);\n    }\n  }\n};\n\nvar handlers = {\n  text: text$2,\n  radio: radio,\n  select: select,\n  checkbox: checkbox\n};\n\nvar model = {\n\n  priority: 800,\n  twoWay: true,\n  handlers: handlers,\n  params: ['lazy', 'number', 'debounce'],\n\n  /**\n   * Possible elements:\n   *   <select>\n   *   <textarea>\n   *   <input type=\"*\">\n   *     - text\n   *     - checkbox\n   *     - radio\n   *     - number\n   */\n\n  bind: function bind() {\n    // friendly warning...\n    this.checkFilters();\n    if (this.hasRead && !this.hasWrite) {\n      process.env.NODE_ENV !== 'production' && warn('It seems you are using a read-only filter with ' + 'v-model. You might want to use a two-way filter ' + 'to ensure correct behavior.');\n    }\n    var el = this.el;\n    var tag = el.tagName;\n    var handler;\n    if (tag === 'INPUT') {\n      handler = handlers[el.type] || handlers.text;\n    } else if (tag === 'SELECT') {\n      handler = handlers.select;\n    } else if (tag === 'TEXTAREA') {\n      handler = handlers.text;\n    } else {\n      process.env.NODE_ENV !== 'production' && warn('v-model does not support element type: ' + tag);\n      return;\n    }\n    el.__v_model = this;\n    handler.bind.call(this);\n    this.update = handler.update;\n    this._unbind = handler.unbind;\n  },\n\n  /**\n   * Check read/write filter stats.\n   */\n\n  checkFilters: function checkFilters() {\n    var filters = this.filters;\n    if (!filters) return;\n    var i = filters.length;\n    while (i--) {\n      var filter = resolveAsset(this.vm.$options, 'filters', filters[i].name);\n      if (typeof filter === 'function' || filter.read) {\n        this.hasRead = true;\n      }\n      if (filter.write) {\n        this.hasWrite = true;\n      }\n    }\n  },\n\n  unbind: function unbind() {\n    this.el.__v_model = null;\n    this._unbind && this._unbind();\n  }\n};\n\nvar show = {\n\n  bind: function bind() {\n    // check else block\n    var next = this.el.nextElementSibling;\n    if (next && getAttr(next, 'v-else') !== null) {\n      this.elseEl = next;\n    }\n  },\n\n  update: function update(value) {\n    this.apply(this.el, value);\n    if (this.elseEl) {\n      this.apply(this.elseEl, !value);\n    }\n  },\n\n  apply: function apply(el, value) {\n    applyTransition(el, value ? 1 : -1, function () {\n      el.style.display = value ? '' : 'none';\n    }, this.vm);\n  }\n};\n\nvar templateCache = new Cache(1000);\nvar idSelectorCache = new Cache(1000);\n\nvar map = {\n  efault: [0, '', ''],\n  legend: [1, '<fieldset>', '</fieldset>'],\n  tr: [2, '<table><tbody>', '</tbody></table>'],\n  col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>']\n};\n\nmap.td = map.th = [3, '<table><tbody><tr>', '</tr></tbody></table>'];\n\nmap.option = map.optgroup = [1, '<select multiple=\"multiple\">', '</select>'];\n\nmap.thead = map.tbody = map.colgroup = map.caption = map.tfoot = [1, '<table>', '</table>'];\n\nmap.g = map.defs = map.symbol = map.use = map.image = map.text = map.circle = map.ellipse = map.line = map.path = map.polygon = map.polyline = map.rect = [1, '<svg ' + 'xmlns=\"http://www.w3.org/2000/svg\" ' + 'xmlns:xlink=\"http://www.w3.org/1999/xlink\" ' + 'xmlns:ev=\"http://www.w3.org/2001/xml-events\"' + 'version=\"1.1\">', '</svg>'];\n\n/**\n * Check if a node is a supported template node with a\n * DocumentFragment content.\n *\n * @param {Node} node\n * @return {Boolean}\n */\n\nfunction isRealTemplate(node) {\n  return isTemplate(node) && node.content instanceof DocumentFragment;\n}\n\nvar tagRE$1 = /<([\\w:]+)/;\nvar entityRE = /&\\w+;|&#\\d+;|&#x[\\dA-F]+;/;\n\n/**\n * Convert a string template to a DocumentFragment.\n * Determines correct wrapping by tag types. Wrapping\n * strategy found in jQuery & component/domify.\n *\n * @param {String} templateString\n * @param {Boolean} raw\n * @return {DocumentFragment}\n */\n\nfunction stringToFragment(templateString, raw) {\n  // try a cache hit first\n  var hit = templateCache.get(templateString);\n  if (hit) {\n    return hit;\n  }\n\n  var frag = document.createDocumentFragment();\n  var tagMatch = templateString.match(tagRE$1);\n  var entityMatch = entityRE.test(templateString);\n\n  if (!tagMatch && !entityMatch) {\n    // text only, return a single text node.\n    frag.appendChild(document.createTextNode(templateString));\n  } else {\n\n    var tag = tagMatch && tagMatch[1];\n    var wrap = map[tag] || map.efault;\n    var depth = wrap[0];\n    var prefix = wrap[1];\n    var suffix = wrap[2];\n    var node = document.createElement('div');\n\n    if (!raw) {\n      templateString = templateString.trim();\n    }\n    node.innerHTML = prefix + templateString + suffix;\n    while (depth--) {\n      node = node.lastChild;\n    }\n\n    var child;\n    /* eslint-disable no-cond-assign */\n    while (child = node.firstChild) {\n      /* eslint-enable no-cond-assign */\n      frag.appendChild(child);\n    }\n  }\n\n  templateCache.put(templateString, frag);\n  return frag;\n}\n\n/**\n * Convert a template node to a DocumentFragment.\n *\n * @param {Node} node\n * @return {DocumentFragment}\n */\n\nfunction nodeToFragment(node) {\n  // if its a template tag and the browser supports it,\n  // its content is already a document fragment.\n  if (isRealTemplate(node)) {\n    trimNode(node.content);\n    return node.content;\n  }\n  // script template\n  if (node.tagName === 'SCRIPT') {\n    return stringToFragment(node.textContent);\n  }\n  // normal node, clone it to avoid mutating the original\n  var clonedNode = cloneNode(node);\n  var frag = document.createDocumentFragment();\n  var child;\n  /* eslint-disable no-cond-assign */\n  while (child = clonedNode.firstChild) {\n    /* eslint-enable no-cond-assign */\n    frag.appendChild(child);\n  }\n  trimNode(frag);\n  return frag;\n}\n\n// Test for the presence of the Safari template cloning bug\n// https://bugs.webkit.org/showug.cgi?id=137755\nvar hasBrokenTemplate = (function () {\n  /* istanbul ignore else */\n  if (inBrowser) {\n    var a = document.createElement('div');\n    a.innerHTML = '<template>1</template>';\n    return !a.cloneNode(true).firstChild.innerHTML;\n  } else {\n    return false;\n  }\n})();\n\n// Test for IE10/11 textarea placeholder clone bug\nvar hasTextareaCloneBug = (function () {\n  /* istanbul ignore else */\n  if (inBrowser) {\n    var t = document.createElement('textarea');\n    t.placeholder = 't';\n    return t.cloneNode(true).value === 't';\n  } else {\n    return false;\n  }\n})();\n\n/**\n * 1. Deal with Safari cloning nested <template> bug by\n *    manually cloning all template instances.\n * 2. Deal with IE10/11 textarea placeholder bug by setting\n *    the correct value after cloning.\n *\n * @param {Element|DocumentFragment} node\n * @return {Element|DocumentFragment}\n */\n\nfunction cloneNode(node) {\n  if (!node.querySelectorAll) {\n    return node.cloneNode();\n  }\n  var res = node.cloneNode(true);\n  var i, original, cloned;\n  /* istanbul ignore if */\n  if (hasBrokenTemplate) {\n    var tempClone = res;\n    if (isRealTemplate(node)) {\n      node = node.content;\n      tempClone = res.content;\n    }\n    original = node.querySelectorAll('template');\n    if (original.length) {\n      cloned = tempClone.querySelectorAll('template');\n      i = cloned.length;\n      while (i--) {\n        cloned[i].parentNode.replaceChild(cloneNode(original[i]), cloned[i]);\n      }\n    }\n  }\n  /* istanbul ignore if */\n  if (hasTextareaCloneBug) {\n    if (node.tagName === 'TEXTAREA') {\n      res.value = node.value;\n    } else {\n      original = node.querySelectorAll('textarea');\n      if (original.length) {\n        cloned = res.querySelectorAll('textarea');\n        i = cloned.length;\n        while (i--) {\n          cloned[i].value = original[i].value;\n        }\n      }\n    }\n  }\n  return res;\n}\n\n/**\n * Process the template option and normalizes it into a\n * a DocumentFragment that can be used as a partial or a\n * instance template.\n *\n * @param {*} template\n *        Possible values include:\n *        - DocumentFragment object\n *        - Node object of type Template\n *        - id selector: '#some-template-id'\n *        - template string: '<div><span>{{msg}}</span></div>'\n * @param {Boolean} shouldClone\n * @param {Boolean} raw\n *        inline HTML interpolation. Do not check for id\n *        selector and keep whitespace in the string.\n * @return {DocumentFragment|undefined}\n */\n\nfunction parseTemplate(template, shouldClone, raw) {\n  var node, frag;\n\n  // if the template is already a document fragment,\n  // do nothing\n  if (template instanceof DocumentFragment) {\n    trimNode(template);\n    return shouldClone ? cloneNode(template) : template;\n  }\n\n  if (typeof template === 'string') {\n    // id selector\n    if (!raw && template.charAt(0) === '#') {\n      // id selector can be cached too\n      frag = idSelectorCache.get(template);\n      if (!frag) {\n        node = document.getElementById(template.slice(1));\n        if (node) {\n          frag = nodeToFragment(node);\n          // save selector to cache\n          idSelectorCache.put(template, frag);\n        }\n      }\n    } else {\n      // normal string template\n      frag = stringToFragment(template, raw);\n    }\n  } else if (template.nodeType) {\n    // a direct node\n    frag = nodeToFragment(template);\n  }\n\n  return frag && shouldClone ? cloneNode(frag) : frag;\n}\n\nvar template = Object.freeze({\n  cloneNode: cloneNode,\n  parseTemplate: parseTemplate\n});\n\n/**\n * Abstraction for a partially-compiled fragment.\n * Can optionally compile content with a child scope.\n *\n * @param {Function} linker\n * @param {Vue} vm\n * @param {DocumentFragment} frag\n * @param {Vue} [host]\n * @param {Object} [scope]\n */\nfunction Fragment(linker, vm, frag, host, scope, parentFrag) {\n  this.children = [];\n  this.childFrags = [];\n  this.vm = vm;\n  this.scope = scope;\n  this.inserted = false;\n  this.parentFrag = parentFrag;\n  if (parentFrag) {\n    parentFrag.childFrags.push(this);\n  }\n  this.unlink = linker(vm, frag, host, scope, this);\n  var single = this.single = frag.childNodes.length === 1 &&\n  // do not go single mode if the only node is an anchor\n  !frag.childNodes[0].__vue_anchor;\n  if (single) {\n    this.node = frag.childNodes[0];\n    this.before = singleBefore;\n    this.remove = singleRemove;\n  } else {\n    this.node = createAnchor('fragment-start');\n    this.end = createAnchor('fragment-end');\n    this.frag = frag;\n    prepend(this.node, frag);\n    frag.appendChild(this.end);\n    this.before = multiBefore;\n    this.remove = multiRemove;\n  }\n  this.node.__vfrag__ = this;\n}\n\n/**\n * Call attach/detach for all components contained within\n * this fragment. Also do so recursively for all child\n * fragments.\n *\n * @param {Function} hook\n */\n\nFragment.prototype.callHook = function (hook) {\n  var i, l;\n  for (i = 0, l = this.children.length; i < l; i++) {\n    hook(this.children[i]);\n  }\n  for (i = 0, l = this.childFrags.length; i < l; i++) {\n    this.childFrags[i].callHook(hook);\n  }\n};\n\n/**\n * Destroy the fragment.\n */\n\nFragment.prototype.destroy = function () {\n  if (this.parentFrag) {\n    this.parentFrag.childFrags.$remove(this);\n  }\n  this.unlink();\n};\n\n/**\n * Insert fragment before target, single node version\n *\n * @param {Node} target\n * @param {Boolean} withTransition\n */\n\nfunction singleBefore(target, withTransition) {\n  this.inserted = true;\n  var method = withTransition !== false ? beforeWithTransition : before;\n  method(this.node, target, this.vm);\n  if (inDoc(this.node)) {\n    this.callHook(attach);\n  }\n}\n\n/**\n * Remove fragment, single node version\n */\n\nfunction singleRemove() {\n  this.inserted = false;\n  var shouldCallRemove = inDoc(this.node);\n  var self = this;\n  self.callHook(destroyChild);\n  removeWithTransition(this.node, this.vm, function () {\n    if (shouldCallRemove) {\n      self.callHook(detach);\n    }\n    self.destroy();\n  });\n}\n\n/**\n * Insert fragment before target, multi-nodes version\n *\n * @param {Node} target\n * @param {Boolean} withTransition\n */\n\nfunction multiBefore(target, withTransition) {\n  this.inserted = true;\n  var vm = this.vm;\n  var method = withTransition !== false ? beforeWithTransition : before;\n  mapNodeRange(this.node, this.end, function (node) {\n    method(node, target, vm);\n  });\n  if (inDoc(this.node)) {\n    this.callHook(attach);\n  }\n}\n\n/**\n * Remove fragment, multi-nodes version\n */\n\nfunction multiRemove() {\n  this.inserted = false;\n  var self = this;\n  var shouldCallRemove = inDoc(this.node);\n  self.callHook(destroyChild);\n  removeNodeRange(this.node, this.end, this.vm, this.frag, function () {\n    if (shouldCallRemove) {\n      self.callHook(detach);\n    }\n    self.destroy();\n  });\n}\n\n/**\n * Call attach hook for a Vue instance.\n *\n * @param {Vue} child\n */\n\nfunction attach(child) {\n  if (!child._isAttached) {\n    child._callHook('attached');\n  }\n}\n\n/**\n * Call destroy for all contained instances,\n * with remove:false and defer:true.\n * Defer is necessary because we need to\n * keep the children to call detach hooks\n * on them.\n *\n * @param {Vue} child\n */\n\nfunction destroyChild(child) {\n  child.$destroy(false, true);\n}\n\n/**\n * Call detach hook for a Vue instance.\n *\n * @param {Vue} child\n */\n\nfunction detach(child) {\n  if (child._isAttached) {\n    child._callHook('detached');\n  }\n}\n\nvar linkerCache = new Cache(5000);\n\n/**\n * A factory that can be used to create instances of a\n * fragment. Caches the compiled linker if possible.\n *\n * @param {Vue} vm\n * @param {Element|String} el\n */\nfunction FragmentFactory(vm, el) {\n  this.vm = vm;\n  var template;\n  var isString = typeof el === 'string';\n  if (isString || isTemplate(el)) {\n    template = parseTemplate(el, true);\n  } else {\n    template = document.createDocumentFragment();\n    template.appendChild(el);\n  }\n  this.template = template;\n  // linker can be cached, but only for components\n  var linker;\n  var cid = vm.constructor.cid;\n  if (cid > 0) {\n    var cacheId = cid + (isString ? el : el.outerHTML);\n    linker = linkerCache.get(cacheId);\n    if (!linker) {\n      linker = compile(template, vm.$options, true);\n      linkerCache.put(cacheId, linker);\n    }\n  } else {\n    linker = compile(template, vm.$options, true);\n  }\n  this.linker = linker;\n}\n\n/**\n * Create a fragment instance with given host and scope.\n *\n * @param {Vue} host\n * @param {Object} scope\n * @param {Fragment} parentFrag\n */\n\nFragmentFactory.prototype.create = function (host, scope, parentFrag) {\n  var frag = cloneNode(this.template);\n  return new Fragment(this.linker, this.vm, frag, host, scope, parentFrag);\n};\n\nvar vIf = {\n\n  priority: 2000,\n\n  bind: function bind() {\n    var el = this.el;\n    if (!el.__vue__) {\n      // check else block\n      var next = el.nextElementSibling;\n      if (next && getAttr(next, 'v-else') !== null) {\n        remove(next);\n        this.elseFactory = new FragmentFactory(this.vm, next);\n      }\n      // check main block\n      this.anchor = createAnchor('v-if');\n      replace(el, this.anchor);\n      this.factory = new FragmentFactory(this.vm, el);\n    } else {\n      process.env.NODE_ENV !== 'production' && warn('v-if=\"' + this.expression + '\" cannot be ' + 'used on an instance root element.');\n      this.invalid = true;\n    }\n  },\n\n  update: function update(value) {\n    if (this.invalid) return;\n    if (value) {\n      if (!this.frag) {\n        this.insert();\n      }\n    } else {\n      this.remove();\n    }\n  },\n\n  insert: function insert() {\n    if (this.elseFrag) {\n      this.elseFrag.remove();\n      this.elseFrag = null;\n    }\n    this.frag = this.factory.create(this._host, this._scope, this._frag);\n    this.frag.before(this.anchor);\n  },\n\n  remove: function remove() {\n    if (this.frag) {\n      this.frag.remove();\n      this.frag = null;\n    }\n    if (this.elseFactory && !this.elseFrag) {\n      this.elseFrag = this.elseFactory.create(this._host, this._scope, this._frag);\n      this.elseFrag.before(this.anchor);\n    }\n  },\n\n  unbind: function unbind() {\n    if (this.frag) {\n      this.frag.destroy();\n    }\n  }\n};\n\nvar uid$1 = 0;\n\nvar vFor = {\n\n  priority: 2000,\n\n  params: ['track-by', 'stagger', 'enter-stagger', 'leave-stagger'],\n\n  bind: function bind() {\n    // support \"item in items\" syntax\n    var inMatch = this.expression.match(/(.*) in (.*)/);\n    if (inMatch) {\n      var itMatch = inMatch[1].match(/\\((.*),(.*)\\)/);\n      if (itMatch) {\n        this.iterator = itMatch[1].trim();\n        this.alias = itMatch[2].trim();\n      } else {\n        this.alias = inMatch[1].trim();\n      }\n      this.expression = inMatch[2];\n    }\n\n    if (!this.alias) {\n      process.env.NODE_ENV !== 'production' && warn('Alias is required in v-for.');\n      return;\n    }\n\n    // uid as a cache identifier\n    this.id = '__v-for__' + ++uid$1;\n\n    // check if this is an option list,\n    // so that we know if we need to update the <select>'s\n    // v-model when the option list has changed.\n    // because v-model has a lower priority than v-for,\n    // the v-model is not bound here yet, so we have to\n    // retrive it in the actual updateModel() function.\n    var tag = this.el.tagName;\n    this.isOption = (tag === 'OPTION' || tag === 'OPTGROUP') && this.el.parentNode.tagName === 'SELECT';\n\n    // setup anchor nodes\n    this.start = createAnchor('v-for-start');\n    this.end = createAnchor('v-for-end');\n    replace(this.el, this.end);\n    before(this.start, this.end);\n\n    // cache\n    this.cache = Object.create(null);\n\n    // fragment factory\n    this.factory = new FragmentFactory(this.vm, this.el);\n  },\n\n  update: function update(data) {\n    this.diff(data);\n    this.updateRef();\n    this.updateModel();\n  },\n\n  /**\n   * Diff, based on new data and old data, determine the\n   * minimum amount of DOM manipulations needed to make the\n   * DOM reflect the new data Array.\n   *\n   * The algorithm diffs the new data Array by storing a\n   * hidden reference to an owner vm instance on previously\n   * seen data. This allows us to achieve O(n) which is\n   * better than a levenshtein distance based algorithm,\n   * which is O(m * n).\n   *\n   * @param {Array} data\n   */\n\n  diff: function diff(data) {\n    // check if the Array was converted from an Object\n    var item = data[0];\n    var convertedFromObject = this.fromObject = isObject(item) && hasOwn(item, '$key') && hasOwn(item, '$value');\n\n    var trackByKey = this.params.trackBy;\n    var oldFrags = this.frags;\n    var frags = this.frags = new Array(data.length);\n    var alias = this.alias;\n    var iterator = this.iterator;\n    var start = this.start;\n    var end = this.end;\n    var inDocument = inDoc(start);\n    var init = !oldFrags;\n    var i, l, frag, key, value, primitive;\n\n    // First pass, go through the new Array and fill up\n    // the new frags array. If a piece of data has a cached\n    // instance for it, we reuse it. Otherwise build a new\n    // instance.\n    for (i = 0, l = data.length; i < l; i++) {\n      item = data[i];\n      key = convertedFromObject ? item.$key : null;\n      value = convertedFromObject ? item.$value : item;\n      primitive = !isObject(value);\n      frag = !init && this.getCachedFrag(value, i, key);\n      if (frag) {\n        // reusable fragment\n        frag.reused = true;\n        // update $index\n        frag.scope.$index = i;\n        // update $key\n        if (key) {\n          frag.scope.$key = key;\n        }\n        // update iterator\n        if (iterator) {\n          frag.scope[iterator] = key !== null ? key : i;\n        }\n        // update data for track-by, object repeat &\n        // primitive values.\n        if (trackByKey || convertedFromObject || primitive) {\n          frag.scope[alias] = value;\n        }\n      } else {\n        // new isntance\n        frag = this.create(value, alias, i, key);\n        frag.fresh = !init;\n      }\n      frags[i] = frag;\n      if (init) {\n        frag.before(end);\n      }\n    }\n\n    // we're done for the initial render.\n    if (init) {\n      return;\n    }\n\n    // Second pass, go through the old fragments and\n    // destroy those who are not reused (and remove them\n    // from cache)\n    var removalIndex = 0;\n    var totalRemoved = oldFrags.length - frags.length;\n    for (i = 0, l = oldFrags.length; i < l; i++) {\n      frag = oldFrags[i];\n      if (!frag.reused) {\n        this.deleteCachedFrag(frag);\n        this.remove(frag, removalIndex++, totalRemoved, inDocument);\n      }\n    }\n\n    // Final pass, move/insert new fragments into the\n    // right place.\n    var targetPrev, prevEl, currentPrev;\n    var insertionIndex = 0;\n    for (i = 0, l = frags.length; i < l; i++) {\n      frag = frags[i];\n      // this is the frag that we should be after\n      targetPrev = frags[i - 1];\n      prevEl = targetPrev ? targetPrev.staggerCb ? targetPrev.staggerAnchor : targetPrev.end || targetPrev.node : start;\n      if (frag.reused && !frag.staggerCb) {\n        currentPrev = findPrevFrag(frag, start, this.id);\n        if (currentPrev !== targetPrev && (!currentPrev ||\n        // optimization for moving a single item.\n        // thanks to suggestions by @livoras in #1807\n        findPrevFrag(currentPrev, start, this.id) !== targetPrev)) {\n          this.move(frag, prevEl);\n        }\n      } else {\n        // new instance, or still in stagger.\n        // insert with updated stagger index.\n        this.insert(frag, insertionIndex++, prevEl, inDocument);\n      }\n      frag.reused = frag.fresh = false;\n    }\n  },\n\n  /**\n   * Create a new fragment instance.\n   *\n   * @param {*} value\n   * @param {String} alias\n   * @param {Number} index\n   * @param {String} [key]\n   * @return {Fragment}\n   */\n\n  create: function create(value, alias, index, key) {\n    var host = this._host;\n    // create iteration scope\n    var parentScope = this._scope || this.vm;\n    var scope = Object.create(parentScope);\n    // ref holder for the scope\n    scope.$refs = Object.create(parentScope.$refs);\n    scope.$els = Object.create(parentScope.$els);\n    // make sure point $parent to parent scope\n    scope.$parent = parentScope;\n    // for two-way binding on alias\n    scope.$forContext = this;\n    // define scope properties\n    defineReactive(scope, alias, value);\n    defineReactive(scope, '$index', index);\n    if (key) {\n      defineReactive(scope, '$key', key);\n    } else if (scope.$key) {\n      // avoid accidental fallback\n      def(scope, '$key', null);\n    }\n    if (this.iterator) {\n      defineReactive(scope, this.iterator, key !== null ? key : index);\n    }\n    var frag = this.factory.create(host, scope, this._frag);\n    frag.forId = this.id;\n    this.cacheFrag(value, frag, index, key);\n    return frag;\n  },\n\n  /**\n   * Update the v-ref on owner vm.\n   */\n\n  updateRef: function updateRef() {\n    var ref = this.descriptor.ref;\n    if (!ref) return;\n    var hash = (this._scope || this.vm).$refs;\n    var refs;\n    if (!this.fromObject) {\n      refs = this.frags.map(findVmFromFrag);\n    } else {\n      refs = {};\n      this.frags.forEach(function (frag) {\n        refs[frag.scope.$key] = findVmFromFrag(frag);\n      });\n    }\n    hash[ref] = refs;\n  },\n\n  /**\n   * For option lists, update the containing v-model on\n   * parent <select>.\n   */\n\n  updateModel: function updateModel() {\n    if (this.isOption) {\n      var parent = this.start.parentNode;\n      var model = parent && parent.__v_model;\n      if (model) {\n        model.forceUpdate();\n      }\n    }\n  },\n\n  /**\n   * Insert a fragment. Handles staggering.\n   *\n   * @param {Fragment} frag\n   * @param {Number} index\n   * @param {Node} prevEl\n   * @param {Boolean} inDocument\n   */\n\n  insert: function insert(frag, index, prevEl, inDocument) {\n    if (frag.staggerCb) {\n      frag.staggerCb.cancel();\n      frag.staggerCb = null;\n    }\n    var staggerAmount = this.getStagger(frag, index, null, 'enter');\n    if (inDocument && staggerAmount) {\n      // create an anchor and insert it synchronously,\n      // so that we can resolve the correct order without\n      // worrying about some elements not inserted yet\n      var anchor = frag.staggerAnchor;\n      if (!anchor) {\n        anchor = frag.staggerAnchor = createAnchor('stagger-anchor');\n        anchor.__vfrag__ = frag;\n      }\n      after(anchor, prevEl);\n      var op = frag.staggerCb = cancellable(function () {\n        frag.staggerCb = null;\n        frag.before(anchor);\n        remove(anchor);\n      });\n      setTimeout(op, staggerAmount);\n    } else {\n      frag.before(prevEl.nextSibling);\n    }\n  },\n\n  /**\n   * Remove a fragment. Handles staggering.\n   *\n   * @param {Fragment} frag\n   * @param {Number} index\n   * @param {Number} total\n   * @param {Boolean} inDocument\n   */\n\n  remove: function remove(frag, index, total, inDocument) {\n    if (frag.staggerCb) {\n      frag.staggerCb.cancel();\n      frag.staggerCb = null;\n      // it's not possible for the same frag to be removed\n      // twice, so if we have a pending stagger callback,\n      // it means this frag is queued for enter but removed\n      // before its transition started. Since it is already\n      // destroyed, we can just leave it in detached state.\n      return;\n    }\n    var staggerAmount = this.getStagger(frag, index, total, 'leave');\n    if (inDocument && staggerAmount) {\n      var op = frag.staggerCb = cancellable(function () {\n        frag.staggerCb = null;\n        frag.remove();\n      });\n      setTimeout(op, staggerAmount);\n    } else {\n      frag.remove();\n    }\n  },\n\n  /**\n   * Move a fragment to a new position.\n   * Force no transition.\n   *\n   * @param {Fragment} frag\n   * @param {Node} prevEl\n   */\n\n  move: function move(frag, prevEl) {\n    frag.before(prevEl.nextSibling, false);\n  },\n\n  /**\n   * Cache a fragment using track-by or the object key.\n   *\n   * @param {*} value\n   * @param {Fragment} frag\n   * @param {Number} index\n   * @param {String} [key]\n   */\n\n  cacheFrag: function cacheFrag(value, frag, index, key) {\n    var trackByKey = this.params.trackBy;\n    var cache = this.cache;\n    var primitive = !isObject(value);\n    var id;\n    if (key || trackByKey || primitive) {\n      id = trackByKey ? trackByKey === '$index' ? index : value[trackByKey] : key || value;\n      if (!cache[id]) {\n        cache[id] = frag;\n      } else if (trackByKey !== '$index') {\n        process.env.NODE_ENV !== 'production' && this.warnDuplicate(value);\n      }\n    } else {\n      id = this.id;\n      if (hasOwn(value, id)) {\n        if (value[id] === null) {\n          value[id] = frag;\n        } else {\n          process.env.NODE_ENV !== 'production' && this.warnDuplicate(value);\n        }\n      } else {\n        def(value, id, frag);\n      }\n    }\n    frag.raw = value;\n  },\n\n  /**\n   * Get a cached fragment from the value/index/key\n   *\n   * @param {*} value\n   * @param {Number} index\n   * @param {String} key\n   * @return {Fragment}\n   */\n\n  getCachedFrag: function getCachedFrag(value, index, key) {\n    var trackByKey = this.params.trackBy;\n    var primitive = !isObject(value);\n    var frag;\n    if (key || trackByKey || primitive) {\n      var id = trackByKey ? trackByKey === '$index' ? index : value[trackByKey] : key || value;\n      frag = this.cache[id];\n    } else {\n      frag = value[this.id];\n    }\n    if (frag && (frag.reused || frag.fresh)) {\n      process.env.NODE_ENV !== 'production' && this.warnDuplicate(value);\n    }\n    return frag;\n  },\n\n  /**\n   * Delete a fragment from cache.\n   *\n   * @param {Fragment} frag\n   */\n\n  deleteCachedFrag: function deleteCachedFrag(frag) {\n    var value = frag.raw;\n    var trackByKey = this.params.trackBy;\n    var scope = frag.scope;\n    var index = scope.$index;\n    // fix #948: avoid accidentally fall through to\n    // a parent repeater which happens to have $key.\n    var key = hasOwn(scope, '$key') && scope.$key;\n    var primitive = !isObject(value);\n    if (trackByKey || key || primitive) {\n      var id = trackByKey ? trackByKey === '$index' ? index : value[trackByKey] : key || value;\n      this.cache[id] = null;\n    } else {\n      value[this.id] = null;\n      frag.raw = null;\n    }\n  },\n\n  /**\n   * Get the stagger amount for an insertion/removal.\n   *\n   * @param {Fragment} frag\n   * @param {Number} index\n   * @param {Number} total\n   * @param {String} type\n   */\n\n  getStagger: function getStagger(frag, index, total, type) {\n    type = type + 'Stagger';\n    var trans = frag.node.__v_trans;\n    var hooks = trans && trans.hooks;\n    var hook = hooks && (hooks[type] || hooks.stagger);\n    return hook ? hook.call(frag, index, total) : index * parseInt(this.params[type] || this.params.stagger, 10);\n  },\n\n  /**\n   * Pre-process the value before piping it through the\n   * filters. This is passed to and called by the watcher.\n   */\n\n  _preProcess: function _preProcess(value) {\n    // regardless of type, store the un-filtered raw value.\n    this.rawValue = value;\n    return value;\n  },\n\n  /**\n   * Post-process the value after it has been piped through\n   * the filters. This is passed to and called by the watcher.\n   *\n   * It is necessary for this to be called during the\n   * wathcer's dependency collection phase because we want\n   * the v-for to update when the source Object is mutated.\n   */\n\n  _postProcess: function _postProcess(value) {\n    if (isArray(value)) {\n      return value;\n    } else if (isPlainObject(value)) {\n      // convert plain object to array.\n      var keys = Object.keys(value);\n      var i = keys.length;\n      var res = new Array(i);\n      var key;\n      while (i--) {\n        key = keys[i];\n        res[i] = {\n          $key: key,\n          $value: value[key]\n        };\n      }\n      return res;\n    } else {\n      if (typeof value === 'number') {\n        value = range(value);\n      }\n      return value || [];\n    }\n  },\n\n  unbind: function unbind() {\n    if (this.descriptor.ref) {\n      (this._scope || this.vm).$refs[this.descriptor.ref] = null;\n    }\n    if (this.frags) {\n      var i = this.frags.length;\n      var frag;\n      while (i--) {\n        frag = this.frags[i];\n        this.deleteCachedFrag(frag);\n        frag.destroy();\n      }\n    }\n  }\n};\n\n/**\n * Helper to find the previous element that is a fragment\n * anchor. This is necessary because a destroyed frag's\n * element could still be lingering in the DOM before its\n * leaving transition finishes, but its inserted flag\n * should have been set to false so we can skip them.\n *\n * If this is a block repeat, we want to make sure we only\n * return frag that is bound to this v-for. (see #929)\n *\n * @param {Fragment} frag\n * @param {Comment|Text} anchor\n * @param {String} id\n * @return {Fragment}\n */\n\nfunction findPrevFrag(frag, anchor, id) {\n  var el = frag.node.previousSibling;\n  /* istanbul ignore if */\n  if (!el) return;\n  frag = el.__vfrag__;\n  while ((!frag || frag.forId !== id || !frag.inserted) && el !== anchor) {\n    el = el.previousSibling;\n    /* istanbul ignore if */\n    if (!el) return;\n    frag = el.__vfrag__;\n  }\n  return frag;\n}\n\n/**\n * Find a vm from a fragment.\n *\n * @param {Fragment} frag\n * @return {Vue|undefined}\n */\n\nfunction findVmFromFrag(frag) {\n  var node = frag.node;\n  // handle multi-node frag\n  if (frag.end) {\n    while (!node.__vue__ && node !== frag.end && node.nextSibling) {\n      node = node.nextSibling;\n    }\n  }\n  return node.__vue__;\n}\n\n/**\n * Create a range array from given number.\n *\n * @param {Number} n\n * @return {Array}\n */\n\nfunction range(n) {\n  var i = -1;\n  var ret = new Array(n);\n  while (++i < n) {\n    ret[i] = i;\n  }\n  return ret;\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  vFor.warnDuplicate = function (value) {\n    warn('Duplicate value found in v-for=\"' + this.descriptor.raw + '\": ' + JSON.stringify(value) + '. Use track-by=\"$index\" if ' + 'you are expecting duplicate values.');\n  };\n}\n\nvar html = {\n\n  bind: function bind() {\n    // a comment node means this is a binding for\n    // {{{ inline unescaped html }}}\n    if (this.el.nodeType === 8) {\n      // hold nodes\n      this.nodes = [];\n      // replace the placeholder with proper anchor\n      this.anchor = createAnchor('v-html');\n      replace(this.el, this.anchor);\n    }\n  },\n\n  update: function update(value) {\n    value = _toString(value);\n    if (this.nodes) {\n      this.swap(value);\n    } else {\n      this.el.innerHTML = value;\n    }\n  },\n\n  swap: function swap(value) {\n    // remove old nodes\n    var i = this.nodes.length;\n    while (i--) {\n      remove(this.nodes[i]);\n    }\n    // convert new value to a fragment\n    // do not attempt to retrieve from id selector\n    var frag = parseTemplate(value, true, true);\n    // save a reference to these nodes so we can remove later\n    this.nodes = toArray(frag.childNodes);\n    before(frag, this.anchor);\n  }\n};\n\nvar text = {\n\n  bind: function bind() {\n    this.attr = this.el.nodeType === 3 ? 'data' : 'textContent';\n  },\n\n  update: function update(value) {\n    this.el[this.attr] = _toString(value);\n  }\n};\n\n// must export plain object\nvar publicDirectives = {\n  text: text,\n  html: html,\n  'for': vFor,\n  'if': vIf,\n  show: show,\n  model: model,\n  on: on,\n  bind: bind,\n  el: el,\n  ref: ref,\n  cloak: cloak\n};\n\nvar queue$1 = [];\nvar queued = false;\n\n/**\n * Push a job into the queue.\n *\n * @param {Function} job\n */\n\nfunction pushJob(job) {\n  queue$1.push(job);\n  if (!queued) {\n    queued = true;\n    nextTick(flush);\n  }\n}\n\n/**\n * Flush the queue, and do one forced reflow before\n * triggering transitions.\n */\n\nfunction flush() {\n  // Force layout\n  var f = document.documentElement.offsetHeight;\n  for (var i = 0; i < queue$1.length; i++) {\n    queue$1[i]();\n  }\n  queue$1 = [];\n  queued = false;\n  // dummy return, so js linters don't complain about\n  // unused variable f\n  return f;\n}\n\nvar TYPE_TRANSITION = 1;\nvar TYPE_ANIMATION = 2;\nvar transDurationProp = transitionProp + 'Duration';\nvar animDurationProp = animationProp + 'Duration';\n\n/**\n * A Transition object that encapsulates the state and logic\n * of the transition.\n *\n * @param {Element} el\n * @param {String} id\n * @param {Object} hooks\n * @param {Vue} vm\n */\nfunction Transition(el, id, hooks, vm) {\n  this.id = id;\n  this.el = el;\n  this.enterClass = id + '-enter';\n  this.leaveClass = id + '-leave';\n  this.hooks = hooks;\n  this.vm = vm;\n  // async state\n  this.pendingCssEvent = this.pendingCssCb = this.cancel = this.pendingJsCb = this.op = this.cb = null;\n  this.justEntered = false;\n  this.entered = this.left = false;\n  this.typeCache = {};\n  // bind\n  var self = this;['enterNextTick', 'enterDone', 'leaveNextTick', 'leaveDone'].forEach(function (m) {\n    self[m] = bind$1(self[m], self);\n  });\n}\n\nvar p$1 = Transition.prototype;\n\n/**\n * Start an entering transition.\n *\n * 1. enter transition triggered\n * 2. call beforeEnter hook\n * 3. add enter class\n * 4. insert/show element\n * 5. call enter hook (with possible explicit js callback)\n * 6. reflow\n * 7. based on transition type:\n *    - transition:\n *        remove class now, wait for transitionend,\n *        then done if there's no explicit js callback.\n *    - animation:\n *        wait for animationend, remove class,\n *        then done if there's no explicit js callback.\n *    - no css transition:\n *        done now if there's no explicit js callback.\n * 8. wait for either done or js callback, then call\n *    afterEnter hook.\n *\n * @param {Function} op - insert/show the element\n * @param {Function} [cb]\n */\n\np$1.enter = function (op, cb) {\n  this.cancelPending();\n  this.callHook('beforeEnter');\n  this.cb = cb;\n  addClass(this.el, this.enterClass);\n  op();\n  this.entered = false;\n  this.callHookWithCb('enter');\n  if (this.entered) {\n    return; // user called done synchronously.\n  }\n  this.cancel = this.hooks && this.hooks.enterCancelled;\n  pushJob(this.enterNextTick);\n};\n\n/**\n * The \"nextTick\" phase of an entering transition, which is\n * to be pushed into a queue and executed after a reflow so\n * that removing the class can trigger a CSS transition.\n */\n\np$1.enterNextTick = function () {\n\n  // Important hack:\n  // in Chrome, if a just-entered element is applied the\n  // leave class while its interpolated property still has\n  // a very small value (within one frame), Chrome will\n  // skip the leave transition entirely and not firing the\n  // transtionend event. Therefore we need to protected\n  // against such cases using a one-frame timeout.\n  this.justEntered = true;\n  var self = this;\n  setTimeout(function () {\n    self.justEntered = false;\n  }, 17);\n\n  var enterDone = this.enterDone;\n  var type = this.getCssTransitionType(this.enterClass);\n  if (!this.pendingJsCb) {\n    if (type === TYPE_TRANSITION) {\n      // trigger transition by removing enter class now\n      removeClass(this.el, this.enterClass);\n      this.setupCssCb(transitionEndEvent, enterDone);\n    } else if (type === TYPE_ANIMATION) {\n      this.setupCssCb(animationEndEvent, enterDone);\n    } else {\n      enterDone();\n    }\n  } else if (type === TYPE_TRANSITION) {\n    removeClass(this.el, this.enterClass);\n  }\n};\n\n/**\n * The \"cleanup\" phase of an entering transition.\n */\n\np$1.enterDone = function () {\n  this.entered = true;\n  this.cancel = this.pendingJsCb = null;\n  removeClass(this.el, this.enterClass);\n  this.callHook('afterEnter');\n  if (this.cb) this.cb();\n};\n\n/**\n * Start a leaving transition.\n *\n * 1. leave transition triggered.\n * 2. call beforeLeave hook\n * 3. add leave class (trigger css transition)\n * 4. call leave hook (with possible explicit js callback)\n * 5. reflow if no explicit js callback is provided\n * 6. based on transition type:\n *    - transition or animation:\n *        wait for end event, remove class, then done if\n *        there's no explicit js callback.\n *    - no css transition:\n *        done if there's no explicit js callback.\n * 7. wait for either done or js callback, then call\n *    afterLeave hook.\n *\n * @param {Function} op - remove/hide the element\n * @param {Function} [cb]\n */\n\np$1.leave = function (op, cb) {\n  this.cancelPending();\n  this.callHook('beforeLeave');\n  this.op = op;\n  this.cb = cb;\n  addClass(this.el, this.leaveClass);\n  this.left = false;\n  this.callHookWithCb('leave');\n  if (this.left) {\n    return; // user called done synchronously.\n  }\n  this.cancel = this.hooks && this.hooks.leaveCancelled;\n  // only need to handle leaveDone if\n  // 1. the transition is already done (synchronously called\n  //    by the user, which causes this.op set to null)\n  // 2. there's no explicit js callback\n  if (this.op && !this.pendingJsCb) {\n    // if a CSS transition leaves immediately after enter,\n    // the transitionend event never fires. therefore we\n    // detect such cases and end the leave immediately.\n    if (this.justEntered) {\n      this.leaveDone();\n    } else {\n      pushJob(this.leaveNextTick);\n    }\n  }\n};\n\n/**\n * The \"nextTick\" phase of a leaving transition.\n */\n\np$1.leaveNextTick = function () {\n  var type = this.getCssTransitionType(this.leaveClass);\n  if (type) {\n    var event = type === TYPE_TRANSITION ? transitionEndEvent : animationEndEvent;\n    this.setupCssCb(event, this.leaveDone);\n  } else {\n    this.leaveDone();\n  }\n};\n\n/**\n * The \"cleanup\" phase of a leaving transition.\n */\n\np$1.leaveDone = function () {\n  this.left = true;\n  this.cancel = this.pendingJsCb = null;\n  this.op();\n  removeClass(this.el, this.leaveClass);\n  this.callHook('afterLeave');\n  if (this.cb) this.cb();\n  this.op = null;\n};\n\n/**\n * Cancel any pending callbacks from a previously running\n * but not finished transition.\n */\n\np$1.cancelPending = function () {\n  this.op = this.cb = null;\n  var hasPending = false;\n  if (this.pendingCssCb) {\n    hasPending = true;\n    off(this.el, this.pendingCssEvent, this.pendingCssCb);\n    this.pendingCssEvent = this.pendingCssCb = null;\n  }\n  if (this.pendingJsCb) {\n    hasPending = true;\n    this.pendingJsCb.cancel();\n    this.pendingJsCb = null;\n  }\n  if (hasPending) {\n    removeClass(this.el, this.enterClass);\n    removeClass(this.el, this.leaveClass);\n  }\n  if (this.cancel) {\n    this.cancel.call(this.vm, this.el);\n    this.cancel = null;\n  }\n};\n\n/**\n * Call a user-provided synchronous hook function.\n *\n * @param {String} type\n */\n\np$1.callHook = function (type) {\n  if (this.hooks && this.hooks[type]) {\n    this.hooks[type].call(this.vm, this.el);\n  }\n};\n\n/**\n * Call a user-provided, potentially-async hook function.\n * We check for the length of arguments to see if the hook\n * expects a `done` callback. If true, the transition's end\n * will be determined by when the user calls that callback;\n * otherwise, the end is determined by the CSS transition or\n * animation.\n *\n * @param {String} type\n */\n\np$1.callHookWithCb = function (type) {\n  var hook = this.hooks && this.hooks[type];\n  if (hook) {\n    if (hook.length > 1) {\n      this.pendingJsCb = cancellable(this[type + 'Done']);\n    }\n    hook.call(this.vm, this.el, this.pendingJsCb);\n  }\n};\n\n/**\n * Get an element's transition type based on the\n * calculated styles.\n *\n * @param {String} className\n * @return {Number}\n */\n\np$1.getCssTransitionType = function (className) {\n  /* istanbul ignore if */\n  if (!transitionEndEvent ||\n  // skip CSS transitions if page is not visible -\n  // this solves the issue of transitionend events not\n  // firing until the page is visible again.\n  // pageVisibility API is supported in IE10+, same as\n  // CSS transitions.\n  document.hidden ||\n  // explicit js-only transition\n  this.hooks && this.hooks.css === false ||\n  // element is hidden\n  isHidden(this.el)) {\n    return;\n  }\n  var type = this.typeCache[className];\n  if (type) return type;\n  var inlineStyles = this.el.style;\n  var computedStyles = window.getComputedStyle(this.el);\n  var transDuration = inlineStyles[transDurationProp] || computedStyles[transDurationProp];\n  if (transDuration && transDuration !== '0s') {\n    type = TYPE_TRANSITION;\n  } else {\n    var animDuration = inlineStyles[animDurationProp] || computedStyles[animDurationProp];\n    if (animDuration && animDuration !== '0s') {\n      type = TYPE_ANIMATION;\n    }\n  }\n  if (type) {\n    this.typeCache[className] = type;\n  }\n  return type;\n};\n\n/**\n * Setup a CSS transitionend/animationend callback.\n *\n * @param {String} event\n * @param {Function} cb\n */\n\np$1.setupCssCb = function (event, cb) {\n  this.pendingCssEvent = event;\n  var self = this;\n  var el = this.el;\n  var onEnd = this.pendingCssCb = function (e) {\n    if (e.target === el) {\n      off(el, event, onEnd);\n      self.pendingCssEvent = self.pendingCssCb = null;\n      if (!self.pendingJsCb && cb) {\n        cb();\n      }\n    }\n  };\n  on$1(el, event, onEnd);\n};\n\n/**\n * Check if an element is hidden - in that case we can just\n * skip the transition alltogether.\n *\n * @param {Element} el\n * @return {Boolean}\n */\n\nfunction isHidden(el) {\n  return !(el.offsetWidth || el.offsetHeight || el.getClientRects().length);\n}\n\nvar transition = {\n\n  priority: 1100,\n\n  update: function update(id, oldId) {\n    var el = this.el;\n    // resolve on owner vm\n    var hooks = resolveAsset(this.vm.$options, 'transitions', id);\n    id = id || 'v';\n    // apply on closest vm\n    el.__v_trans = new Transition(el, id, hooks, this.el.__vue__ || this.vm);\n    if (oldId) {\n      removeClass(el, oldId + '-transition');\n    }\n    addClass(el, id + '-transition');\n  }\n};\n\nvar bindingModes = config._propBindingModes;\n\nvar propDef = {\n\n  bind: function bind() {\n\n    var child = this.vm;\n    var parent = child._context;\n    // passed in from compiler directly\n    var prop = this.descriptor.prop;\n    var childKey = prop.path;\n    var parentKey = prop.parentPath;\n    var twoWay = prop.mode === bindingModes.TWO_WAY;\n\n    var parentWatcher = this.parentWatcher = new Watcher(parent, parentKey, function (val) {\n      if (assertProp(prop, val)) {\n        child[childKey] = val;\n      }\n    }, {\n      twoWay: twoWay,\n      filters: prop.filters,\n      // important: props need to be observed on the\n      // v-for scope if present\n      scope: this._scope\n    });\n\n    // set the child initial value.\n    initProp(child, prop, parentWatcher.value);\n\n    // setup two-way binding\n    if (twoWay) {\n      // important: defer the child watcher creation until\n      // the created hook (after data observation)\n      var self = this;\n      child.$once('hook:created', function () {\n        self.childWatcher = new Watcher(child, childKey, function (val) {\n          parentWatcher.set(val);\n        }, {\n          // ensure sync upward before parent sync down.\n          // this is necessary in cases e.g. the child\n          // mutates a prop array, then replaces it. (#1683)\n          sync: true\n        });\n      });\n    }\n  },\n\n  unbind: function unbind() {\n    this.parentWatcher.teardown();\n    if (this.childWatcher) {\n      this.childWatcher.teardown();\n    }\n  }\n};\n\nvar component = {\n\n  priority: 1500,\n\n  params: ['keep-alive', 'transition-mode', 'inline-template'],\n\n  /**\n   * Setup. Two possible usages:\n   *\n   * - static:\n   *   <comp> or <div v-component=\"comp\">\n   *\n   * - dynamic:\n   *   <component :is=\"view\">\n   */\n\n  bind: function bind() {\n    if (!this.el.__vue__) {\n      // keep-alive cache\n      this.keepAlive = this.params.keepAlive;\n      if (this.keepAlive) {\n        this.cache = {};\n      }\n      // check inline-template\n      if (this.params.inlineTemplate) {\n        // extract inline template as a DocumentFragment\n        this.inlineTemplate = extractContent(this.el, true);\n      }\n      // component resolution related state\n      this.pendingComponentCb = this.Component = null;\n      // transition related state\n      this.pendingRemovals = 0;\n      this.pendingRemovalCb = null;\n      // create a ref anchor\n      this.anchor = createAnchor('v-component');\n      replace(this.el, this.anchor);\n      // remove is attribute.\n      // this is removed during compilation, but because compilation is\n      // cached, when the component is used elsewhere this attribute\n      // will remain at link time.\n      this.el.removeAttribute('is');\n      // remove ref, same as above\n      if (this.descriptor.ref) {\n        this.el.removeAttribute('v-ref:' + hyphenate(this.descriptor.ref));\n      }\n      // if static, build right now.\n      if (this.literal) {\n        this.setComponent(this.expression);\n      }\n    } else {\n      process.env.NODE_ENV !== 'production' && warn('cannot mount component \"' + this.expression + '\" ' + 'on already mounted element: ' + this.el);\n    }\n  },\n\n  /**\n   * Public update, called by the watcher in the dynamic\n   * literal scenario, e.g. <component :is=\"view\">\n   */\n\n  update: function update(value) {\n    if (!this.literal) {\n      this.setComponent(value);\n    }\n  },\n\n  /**\n   * Switch dynamic components. May resolve the component\n   * asynchronously, and perform transition based on\n   * specified transition mode. Accepts a few additional\n   * arguments specifically for vue-router.\n   *\n   * The callback is called when the full transition is\n   * finished.\n   *\n   * @param {String} value\n   * @param {Function} [cb]\n   */\n\n  setComponent: function setComponent(value, cb) {\n    this.invalidatePending();\n    if (!value) {\n      // just remove current\n      this.unbuild(true);\n      this.remove(this.childVM, cb);\n      this.childVM = null;\n    } else {\n      var self = this;\n      this.resolveComponent(value, function () {\n        self.mountComponent(cb);\n      });\n    }\n  },\n\n  /**\n   * Resolve the component constructor to use when creating\n   * the child vm.\n   */\n\n  resolveComponent: function resolveComponent(id, cb) {\n    var self = this;\n    this.pendingComponentCb = cancellable(function (Component) {\n      self.ComponentName = Component.options.name || id;\n      self.Component = Component;\n      cb();\n    });\n    this.vm._resolveComponent(id, this.pendingComponentCb);\n  },\n\n  /**\n   * Create a new instance using the current constructor and\n   * replace the existing instance. This method doesn't care\n   * whether the new component and the old one are actually\n   * the same.\n   *\n   * @param {Function} [cb]\n   */\n\n  mountComponent: function mountComponent(cb) {\n    // actual mount\n    this.unbuild(true);\n    var self = this;\n    var activateHook = this.Component.options.activate;\n    var cached = this.getCached();\n    var newComponent = this.build();\n    if (activateHook && !cached) {\n      this.waitingFor = newComponent;\n      activateHook.call(newComponent, function () {\n        if (self.waitingFor !== newComponent) {\n          return;\n        }\n        self.waitingFor = null;\n        self.transition(newComponent, cb);\n      });\n    } else {\n      // update ref for kept-alive component\n      if (cached) {\n        newComponent._updateRef();\n      }\n      this.transition(newComponent, cb);\n    }\n  },\n\n  /**\n   * When the component changes or unbinds before an async\n   * constructor is resolved, we need to invalidate its\n   * pending callback.\n   */\n\n  invalidatePending: function invalidatePending() {\n    if (this.pendingComponentCb) {\n      this.pendingComponentCb.cancel();\n      this.pendingComponentCb = null;\n    }\n  },\n\n  /**\n   * Instantiate/insert a new child vm.\n   * If keep alive and has cached instance, insert that\n   * instance; otherwise build a new one and cache it.\n   *\n   * @param {Object} [extraOptions]\n   * @return {Vue} - the created instance\n   */\n\n  build: function build(extraOptions) {\n    var cached = this.getCached();\n    if (cached) {\n      return cached;\n    }\n    if (this.Component) {\n      // default options\n      var options = {\n        name: this.ComponentName,\n        el: cloneNode(this.el),\n        template: this.inlineTemplate,\n        // make sure to add the child with correct parent\n        // if this is a transcluded component, its parent\n        // should be the transclusion host.\n        parent: this._host || this.vm,\n        // if no inline-template, then the compiled\n        // linker can be cached for better performance.\n        _linkerCachable: !this.inlineTemplate,\n        _ref: this.descriptor.ref,\n        _asComponent: true,\n        _isRouterView: this._isRouterView,\n        // if this is a transcluded component, context\n        // will be the common parent vm of this instance\n        // and its host.\n        _context: this.vm,\n        // if this is inside an inline v-for, the scope\n        // will be the intermediate scope created for this\n        // repeat fragment. this is used for linking props\n        // and container directives.\n        _scope: this._scope,\n        // pass in the owner fragment of this component.\n        // this is necessary so that the fragment can keep\n        // track of its contained components in order to\n        // call attach/detach hooks for them.\n        _frag: this._frag\n      };\n      // extra options\n      // in 1.0.0 this is used by vue-router only\n      /* istanbul ignore if */\n      if (extraOptions) {\n        extend(options, extraOptions);\n      }\n      var child = new this.Component(options);\n      if (this.keepAlive) {\n        this.cache[this.Component.cid] = child;\n      }\n      /* istanbul ignore if */\n      if (process.env.NODE_ENV !== 'production' && this.el.hasAttribute('transition') && child._isFragment) {\n        warn('Transitions will not work on a fragment instance. ' + 'Template: ' + child.$options.template);\n      }\n      return child;\n    }\n  },\n\n  /**\n   * Try to get a cached instance of the current component.\n   *\n   * @return {Vue|undefined}\n   */\n\n  getCached: function getCached() {\n    return this.keepAlive && this.cache[this.Component.cid];\n  },\n\n  /**\n   * Teardown the current child, but defers cleanup so\n   * that we can separate the destroy and removal steps.\n   *\n   * @param {Boolean} defer\n   */\n\n  unbuild: function unbuild(defer) {\n    if (this.waitingFor) {\n      this.waitingFor.$destroy();\n      this.waitingFor = null;\n    }\n    var child = this.childVM;\n    if (!child || this.keepAlive) {\n      if (child) {\n        // remove ref\n        child._updateRef(true);\n      }\n      return;\n    }\n    // the sole purpose of `deferCleanup` is so that we can\n    // \"deactivate\" the vm right now and perform DOM removal\n    // later.\n    child.$destroy(false, defer);\n  },\n\n  /**\n   * Remove current destroyed child and manually do\n   * the cleanup after removal.\n   *\n   * @param {Function} cb\n   */\n\n  remove: function remove(child, cb) {\n    var keepAlive = this.keepAlive;\n    if (child) {\n      // we may have a component switch when a previous\n      // component is still being transitioned out.\n      // we want to trigger only one lastest insertion cb\n      // when the existing transition finishes. (#1119)\n      this.pendingRemovals++;\n      this.pendingRemovalCb = cb;\n      var self = this;\n      child.$remove(function () {\n        self.pendingRemovals--;\n        if (!keepAlive) child._cleanup();\n        if (!self.pendingRemovals && self.pendingRemovalCb) {\n          self.pendingRemovalCb();\n          self.pendingRemovalCb = null;\n        }\n      });\n    } else if (cb) {\n      cb();\n    }\n  },\n\n  /**\n   * Actually swap the components, depending on the\n   * transition mode. Defaults to simultaneous.\n   *\n   * @param {Vue} target\n   * @param {Function} [cb]\n   */\n\n  transition: function transition(target, cb) {\n    var self = this;\n    var current = this.childVM;\n    // for devtool inspection\n    if (process.env.NODE_ENV !== 'production') {\n      if (current) current._inactive = true;\n      target._inactive = false;\n    }\n    this.childVM = target;\n    switch (self.params.transitionMode) {\n      case 'in-out':\n        target.$before(self.anchor, function () {\n          self.remove(current, cb);\n        });\n        break;\n      case 'out-in':\n        self.remove(current, function () {\n          target.$before(self.anchor, cb);\n        });\n        break;\n      default:\n        self.remove(current);\n        target.$before(self.anchor, cb);\n    }\n  },\n\n  /**\n   * Unbind.\n   */\n\n  unbind: function unbind() {\n    this.invalidatePending();\n    // Do not defer cleanup when unbinding\n    this.unbuild();\n    // destroy all keep-alive cached instances\n    if (this.cache) {\n      for (var key in this.cache) {\n        this.cache[key].$destroy();\n      }\n      this.cache = null;\n    }\n  }\n};\n\nvar vClass = {\n\n  deep: true,\n\n  update: function update(value) {\n    if (value && typeof value === 'string') {\n      this.handleObject(stringToObject(value));\n    } else if (isPlainObject(value)) {\n      this.handleObject(value);\n    } else if (isArray(value)) {\n      this.handleArray(value);\n    } else {\n      this.cleanup();\n    }\n  },\n\n  handleObject: function handleObject(value) {\n    this.cleanup(value);\n    var keys = this.prevKeys = Object.keys(value);\n    for (var i = 0, l = keys.length; i < l; i++) {\n      var key = keys[i];\n      if (value[key]) {\n        addClass(this.el, key);\n      } else {\n        removeClass(this.el, key);\n      }\n    }\n  },\n\n  handleArray: function handleArray(value) {\n    this.cleanup(value);\n    for (var i = 0, l = value.length; i < l; i++) {\n      if (value[i]) {\n        addClass(this.el, value[i]);\n      }\n    }\n    this.prevKeys = value.slice();\n  },\n\n  cleanup: function cleanup(value) {\n    if (this.prevKeys) {\n      var i = this.prevKeys.length;\n      while (i--) {\n        var key = this.prevKeys[i];\n        if (key && (!value || !contains$1(value, key))) {\n          removeClass(this.el, key);\n        }\n      }\n    }\n  }\n};\n\nfunction stringToObject(value) {\n  var res = {};\n  var keys = value.trim().split(/\\s+/);\n  var i = keys.length;\n  while (i--) {\n    res[keys[i]] = true;\n  }\n  return res;\n}\n\nfunction contains$1(value, key) {\n  return isArray(value) ? value.indexOf(key) > -1 : hasOwn(value, key);\n}\n\nvar internalDirectives = {\n  style: style,\n  'class': vClass,\n  component: component,\n  prop: propDef,\n  transition: transition\n};\n\nvar propBindingModes = config._propBindingModes;\nvar empty = {};\n\n// regexes\nvar identRE$1 = /^[$_a-zA-Z]+[\\w$]*$/;\nvar settablePathRE = /^[A-Za-z_$][\\w$]*(\\.[A-Za-z_$][\\w$]*|\\[[^\\[\\]]+\\])*$/;\n\n/**\n * Compile props on a root element and return\n * a props link function.\n *\n * @param {Element|DocumentFragment} el\n * @param {Array} propOptions\n * @return {Function} propsLinkFn\n */\n\nfunction compileProps(el, propOptions) {\n  var props = [];\n  var names = Object.keys(propOptions);\n  var i = names.length;\n  var options, name, attr, value, path, parsed, prop;\n  while (i--) {\n    name = names[i];\n    options = propOptions[name] || empty;\n\n    if (process.env.NODE_ENV !== 'production' && name === '$data') {\n      warn('Do not use $data as prop.');\n      continue;\n    }\n\n    // props could contain dashes, which will be\n    // interpreted as minus calculations by the parser\n    // so we need to camelize the path here\n    path = camelize(name);\n    if (!identRE$1.test(path)) {\n      process.env.NODE_ENV !== 'production' && warn('Invalid prop key: \"' + name + '\". Prop keys ' + 'must be valid identifiers.');\n      continue;\n    }\n\n    prop = {\n      name: name,\n      path: path,\n      options: options,\n      mode: propBindingModes.ONE_WAY,\n      raw: null\n    };\n\n    attr = hyphenate(name);\n    // first check dynamic version\n    if ((value = getBindAttr(el, attr)) === null) {\n      if ((value = getBindAttr(el, attr + '.sync')) !== null) {\n        prop.mode = propBindingModes.TWO_WAY;\n      } else if ((value = getBindAttr(el, attr + '.once')) !== null) {\n        prop.mode = propBindingModes.ONE_TIME;\n      }\n    }\n    if (value !== null) {\n      // has dynamic binding!\n      prop.raw = value;\n      parsed = parseDirective(value);\n      value = parsed.expression;\n      prop.filters = parsed.filters;\n      // check binding type\n      if (isLiteral(value)) {\n        // for expressions containing literal numbers and\n        // booleans, there's no need to setup a prop binding,\n        // so we can optimize them as a one-time set.\n        prop.optimizedLiteral = true;\n      } else {\n        prop.dynamic = true;\n        // check non-settable path for two-way bindings\n        if (process.env.NODE_ENV !== 'production' && prop.mode === propBindingModes.TWO_WAY && !settablePathRE.test(value)) {\n          prop.mode = propBindingModes.ONE_WAY;\n          warn('Cannot bind two-way prop with non-settable ' + 'parent path: ' + value);\n        }\n      }\n      prop.parentPath = value;\n\n      // warn required two-way\n      if (process.env.NODE_ENV !== 'production' && options.twoWay && prop.mode !== propBindingModes.TWO_WAY) {\n        warn('Prop \"' + name + '\" expects a two-way binding type.');\n      }\n    } else if ((value = getAttr(el, attr)) !== null) {\n      // has literal binding!\n      prop.raw = value;\n    } else if (options.required) {\n      // warn missing required\n      process.env.NODE_ENV !== 'production' && warn('Missing required prop: ' + name);\n    }\n    // push prop\n    props.push(prop);\n  }\n  return makePropsLinkFn(props);\n}\n\n/**\n * Build a function that applies props to a vm.\n *\n * @param {Array} props\n * @return {Function} propsLinkFn\n */\n\nfunction makePropsLinkFn(props) {\n  return function propsLinkFn(vm, scope) {\n    // store resolved props info\n    vm._props = {};\n    var i = props.length;\n    var prop, path, options, value, raw;\n    while (i--) {\n      prop = props[i];\n      raw = prop.raw;\n      path = prop.path;\n      options = prop.options;\n      vm._props[path] = prop;\n      if (raw === null) {\n        // initialize absent prop\n        initProp(vm, prop, getDefault(vm, options));\n      } else if (prop.dynamic) {\n        // dynamic prop\n        if (vm._context) {\n          if (prop.mode === propBindingModes.ONE_TIME) {\n            // one time binding\n            value = (scope || vm._context).$get(prop.parentPath);\n            initProp(vm, prop, value);\n          } else {\n            // dynamic binding\n            vm._bindDir({\n              name: 'prop',\n              def: propDef,\n              prop: prop\n            }, null, null, scope); // el, host, scope\n          }\n        } else {\n            process.env.NODE_ENV !== 'production' && warn('Cannot bind dynamic prop on a root instance' + ' with no parent: ' + prop.name + '=\"' + raw + '\"');\n          }\n      } else if (prop.optimizedLiteral) {\n        // optimized literal, cast it and just set once\n        var stripped = stripQuotes(raw);\n        value = stripped === raw ? toBoolean(toNumber(raw)) : stripped;\n        initProp(vm, prop, value);\n      } else {\n        // string literal, but we need to cater for\n        // Boolean props with no value\n        value = options.type === Boolean && raw === '' ? true : raw;\n        initProp(vm, prop, value);\n      }\n    }\n  };\n}\n\n/**\n * Get the default value of a prop.\n *\n * @param {Vue} vm\n * @param {Object} options\n * @return {*}\n */\n\nfunction getDefault(vm, options) {\n  // no default, return undefined\n  if (!hasOwn(options, 'default')) {\n    // absent boolean value defaults to false\n    return options.type === Boolean ? false : undefined;\n  }\n  var def = options['default'];\n  // warn against non-factory defaults for Object & Array\n  if (isObject(def)) {\n    process.env.NODE_ENV !== 'production' && warn('Object/Array as default prop values will be shared ' + 'across multiple instances. Use a factory function ' + 'to return the default value instead.');\n  }\n  // call factory function for non-Function types\n  return typeof def === 'function' && options.type !== Function ? def.call(vm) : def;\n}\n\n// special binding prefixes\nvar bindRE = /^v-bind:|^:/;\nvar onRE = /^v-on:|^@/;\nvar argRE = /:(.*)$/;\nvar modifierRE = /\\.[^\\.]+/g;\nvar transitionRE = /^(v-bind:|:)?transition$/;\n\n// terminal directives\nvar terminalDirectives = ['for', 'if'];\n\n// default directive priority\nvar DEFAULT_PRIORITY = 1000;\n\n/**\n * Compile a template and return a reusable composite link\n * function, which recursively contains more link functions\n * inside. This top level compile function would normally\n * be called on instance root nodes, but can also be used\n * for partial compilation if the partial argument is true.\n *\n * The returned composite link function, when called, will\n * return an unlink function that tearsdown all directives\n * created during the linking phase.\n *\n * @param {Element|DocumentFragment} el\n * @param {Object} options\n * @param {Boolean} partial\n * @return {Function}\n */\n\nfunction compile(el, options, partial) {\n  // link function for the node itself.\n  var nodeLinkFn = partial || !options._asComponent ? compileNode(el, options) : null;\n  // link function for the childNodes\n  var childLinkFn = !(nodeLinkFn && nodeLinkFn.terminal) && el.tagName !== 'SCRIPT' && el.hasChildNodes() ? compileNodeList(el.childNodes, options) : null;\n\n  /**\n   * A composite linker function to be called on a already\n   * compiled piece of DOM, which instantiates all directive\n   * instances.\n   *\n   * @param {Vue} vm\n   * @param {Element|DocumentFragment} el\n   * @param {Vue} [host] - host vm of transcluded content\n   * @param {Object} [scope] - v-for scope\n   * @param {Fragment} [frag] - link context fragment\n   * @return {Function|undefined}\n   */\n\n  return function compositeLinkFn(vm, el, host, scope, frag) {\n    // cache childNodes before linking parent, fix #657\n    var childNodes = toArray(el.childNodes);\n    // link\n    var dirs = linkAndCapture(function compositeLinkCapturer() {\n      if (nodeLinkFn) nodeLinkFn(vm, el, host, scope, frag);\n      if (childLinkFn) childLinkFn(vm, childNodes, host, scope, frag);\n    }, vm);\n    return makeUnlinkFn(vm, dirs);\n  };\n}\n\n/**\n * Apply a linker to a vm/element pair and capture the\n * directives created during the process.\n *\n * @param {Function} linker\n * @param {Vue} vm\n */\n\nfunction linkAndCapture(linker, vm) {\n  var originalDirCount = vm._directives.length;\n  linker();\n  var dirs = vm._directives.slice(originalDirCount);\n  dirs.sort(directiveComparator);\n  for (var i = 0, l = dirs.length; i < l; i++) {\n    dirs[i]._bind();\n  }\n  return dirs;\n}\n\n/**\n * Directive priority sort comparator\n *\n * @param {Object} a\n * @param {Object} b\n */\n\nfunction directiveComparator(a, b) {\n  a = a.descriptor.def.priority || DEFAULT_PRIORITY;\n  b = b.descriptor.def.priority || DEFAULT_PRIORITY;\n  return a > b ? -1 : a === b ? 0 : 1;\n}\n\n/**\n * Linker functions return an unlink function that\n * tearsdown all directives instances generated during\n * the process.\n *\n * We create unlink functions with only the necessary\n * information to avoid retaining additional closures.\n *\n * @param {Vue} vm\n * @param {Array} dirs\n * @param {Vue} [context]\n * @param {Array} [contextDirs]\n * @return {Function}\n */\n\nfunction makeUnlinkFn(vm, dirs, context, contextDirs) {\n  return function unlink(destroying) {\n    teardownDirs(vm, dirs, destroying);\n    if (context && contextDirs) {\n      teardownDirs(context, contextDirs);\n    }\n  };\n}\n\n/**\n * Teardown partial linked directives.\n *\n * @param {Vue} vm\n * @param {Array} dirs\n * @param {Boolean} destroying\n */\n\nfunction teardownDirs(vm, dirs, destroying) {\n  var i = dirs.length;\n  while (i--) {\n    dirs[i]._teardown();\n    if (!destroying) {\n      vm._directives.$remove(dirs[i]);\n    }\n  }\n}\n\n/**\n * Compile link props on an instance.\n *\n * @param {Vue} vm\n * @param {Element} el\n * @param {Object} props\n * @param {Object} [scope]\n * @return {Function}\n */\n\nfunction compileAndLinkProps(vm, el, props, scope) {\n  var propsLinkFn = compileProps(el, props);\n  var propDirs = linkAndCapture(function () {\n    propsLinkFn(vm, scope);\n  }, vm);\n  return makeUnlinkFn(vm, propDirs);\n}\n\n/**\n * Compile the root element of an instance.\n *\n * 1. attrs on context container (context scope)\n * 2. attrs on the component template root node, if\n *    replace:true (child scope)\n *\n * If this is a fragment instance, we only need to compile 1.\n *\n * @param {Vue} vm\n * @param {Element} el\n * @param {Object} options\n * @param {Object} contextOptions\n * @return {Function}\n */\n\nfunction compileRoot(el, options, contextOptions) {\n  var containerAttrs = options._containerAttrs;\n  var replacerAttrs = options._replacerAttrs;\n  var contextLinkFn, replacerLinkFn;\n\n  // only need to compile other attributes for\n  // non-fragment instances\n  if (el.nodeType !== 11) {\n    // for components, container and replacer need to be\n    // compiled separately and linked in different scopes.\n    if (options._asComponent) {\n      // 2. container attributes\n      if (containerAttrs && contextOptions) {\n        contextLinkFn = compileDirectives(containerAttrs, contextOptions);\n      }\n      if (replacerAttrs) {\n        // 3. replacer attributes\n        replacerLinkFn = compileDirectives(replacerAttrs, options);\n      }\n    } else {\n      // non-component, just compile as a normal element.\n      replacerLinkFn = compileDirectives(el.attributes, options);\n    }\n  } else if (process.env.NODE_ENV !== 'production' && containerAttrs) {\n    // warn container directives for fragment instances\n    var names = containerAttrs.filter(function (attr) {\n      // allow vue-loader/vueify scoped css attributes\n      return attr.name.indexOf('_v-') < 0 &&\n      // allow event listeners\n      !onRE.test(attr.name) &&\n      // allow slots\n      attr.name !== 'slot';\n    }).map(function (attr) {\n      return '\"' + attr.name + '\"';\n    });\n    if (names.length) {\n      var plural = names.length > 1;\n      warn('Attribute' + (plural ? 's ' : ' ') + names.join(', ') + (plural ? ' are' : ' is') + ' ignored on component ' + '<' + options.el.tagName.toLowerCase() + '> because ' + 'the component is a fragment instance: ' + 'http://vuejs.org/guide/components.html#Fragment_Instance');\n    }\n  }\n\n  return function rootLinkFn(vm, el, scope) {\n    // link context scope dirs\n    var context = vm._context;\n    var contextDirs;\n    if (context && contextLinkFn) {\n      contextDirs = linkAndCapture(function () {\n        contextLinkFn(context, el, null, scope);\n      }, context);\n    }\n\n    // link self\n    var selfDirs = linkAndCapture(function () {\n      if (replacerLinkFn) replacerLinkFn(vm, el);\n    }, vm);\n\n    // return the unlink function that tearsdown context\n    // container directives.\n    return makeUnlinkFn(vm, selfDirs, context, contextDirs);\n  };\n}\n\n/**\n * Compile a node and return a nodeLinkFn based on the\n * node type.\n *\n * @param {Node} node\n * @param {Object} options\n * @return {Function|null}\n */\n\nfunction compileNode(node, options) {\n  var type = node.nodeType;\n  if (type === 1 && node.tagName !== 'SCRIPT') {\n    return compileElement(node, options);\n  } else if (type === 3 && node.data.trim()) {\n    return compileTextNode(node, options);\n  } else {\n    return null;\n  }\n}\n\n/**\n * Compile an element and return a nodeLinkFn.\n *\n * @param {Element} el\n * @param {Object} options\n * @return {Function|null}\n */\n\nfunction compileElement(el, options) {\n  // preprocess textareas.\n  // textarea treats its text content as the initial value.\n  // just bind it as an attr directive for value.\n  if (el.tagName === 'TEXTAREA') {\n    var tokens = parseText(el.value);\n    if (tokens) {\n      el.setAttribute(':value', tokensToExp(tokens));\n      el.value = '';\n    }\n  }\n  var linkFn;\n  var hasAttrs = el.hasAttributes();\n  // check terminal directives (for & if)\n  if (hasAttrs) {\n    linkFn = checkTerminalDirectives(el, options);\n  }\n  // check element directives\n  if (!linkFn) {\n    linkFn = checkElementDirectives(el, options);\n  }\n  // check component\n  if (!linkFn) {\n    linkFn = checkComponent(el, options);\n  }\n  // normal directives\n  if (!linkFn && hasAttrs) {\n    linkFn = compileDirectives(el.attributes, options);\n  }\n  return linkFn;\n}\n\n/**\n * Compile a textNode and return a nodeLinkFn.\n *\n * @param {TextNode} node\n * @param {Object} options\n * @return {Function|null} textNodeLinkFn\n */\n\nfunction compileTextNode(node, options) {\n  // skip marked text nodes\n  if (node._skip) {\n    return removeText;\n  }\n\n  var tokens = parseText(node.wholeText);\n  if (!tokens) {\n    return null;\n  }\n\n  // mark adjacent text nodes as skipped,\n  // because we are using node.wholeText to compile\n  // all adjacent text nodes together. This fixes\n  // issues in IE where sometimes it splits up a single\n  // text node into multiple ones.\n  var next = node.nextSibling;\n  while (next && next.nodeType === 3) {\n    next._skip = true;\n    next = next.nextSibling;\n  }\n\n  var frag = document.createDocumentFragment();\n  var el, token;\n  for (var i = 0, l = tokens.length; i < l; i++) {\n    token = tokens[i];\n    el = token.tag ? processTextToken(token, options) : document.createTextNode(token.value);\n    frag.appendChild(el);\n  }\n  return makeTextNodeLinkFn(tokens, frag, options);\n}\n\n/**\n * Linker for an skipped text node.\n *\n * @param {Vue} vm\n * @param {Text} node\n */\n\nfunction removeText(vm, node) {\n  remove(node);\n}\n\n/**\n * Process a single text token.\n *\n * @param {Object} token\n * @param {Object} options\n * @return {Node}\n */\n\nfunction processTextToken(token, options) {\n  var el;\n  if (token.oneTime) {\n    el = document.createTextNode(token.value);\n  } else {\n    if (token.html) {\n      el = document.createComment('v-html');\n      setTokenType('html');\n    } else {\n      // IE will clean up empty textNodes during\n      // frag.cloneNode(true), so we have to give it\n      // something here...\n      el = document.createTextNode(' ');\n      setTokenType('text');\n    }\n  }\n  function setTokenType(type) {\n    if (token.descriptor) return;\n    var parsed = parseDirective(token.value);\n    token.descriptor = {\n      name: type,\n      def: publicDirectives[type],\n      expression: parsed.expression,\n      filters: parsed.filters\n    };\n  }\n  return el;\n}\n\n/**\n * Build a function that processes a textNode.\n *\n * @param {Array<Object>} tokens\n * @param {DocumentFragment} frag\n */\n\nfunction makeTextNodeLinkFn(tokens, frag) {\n  return function textNodeLinkFn(vm, el, host, scope) {\n    var fragClone = frag.cloneNode(true);\n    var childNodes = toArray(fragClone.childNodes);\n    var token, value, node;\n    for (var i = 0, l = tokens.length; i < l; i++) {\n      token = tokens[i];\n      value = token.value;\n      if (token.tag) {\n        node = childNodes[i];\n        if (token.oneTime) {\n          value = (scope || vm).$eval(value);\n          if (token.html) {\n            replace(node, parseTemplate(value, true));\n          } else {\n            node.data = value;\n          }\n        } else {\n          vm._bindDir(token.descriptor, node, host, scope);\n        }\n      }\n    }\n    replace(el, fragClone);\n  };\n}\n\n/**\n * Compile a node list and return a childLinkFn.\n *\n * @param {NodeList} nodeList\n * @param {Object} options\n * @return {Function|undefined}\n */\n\nfunction compileNodeList(nodeList, options) {\n  var linkFns = [];\n  var nodeLinkFn, childLinkFn, node;\n  for (var i = 0, l = nodeList.length; i < l; i++) {\n    node = nodeList[i];\n    nodeLinkFn = compileNode(node, options);\n    childLinkFn = !(nodeLinkFn && nodeLinkFn.terminal) && node.tagName !== 'SCRIPT' && node.hasChildNodes() ? compileNodeList(node.childNodes, options) : null;\n    linkFns.push(nodeLinkFn, childLinkFn);\n  }\n  return linkFns.length ? makeChildLinkFn(linkFns) : null;\n}\n\n/**\n * Make a child link function for a node's childNodes.\n *\n * @param {Array<Function>} linkFns\n * @return {Function} childLinkFn\n */\n\nfunction makeChildLinkFn(linkFns) {\n  return function childLinkFn(vm, nodes, host, scope, frag) {\n    var node, nodeLinkFn, childrenLinkFn;\n    for (var i = 0, n = 0, l = linkFns.length; i < l; n++) {\n      node = nodes[n];\n      nodeLinkFn = linkFns[i++];\n      childrenLinkFn = linkFns[i++];\n      // cache childNodes before linking parent, fix #657\n      var childNodes = toArray(node.childNodes);\n      if (nodeLinkFn) {\n        nodeLinkFn(vm, node, host, scope, frag);\n      }\n      if (childrenLinkFn) {\n        childrenLinkFn(vm, childNodes, host, scope, frag);\n      }\n    }\n  };\n}\n\n/**\n * Check for element directives (custom elements that should\n * be resovled as terminal directives).\n *\n * @param {Element} el\n * @param {Object} options\n */\n\nfunction checkElementDirectives(el, options) {\n  var tag = el.tagName.toLowerCase();\n  if (commonTagRE.test(tag)) return;\n  // special case: give named slot a higher priority\n  // than unnamed slots\n  if (tag === 'slot' && hasBindAttr(el, 'name')) {\n    tag = '_namedSlot';\n  }\n  var def = resolveAsset(options, 'elementDirectives', tag);\n  if (def) {\n    return makeTerminalNodeLinkFn(el, tag, '', options, def);\n  }\n}\n\n/**\n * Check if an element is a component. If yes, return\n * a component link function.\n *\n * @param {Element} el\n * @param {Object} options\n * @return {Function|undefined}\n */\n\nfunction checkComponent(el, options) {\n  var component = checkComponentAttr(el, options);\n  if (component) {\n    var ref = findRef(el);\n    var descriptor = {\n      name: 'component',\n      ref: ref,\n      expression: component.id,\n      def: internalDirectives.component,\n      modifiers: {\n        literal: !component.dynamic\n      }\n    };\n    var componentLinkFn = function componentLinkFn(vm, el, host, scope, frag) {\n      if (ref) {\n        defineReactive((scope || vm).$refs, ref, null);\n      }\n      vm._bindDir(descriptor, el, host, scope, frag);\n    };\n    componentLinkFn.terminal = true;\n    return componentLinkFn;\n  }\n}\n\n/**\n * Check an element for terminal directives in fixed order.\n * If it finds one, return a terminal link function.\n *\n * @param {Element} el\n * @param {Object} options\n * @return {Function} terminalLinkFn\n */\n\nfunction checkTerminalDirectives(el, options) {\n  // skip v-pre\n  if (getAttr(el, 'v-pre') !== null) {\n    return skip;\n  }\n  // skip v-else block, but only if following v-if\n  if (el.hasAttribute('v-else')) {\n    var prev = el.previousElementSibling;\n    if (prev && prev.hasAttribute('v-if')) {\n      return skip;\n    }\n  }\n  var value, dirName;\n  for (var i = 0, l = terminalDirectives.length; i < l; i++) {\n    dirName = terminalDirectives[i];\n    /* eslint-disable no-cond-assign */\n    if (value = el.getAttribute('v-' + dirName)) {\n      return makeTerminalNodeLinkFn(el, dirName, value, options);\n    }\n    /* eslint-enable no-cond-assign */\n  }\n}\n\nfunction skip() {}\nskip.terminal = true;\n\n/**\n * Build a node link function for a terminal directive.\n * A terminal link function terminates the current\n * compilation recursion and handles compilation of the\n * subtree in the directive.\n *\n * @param {Element} el\n * @param {String} dirName\n * @param {String} value\n * @param {Object} options\n * @param {Object} [def]\n * @return {Function} terminalLinkFn\n */\n\nfunction makeTerminalNodeLinkFn(el, dirName, value, options, def) {\n  var parsed = parseDirective(value);\n  var descriptor = {\n    name: dirName,\n    expression: parsed.expression,\n    filters: parsed.filters,\n    raw: value,\n    // either an element directive, or if/for\n    def: def || publicDirectives[dirName]\n  };\n  // check ref for v-for and router-view\n  if (dirName === 'for' || dirName === 'router-view') {\n    descriptor.ref = findRef(el);\n  }\n  var fn = function terminalNodeLinkFn(vm, el, host, scope, frag) {\n    if (descriptor.ref) {\n      defineReactive((scope || vm).$refs, descriptor.ref, null);\n    }\n    vm._bindDir(descriptor, el, host, scope, frag);\n  };\n  fn.terminal = true;\n  return fn;\n}\n\n/**\n * Compile the directives on an element and return a linker.\n *\n * @param {Array|NamedNodeMap} attrs\n * @param {Object} options\n * @return {Function}\n */\n\nfunction compileDirectives(attrs, options) {\n  var i = attrs.length;\n  var dirs = [];\n  var attr, name, value, rawName, rawValue, dirName, arg, modifiers, dirDef, tokens;\n  while (i--) {\n    attr = attrs[i];\n    name = rawName = attr.name;\n    value = rawValue = attr.value;\n    tokens = parseText(value);\n    // reset arg\n    arg = null;\n    // check modifiers\n    modifiers = parseModifiers(name);\n    name = name.replace(modifierRE, '');\n\n    // attribute interpolations\n    if (tokens) {\n      value = tokensToExp(tokens);\n      if (name === 'class') {\n        pushDir('class', internalDirectives['class'], true);\n      } else {\n        arg = name;\n        pushDir('bind', publicDirectives.bind, true);\n      }\n      // warn against mixing mustaches with v-bind\n      if (process.env.NODE_ENV !== 'production') {\n        if (name === 'class' && Array.prototype.some.call(attrs, function (attr) {\n          return attr.name === ':class' || attr.name === 'v-bind:class';\n        })) {\n          warn('class=\"' + rawValue + '\": Do not mix mustache interpolation ' + 'and v-bind for \"class\" on the same element. Use one or the other.');\n        }\n      }\n    } else\n\n      // special attribute: transition\n      if (transitionRE.test(name)) {\n        modifiers.literal = !bindRE.test(name);\n        pushDir('transition', internalDirectives.transition);\n      } else\n\n        // event handlers\n        if (onRE.test(name)) {\n          arg = name.replace(onRE, '');\n          pushDir('on', publicDirectives.on);\n        } else\n\n          // attribute bindings\n          if (bindRE.test(name)) {\n            dirName = name.replace(bindRE, '');\n            if (dirName === 'style' || dirName === 'class') {\n              pushDir(dirName, internalDirectives[dirName]);\n            } else {\n              arg = dirName;\n              pushDir('bind', publicDirectives.bind);\n            }\n          } else\n\n            // normal directives\n            if (name.indexOf('v-') === 0) {\n              // check arg\n              arg = (arg = name.match(argRE)) && arg[1];\n              if (arg) {\n                name = name.replace(argRE, '');\n              }\n              // extract directive name\n              dirName = name.slice(2);\n\n              // skip v-else (when used with v-show)\n              if (dirName === 'else') {\n                continue;\n              }\n\n              dirDef = resolveAsset(options, 'directives', dirName);\n\n              if (process.env.NODE_ENV !== 'production') {\n                assertAsset(dirDef, 'directive', dirName);\n              }\n\n              if (dirDef) {\n                pushDir(dirName, dirDef);\n              }\n            }\n  }\n\n  /**\n   * Push a directive.\n   *\n   * @param {String} dirName\n   * @param {Object|Function} def\n   * @param {Boolean} [interp]\n   */\n\n  function pushDir(dirName, def, interp) {\n    var parsed = parseDirective(value);\n    dirs.push({\n      name: dirName,\n      attr: rawName,\n      raw: rawValue,\n      def: def,\n      arg: arg,\n      modifiers: modifiers,\n      expression: parsed.expression,\n      filters: parsed.filters,\n      interp: interp\n    });\n  }\n\n  if (dirs.length) {\n    return makeNodeLinkFn(dirs);\n  }\n}\n\n/**\n * Parse modifiers from directive attribute name.\n *\n * @param {String} name\n * @return {Object}\n */\n\nfunction parseModifiers(name) {\n  var res = Object.create(null);\n  var match = name.match(modifierRE);\n  if (match) {\n    var i = match.length;\n    while (i--) {\n      res[match[i].slice(1)] = true;\n    }\n  }\n  return res;\n}\n\n/**\n * Build a link function for all directives on a single node.\n *\n * @param {Array} directives\n * @return {Function} directivesLinkFn\n */\n\nfunction makeNodeLinkFn(directives) {\n  return function nodeLinkFn(vm, el, host, scope, frag) {\n    // reverse apply because it's sorted low to high\n    var i = directives.length;\n    while (i--) {\n      vm._bindDir(directives[i], el, host, scope, frag);\n    }\n  };\n}\n\nvar specialCharRE = /[^\\w\\-:\\.]/;\n\n/**\n * Process an element or a DocumentFragment based on a\n * instance option object. This allows us to transclude\n * a template node/fragment before the instance is created,\n * so the processed fragment can then be cloned and reused\n * in v-for.\n *\n * @param {Element} el\n * @param {Object} options\n * @return {Element|DocumentFragment}\n */\n\nfunction transclude(el, options) {\n  // extract container attributes to pass them down\n  // to compiler, because they need to be compiled in\n  // parent scope. we are mutating the options object here\n  // assuming the same object will be used for compile\n  // right after this.\n  if (options) {\n    options._containerAttrs = extractAttrs(el);\n  }\n  // for template tags, what we want is its content as\n  // a documentFragment (for fragment instances)\n  if (isTemplate(el)) {\n    el = parseTemplate(el);\n  }\n  if (options) {\n    if (options._asComponent && !options.template) {\n      options.template = '<slot></slot>';\n    }\n    if (options.template) {\n      options._content = extractContent(el);\n      el = transcludeTemplate(el, options);\n    }\n  }\n  if (el instanceof DocumentFragment) {\n    // anchors for fragment instance\n    // passing in `persist: true` to avoid them being\n    // discarded by IE during template cloning\n    prepend(createAnchor('v-start', true), el);\n    el.appendChild(createAnchor('v-end', true));\n  }\n  return el;\n}\n\n/**\n * Process the template option.\n * If the replace option is true this will swap the $el.\n *\n * @param {Element} el\n * @param {Object} options\n * @return {Element|DocumentFragment}\n */\n\nfunction transcludeTemplate(el, options) {\n  var template = options.template;\n  var frag = parseTemplate(template, true);\n  if (frag) {\n    var replacer = frag.firstChild;\n    var tag = replacer.tagName && replacer.tagName.toLowerCase();\n    if (options.replace) {\n      /* istanbul ignore if */\n      if (el === document.body) {\n        process.env.NODE_ENV !== 'production' && warn('You are mounting an instance with a template to ' + '<body>. This will replace <body> entirely. You ' + 'should probably use `replace: false` here.');\n      }\n      // there are many cases where the instance must\n      // become a fragment instance: basically anything that\n      // can create more than 1 root nodes.\n      if (\n      // multi-children template\n      frag.childNodes.length > 1 ||\n      // non-element template\n      replacer.nodeType !== 1 ||\n      // single nested component\n      tag === 'component' || resolveAsset(options, 'components', tag) || hasBindAttr(replacer, 'is') ||\n      // element directive\n      resolveAsset(options, 'elementDirectives', tag) ||\n      // for block\n      replacer.hasAttribute('v-for') ||\n      // if block\n      replacer.hasAttribute('v-if')) {\n        return frag;\n      } else {\n        options._replacerAttrs = extractAttrs(replacer);\n        mergeAttrs(el, replacer);\n        return replacer;\n      }\n    } else {\n      el.appendChild(frag);\n      return el;\n    }\n  } else {\n    process.env.NODE_ENV !== 'production' && warn('Invalid template option: ' + template);\n  }\n}\n\n/**\n * Helper to extract a component container's attributes\n * into a plain object array.\n *\n * @param {Element} el\n * @return {Array}\n */\n\nfunction extractAttrs(el) {\n  if (el.nodeType === 1 && el.hasAttributes()) {\n    return toArray(el.attributes);\n  }\n}\n\n/**\n * Merge the attributes of two elements, and make sure\n * the class names are merged properly.\n *\n * @param {Element} from\n * @param {Element} to\n */\n\nfunction mergeAttrs(from, to) {\n  var attrs = from.attributes;\n  var i = attrs.length;\n  var name, value;\n  while (i--) {\n    name = attrs[i].name;\n    value = attrs[i].value;\n    if (!to.hasAttribute(name) && !specialCharRE.test(name)) {\n      to.setAttribute(name, value);\n    } else if (name === 'class') {\n      value.split(/\\s+/).forEach(function (cls) {\n        addClass(to, cls);\n      });\n    }\n  }\n}\n\nvar compiler = Object.freeze({\n\tcompile: compile,\n\tcompileAndLinkProps: compileAndLinkProps,\n\tcompileRoot: compileRoot,\n\ttransclude: transclude\n});\n\nfunction stateMixin (Vue) {\n\n  /**\n   * Accessor for `$data` property, since setting $data\n   * requires observing the new object and updating\n   * proxied properties.\n   */\n\n  Object.defineProperty(Vue.prototype, '$data', {\n    get: function get() {\n      return this._data;\n    },\n    set: function set(newData) {\n      if (newData !== this._data) {\n        this._setData(newData);\n      }\n    }\n  });\n\n  /**\n   * Setup the scope of an instance, which contains:\n   * - observed data\n   * - computed properties\n   * - user methods\n   * - meta properties\n   */\n\n  Vue.prototype._initState = function () {\n    this._initProps();\n    this._initMeta();\n    this._initMethods();\n    this._initData();\n    this._initComputed();\n  };\n\n  /**\n   * Initialize props.\n   */\n\n  Vue.prototype._initProps = function () {\n    var options = this.$options;\n    var el = options.el;\n    var props = options.props;\n    if (props && !el) {\n      process.env.NODE_ENV !== 'production' && warn('Props will not be compiled if no `el` option is ' + 'provided at instantiation.');\n    }\n    // make sure to convert string selectors into element now\n    el = options.el = query(el);\n    this._propsUnlinkFn = el && el.nodeType === 1 && props\n    // props must be linked in proper scope if inside v-for\n    ? compileAndLinkProps(this, el, props, this._scope) : null;\n  };\n\n  /**\n   * Initialize the data.\n   */\n\n  Vue.prototype._initData = function () {\n    var propsData = this._data;\n    var optionsDataFn = this.$options.data;\n    var optionsData = optionsDataFn && optionsDataFn();\n    if (optionsData) {\n      this._data = optionsData;\n      for (var prop in propsData) {\n        if (process.env.NODE_ENV !== 'production' && hasOwn(optionsData, prop)) {\n          warn('Data field \"' + prop + '\" is already defined ' + 'as a prop. Use prop default value instead.');\n        }\n        if (this._props[prop].raw !== null || !hasOwn(optionsData, prop)) {\n          set(optionsData, prop, propsData[prop]);\n        }\n      }\n    }\n    var data = this._data;\n    // proxy data on instance\n    var keys = Object.keys(data);\n    var i, key;\n    i = keys.length;\n    while (i--) {\n      key = keys[i];\n      this._proxy(key);\n    }\n    // observe data\n    observe(data, this);\n  };\n\n  /**\n   * Swap the instance's $data. Called in $data's setter.\n   *\n   * @param {Object} newData\n   */\n\n  Vue.prototype._setData = function (newData) {\n    newData = newData || {};\n    var oldData = this._data;\n    this._data = newData;\n    var keys, key, i;\n    // unproxy keys not present in new data\n    keys = Object.keys(oldData);\n    i = keys.length;\n    while (i--) {\n      key = keys[i];\n      if (!(key in newData)) {\n        this._unproxy(key);\n      }\n    }\n    // proxy keys not already proxied,\n    // and trigger change for changed values\n    keys = Object.keys(newData);\n    i = keys.length;\n    while (i--) {\n      key = keys[i];\n      if (!hasOwn(this, key)) {\n        // new property\n        this._proxy(key);\n      }\n    }\n    oldData.__ob__.removeVm(this);\n    observe(newData, this);\n    this._digest();\n  };\n\n  /**\n   * Proxy a property, so that\n   * vm.prop === vm._data.prop\n   *\n   * @param {String} key\n   */\n\n  Vue.prototype._proxy = function (key) {\n    if (!isReserved(key)) {\n      // need to store ref to self here\n      // because these getter/setters might\n      // be called by child scopes via\n      // prototype inheritance.\n      var self = this;\n      Object.defineProperty(self, key, {\n        configurable: true,\n        enumerable: true,\n        get: function proxyGetter() {\n          return self._data[key];\n        },\n        set: function proxySetter(val) {\n          self._data[key] = val;\n        }\n      });\n    }\n  };\n\n  /**\n   * Unproxy a property.\n   *\n   * @param {String} key\n   */\n\n  Vue.prototype._unproxy = function (key) {\n    if (!isReserved(key)) {\n      delete this[key];\n    }\n  };\n\n  /**\n   * Force update on every watcher in scope.\n   */\n\n  Vue.prototype._digest = function () {\n    for (var i = 0, l = this._watchers.length; i < l; i++) {\n      this._watchers[i].update(true); // shallow updates\n    }\n  };\n\n  /**\n   * Setup computed properties. They are essentially\n   * special getter/setters\n   */\n\n  function noop() {}\n  Vue.prototype._initComputed = function () {\n    var computed = this.$options.computed;\n    if (computed) {\n      for (var key in computed) {\n        var userDef = computed[key];\n        var def = {\n          enumerable: true,\n          configurable: true\n        };\n        if (typeof userDef === 'function') {\n          def.get = makeComputedGetter(userDef, this);\n          def.set = noop;\n        } else {\n          def.get = userDef.get ? userDef.cache !== false ? makeComputedGetter(userDef.get, this) : bind$1(userDef.get, this) : noop;\n          def.set = userDef.set ? bind$1(userDef.set, this) : noop;\n        }\n        Object.defineProperty(this, key, def);\n      }\n    }\n  };\n\n  function makeComputedGetter(getter, owner) {\n    var watcher = new Watcher(owner, getter, null, {\n      lazy: true\n    });\n    return function computedGetter() {\n      if (watcher.dirty) {\n        watcher.evaluate();\n      }\n      if (Dep.target) {\n        watcher.depend();\n      }\n      return watcher.value;\n    };\n  }\n\n  /**\n   * Setup instance methods. Methods must be bound to the\n   * instance since they might be passed down as a prop to\n   * child components.\n   */\n\n  Vue.prototype._initMethods = function () {\n    var methods = this.$options.methods;\n    if (methods) {\n      for (var key in methods) {\n        this[key] = bind$1(methods[key], this);\n      }\n    }\n  };\n\n  /**\n   * Initialize meta information like $index, $key & $value.\n   */\n\n  Vue.prototype._initMeta = function () {\n    var metas = this.$options._meta;\n    if (metas) {\n      for (var key in metas) {\n        defineReactive(this, key, metas[key]);\n      }\n    }\n  };\n}\n\nvar eventRE = /^v-on:|^@/;\n\nfunction eventsMixin (Vue) {\n\n  /**\n   * Setup the instance's option events & watchers.\n   * If the value is a string, we pull it from the\n   * instance's methods by name.\n   */\n\n  Vue.prototype._initEvents = function () {\n    var options = this.$options;\n    if (options._asComponent) {\n      registerComponentEvents(this, options.el);\n    }\n    registerCallbacks(this, '$on', options.events);\n    registerCallbacks(this, '$watch', options.watch);\n  };\n\n  /**\n   * Register v-on events on a child component\n   *\n   * @param {Vue} vm\n   * @param {Element} el\n   */\n\n  function registerComponentEvents(vm, el) {\n    var attrs = el.attributes;\n    var name, handler;\n    for (var i = 0, l = attrs.length; i < l; i++) {\n      name = attrs[i].name;\n      if (eventRE.test(name)) {\n        name = name.replace(eventRE, '');\n        handler = (vm._scope || vm._context).$eval(attrs[i].value, true);\n        vm.$on(name.replace(eventRE), handler);\n      }\n    }\n  }\n\n  /**\n   * Register callbacks for option events and watchers.\n   *\n   * @param {Vue} vm\n   * @param {String} action\n   * @param {Object} hash\n   */\n\n  function registerCallbacks(vm, action, hash) {\n    if (!hash) return;\n    var handlers, key, i, j;\n    for (key in hash) {\n      handlers = hash[key];\n      if (isArray(handlers)) {\n        for (i = 0, j = handlers.length; i < j; i++) {\n          register(vm, action, key, handlers[i]);\n        }\n      } else {\n        register(vm, action, key, handlers);\n      }\n    }\n  }\n\n  /**\n   * Helper to register an event/watch callback.\n   *\n   * @param {Vue} vm\n   * @param {String} action\n   * @param {String} key\n   * @param {Function|String|Object} handler\n   * @param {Object} [options]\n   */\n\n  function register(vm, action, key, handler, options) {\n    var type = typeof handler;\n    if (type === 'function') {\n      vm[action](key, handler, options);\n    } else if (type === 'string') {\n      var methods = vm.$options.methods;\n      var method = methods && methods[handler];\n      if (method) {\n        vm[action](key, method, options);\n      } else {\n        process.env.NODE_ENV !== 'production' && warn('Unknown method: \"' + handler + '\" when ' + 'registering callback for ' + action + ': \"' + key + '\".');\n      }\n    } else if (handler && type === 'object') {\n      register(vm, action, key, handler.handler, handler);\n    }\n  }\n\n  /**\n   * Setup recursive attached/detached calls\n   */\n\n  Vue.prototype._initDOMHooks = function () {\n    this.$on('hook:attached', onAttached);\n    this.$on('hook:detached', onDetached);\n  };\n\n  /**\n   * Callback to recursively call attached hook on children\n   */\n\n  function onAttached() {\n    if (!this._isAttached) {\n      this._isAttached = true;\n      this.$children.forEach(callAttach);\n    }\n  }\n\n  /**\n   * Iterator to call attached hook\n   *\n   * @param {Vue} child\n   */\n\n  function callAttach(child) {\n    if (!child._isAttached && inDoc(child.$el)) {\n      child._callHook('attached');\n    }\n  }\n\n  /**\n   * Callback to recursively call detached hook on children\n   */\n\n  function onDetached() {\n    if (this._isAttached) {\n      this._isAttached = false;\n      this.$children.forEach(callDetach);\n    }\n  }\n\n  /**\n   * Iterator to call detached hook\n   *\n   * @param {Vue} child\n   */\n\n  function callDetach(child) {\n    if (child._isAttached && !inDoc(child.$el)) {\n      child._callHook('detached');\n    }\n  }\n\n  /**\n   * Trigger all handlers for a hook\n   *\n   * @param {String} hook\n   */\n\n  Vue.prototype._callHook = function (hook) {\n    var handlers = this.$options[hook];\n    if (handlers) {\n      for (var i = 0, j = handlers.length; i < j; i++) {\n        handlers[i].call(this);\n      }\n    }\n    this.$emit('hook:' + hook);\n  };\n}\n\nfunction noop() {}\n\n/**\n * A directive links a DOM element with a piece of data,\n * which is the result of evaluating an expression.\n * It registers a watcher with the expression and calls\n * the DOM update function when a change is triggered.\n *\n * @param {String} name\n * @param {Node} el\n * @param {Vue} vm\n * @param {Object} descriptor\n *                 - {String} name\n *                 - {Object} def\n *                 - {String} expression\n *                 - {Array<Object>} [filters]\n *                 - {Boolean} literal\n *                 - {String} attr\n *                 - {String} raw\n * @param {Object} def - directive definition object\n * @param {Vue} [host] - transclusion host component\n * @param {Object} [scope] - v-for scope\n * @param {Fragment} [frag] - owner fragment\n * @constructor\n */\nfunction Directive(descriptor, vm, el, host, scope, frag) {\n  this.vm = vm;\n  this.el = el;\n  // copy descriptor properties\n  this.descriptor = descriptor;\n  this.name = descriptor.name;\n  this.expression = descriptor.expression;\n  this.arg = descriptor.arg;\n  this.modifiers = descriptor.modifiers;\n  this.filters = descriptor.filters;\n  this.literal = this.modifiers && this.modifiers.literal;\n  // private\n  this._locked = false;\n  this._bound = false;\n  this._listeners = null;\n  // link context\n  this._host = host;\n  this._scope = scope;\n  this._frag = frag;\n  // store directives on node in dev mode\n  if (process.env.NODE_ENV !== 'production' && this.el) {\n    this.el._vue_directives = this.el._vue_directives || [];\n    this.el._vue_directives.push(this);\n  }\n}\n\n/**\n * Initialize the directive, mixin definition properties,\n * setup the watcher, call definition bind() and update()\n * if present.\n *\n * @param {Object} def\n */\n\nDirective.prototype._bind = function () {\n  var name = this.name;\n  var descriptor = this.descriptor;\n\n  // remove attribute\n  if ((name !== 'cloak' || this.vm._isCompiled) && this.el && this.el.removeAttribute) {\n    var attr = descriptor.attr || 'v-' + name;\n    if (attr !== 'class') {\n      this.el.removeAttribute(attr);\n    } else {\n      // for class interpolations, only remove the parts that\n      // need to be interpolated.\n      this.el.className = removeTags(this.el.className).trim().replace(/\\s+/g, ' ');\n    }\n  }\n\n  // copy def properties\n  var def = descriptor.def;\n  if (typeof def === 'function') {\n    this.update = def;\n  } else {\n    extend(this, def);\n  }\n\n  // setup directive params\n  this._setupParams();\n\n  // initial bind\n  if (this.bind) {\n    this.bind();\n  }\n\n  if (this.literal) {\n    this.update && this.update(descriptor.raw);\n  } else if ((this.expression || this.modifiers) && (this.update || this.twoWay) && !this._checkStatement()) {\n    // wrapped updater for context\n    var dir = this;\n    if (this.update) {\n      this._update = function (val, oldVal) {\n        if (!dir._locked) {\n          dir.update(val, oldVal);\n        }\n      };\n    } else {\n      this._update = noop;\n    }\n    var preProcess = this._preProcess ? bind$1(this._preProcess, this) : null;\n    var postProcess = this._postProcess ? bind$1(this._postProcess, this) : null;\n    var watcher = this._watcher = new Watcher(this.vm, this.expression, this._update, // callback\n    {\n      filters: this.filters,\n      twoWay: this.twoWay,\n      deep: this.deep,\n      preProcess: preProcess,\n      postProcess: postProcess,\n      scope: this._scope\n    });\n    // v-model with inital inline value need to sync back to\n    // model instead of update to DOM on init. They would\n    // set the afterBind hook to indicate that.\n    if (this.afterBind) {\n      this.afterBind();\n    } else if (this.update) {\n      this.update(watcher.value);\n    }\n  }\n  this._bound = true;\n};\n\n/**\n * Setup all param attributes, e.g. track-by,\n * transition-mode, etc...\n */\n\nDirective.prototype._setupParams = function () {\n  if (!this.params) {\n    return;\n  }\n  var params = this.params;\n  // swap the params array with a fresh object.\n  this.params = Object.create(null);\n  var i = params.length;\n  var key, val, mappedKey;\n  while (i--) {\n    key = params[i];\n    mappedKey = camelize(key);\n    val = getBindAttr(this.el, key);\n    if (val != null) {\n      // dynamic\n      this._setupParamWatcher(mappedKey, val);\n    } else {\n      // static\n      val = getAttr(this.el, key);\n      if (val != null) {\n        this.params[mappedKey] = val === '' ? true : val;\n      }\n    }\n  }\n};\n\n/**\n * Setup a watcher for a dynamic param.\n *\n * @param {String} key\n * @param {String} expression\n */\n\nDirective.prototype._setupParamWatcher = function (key, expression) {\n  var self = this;\n  var called = false;\n  var unwatch = (this._scope || this.vm).$watch(expression, function (val, oldVal) {\n    self.params[key] = val;\n    // since we are in immediate mode,\n    // only call the param change callbacks if this is not the first update.\n    if (called) {\n      var cb = self.paramWatchers && self.paramWatchers[key];\n      if (cb) {\n        cb.call(self, val, oldVal);\n      }\n    } else {\n      called = true;\n    }\n  }, {\n    immediate: true\n  });(this._paramUnwatchFns || (this._paramUnwatchFns = [])).push(unwatch);\n};\n\n/**\n * Check if the directive is a function caller\n * and if the expression is a callable one. If both true,\n * we wrap up the expression and use it as the event\n * handler.\n *\n * e.g. on-click=\"a++\"\n *\n * @return {Boolean}\n */\n\nDirective.prototype._checkStatement = function () {\n  var expression = this.expression;\n  if (expression && this.acceptStatement && !isSimplePath(expression)) {\n    var fn = parseExpression(expression).get;\n    var scope = this._scope || this.vm;\n    var handler = function handler(e) {\n      scope.$event = e;\n      fn.call(scope, scope);\n      scope.$event = null;\n    };\n    if (this.filters) {\n      handler = scope._applyFilters(handler, null, this.filters);\n    }\n    this.update(handler);\n    return true;\n  }\n};\n\n/**\n * Set the corresponding value with the setter.\n * This should only be used in two-way directives\n * e.g. v-model.\n *\n * @param {*} value\n * @public\n */\n\nDirective.prototype.set = function (value) {\n  /* istanbul ignore else */\n  if (this.twoWay) {\n    this._withLock(function () {\n      this._watcher.set(value);\n    });\n  } else if (process.env.NODE_ENV !== 'production') {\n    warn('Directive.set() can only be used inside twoWay' + 'directives.');\n  }\n};\n\n/**\n * Execute a function while preventing that function from\n * triggering updates on this directive instance.\n *\n * @param {Function} fn\n */\n\nDirective.prototype._withLock = function (fn) {\n  var self = this;\n  self._locked = true;\n  fn.call(self);\n  nextTick(function () {\n    self._locked = false;\n  });\n};\n\n/**\n * Convenience method that attaches a DOM event listener\n * to the directive element and autometically tears it down\n * during unbind.\n *\n * @param {String} event\n * @param {Function} handler\n */\n\nDirective.prototype.on = function (event, handler) {\n  on$1(this.el, event, handler);(this._listeners || (this._listeners = [])).push([event, handler]);\n};\n\n/**\n * Teardown the watcher and call unbind.\n */\n\nDirective.prototype._teardown = function () {\n  if (this._bound) {\n    this._bound = false;\n    if (this.unbind) {\n      this.unbind();\n    }\n    if (this._watcher) {\n      this._watcher.teardown();\n    }\n    var listeners = this._listeners;\n    var i;\n    if (listeners) {\n      i = listeners.length;\n      while (i--) {\n        off(this.el, listeners[i][0], listeners[i][1]);\n      }\n    }\n    var unwatchFns = this._paramUnwatchFns;\n    if (unwatchFns) {\n      i = unwatchFns.length;\n      while (i--) {\n        unwatchFns[i]();\n      }\n    }\n    if (process.env.NODE_ENV !== 'production' && this.el) {\n      this.el._vue_directives.$remove(this);\n    }\n    this.vm = this.el = this._watcher = this._listeners = null;\n  }\n};\n\nfunction lifecycleMixin (Vue) {\n\n  /**\n   * Update v-ref for component.\n   *\n   * @param {Boolean} remove\n   */\n\n  Vue.prototype._updateRef = function (remove) {\n    var ref = this.$options._ref;\n    if (ref) {\n      var refs = (this._scope || this._context).$refs;\n      if (remove) {\n        if (refs[ref] === this) {\n          refs[ref] = null;\n        }\n      } else {\n        refs[ref] = this;\n      }\n    }\n  };\n\n  /**\n   * Transclude, compile and link element.\n   *\n   * If a pre-compiled linker is available, that means the\n   * passed in element will be pre-transcluded and compiled\n   * as well - all we need to do is to call the linker.\n   *\n   * Otherwise we need to call transclude/compile/link here.\n   *\n   * @param {Element} el\n   * @return {Element}\n   */\n\n  Vue.prototype._compile = function (el) {\n    var options = this.$options;\n\n    // transclude and init element\n    // transclude can potentially replace original\n    // so we need to keep reference; this step also injects\n    // the template and caches the original attributes\n    // on the container node and replacer node.\n    var original = el;\n    el = transclude(el, options);\n    this._initElement(el);\n\n    // root is always compiled per-instance, because\n    // container attrs and props can be different every time.\n    var contextOptions = this._context && this._context.$options;\n    var rootLinker = compileRoot(el, options, contextOptions);\n\n    // compile and link the rest\n    var contentLinkFn;\n    var ctor = this.constructor;\n    // component compilation can be cached\n    // as long as it's not using inline-template\n    if (options._linkerCachable) {\n      contentLinkFn = ctor.linker;\n      if (!contentLinkFn) {\n        contentLinkFn = ctor.linker = compile(el, options);\n      }\n    }\n\n    // link phase\n    // make sure to link root with prop scope!\n    var rootUnlinkFn = rootLinker(this, el, this._scope);\n    var contentUnlinkFn = contentLinkFn ? contentLinkFn(this, el) : compile(el, options)(this, el);\n\n    // register composite unlink function\n    // to be called during instance destruction\n    this._unlinkFn = function () {\n      rootUnlinkFn();\n      // passing destroying: true to avoid searching and\n      // splicing the directives\n      contentUnlinkFn(true);\n    };\n\n    // finally replace original\n    if (options.replace) {\n      replace(original, el);\n    }\n\n    this._isCompiled = true;\n    this._callHook('compiled');\n    return el;\n  };\n\n  /**\n   * Initialize instance element. Called in the public\n   * $mount() method.\n   *\n   * @param {Element} el\n   */\n\n  Vue.prototype._initElement = function (el) {\n    if (el instanceof DocumentFragment) {\n      this._isFragment = true;\n      this.$el = this._fragmentStart = el.firstChild;\n      this._fragmentEnd = el.lastChild;\n      // set persisted text anchors to empty\n      if (this._fragmentStart.nodeType === 3) {\n        this._fragmentStart.data = this._fragmentEnd.data = '';\n      }\n      this._fragment = el;\n    } else {\n      this.$el = el;\n    }\n    this.$el.__vue__ = this;\n    this._callHook('beforeCompile');\n  };\n\n  /**\n   * Create and bind a directive to an element.\n   *\n   * @param {String} name - directive name\n   * @param {Node} node   - target node\n   * @param {Object} desc - parsed directive descriptor\n   * @param {Object} def  - directive definition object\n   * @param {Vue} [host] - transclusion host component\n   * @param {Object} [scope] - v-for scope\n   * @param {Fragment} [frag] - owner fragment\n   */\n\n  Vue.prototype._bindDir = function (descriptor, node, host, scope, frag) {\n    this._directives.push(new Directive(descriptor, this, node, host, scope, frag));\n  };\n\n  /**\n   * Teardown an instance, unobserves the data, unbind all the\n   * directives, turn off all the event listeners, etc.\n   *\n   * @param {Boolean} remove - whether to remove the DOM node.\n   * @param {Boolean} deferCleanup - if true, defer cleanup to\n   *                                 be called later\n   */\n\n  Vue.prototype._destroy = function (remove, deferCleanup) {\n    if (this._isBeingDestroyed) {\n      if (!deferCleanup) {\n        this._cleanup();\n      }\n      return;\n    }\n\n    var destroyReady;\n    var pendingRemoval;\n\n    var self = this;\n    // Cleanup should be called either synchronously or asynchronoysly as\n    // callback of this.$remove(), or if remove and deferCleanup are false.\n    // In any case it should be called after all other removing, unbinding and\n    // turning of is done\n    var cleanupIfPossible = function cleanupIfPossible() {\n      if (destroyReady && !pendingRemoval && !deferCleanup) {\n        self._cleanup();\n      }\n    };\n\n    // remove DOM element\n    if (remove && this.$el) {\n      pendingRemoval = true;\n      this.$remove(function () {\n        pendingRemoval = false;\n        cleanupIfPossible();\n      });\n    }\n\n    this._callHook('beforeDestroy');\n    this._isBeingDestroyed = true;\n    var i;\n    // remove self from parent. only necessary\n    // if parent is not being destroyed as well.\n    var parent = this.$parent;\n    if (parent && !parent._isBeingDestroyed) {\n      parent.$children.$remove(this);\n      // unregister ref (remove: true)\n      this._updateRef(true);\n    }\n    // destroy all children.\n    i = this.$children.length;\n    while (i--) {\n      this.$children[i].$destroy();\n    }\n    // teardown props\n    if (this._propsUnlinkFn) {\n      this._propsUnlinkFn();\n    }\n    // teardown all directives. this also tearsdown all\n    // directive-owned watchers.\n    if (this._unlinkFn) {\n      this._unlinkFn();\n    }\n    i = this._watchers.length;\n    while (i--) {\n      this._watchers[i].teardown();\n    }\n    // remove reference to self on $el\n    if (this.$el) {\n      this.$el.__vue__ = null;\n    }\n\n    destroyReady = true;\n    cleanupIfPossible();\n  };\n\n  /**\n   * Clean up to ensure garbage collection.\n   * This is called after the leave transition if there\n   * is any.\n   */\n\n  Vue.prototype._cleanup = function () {\n    if (this._isDestroyed) {\n      return;\n    }\n    // remove self from owner fragment\n    // do it in cleanup so that we can call $destroy with\n    // defer right when a fragment is about to be removed.\n    if (this._frag) {\n      this._frag.children.$remove(this);\n    }\n    // remove reference from data ob\n    // frozen object may not have observer.\n    if (this._data.__ob__) {\n      this._data.__ob__.removeVm(this);\n    }\n    // Clean up references to private properties and other\n    // instances. preserve reference to _data so that proxy\n    // accessors still work. The only potential side effect\n    // here is that mutating the instance after it's destroyed\n    // may affect the state of other components that are still\n    // observing the same object, but that seems to be a\n    // reasonable responsibility for the user rather than\n    // always throwing an error on them.\n    this.$el = this.$parent = this.$root = this.$children = this._watchers = this._context = this._scope = this._directives = null;\n    // call the last hook...\n    this._isDestroyed = true;\n    this._callHook('destroyed');\n    // turn off all instance listeners.\n    this.$off();\n  };\n}\n\nfunction miscMixin (Vue) {\n\n  /**\n   * Apply a list of filter (descriptors) to a value.\n   * Using plain for loops here because this will be called in\n   * the getter of any watcher with filters so it is very\n   * performance sensitive.\n   *\n   * @param {*} value\n   * @param {*} [oldValue]\n   * @param {Array} filters\n   * @param {Boolean} write\n   * @return {*}\n   */\n\n  Vue.prototype._applyFilters = function (value, oldValue, filters, write) {\n    var filter, fn, args, arg, offset, i, l, j, k;\n    for (i = 0, l = filters.length; i < l; i++) {\n      filter = filters[i];\n      fn = resolveAsset(this.$options, 'filters', filter.name);\n      if (process.env.NODE_ENV !== 'production') {\n        assertAsset(fn, 'filter', filter.name);\n      }\n      if (!fn) continue;\n      fn = write ? fn.write : fn.read || fn;\n      if (typeof fn !== 'function') continue;\n      args = write ? [value, oldValue] : [value];\n      offset = write ? 2 : 1;\n      if (filter.args) {\n        for (j = 0, k = filter.args.length; j < k; j++) {\n          arg = filter.args[j];\n          args[j + offset] = arg.dynamic ? this.$get(arg.value) : arg.value;\n        }\n      }\n      value = fn.apply(this, args);\n    }\n    return value;\n  };\n\n  /**\n   * Resolve a component, depending on whether the component\n   * is defined normally or using an async factory function.\n   * Resolves synchronously if already resolved, otherwise\n   * resolves asynchronously and caches the resolved\n   * constructor on the factory.\n   *\n   * @param {String} id\n   * @param {Function} cb\n   */\n\n  Vue.prototype._resolveComponent = function (id, cb) {\n    var factory = resolveAsset(this.$options, 'components', id);\n    if (process.env.NODE_ENV !== 'production') {\n      assertAsset(factory, 'component', id);\n    }\n    if (!factory) {\n      return;\n    }\n    // async component factory\n    if (!factory.options) {\n      if (factory.resolved) {\n        // cached\n        cb(factory.resolved);\n      } else if (factory.requested) {\n        // pool callbacks\n        factory.pendingCallbacks.push(cb);\n      } else {\n        factory.requested = true;\n        var cbs = factory.pendingCallbacks = [cb];\n        factory(function resolve(res) {\n          if (isPlainObject(res)) {\n            res = Vue.extend(res);\n          }\n          // cache resolved\n          factory.resolved = res;\n          // invoke callbacks\n          for (var i = 0, l = cbs.length; i < l; i++) {\n            cbs[i](res);\n          }\n        }, function reject(reason) {\n          process.env.NODE_ENV !== 'production' && warn('Failed to resolve async component: ' + id + '. ' + (reason ? '\\nReason: ' + reason : ''));\n        });\n      }\n    } else {\n      // normal component\n      cb(factory);\n    }\n  };\n}\n\nfunction globalAPI (Vue) {\n\n  /**\n   * Expose useful internals\n   */\n\n  Vue.util = util;\n  Vue.config = config;\n  Vue.set = set;\n  Vue['delete'] = del;\n  Vue.nextTick = nextTick;\n\n  /**\n   * The following are exposed for advanced usage / plugins\n   */\n\n  Vue.compiler = compiler;\n  Vue.FragmentFactory = FragmentFactory;\n  Vue.internalDirectives = internalDirectives;\n  Vue.parsers = {\n    path: path,\n    text: text$1,\n    template: template,\n    directive: directive,\n    expression: expression\n  };\n\n  /**\n   * Each instance constructor, including Vue, has a unique\n   * cid. This enables us to create wrapped \"child\n   * constructors\" for prototypal inheritance and cache them.\n   */\n\n  Vue.cid = 0;\n  var cid = 1;\n\n  /**\n   * Class inheritance\n   *\n   * @param {Object} extendOptions\n   */\n\n  Vue.extend = function (extendOptions) {\n    extendOptions = extendOptions || {};\n    var Super = this;\n    var isFirstExtend = Super.cid === 0;\n    if (isFirstExtend && extendOptions._Ctor) {\n      return extendOptions._Ctor;\n    }\n    var name = extendOptions.name || Super.options.name;\n    if (process.env.NODE_ENV !== 'production') {\n      if (!/^[a-zA-Z][\\w-]+$/.test(name)) {\n        warn('Invalid component name: ' + name);\n        name = null;\n      }\n    }\n    var Sub = createClass(name || 'VueComponent');\n    Sub.prototype = Object.create(Super.prototype);\n    Sub.prototype.constructor = Sub;\n    Sub.cid = cid++;\n    Sub.options = mergeOptions(Super.options, extendOptions);\n    Sub['super'] = Super;\n    // allow further extension\n    Sub.extend = Super.extend;\n    // create asset registers, so extended classes\n    // can have their private assets too.\n    config._assetTypes.forEach(function (type) {\n      Sub[type] = Super[type];\n    });\n    // enable recursive self-lookup\n    if (name) {\n      Sub.options.components[name] = Sub;\n    }\n    // cache constructor\n    if (isFirstExtend) {\n      extendOptions._Ctor = Sub;\n    }\n    return Sub;\n  };\n\n  /**\n   * A function that returns a sub-class constructor with the\n   * given name. This gives us much nicer output when\n   * logging instances in the console.\n   *\n   * @param {String} name\n   * @return {Function}\n   */\n\n  function createClass(name) {\n    return new Function('return function ' + classify(name) + ' (options) { this._init(options) }')();\n  }\n\n  /**\n   * Plugin system\n   *\n   * @param {Object} plugin\n   */\n\n  Vue.use = function (plugin) {\n    /* istanbul ignore if */\n    if (plugin.installed) {\n      return;\n    }\n    // additional parameters\n    var args = toArray(arguments, 1);\n    args.unshift(this);\n    if (typeof plugin.install === 'function') {\n      plugin.install.apply(plugin, args);\n    } else {\n      plugin.apply(null, args);\n    }\n    plugin.installed = true;\n    return this;\n  };\n\n  /**\n   * Apply a global mixin by merging it into the default\n   * options.\n   */\n\n  Vue.mixin = function (mixin) {\n    Vue.options = mergeOptions(Vue.options, mixin);\n  };\n\n  /**\n   * Create asset registration methods with the following\n   * signature:\n   *\n   * @param {String} id\n   * @param {*} definition\n   */\n\n  config._assetTypes.forEach(function (type) {\n    Vue[type] = function (id, definition) {\n      if (!definition) {\n        return this.options[type + 's'][id];\n      } else {\n        /* istanbul ignore if */\n        if (process.env.NODE_ENV !== 'production') {\n          if (type === 'component' && commonTagRE.test(id)) {\n            warn('Do not use built-in HTML elements as component ' + 'id: ' + id);\n          }\n        }\n        if (type === 'component' && isPlainObject(definition)) {\n          definition.name = id;\n          definition = Vue.extend(definition);\n        }\n        this.options[type + 's'][id] = definition;\n        return definition;\n      }\n    };\n  });\n}\n\nvar filterRE = /[^|]\\|[^|]/;\n\nfunction dataAPI (Vue) {\n\n  /**\n   * Get the value from an expression on this vm.\n   *\n   * @param {String} exp\n   * @param {Boolean} [asStatement]\n   * @return {*}\n   */\n\n  Vue.prototype.$get = function (exp, asStatement) {\n    var res = parseExpression(exp);\n    if (res) {\n      if (asStatement && !isSimplePath(exp)) {\n        var self = this;\n        return function statementHandler() {\n          self.$arguments = toArray(arguments);\n          res.get.call(self, self);\n          self.$arguments = null;\n        };\n      } else {\n        try {\n          return res.get.call(this, this);\n        } catch (e) {}\n      }\n    }\n  };\n\n  /**\n   * Set the value from an expression on this vm.\n   * The expression must be a valid left-hand\n   * expression in an assignment.\n   *\n   * @param {String} exp\n   * @param {*} val\n   */\n\n  Vue.prototype.$set = function (exp, val) {\n    var res = parseExpression(exp, true);\n    if (res && res.set) {\n      res.set.call(this, this, val);\n    }\n  };\n\n  /**\n   * Delete a property on the VM\n   *\n   * @param {String} key\n   */\n\n  Vue.prototype.$delete = function (key) {\n    del(this._data, key);\n  };\n\n  /**\n   * Watch an expression, trigger callback when its\n   * value changes.\n   *\n   * @param {String|Function} expOrFn\n   * @param {Function} cb\n   * @param {Object} [options]\n   *                 - {Boolean} deep\n   *                 - {Boolean} immediate\n   * @return {Function} - unwatchFn\n   */\n\n  Vue.prototype.$watch = function (expOrFn, cb, options) {\n    var vm = this;\n    var parsed;\n    if (typeof expOrFn === 'string') {\n      parsed = parseDirective(expOrFn);\n      expOrFn = parsed.expression;\n    }\n    var watcher = new Watcher(vm, expOrFn, cb, {\n      deep: options && options.deep,\n      sync: options && options.sync,\n      filters: parsed && parsed.filters\n    });\n    if (options && options.immediate) {\n      cb.call(vm, watcher.value);\n    }\n    return function unwatchFn() {\n      watcher.teardown();\n    };\n  };\n\n  /**\n   * Evaluate a text directive, including filters.\n   *\n   * @param {String} text\n   * @param {Boolean} [asStatement]\n   * @return {String}\n   */\n\n  Vue.prototype.$eval = function (text, asStatement) {\n    // check for filters.\n    if (filterRE.test(text)) {\n      var dir = parseDirective(text);\n      // the filter regex check might give false positive\n      // for pipes inside strings, so it's possible that\n      // we don't get any filters here\n      var val = this.$get(dir.expression, asStatement);\n      return dir.filters ? this._applyFilters(val, null, dir.filters) : val;\n    } else {\n      // no filter\n      return this.$get(text, asStatement);\n    }\n  };\n\n  /**\n   * Interpolate a piece of template text.\n   *\n   * @param {String} text\n   * @return {String}\n   */\n\n  Vue.prototype.$interpolate = function (text) {\n    var tokens = parseText(text);\n    var vm = this;\n    if (tokens) {\n      if (tokens.length === 1) {\n        return vm.$eval(tokens[0].value) + '';\n      } else {\n        return tokens.map(function (token) {\n          return token.tag ? vm.$eval(token.value) : token.value;\n        }).join('');\n      }\n    } else {\n      return text;\n    }\n  };\n\n  /**\n   * Log instance data as a plain JS object\n   * so that it is easier to inspect in console.\n   * This method assumes console is available.\n   *\n   * @param {String} [path]\n   */\n\n  Vue.prototype.$log = function (path) {\n    var data = path ? getPath(this._data, path) : this._data;\n    if (data) {\n      data = clean(data);\n    }\n    // include computed fields\n    if (!path) {\n      for (var key in this.$options.computed) {\n        data[key] = clean(this[key]);\n      }\n    }\n    console.log(data);\n  };\n\n  /**\n   * \"clean\" a getter/setter converted object into a plain\n   * object copy.\n   *\n   * @param {Object} - obj\n   * @return {Object}\n   */\n\n  function clean(obj) {\n    return JSON.parse(JSON.stringify(obj));\n  }\n}\n\nfunction domAPI (Vue) {\n\n  /**\n   * Convenience on-instance nextTick. The callback is\n   * auto-bound to the instance, and this avoids component\n   * modules having to rely on the global Vue.\n   *\n   * @param {Function} fn\n   */\n\n  Vue.prototype.$nextTick = function (fn) {\n    nextTick(fn, this);\n  };\n\n  /**\n   * Append instance to target\n   *\n   * @param {Node} target\n   * @param {Function} [cb]\n   * @param {Boolean} [withTransition] - defaults to true\n   */\n\n  Vue.prototype.$appendTo = function (target, cb, withTransition) {\n    return insert(this, target, cb, withTransition, append, appendWithTransition);\n  };\n\n  /**\n   * Prepend instance to target\n   *\n   * @param {Node} target\n   * @param {Function} [cb]\n   * @param {Boolean} [withTransition] - defaults to true\n   */\n\n  Vue.prototype.$prependTo = function (target, cb, withTransition) {\n    target = query(target);\n    if (target.hasChildNodes()) {\n      this.$before(target.firstChild, cb, withTransition);\n    } else {\n      this.$appendTo(target, cb, withTransition);\n    }\n    return this;\n  };\n\n  /**\n   * Insert instance before target\n   *\n   * @param {Node} target\n   * @param {Function} [cb]\n   * @param {Boolean} [withTransition] - defaults to true\n   */\n\n  Vue.prototype.$before = function (target, cb, withTransition) {\n    return insert(this, target, cb, withTransition, beforeWithCb, beforeWithTransition);\n  };\n\n  /**\n   * Insert instance after target\n   *\n   * @param {Node} target\n   * @param {Function} [cb]\n   * @param {Boolean} [withTransition] - defaults to true\n   */\n\n  Vue.prototype.$after = function (target, cb, withTransition) {\n    target = query(target);\n    if (target.nextSibling) {\n      this.$before(target.nextSibling, cb, withTransition);\n    } else {\n      this.$appendTo(target.parentNode, cb, withTransition);\n    }\n    return this;\n  };\n\n  /**\n   * Remove instance from DOM\n   *\n   * @param {Function} [cb]\n   * @param {Boolean} [withTransition] - defaults to true\n   */\n\n  Vue.prototype.$remove = function (cb, withTransition) {\n    if (!this.$el.parentNode) {\n      return cb && cb();\n    }\n    var inDocument = this._isAttached && inDoc(this.$el);\n    // if we are not in document, no need to check\n    // for transitions\n    if (!inDocument) withTransition = false;\n    var self = this;\n    var realCb = function realCb() {\n      if (inDocument) self._callHook('detached');\n      if (cb) cb();\n    };\n    if (this._isFragment) {\n      removeNodeRange(this._fragmentStart, this._fragmentEnd, this, this._fragment, realCb);\n    } else {\n      var op = withTransition === false ? removeWithCb : removeWithTransition;\n      op(this.$el, this, realCb);\n    }\n    return this;\n  };\n\n  /**\n   * Shared DOM insertion function.\n   *\n   * @param {Vue} vm\n   * @param {Element} target\n   * @param {Function} [cb]\n   * @param {Boolean} [withTransition]\n   * @param {Function} op1 - op for non-transition insert\n   * @param {Function} op2 - op for transition insert\n   * @return vm\n   */\n\n  function insert(vm, target, cb, withTransition, op1, op2) {\n    target = query(target);\n    var targetIsDetached = !inDoc(target);\n    var op = withTransition === false || targetIsDetached ? op1 : op2;\n    var shouldCallHook = !targetIsDetached && !vm._isAttached && !inDoc(vm.$el);\n    if (vm._isFragment) {\n      mapNodeRange(vm._fragmentStart, vm._fragmentEnd, function (node) {\n        op(node, target, vm);\n      });\n      cb && cb();\n    } else {\n      op(vm.$el, target, vm, cb);\n    }\n    if (shouldCallHook) {\n      vm._callHook('attached');\n    }\n    return vm;\n  }\n\n  /**\n   * Check for selectors\n   *\n   * @param {String|Element} el\n   */\n\n  function query(el) {\n    return typeof el === 'string' ? document.querySelector(el) : el;\n  }\n\n  /**\n   * Append operation that takes a callback.\n   *\n   * @param {Node} el\n   * @param {Node} target\n   * @param {Vue} vm - unused\n   * @param {Function} [cb]\n   */\n\n  function append(el, target, vm, cb) {\n    target.appendChild(el);\n    if (cb) cb();\n  }\n\n  /**\n   * InsertBefore operation that takes a callback.\n   *\n   * @param {Node} el\n   * @param {Node} target\n   * @param {Vue} vm - unused\n   * @param {Function} [cb]\n   */\n\n  function beforeWithCb(el, target, vm, cb) {\n    before(el, target);\n    if (cb) cb();\n  }\n\n  /**\n   * Remove operation that takes a callback.\n   *\n   * @param {Node} el\n   * @param {Vue} vm - unused\n   * @param {Function} [cb]\n   */\n\n  function removeWithCb(el, vm, cb) {\n    remove(el);\n    if (cb) cb();\n  }\n}\n\nfunction eventsAPI (Vue) {\n\n  /**\n   * Listen on the given `event` with `fn`.\n   *\n   * @param {String} event\n   * @param {Function} fn\n   */\n\n  Vue.prototype.$on = function (event, fn) {\n    (this._events[event] || (this._events[event] = [])).push(fn);\n    modifyListenerCount(this, event, 1);\n    return this;\n  };\n\n  /**\n   * Adds an `event` listener that will be invoked a single\n   * time then automatically removed.\n   *\n   * @param {String} event\n   * @param {Function} fn\n   */\n\n  Vue.prototype.$once = function (event, fn) {\n    var self = this;\n    function on() {\n      self.$off(event, on);\n      fn.apply(this, arguments);\n    }\n    on.fn = fn;\n    this.$on(event, on);\n    return this;\n  };\n\n  /**\n   * Remove the given callback for `event` or all\n   * registered callbacks.\n   *\n   * @param {String} event\n   * @param {Function} fn\n   */\n\n  Vue.prototype.$off = function (event, fn) {\n    var cbs;\n    // all\n    if (!arguments.length) {\n      if (this.$parent) {\n        for (event in this._events) {\n          cbs = this._events[event];\n          if (cbs) {\n            modifyListenerCount(this, event, -cbs.length);\n          }\n        }\n      }\n      this._events = {};\n      return this;\n    }\n    // specific event\n    cbs = this._events[event];\n    if (!cbs) {\n      return this;\n    }\n    if (arguments.length === 1) {\n      modifyListenerCount(this, event, -cbs.length);\n      this._events[event] = null;\n      return this;\n    }\n    // specific handler\n    var cb;\n    var i = cbs.length;\n    while (i--) {\n      cb = cbs[i];\n      if (cb === fn || cb.fn === fn) {\n        modifyListenerCount(this, event, -1);\n        cbs.splice(i, 1);\n        break;\n      }\n    }\n    return this;\n  };\n\n  /**\n   * Trigger an event on self.\n   *\n   * @param {String} event\n   * @return {Boolean} shouldPropagate\n   */\n\n  Vue.prototype.$emit = function (event) {\n    var cbs = this._events[event];\n    var shouldPropagate = !cbs;\n    if (cbs) {\n      cbs = cbs.length > 1 ? toArray(cbs) : cbs;\n      var args = toArray(arguments, 1);\n      for (var i = 0, l = cbs.length; i < l; i++) {\n        var res = cbs[i].apply(this, args);\n        if (res === true) {\n          shouldPropagate = true;\n        }\n      }\n    }\n    return shouldPropagate;\n  };\n\n  /**\n   * Recursively broadcast an event to all children instances.\n   *\n   * @param {String} event\n   * @param {...*} additional arguments\n   */\n\n  Vue.prototype.$broadcast = function (event) {\n    // if no child has registered for this event,\n    // then there's no need to broadcast.\n    if (!this._eventsCount[event]) return;\n    var children = this.$children;\n    for (var i = 0, l = children.length; i < l; i++) {\n      var child = children[i];\n      var shouldPropagate = child.$emit.apply(child, arguments);\n      if (shouldPropagate) {\n        child.$broadcast.apply(child, arguments);\n      }\n    }\n    return this;\n  };\n\n  /**\n   * Recursively propagate an event up the parent chain.\n   *\n   * @param {String} event\n   * @param {...*} additional arguments\n   */\n\n  Vue.prototype.$dispatch = function () {\n    this.$emit.apply(this, arguments);\n    var parent = this.$parent;\n    while (parent) {\n      var shouldPropagate = parent.$emit.apply(parent, arguments);\n      parent = shouldPropagate ? parent.$parent : null;\n    }\n    return this;\n  };\n\n  /**\n   * Modify the listener counts on all parents.\n   * This bookkeeping allows $broadcast to return early when\n   * no child has listened to a certain event.\n   *\n   * @param {Vue} vm\n   * @param {String} event\n   * @param {Number} count\n   */\n\n  var hookRE = /^hook:/;\n  function modifyListenerCount(vm, event, count) {\n    var parent = vm.$parent;\n    // hooks do not get broadcasted so no need\n    // to do bookkeeping for them\n    if (!parent || !count || hookRE.test(event)) return;\n    while (parent) {\n      parent._eventsCount[event] = (parent._eventsCount[event] || 0) + count;\n      parent = parent.$parent;\n    }\n  }\n}\n\nfunction lifecycleAPI (Vue) {\n\n  /**\n   * Set instance target element and kick off the compilation\n   * process. The passed in `el` can be a selector string, an\n   * existing Element, or a DocumentFragment (for block\n   * instances).\n   *\n   * @param {Element|DocumentFragment|string} el\n   * @public\n   */\n\n  Vue.prototype.$mount = function (el) {\n    if (this._isCompiled) {\n      process.env.NODE_ENV !== 'production' && warn('$mount() should be called only once.');\n      return;\n    }\n    el = query(el);\n    if (!el) {\n      el = document.createElement('div');\n    }\n    this._compile(el);\n    this._initDOMHooks();\n    if (inDoc(this.$el)) {\n      this._callHook('attached');\n      ready.call(this);\n    } else {\n      this.$once('hook:attached', ready);\n    }\n    return this;\n  };\n\n  /**\n   * Mark an instance as ready.\n   */\n\n  function ready() {\n    this._isAttached = true;\n    this._isReady = true;\n    this._callHook('ready');\n  }\n\n  /**\n   * Teardown the instance, simply delegate to the internal\n   * _destroy.\n   */\n\n  Vue.prototype.$destroy = function (remove, deferCleanup) {\n    this._destroy(remove, deferCleanup);\n  };\n\n  /**\n   * Partially compile a piece of DOM and return a\n   * decompile function.\n   *\n   * @param {Element|DocumentFragment} el\n   * @param {Vue} [host]\n   * @return {Function}\n   */\n\n  Vue.prototype.$compile = function (el, host, scope, frag) {\n    return compile(el, this.$options, true)(this, el, host, scope, frag);\n  };\n}\n\n/**\n * The exposed Vue constructor.\n *\n * API conventions:\n * - public API methods/properties are prefixed with `$`\n * - internal methods/properties are prefixed with `_`\n * - non-prefixed properties are assumed to be proxied user\n *   data.\n *\n * @constructor\n * @param {Object} [options]\n * @public\n */\n\nfunction Vue(options) {\n  this._init(options);\n}\n\n// install internals\ninitMixin(Vue);\nstateMixin(Vue);\neventsMixin(Vue);\nlifecycleMixin(Vue);\nmiscMixin(Vue);\n\n// install APIs\nglobalAPI(Vue);\ndataAPI(Vue);\ndomAPI(Vue);\neventsAPI(Vue);\nlifecycleAPI(Vue);\n\nvar convertArray = vFor._postProcess;\n\n/**\n * Limit filter for arrays\n *\n * @param {Number} n\n * @param {Number} offset (Decimal expected)\n */\n\nfunction limitBy(arr, n, offset) {\n  offset = offset ? parseInt(offset, 10) : 0;\n  return typeof n === 'number' ? arr.slice(offset, offset + n) : arr;\n}\n\n/**\n * Filter filter for arrays\n *\n * @param {String} search\n * @param {String} [delimiter]\n * @param {String} ...dataKeys\n */\n\nfunction filterBy(arr, search, delimiter) {\n  arr = convertArray(arr);\n  if (search == null) {\n    return arr;\n  }\n  if (typeof search === 'function') {\n    return arr.filter(search);\n  }\n  // cast to lowercase string\n  search = ('' + search).toLowerCase();\n  // allow optional `in` delimiter\n  // because why not\n  var n = delimiter === 'in' ? 3 : 2;\n  // extract and flatten keys\n  var keys = toArray(arguments, n).reduce(function (prev, cur) {\n    return prev.concat(cur);\n  }, []);\n  var res = [];\n  var item, key, val, j;\n  for (var i = 0, l = arr.length; i < l; i++) {\n    item = arr[i];\n    val = item && item.$value || item;\n    j = keys.length;\n    if (j) {\n      while (j--) {\n        key = keys[j];\n        if (key === '$key' && contains(item.$key, search) || contains(getPath(val, key), search)) {\n          res.push(item);\n          break;\n        }\n      }\n    } else if (contains(item, search)) {\n      res.push(item);\n    }\n  }\n  return res;\n}\n\n/**\n * Filter filter for arrays\n *\n * @param {String} sortKey\n * @param {String} reverse\n */\n\nfunction orderBy(arr, sortKey, reverse) {\n  arr = convertArray(arr);\n  if (!sortKey) {\n    return arr;\n  }\n  var order = reverse && reverse < 0 ? -1 : 1;\n  // sort on a copy to avoid mutating original array\n  return arr.slice().sort(function (a, b) {\n    if (sortKey !== '$key') {\n      if (isObject(a) && '$value' in a) a = a.$value;\n      if (isObject(b) && '$value' in b) b = b.$value;\n    }\n    a = isObject(a) ? getPath(a, sortKey) : a;\n    b = isObject(b) ? getPath(b, sortKey) : b;\n    return a === b ? 0 : a > b ? order : -order;\n  });\n}\n\n/**\n * String contain helper\n *\n * @param {*} val\n * @param {String} search\n */\n\nfunction contains(val, search) {\n  var i;\n  if (isPlainObject(val)) {\n    var keys = Object.keys(val);\n    i = keys.length;\n    while (i--) {\n      if (contains(val[keys[i]], search)) {\n        return true;\n      }\n    }\n  } else if (isArray(val)) {\n    i = val.length;\n    while (i--) {\n      if (contains(val[i], search)) {\n        return true;\n      }\n    }\n  } else if (val != null) {\n    return val.toString().toLowerCase().indexOf(search) > -1;\n  }\n}\n\nvar digitsRE = /(\\d{3})(?=\\d)/g;\n\n// asset collections must be a plain object.\nvar filters = {\n\n  orderBy: orderBy,\n  filterBy: filterBy,\n  limitBy: limitBy,\n\n  /**\n   * Stringify value.\n   *\n   * @param {Number} indent\n   */\n\n  json: {\n    read: function read(value, indent) {\n      return typeof value === 'string' ? value : JSON.stringify(value, null, Number(indent) || 2);\n    },\n    write: function write(value) {\n      try {\n        return JSON.parse(value);\n      } catch (e) {\n        return value;\n      }\n    }\n  },\n\n  /**\n   * 'abc' => 'Abc'\n   */\n\n  capitalize: function capitalize(value) {\n    if (!value && value !== 0) return '';\n    value = value.toString();\n    return value.charAt(0).toUpperCase() + value.slice(1);\n  },\n\n  /**\n   * 'abc' => 'ABC'\n   */\n\n  uppercase: function uppercase(value) {\n    return value || value === 0 ? value.toString().toUpperCase() : '';\n  },\n\n  /**\n   * 'AbC' => 'abc'\n   */\n\n  lowercase: function lowercase(value) {\n    return value || value === 0 ? value.toString().toLowerCase() : '';\n  },\n\n  /**\n   * 12345 => $12,345.00\n   *\n   * @param {String} sign\n   */\n\n  currency: function currency(value, _currency) {\n    value = parseFloat(value);\n    if (!isFinite(value) || !value && value !== 0) return '';\n    _currency = _currency != null ? _currency : '$';\n    var stringified = Math.abs(value).toFixed(2);\n    var _int = stringified.slice(0, -3);\n    var i = _int.length % 3;\n    var head = i > 0 ? _int.slice(0, i) + (_int.length > 3 ? ',' : '') : '';\n    var _float = stringified.slice(-3);\n    var sign = value < 0 ? '-' : '';\n    return _currency + sign + head + _int.slice(i).replace(digitsRE, '$1,') + _float;\n  },\n\n  /**\n   * 'item' => 'items'\n   *\n   * @params\n   *  an array of strings corresponding to\n   *  the single, double, triple ... forms of the word to\n   *  be pluralized. When the number to be pluralized\n   *  exceeds the length of the args, it will use the last\n   *  entry in the array.\n   *\n   *  e.g. ['single', 'double', 'triple', 'multiple']\n   */\n\n  pluralize: function pluralize(value) {\n    var args = toArray(arguments, 1);\n    return args.length > 1 ? args[value % 10 - 1] || args[args.length - 1] : args[0] + (value === 1 ? '' : 's');\n  },\n\n  /**\n   * Debounce a handler function.\n   *\n   * @param {Function} handler\n   * @param {Number} delay = 300\n   * @return {Function}\n   */\n\n  debounce: function debounce(handler, delay) {\n    if (!handler) return;\n    if (!delay) {\n      delay = 300;\n    }\n    return _debounce(handler, delay);\n  }\n};\n\nvar partial = {\n\n  priority: 1750,\n\n  params: ['name'],\n\n  // watch changes to name for dynamic partials\n  paramWatchers: {\n    name: function name(value) {\n      vIf.remove.call(this);\n      if (value) {\n        this.insert(value);\n      }\n    }\n  },\n\n  bind: function bind() {\n    this.anchor = createAnchor('v-partial');\n    replace(this.el, this.anchor);\n    this.insert(this.params.name);\n  },\n\n  insert: function insert(id) {\n    var partial = resolveAsset(this.vm.$options, 'partials', id);\n    if (process.env.NODE_ENV !== 'production') {\n      assertAsset(partial, 'partial', id);\n    }\n    if (partial) {\n      this.factory = new FragmentFactory(this.vm, partial);\n      vIf.insert.call(this);\n    }\n  },\n\n  unbind: function unbind() {\n    if (this.frag) {\n      this.frag.destroy();\n    }\n  }\n};\n\n// This is the elementDirective that handles <content>\n// transclusions. It relies on the raw content of an\n// instance being stored as `$options._content` during\n// the transclude phase.\n\n// We are exporting two versions, one for named and one\n// for unnamed, because the unnamed slots must be compiled\n// AFTER all named slots have selected their content. So\n// we need to give them different priorities in the compilation\n// process. (See #1965)\n\nvar slot = {\n\n  priority: 1750,\n\n  bind: function bind() {\n    var host = this.vm;\n    var raw = host.$options._content;\n    if (!raw) {\n      this.fallback();\n      return;\n    }\n    var context = host._context;\n    var slotName = this.params && this.params.name;\n    if (!slotName) {\n      // Default slot\n      this.tryCompile(extractFragment(raw.childNodes, raw, true), context, host);\n    } else {\n      // Named slot\n      var selector = '[slot=\"' + slotName + '\"]';\n      var nodes = raw.querySelectorAll(selector);\n      if (nodes.length) {\n        this.tryCompile(extractFragment(nodes, raw), context, host);\n      } else {\n        this.fallback();\n      }\n    }\n  },\n\n  tryCompile: function tryCompile(content, context, host) {\n    if (content.hasChildNodes()) {\n      this.compile(content, context, host);\n    } else {\n      this.fallback();\n    }\n  },\n\n  compile: function compile(content, context, host) {\n    if (content && context) {\n      var scope = host ? host._scope : this._scope;\n      this.unlink = context.$compile(content, host, scope, this._frag);\n    }\n    if (content) {\n      replace(this.el, content);\n    } else {\n      remove(this.el);\n    }\n  },\n\n  fallback: function fallback() {\n    this.compile(extractContent(this.el, true), this.vm);\n  },\n\n  unbind: function unbind() {\n    if (this.unlink) {\n      this.unlink();\n    }\n  }\n};\n\nvar namedSlot = extend(extend({}, slot), {\n  priority: slot.priority + 1,\n  params: ['name']\n});\n\n/**\n * Extract qualified content nodes from a node list.\n *\n * @param {NodeList} nodes\n * @param {Element} parent\n * @param {Boolean} main\n * @return {DocumentFragment}\n */\n\nfunction extractFragment(nodes, parent, main) {\n  var frag = document.createDocumentFragment();\n  for (var i = 0, l = nodes.length; i < l; i++) {\n    var node = nodes[i];\n    // if this is the main outlet, we want to skip all\n    // previously selected nodes;\n    // otherwise, we want to mark the node as selected.\n    // clone the node so the original raw content remains\n    // intact. this ensures proper re-compilation in cases\n    // where the outlet is inside a conditional block\n    if (main && !node.__v_selected) {\n      append(node);\n    } else if (!main && node.parentNode === parent) {\n      node.__v_selected = true;\n      append(node);\n    }\n  }\n  return frag;\n\n  function append(node) {\n    if (isTemplate(node) && !node.hasAttribute('v-if') && !node.hasAttribute('v-for')) {\n      node = parseTemplate(node);\n    }\n    node = cloneNode(node);\n    frag.appendChild(node);\n  }\n}\n\nvar elementDirectives = {\n  slot: slot,\n  _namedSlot: namedSlot, // same as slot but with higher priority\n  partial: partial\n};\n\nVue.version = '1.0.11';\n\n/**\n * Vue and every constructor that extends Vue has an\n * associated options object, which can be accessed during\n * compilation steps as `this.constructor.options`.\n *\n * These can be seen as the default options of every\n * Vue instance.\n */\n\nVue.options = {\n  directives: publicDirectives,\n  elementDirectives: elementDirectives,\n  filters: filters,\n  transitions: {},\n  components: {},\n  partials: {},\n  replace: true\n};\n\n// devtools global hook\n/* istanbul ignore if */\nif (process.env.NODE_ENV !== 'production' && inBrowser) {\n  if (window.__VUE_DEVTOOLS_GLOBAL_HOOK__) {\n    window.__VUE_DEVTOOLS_GLOBAL_HOOK__.emit('init', Vue);\n  } else if (/Chrome\\/\\d+/.test(navigator.userAgent)) {\n    console.log('Download the Vue Devtools for a better development experience:\\n' + 'https://github.com/vuejs/vue-devtools');\n  }\n}\n\nmodule.exports = Vue;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue/dist/vue.common.js\n ** module id = 71\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","var MAGIC_NUMBER = 5;\nvar COLOR_LIMITE = 242;\n\nfunction getRGB(word) {\n  word = word.replace(/^\\s+(.*)\\s+$/g, '$1');\n  var rgb = [0, 0, 0];\n  for (var i = 0; i < word.length; i++) {\n    var level = parseInt(i / rgb.length);\n    rgb[i % 3] += parseInt(getAHashNum(word[i]) / getRatio(level));\n  }\n  for (var j = 0; j < rgb.length; j++) {\n    if (rgb[j] > 255) {\n      rgb[j] = 255;\n    }\n  }\n  return rgb;\n}\n\nfunction wordColor(word) {\n  var rgb = getRGB(word);\n  return 'rgb(' + rgb.join(',') + ')';\n}\n\nfunction getRatio(level) {\n  return Math.pow(MAGIC_NUMBER, level);\n}\n\nfunction getAHashNum(char) {\n  return parseInt((char.charCodeAt() << MAGIC_NUMBER) % COLOR_LIMITE);\n}\n\n// export pure numbers color method\nwordColor.rgb = getRGB;\nmodule.exports = wordColor;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/word-color/index.js\n ** module id = 72\n ** module chunks = 0 1 2 3 4 5 6 7\n **/","// <template>\n//   <div>\n//     <logo class=\"loading center\" v-show=\"loading\"></logo>\n//     <div v-show=\"!loading\">\n//       <slot></slot>\n//     </div>\n//   </div>\n// </template>\n\n// <script type=\"text/javascript\">\n\nimport Logo from '../components/logo.vue'\nvar debug = require('debug')('loading');\n\nexport default {\n  data () {\n    return {\n      loading: true\n    }\n  },\n  props: [],\n  components: {\n    'logo': Logo\n  },\n  created() {\n    this.$on('loaded', () => {\n      this.loading = false;\n    });\n  }\n};\n\n// </script>\n\n// <style lang=\"stylus\">\n// .big-font\n//   text-align center\n//   padding-top 100px\n//   font-size 60px\n// </style>\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/loading.vue\n **/","module.exports = \"<div><logo class=\\\"loading center\\\" v-show=loading></logo><div v-show=!loading><slot></slot></div></div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/loading.vue\n ** module id = 79\n ** module chunks = 1 3 5\n **/","module.exports = \"<div class=logo><div><span class=left-yellow></span><span class=right-green></span></div><div><span class=full-green></span></div><div><span class=left-green></span><span class=middle-red></span><span class=right-red></span></div></div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/logo.vue\n ** module id = 80\n ** module chunks = 1 3 5\n **/","require(\"-!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!style-loader!css-loader!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-56959e14&file=loading.vue!stylus-loader!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./loading.vue\")\nmodule.exports = require(\"-!babel!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./loading.vue\")\n\nif (module.exports.__esModule) module.exports = module.exports.default\n;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = require(\"-!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./loading.vue\")\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Users/yuqiu/github/code-review-web/src/components/loading.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n  }\n})()}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/loading.vue\n ** module id = 81\n ** module chunks = 1 3 5\n **/","require(\"-!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!style-loader!css-loader!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-ae32eafa&file=logo.vue!stylus-loader!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./logo.vue\")\n;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = require(\"-!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./logo.vue\")\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Users/yuqiu/github/code-review-web/src/components/logo.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n  }\n})()}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/logo.vue\n ** module id = 82\n ** module chunks = 1 3 5\n **/","// <template>\n//     <div class=\"tag-item\">\n//       <div class=\"point\" :style=\"{ background: '#' + tag.color }\"></div>\n//       <p class=\"tag-name\">{{tag.tagName}}</p>\n//       <i v-if=\"showDel\" class=\"delete\" @click=\"removeTag(tag.tagId)\"></i>\n//     </div>\n// </template>\n\n// <script type=\"text/javascript\">\nimport serviceUrl from \"../common/serviceUrl.js\"\nimport util from '../common/util';\nvar debug = require('debug')('tag');\nexport default {\n  props: ['tag', 'showDel'],\n  methods: {\n    removeTag (tagId){\n      this.$http.delete(serviceUrl.userTagDelete.replace(/:tagId/, tagId), {\n          emulateJSON: true\n        }).then((res) => {\n          this.$dispatch('remove-tag', res.data.result);\n        }, util.httpErrorFn(this));\n    }\n  },\n  ready () {\n    // debug('showDel: ' + this.showDel);\n  }\n}\n\n// </script>\n\n// <style lang=\"stylus\">\n\n// .tag-item\n//   display inline-block\n//   font-size 14px\n//   text-align left\n//   margin auto 0\n//   line-height 30px\n//   width auto\n\n// .point\n//   width 12px\n//   height 12px\n//   margin auto 10px auto 0px\n//   background #f00\n//   border-radius 6px\n//   display inline-block\n\n// .tag-name\n//   display inline-block\n\n// .delete\n//   margin-left 10px\n//   background url(../img/icon/delete.png) no-repeat\n//   width 10px\n//   height 10px\n//   display inline-block\n//   margin-top 20px\n//   cursor pointer\n\n// </style>\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/tag.vue\n **/","/**\n * mOxie - multi-runtime File API & XMLHttpRequest L2 Polyfill\n * v1.2.1\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n *\n * Date: 2014-05-14\n */\n/**\n * Compiled inline version. (Library mode)\n */\n\n/*jshint smarttabs:true, undef:true, latedef:true, curly:true, bitwise:true, camelcase:true */\n/*globals $code */\n\n(function(exports, undefined) {\n\t\"use strict\";\n\n\tvar modules = {};\n\n\tfunction require(ids, callback) {\n\t\tvar module, defs = [];\n\n\t\tfor (var i = 0; i < ids.length; ++i) {\n\t\t\tmodule = modules[ids[i]] || resolve(ids[i]);\n\t\t\tif (!module) {\n\t\t\t\tthrow 'module definition dependecy not found: ' + ids[i];\n\t\t\t}\n\n\t\t\tdefs.push(module);\n\t\t}\n\n\t\tcallback.apply(null, defs);\n\t}\n\n\tfunction define(id, dependencies, definition) {\n\t\tif (typeof id !== 'string') {\n\t\t\tthrow 'invalid module definition, module id must be defined and be a string';\n\t\t}\n\n\t\tif (dependencies === undefined) {\n\t\t\tthrow 'invalid module definition, dependencies must be specified';\n\t\t}\n\n\t\tif (definition === undefined) {\n\t\t\tthrow 'invalid module definition, definition function must be specified';\n\t\t}\n\n\t\trequire(dependencies, function() {\n\t\t\tmodules[id] = definition.apply(null, arguments);\n\t\t});\n\t}\n\n\tfunction defined(id) {\n\t\treturn !!modules[id];\n\t}\n\n\tfunction resolve(id) {\n\t\tvar target = exports;\n\t\tvar fragments = id.split(/[.\\/]/);\n\n\t\tfor (var fi = 0; fi < fragments.length; ++fi) {\n\t\t\tif (!target[fragments[fi]]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttarget = target[fragments[fi]];\n\t\t}\n\n\t\treturn target;\n\t}\n\n\tfunction expose(ids) {\n\t\tfor (var i = 0; i < ids.length; i++) {\n\t\t\tvar target = exports;\n\t\t\tvar id = ids[i];\n\t\t\tvar fragments = id.split(/[.\\/]/);\n\n\t\t\tfor (var fi = 0; fi < fragments.length - 1; ++fi) {\n\t\t\t\tif (target[fragments[fi]] === undefined) {\n\t\t\t\t\ttarget[fragments[fi]] = {};\n\t\t\t\t}\n\n\t\t\t\ttarget = target[fragments[fi]];\n\t\t\t}\n\n\t\t\ttarget[fragments[fragments.length - 1]] = modules[id];\n\t\t}\n\t}\n\n// Included from: src/javascript/core/utils/Basic.js\n\n/**\n * Basic.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine('moxie/core/utils/Basic', [], function() {\n\t/**\n\tGets the true type of the built-in object (better version of typeof).\n\t@author Angus Croll (http://javascriptweblog.wordpress.com/)\n\n\t@method typeOf\n\t@for Utils\n\t@static\n\t@param {Object} o Object to check.\n\t@return {String} Object [[Class]]\n\t*/\n\tvar typeOf = function(o) {\n\t\tvar undef;\n\n\t\tif (o === undef) {\n\t\t\treturn 'undefined';\n\t\t} else if (o === null) {\n\t\t\treturn 'null';\n\t\t} else if (o.nodeType) {\n\t\t\treturn 'node';\n\t\t}\n\n\t\t// the snippet below is awesome, however it fails to detect null, undefined and arguments types in IE lte 8\n\t\treturn ({}).toString.call(o).match(/\\s([a-z|A-Z]+)/)[1].toLowerCase();\n\t};\n\t\t\n\t/**\n\tExtends the specified object with another object.\n\n\t@method extend\n\t@static\n\t@param {Object} target Object to extend.\n\t@param {Object} [obj]* Multiple objects to extend with.\n\t@return {Object} Same as target, the extended object.\n\t*/\n\tvar extend = function(target) {\n\t\tvar undef;\n\n\t\teach(arguments, function(arg, i) {\n\t\t\tif (i > 0) {\n\t\t\t\teach(arg, function(value, key) {\n\t\t\t\t\tif (value !== undef) {\n\t\t\t\t\t\tif (typeOf(target[key]) === typeOf(value) && !!~inArray(typeOf(value), ['array', 'object'])) {\n\t\t\t\t\t\t\textend(target[key], value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttarget[key] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn target;\n\t};\n\t\t\n\t/**\n\tExecutes the callback function for each item in array/object. If you return false in the\n\tcallback it will break the loop.\n\n\t@method each\n\t@static\n\t@param {Object} obj Object to iterate.\n\t@param {function} callback Callback function to execute for each item.\n\t*/\n\tvar each = function(obj, callback) {\n\t\tvar length, key, i, undef;\n\n\t\tif (obj) {\n\t\t\ttry {\n\t\t\t\tlength = obj.length;\n\t\t\t} catch(ex) {\n\t\t\t\tlength = undef;\n\t\t\t}\n\n\t\t\tif (length === undef) {\n\t\t\t\t// Loop object items\n\t\t\t\tfor (key in obj) {\n\t\t\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\t\t\tif (callback(obj[key], key) === false) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Loop array items\n\t\t\t\tfor (i = 0; i < length; i++) {\n\t\t\t\t\tif (callback(obj[i], i) === false) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\tChecks if object is empty.\n\t\n\t@method isEmptyObj\n\t@static\n\t@param {Object} o Object to check.\n\t@return {Boolean}\n\t*/\n\tvar isEmptyObj = function(obj) {\n\t\tvar prop;\n\n\t\tif (!obj || typeOf(obj) !== 'object') {\n\t\t\treturn true;\n\t\t}\n\n\t\tfor (prop in obj) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\t/**\n\tRecieve an array of functions (usually async) to call in sequence, each  function\n\treceives a callback as first argument that it should call, when it completes. Finally,\n\tafter everything is complete, main callback is called. Passing truthy value to the\n\tcallback as a first argument will interrupt the sequence and invoke main callback\n\timmediately.\n\n\t@method inSeries\n\t@static\n\t@param {Array} queue Array of functions to call in sequence\n\t@param {Function} cb Main callback that is called in the end, or in case of error\n\t*/\n\tvar inSeries = function(queue, cb) {\n\t\tvar i = 0, length = queue.length;\n\n\t\tif (typeOf(cb) !== 'function') {\n\t\t\tcb = function() {};\n\t\t}\n\n\t\tif (!queue || !queue.length) {\n\t\t\tcb();\n\t\t}\n\n\t\tfunction callNext(i) {\n\t\t\tif (typeOf(queue[i]) === 'function') {\n\t\t\t\tqueue[i](function(error) {\n\t\t\t\t\t/*jshint expr:true */\n\t\t\t\t\t++i < length && !error ? callNext(i) : cb(error);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tcallNext(i);\n\t};\n\n\n\t/**\n\tRecieve an array of functions (usually async) to call in parallel, each  function\n\treceives a callback as first argument that it should call, when it completes. After \n\teverything is complete, main callback is called. Passing truthy value to the\n\tcallback as a first argument will interrupt the process and invoke main callback\n\timmediately.\n\n\t@method inParallel\n\t@static\n\t@param {Array} queue Array of functions to call in sequence\n\t@param {Function} cb Main callback that is called in the end, or in case of erro\n\t*/\n\tvar inParallel = function(queue, cb) {\n\t\tvar count = 0, num = queue.length, cbArgs = new Array(num);\n\n\t\teach(queue, function(fn, i) {\n\t\t\tfn(function(error) {\n\t\t\t\tif (error) {\n\t\t\t\t\treturn cb(error);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar args = [].slice.call(arguments);\n\t\t\t\targs.shift(); // strip error - undefined or not\n\n\t\t\t\tcbArgs[i] = args;\n\t\t\t\tcount++;\n\n\t\t\t\tif (count === num) {\n\t\t\t\t\tcbArgs.unshift(null);\n\t\t\t\t\tcb.apply(this, cbArgs);\n\t\t\t\t} \n\t\t\t});\n\t\t});\n\t};\n\t\n\t\n\t/**\n\tFind an element in array and return it's index if present, otherwise return -1.\n\t\n\t@method inArray\n\t@static\n\t@param {Mixed} needle Element to find\n\t@param {Array} array\n\t@return {Int} Index of the element, or -1 if not found\n\t*/\n\tvar inArray = function(needle, array) {\n\t\tif (array) {\n\t\t\tif (Array.prototype.indexOf) {\n\t\t\t\treturn Array.prototype.indexOf.call(array, needle);\n\t\t\t}\n\t\t\n\t\t\tfor (var i = 0, length = array.length; i < length; i++) {\n\t\t\t\tif (array[i] === needle) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t};\n\n\n\t/**\n\tReturns elements of first array if they are not present in second. And false - otherwise.\n\n\t@private\n\t@method arrayDiff\n\t@param {Array} needles\n\t@param {Array} array\n\t@return {Array|Boolean}\n\t*/\n\tvar arrayDiff = function(needles, array) {\n\t\tvar diff = [];\n\n\t\tif (typeOf(needles) !== 'array') {\n\t\t\tneedles = [needles];\n\t\t}\n\n\t\tif (typeOf(array) !== 'array') {\n\t\t\tarray = [array];\n\t\t}\n\n\t\tfor (var i in needles) {\n\t\t\tif (inArray(needles[i], array) === -1) {\n\t\t\t\tdiff.push(needles[i]);\n\t\t\t}\t\n\t\t}\n\t\treturn diff.length ? diff : false;\n\t};\n\n\n\t/**\n\tFind intersection of two arrays.\n\n\t@private\n\t@method arrayIntersect\n\t@param {Array} array1\n\t@param {Array} array2\n\t@return {Array} Intersection of two arrays or null if there is none\n\t*/\n\tvar arrayIntersect = function(array1, array2) {\n\t\tvar result = [];\n\t\teach(array1, function(item) {\n\t\t\tif (inArray(item, array2) !== -1) {\n\t\t\t\tresult.push(item);\n\t\t\t}\n\t\t});\n\t\treturn result.length ? result : null;\n\t};\n\t\n\t\n\t/**\n\tForces anything into an array.\n\t\n\t@method toArray\n\t@static\n\t@param {Object} obj Object with length field.\n\t@return {Array} Array object containing all items.\n\t*/\n\tvar toArray = function(obj) {\n\t\tvar i, arr = [];\n\n\t\tfor (i = 0; i < obj.length; i++) {\n\t\t\tarr[i] = obj[i];\n\t\t}\n\n\t\treturn arr;\n\t};\n\t\n\t\t\t\n\t/**\n\tGenerates an unique ID. This is 99.99% unique since it takes the current time and 5 random numbers.\n\tThe only way a user would be able to get the same ID is if the two persons at the same exact milisecond manages\n\tto get 5 the same random numbers between 0-65535 it also uses a counter so each call will be guaranteed to be page unique.\n\tIt's more probable for the earth to be hit with an ansteriod. Y\n\t\n\t@method guid\n\t@static\n\t@param {String} prefix to prepend (by default 'o' will be prepended).\n\t@method guid\n\t@return {String} Virtually unique id.\n\t*/\n\tvar guid = (function() {\n\t\tvar counter = 0;\n\t\t\n\t\treturn function(prefix) {\n\t\t\tvar guid = new Date().getTime().toString(32), i;\n\n\t\t\tfor (i = 0; i < 5; i++) {\n\t\t\t\tguid += Math.floor(Math.random() * 65535).toString(32);\n\t\t\t}\n\t\t\t\n\t\t\treturn (prefix || 'o_') + guid + (counter++).toString(32);\n\t\t};\n\t}());\n\t\n\n\t/**\n\tTrims white spaces around the string\n\t\n\t@method trim\n\t@static\n\t@param {String} str\n\t@return {String}\n\t*/\n\tvar trim = function(str) {\n\t\tif (!str) {\n\t\t\treturn str;\n\t\t}\n\t\treturn String.prototype.trim ? String.prototype.trim.call(str) : str.toString().replace(/^\\s*/, '').replace(/\\s*$/, '');\n\t};\n\n\n\t/**\n\tParses the specified size string into a byte value. For example 10kb becomes 10240.\n\t\n\t@method parseSizeStr\n\t@static\n\t@param {String/Number} size String to parse or number to just pass through.\n\t@return {Number} Size in bytes.\n\t*/\n\tvar parseSizeStr = function(size) {\n\t\tif (typeof(size) !== 'string') {\n\t\t\treturn size;\n\t\t}\n\t\t\n\t\tvar muls = {\n\t\t\t\tt: 1099511627776,\n\t\t\t\tg: 1073741824,\n\t\t\t\tm: 1048576,\n\t\t\t\tk: 1024\n\t\t\t},\n\t\t\tmul;\n\n\t\tsize = /^([0-9]+)([mgk]?)$/.exec(size.toLowerCase().replace(/[^0-9mkg]/g, ''));\n\t\tmul = size[2];\n\t\tsize = +size[1];\n\t\t\n\t\tif (muls.hasOwnProperty(mul)) {\n\t\t\tsize *= muls[mul];\n\t\t}\n\t\treturn size;\n\t};\n\t\n\n\treturn {\n\t\tguid: guid,\n\t\ttypeOf: typeOf,\n\t\textend: extend,\n\t\teach: each,\n\t\tisEmptyObj: isEmptyObj,\n\t\tinSeries: inSeries,\n\t\tinParallel: inParallel,\n\t\tinArray: inArray,\n\t\tarrayDiff: arrayDiff,\n\t\tarrayIntersect: arrayIntersect,\n\t\ttoArray: toArray,\n\t\ttrim: trim,\n\t\tparseSizeStr: parseSizeStr\n\t};\n});\n\n// Included from: src/javascript/core/I18n.js\n\n/**\n * I18n.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine(\"moxie/core/I18n\", [\n\t\"moxie/core/utils/Basic\"\n], function(Basic) {\n\tvar i18n = {};\n\n\treturn {\n\t\t/**\n\t\t * Extends the language pack object with new items.\n\t\t *\n\t\t * @param {Object} pack Language pack items to add.\n\t\t * @return {Object} Extended language pack object.\n\t\t */\n\t\taddI18n: function(pack) {\n\t\t\treturn Basic.extend(i18n, pack);\n\t\t},\n\n\t\t/**\n\t\t * Translates the specified string by checking for the english string in the language pack lookup.\n\t\t *\n\t\t * @param {String} str String to look for.\n\t\t * @return {String} Translated string or the input string if it wasn't found.\n\t\t */\n\t\ttranslate: function(str) {\n\t\t\treturn i18n[str] || str;\n\t\t},\n\n\t\t/**\n\t\t * Shortcut for translate function\n\t\t *\n\t\t * @param {String} str String to look for.\n\t\t * @return {String} Translated string or the input string if it wasn't found.\n\t\t */\n\t\t_: function(str) {\n\t\t\treturn this.translate(str);\n\t\t},\n\n\t\t/**\n\t\t * Pseudo sprintf implementation - simple way to replace tokens with specified values.\n\t\t *\n\t\t * @param {String} str String with tokens\n\t\t * @return {String} String with replaced tokens\n\t\t */\n\t\tsprintf: function(str) {\n\t\t\tvar args = [].slice.call(arguments, 1);\n\n\t\t\treturn str.replace(/%[a-z]/g, function() {\n\t\t\t\tvar value = args.shift();\n\t\t\t\treturn Basic.typeOf(value) !== 'undefined' ? value : '';\n\t\t\t});\n\t\t}\n\t};\n});\n\n// Included from: src/javascript/core/utils/Mime.js\n\n/**\n * Mime.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine(\"moxie/core/utils/Mime\", [\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/core/I18n\"\n], function(Basic, I18n) {\n\t\n\tvar mimeData = \"\" +\n\t\t\"application/msword,doc dot,\" +\n\t\t\"application/pdf,pdf,\" +\n\t\t\"application/pgp-signature,pgp,\" +\n\t\t\"application/postscript,ps ai eps,\" +\n\t\t\"application/rtf,rtf,\" +\n\t\t\"application/vnd.ms-excel,xls xlb,\" +\n\t\t\"application/vnd.ms-powerpoint,ppt pps pot,\" +\n\t\t\"application/zip,zip,\" +\n\t\t\"application/x-shockwave-flash,swf swfl,\" +\n\t\t\"application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,\" +\n\t\t\"application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,\" +\n\t\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,\" +\n\t\t\"application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,\" +\n\t\t\"application/vnd.openxmlformats-officedocument.presentationml.template,potx,\" +\n\t\t\"application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,\" +\n\t\t\"application/x-javascript,js,\" +\n\t\t\"application/json,json,\" +\n\t\t\"audio/mpeg,mp3 mpga mpega mp2,\" +\n\t\t\"audio/x-wav,wav,\" +\n\t\t\"audio/x-m4a,m4a,\" +\n\t\t\"audio/ogg,oga ogg,\" +\n\t\t\"audio/aiff,aiff aif,\" +\n\t\t\"audio/flac,flac,\" +\n\t\t\"audio/aac,aac,\" +\n\t\t\"audio/ac3,ac3,\" +\n\t\t\"audio/x-ms-wma,wma,\" +\n\t\t\"image/bmp,bmp,\" +\n\t\t\"image/gif,gif,\" +\n\t\t\"image/jpeg,jpg jpeg jpe,\" +\n\t\t\"image/photoshop,psd,\" +\n\t\t\"image/png,png,\" +\n\t\t\"image/svg+xml,svg svgz,\" +\n\t\t\"image/tiff,tiff tif,\" +\n\t\t\"text/plain,asc txt text diff log,\" +\n\t\t\"text/html,htm html xhtml,\" +\n\t\t\"text/css,css,\" +\n\t\t\"text/csv,csv,\" +\n\t\t\"text/rtf,rtf,\" +\n\t\t\"video/mpeg,mpeg mpg mpe m2v,\" +\n\t\t\"video/quicktime,qt mov,\" +\n\t\t\"video/mp4,mp4,\" +\n\t\t\"video/x-m4v,m4v,\" +\n\t\t\"video/x-flv,flv,\" +\n\t\t\"video/x-ms-wmv,wmv,\" +\n\t\t\"video/avi,avi,\" +\n\t\t\"video/webm,webm,\" +\n\t\t\"video/3gpp,3gpp 3gp,\" +\n\t\t\"video/3gpp2,3g2,\" +\n\t\t\"video/vnd.rn-realvideo,rv,\" +\n\t\t\"video/ogg,ogv,\" + \n\t\t\"video/x-matroska,mkv,\" +\n\t\t\"application/vnd.oasis.opendocument.formula-template,otf,\" +\n\t\t\"application/octet-stream,exe\";\n\t\n\t\n\tvar Mime = {\n\n\t\tmimes: {},\n\n\t\textensions: {},\n\n\t\t// Parses the default mime types string into a mimes and extensions lookup maps\n\t\taddMimeType: function (mimeData) {\n\t\t\tvar items = mimeData.split(/,/), i, ii, ext;\n\t\t\t\n\t\t\tfor (i = 0; i < items.length; i += 2) {\n\t\t\t\text = items[i + 1].split(/ /);\n\n\t\t\t\t// extension to mime lookup\n\t\t\t\tfor (ii = 0; ii < ext.length; ii++) {\n\t\t\t\t\tthis.mimes[ext[ii]] = items[i];\n\t\t\t\t}\n\t\t\t\t// mime to extension lookup\n\t\t\t\tthis.extensions[items[i]] = ext;\n\t\t\t}\n\t\t},\n\n\n\t\textList2mimes: function (filters, addMissingExtensions) {\n\t\t\tvar self = this, ext, i, ii, type, mimes = [];\n\t\t\t\n\t\t\t// convert extensions to mime types list\n\t\t\tfor (i = 0; i < filters.length; i++) {\n\t\t\t\text = filters[i].extensions.split(/\\s*,\\s*/);\n\n\t\t\t\tfor (ii = 0; ii < ext.length; ii++) {\n\t\t\t\t\t\n\t\t\t\t\t// if there's an asterisk in the list, then accept attribute is not required\n\t\t\t\t\tif (ext[ii] === '*') {\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\ttype = self.mimes[ext[ii]];\n\t\t\t\t\tif (!type) {\n\t\t\t\t\t\tif (addMissingExtensions && /^\\w+$/.test(ext[ii])) {\n\t\t\t\t\t\t\tmimes.push('.' + ext[ii]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn []; // accept all\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (Basic.inArray(type, mimes) === -1) {\n\t\t\t\t\t\tmimes.push(type);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn mimes;\n\t\t},\n\n\n\t\tmimes2exts: function(mimes) {\n\t\t\tvar self = this, exts = [];\n\t\t\t\n\t\t\tBasic.each(mimes, function(mime) {\n\t\t\t\tif (mime === '*') {\n\t\t\t\t\texts = [];\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// check if this thing looks like mime type\n\t\t\t\tvar m = mime.match(/^(\\w+)\\/(\\*|\\w+)$/);\n\t\t\t\tif (m) {\n\t\t\t\t\tif (m[2] === '*') { \n\t\t\t\t\t\t// wildcard mime type detected\n\t\t\t\t\t\tBasic.each(self.extensions, function(arr, mime) {\n\t\t\t\t\t\t\tif ((new RegExp('^' + m[1] + '/')).test(mime)) {\n\t\t\t\t\t\t\t\t[].push.apply(exts, self.extensions[mime]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (self.extensions[mime]) {\n\t\t\t\t\t\t[].push.apply(exts, self.extensions[mime]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn exts;\n\t\t},\n\n\n\t\tmimes2extList: function(mimes) {\n\t\t\tvar accept = [], exts = [];\n\n\t\t\tif (Basic.typeOf(mimes) === 'string') {\n\t\t\t\tmimes = Basic.trim(mimes).split(/\\s*,\\s*/);\n\t\t\t}\n\n\t\t\texts = this.mimes2exts(mimes);\n\t\t\t\n\t\t\taccept.push({\n\t\t\t\ttitle: I18n.translate('Files'),\n\t\t\t\textensions: exts.length ? exts.join(',') : '*'\n\t\t\t});\n\t\t\t\n\t\t\t// save original mimes string\n\t\t\taccept.mimes = mimes;\n\n\t\t\treturn accept;\n\t\t},\n\n\n\t\tgetFileExtension: function(fileName) {\n\t\t\tvar matches = fileName && fileName.match(/\\.([^.]+)$/);\n\t\t\tif (matches) {\n\t\t\t\treturn matches[1].toLowerCase();\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\n\t\tgetFileMime: function(fileName) {\n\t\t\treturn this.mimes[this.getFileExtension(fileName)] || '';\n\t\t}\n\t};\n\n\tMime.addMimeType(mimeData);\n\n\treturn Mime;\n});\n\n// Included from: src/javascript/core/utils/Env.js\n\n/**\n * Env.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine(\"moxie/core/utils/Env\", [\n\t\"moxie/core/utils/Basic\"\n], function(Basic) {\n\t\n\t// UAParser.js v0.6.2\n\t// Lightweight JavaScript-based User-Agent string parser\n\t// https://github.com/faisalman/ua-parser-js\n\t//\n\t// Copyright  2012-2013 Faisalman <fyzlman@gmail.com>\n\t// Dual licensed under GPLv2 & MIT\n\n\tvar UAParser = (function (undefined) {\n\n\t    //////////////\n\t    // Constants\n\t    /////////////\n\n\n\t    var EMPTY       = '',\n\t        UNKNOWN     = '?',\n\t        FUNC_TYPE   = 'function',\n\t        UNDEF_TYPE  = 'undefined',\n\t        OBJ_TYPE    = 'object',\n\t        MAJOR       = 'major',\n\t        MODEL       = 'model',\n\t        NAME        = 'name',\n\t        TYPE        = 'type',\n\t        VENDOR      = 'vendor',\n\t        VERSION     = 'version',\n\t        ARCHITECTURE= 'architecture',\n\t        CONSOLE     = 'console',\n\t        MOBILE      = 'mobile',\n\t        TABLET      = 'tablet';\n\n\n\t    ///////////\n\t    // Helper\n\t    //////////\n\n\n\t    var util = {\n\t        has : function (str1, str2) {\n\t            return str2.toLowerCase().indexOf(str1.toLowerCase()) !== -1;\n\t        },\n\t        lowerize : function (str) {\n\t            return str.toLowerCase();\n\t        }\n\t    };\n\n\n\t    ///////////////\n\t    // Map helper\n\t    //////////////\n\n\n\t    var mapper = {\n\n\t        rgx : function () {\n\n\t            // loop through all regexes maps\n\t            for (var result, i = 0, j, k, p, q, matches, match, args = arguments; i < args.length; i += 2) {\n\n\t                var regex = args[i],       // even sequence (0,2,4,..)\n\t                    props = args[i + 1];   // odd sequence (1,3,5,..)\n\n\t                // construct object barebones\n\t                if (typeof(result) === UNDEF_TYPE) {\n\t                    result = {};\n\t                    for (p in props) {\n\t                        q = props[p];\n\t                        if (typeof(q) === OBJ_TYPE) {\n\t                            result[q[0]] = undefined;\n\t                        } else {\n\t                            result[q] = undefined;\n\t                        }\n\t                    }\n\t                }\n\n\t                // try matching uastring with regexes\n\t                for (j = k = 0; j < regex.length; j++) {\n\t                    matches = regex[j].exec(this.getUA());\n\t                    if (!!matches) {\n\t                        for (p = 0; p < props.length; p++) {\n\t                            match = matches[++k];\n\t                            q = props[p];\n\t                            // check if given property is actually array\n\t                            if (typeof(q) === OBJ_TYPE && q.length > 0) {\n\t                                if (q.length == 2) {\n\t                                    if (typeof(q[1]) == FUNC_TYPE) {\n\t                                        // assign modified match\n\t                                        result[q[0]] = q[1].call(this, match);\n\t                                    } else {\n\t                                        // assign given value, ignore regex match\n\t                                        result[q[0]] = q[1];\n\t                                    }\n\t                                } else if (q.length == 3) {\n\t                                    // check whether function or regex\n\t                                    if (typeof(q[1]) === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n\t                                        // call function (usually string mapper)\n\t                                        result[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n\t                                    } else {\n\t                                        // sanitize match using given regex\n\t                                        result[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n\t                                    }\n\t                                } else if (q.length == 4) {\n\t                                        result[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n\t                                }\n\t                            } else {\n\t                                result[q] = match ? match : undefined;\n\t                            }\n\t                        }\n\t                        break;\n\t                    }\n\t                }\n\n\t                if(!!matches) break; // break the loop immediately if match found\n\t            }\n\t            return result;\n\t        },\n\n\t        str : function (str, map) {\n\n\t            for (var i in map) {\n\t                // check if array\n\t                if (typeof(map[i]) === OBJ_TYPE && map[i].length > 0) {\n\t                    for (var j = 0; j < map[i].length; j++) {\n\t                        if (util.has(map[i][j], str)) {\n\t                            return (i === UNKNOWN) ? undefined : i;\n\t                        }\n\t                    }\n\t                } else if (util.has(map[i], str)) {\n\t                    return (i === UNKNOWN) ? undefined : i;\n\t                }\n\t            }\n\t            return str;\n\t        }\n\t    };\n\n\n\t    ///////////////\n\t    // String map\n\t    //////////////\n\n\n\t    var maps = {\n\n\t        browser : {\n\t            oldsafari : {\n\t                major : {\n\t                    '1' : ['/8', '/1', '/3'],\n\t                    '2' : '/4',\n\t                    '?' : '/'\n\t                },\n\t                version : {\n\t                    '1.0'   : '/8',\n\t                    '1.2'   : '/1',\n\t                    '1.3'   : '/3',\n\t                    '2.0'   : '/412',\n\t                    '2.0.2' : '/416',\n\t                    '2.0.3' : '/417',\n\t                    '2.0.4' : '/419',\n\t                    '?'     : '/'\n\t                }\n\t            }\n\t        },\n\n\t        device : {\n\t            sprint : {\n\t                model : {\n\t                    'Evo Shift 4G' : '7373KT'\n\t                },\n\t                vendor : {\n\t                    'HTC'       : 'APA',\n\t                    'Sprint'    : 'Sprint'\n\t                }\n\t            }\n\t        },\n\n\t        os : {\n\t            windows : {\n\t                version : {\n\t                    'ME'        : '4.90',\n\t                    'NT 3.11'   : 'NT3.51',\n\t                    'NT 4.0'    : 'NT4.0',\n\t                    '2000'      : 'NT 5.0',\n\t                    'XP'        : ['NT 5.1', 'NT 5.2'],\n\t                    'Vista'     : 'NT 6.0',\n\t                    '7'         : 'NT 6.1',\n\t                    '8'         : 'NT 6.2',\n\t                    '8.1'       : 'NT 6.3',\n\t                    'RT'        : 'ARM'\n\t                }\n\t            }\n\t        }\n\t    };\n\n\n\t    //////////////\n\t    // Regex map\n\t    /////////////\n\n\n\t    var regexes = {\n\n\t        browser : [[\n\n\t            // Presto based\n\t            /(opera\\smini)\\/((\\d+)?[\\w\\.-]+)/i,                                 // Opera Mini\n\t            /(opera\\s[mobiletab]+).+version\\/((\\d+)?[\\w\\.-]+)/i,                // Opera Mobi/Tablet\n\t            /(opera).+version\\/((\\d+)?[\\w\\.]+)/i,                               // Opera > 9.80\n\t            /(opera)[\\/\\s]+((\\d+)?[\\w\\.]+)/i                                    // Opera < 9.80\n\t            \n\t            ], [NAME, VERSION, MAJOR], [\n\n\t            /\\s(opr)\\/((\\d+)?[\\w\\.]+)/i                                         // Opera Webkit\n\t            ], [[NAME, 'Opera'], VERSION, MAJOR], [\n\n\t            // Mixed\n\t            /(kindle)\\/((\\d+)?[\\w\\.]+)/i,                                       // Kindle\n\t            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/\\s]?((\\d+)?[\\w\\.]+)*/i,\n\t                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n\n\t            // Trident based\n\t            /(avant\\s|iemobile|slim|baidu)(?:browser)?[\\/\\s]?((\\d+)?[\\w\\.]*)/i,\n\t                                                                                // Avant/IEMobile/SlimBrowser/Baidu\n\t            /(?:ms|\\()(ie)\\s((\\d+)?[\\w\\.]+)/i,                                  // Internet Explorer\n\n\t            // Webkit/KHTML based\n\t            /(rekonq)((?:\\/)[\\w\\.]+)*/i,                                        // Rekonq\n\t            /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\\/((\\d+)?[\\w\\.-]+)/i\n\t                                                                                // Chromium/Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron\n\t            ], [NAME, VERSION, MAJOR], [\n\n\t            /(trident).+rv[:\\s]((\\d+)?[\\w\\.]+).+like\\sgecko/i                   // IE11\n\t            ], [[NAME, 'IE'], VERSION, MAJOR], [\n\n\t            /(yabrowser)\\/((\\d+)?[\\w\\.]+)/i                                     // Yandex\n\t            ], [[NAME, 'Yandex'], VERSION, MAJOR], [\n\n\t            /(comodo_dragon)\\/((\\d+)?[\\w\\.]+)/i                                 // Comodo Dragon\n\t            ], [[NAME, /_/g, ' '], VERSION, MAJOR], [\n\n\t            /(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)\\/v?((\\d+)?[\\w\\.]+)/i\n\t                                                                                // Chrome/OmniWeb/Arora/Tizen/Nokia\n\t            ], [NAME, VERSION, MAJOR], [\n\n\t            /(dolfin)\\/((\\d+)?[\\w\\.]+)/i                                        // Dolphin\n\t            ], [[NAME, 'Dolphin'], VERSION, MAJOR], [\n\n\t            /((?:android.+)crmo|crios)\\/((\\d+)?[\\w\\.]+)/i                       // Chrome for Android/iOS\n\t            ], [[NAME, 'Chrome'], VERSION, MAJOR], [\n\n\t            /((?:android.+))version\\/((\\d+)?[\\w\\.]+)\\smobile\\ssafari/i          // Android Browser\n\t            ], [[NAME, 'Android Browser'], VERSION, MAJOR], [\n\n\t            /version\\/((\\d+)?[\\w\\.]+).+?mobile\\/\\w+\\s(safari)/i                 // Mobile Safari\n\t            ], [VERSION, MAJOR, [NAME, 'Mobile Safari']], [\n\n\t            /version\\/((\\d+)?[\\w\\.]+).+?(mobile\\s?safari|safari)/i              // Safari & Safari Mobile\n\t            ], [VERSION, MAJOR, NAME], [\n\n\t            /webkit.+?(mobile\\s?safari|safari)((\\/[\\w\\.]+))/i                   // Safari < 3.0\n\t            ], [NAME, [MAJOR, mapper.str, maps.browser.oldsafari.major], [VERSION, mapper.str, maps.browser.oldsafari.version]], [\n\n\t            /(konqueror)\\/((\\d+)?[\\w\\.]+)/i,                                    // Konqueror\n\t            /(webkit|khtml)\\/((\\d+)?[\\w\\.]+)/i\n\t            ], [NAME, VERSION, MAJOR], [\n\n\t            // Gecko based\n\t            /(navigator|netscape)\\/((\\d+)?[\\w\\.-]+)/i                           // Netscape\n\t            ], [[NAME, 'Netscape'], VERSION, MAJOR], [\n\t            /(swiftfox)/i,                                                      // Swiftfox\n\t            /(icedragon|iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[\\/\\s]?((\\d+)?[\\w\\.\\+]+)/i,\n\t                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n\t            /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\\/((\\d+)?[\\w\\.-]+)/i,\n\t                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n\t            /(mozilla)\\/((\\d+)?[\\w\\.]+).+rv\\:.+gecko\\/\\d+/i,                    // Mozilla\n\n\t            // Other\n\t            /(uc\\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\\/\\s]?((\\d+)?[\\w\\.]+)/i,\n\t                                                                                // UCBrowser/Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/QQBrowser\n\t            /(links)\\s\\(((\\d+)?[\\w\\.]+)/i,                                      // Links\n\t            /(gobrowser)\\/?((\\d+)?[\\w\\.]+)*/i,                                  // GoBrowser\n\t            /(ice\\s?browser)\\/v?((\\d+)?[\\w\\._]+)/i,                             // ICE Browser\n\t            /(mosaic)[\\/\\s]((\\d+)?[\\w\\.]+)/i                                    // Mosaic\n\t            ], [NAME, VERSION, MAJOR]\n\t        ],\n\n\t        engine : [[\n\n\t            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n\t            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\\/([\\w\\.]+)/i,     // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m\n\t            /(khtml|tasman|links)[\\/\\s]\\(?([\\w\\.]+)/i,                          // KHTML/Tasman/Links\n\t            /(icab)[\\/\\s]([23]\\.[\\d\\.]+)/i                                      // iCab\n\t            ], [NAME, VERSION], [\n\n\t            /rv\\:([\\w\\.]+).*(gecko)/i                                           // Gecko\n\t            ], [VERSION, NAME]\n\t        ],\n\n\t        os : [[\n\n\t            // Windows based\n\t            /(windows)\\snt\\s6\\.2;\\s(arm)/i,                                     // Windows RT\n\t            /(windows\\sphone(?:\\sos)*|windows\\smobile|windows)[\\s\\/]?([ntce\\d\\.\\s]+\\w)/i\n\t            ], [NAME, [VERSION, mapper.str, maps.os.windows.version]], [\n\t            /(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)/i\n\t            ], [[NAME, 'Windows'], [VERSION, mapper.str, maps.os.windows.version]], [\n\n\t            // Mobile/Embedded OS\n\t            /\\((bb)(10);/i                                                      // BlackBerry 10\n\t            ], [[NAME, 'BlackBerry'], VERSION], [\n\t            /(blackberry)\\w*\\/?([\\w\\.]+)*/i,                                    // Blackberry\n\t            /(tizen)\\/([\\w\\.]+)/i,                                              // Tizen\n\t            /(android|webos|palm\\os|qnx|bada|rim\\stablet\\sos|meego)[\\/\\s-]?([\\w\\.]+)*/i\n\t                                                                                // Android/WebOS/Palm/QNX/Bada/RIM/MeeGo\n\t            ], [NAME, VERSION], [\n\t            /(symbian\\s?os|symbos|s60(?=;))[\\/\\s-]?([\\w\\.]+)*/i                 // Symbian\n\t            ], [[NAME, 'Symbian'], VERSION],[\n\t            /mozilla.+\\(mobile;.+gecko.+firefox/i                               // Firefox OS\n\t            ], [[NAME, 'Firefox OS'], VERSION], [\n\n\t            // Console\n\t            /(nintendo|playstation)\\s([wids3portablevu]+)/i,                    // Nintendo/Playstation\n\n\t            // GNU/Linux based\n\t            /(mint)[\\/\\s\\(]?(\\w+)*/i,                                           // Mint\n\t            /(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\\/\\s-]?([\\w\\.-]+)*/i,\n\t                                                                                // Joli/Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware\n\t                                                                                // Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk\n\t            /(hurd|linux)\\s?([\\w\\.]+)*/i,                                       // Hurd/Linux\n\t            /(gnu)\\s?([\\w\\.]+)*/i                                               // GNU\n\t            ], [NAME, VERSION], [\n\n\t            /(cros)\\s[\\w]+\\s([\\w\\.]+\\w)/i                                       // Chromium OS\n\t            ], [[NAME, 'Chromium OS'], VERSION],[\n\n\t            // Solaris\n\t            /(sunos)\\s?([\\w\\.]+\\d)*/i                                           // Solaris\n\t            ], [[NAME, 'Solaris'], VERSION], [\n\n\t            // BSD based\n\t            /\\s([frentopc-]{0,4}bsd|dragonfly)\\s?([\\w\\.]+)*/i                   // FreeBSD/NetBSD/OpenBSD/PC-BSD/DragonFly\n\t            ], [NAME, VERSION],[\n\n\t            /(ip[honead]+)(?:.*os\\s*([\\w]+)*\\slike\\smac|;\\sopera)/i             // iOS\n\t            ], [[NAME, 'iOS'], [VERSION, /_/g, '.']], [\n\n\t            /(mac\\sos\\sx)\\s?([\\w\\s\\.]+\\w)*/i                                    // Mac OS\n\t            ], [NAME, [VERSION, /_/g, '.']], [\n\n\t            // Other\n\t            /(haiku)\\s(\\w+)/i,                                                  // Haiku\n\t            /(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.]*)*/i,                               // AIX\n\t            /(macintosh|mac(?=_powerpc)|plan\\s9|minix|beos|os\\/2|amigaos|morphos|risc\\sos)/i,\n\t                                                                                // Plan9/Minix/BeOS/OS2/AmigaOS/MorphOS/RISCOS\n\t            /(unix)\\s?([\\w\\.]+)*/i                                              // UNIX\n\t            ], [NAME, VERSION]\n\t        ]\n\t    };\n\n\n\t    /////////////////\n\t    // Constructor\n\t    ////////////////\n\n\n\t    var UAParser = function (uastring) {\n\n\t        var ua = uastring || ((window && window.navigator && window.navigator.userAgent) ? window.navigator.userAgent : EMPTY);\n\n\t        this.getBrowser = function () {\n\t            return mapper.rgx.apply(this, regexes.browser);\n\t        };\n\t        this.getEngine = function () {\n\t            return mapper.rgx.apply(this, regexes.engine);\n\t        };\n\t        this.getOS = function () {\n\t            return mapper.rgx.apply(this, regexes.os);\n\t        };\n\t        this.getResult = function() {\n\t            return {\n\t                ua      : this.getUA(),\n\t                browser : this.getBrowser(),\n\t                engine  : this.getEngine(),\n\t                os      : this.getOS()\n\t            };\n\t        };\n\t        this.getUA = function () {\n\t            return ua;\n\t        };\n\t        this.setUA = function (uastring) {\n\t            ua = uastring;\n\t            return this;\n\t        };\n\t        this.setUA(ua);\n\t    };\n\n\t    return new UAParser().getResult();\n\t})();\n\n\n\tfunction version_compare(v1, v2, operator) {\n\t  // From: http://phpjs.org/functions\n\t  // +      original by: Philippe Jausions (http://pear.php.net/user/jausions)\n\t  // +      original by: Aidan Lister (http://aidanlister.com/)\n\t  // + reimplemented by: Kankrelune (http://www.webfaktory.info/)\n\t  // +      improved by: Brett Zamir (http://brett-zamir.me)\n\t  // +      improved by: Scott Baker\n\t  // +      improved by: Theriault\n\t  // *        example 1: version_compare('8.2.5rc', '8.2.5a');\n\t  // *        returns 1: 1\n\t  // *        example 2: version_compare('8.2.50', '8.2.52', '<');\n\t  // *        returns 2: true\n\t  // *        example 3: version_compare('5.3.0-dev', '5.3.0');\n\t  // *        returns 3: -1\n\t  // *        example 4: version_compare('4.1.0.52','4.01.0.51');\n\t  // *        returns 4: 1\n\n\t  // Important: compare must be initialized at 0.\n\t  var i = 0,\n\t    x = 0,\n\t    compare = 0,\n\t    // vm maps textual PHP versions to negatives so they're less than 0.\n\t    // PHP currently defines these as CASE-SENSITIVE. It is important to\n\t    // leave these as negatives so that they can come before numerical versions\n\t    // and as if no letters were there to begin with.\n\t    // (1alpha is < 1 and < 1.1 but > 1dev1)\n\t    // If a non-numerical value can't be mapped to this table, it receives\n\t    // -7 as its value.\n\t    vm = {\n\t      'dev': -6,\n\t      'alpha': -5,\n\t      'a': -5,\n\t      'beta': -4,\n\t      'b': -4,\n\t      'RC': -3,\n\t      'rc': -3,\n\t      '#': -2,\n\t      'p': 1,\n\t      'pl': 1\n\t    },\n\t    // This function will be called to prepare each version argument.\n\t    // It replaces every _, -, and + with a dot.\n\t    // It surrounds any nonsequence of numbers/dots with dots.\n\t    // It replaces sequences of dots with a single dot.\n\t    //    version_compare('4..0', '4.0') == 0\n\t    // Important: A string of 0 length needs to be converted into a value\n\t    // even less than an unexisting value in vm (-7), hence [-8].\n\t    // It's also important to not strip spaces because of this.\n\t    //   version_compare('', ' ') == 1\n\t    prepVersion = function (v) {\n\t      v = ('' + v).replace(/[_\\-+]/g, '.');\n\t      v = v.replace(/([^.\\d]+)/g, '.$1.').replace(/\\.{2,}/g, '.');\n\t      return (!v.length ? [-8] : v.split('.'));\n\t    },\n\t    // This converts a version component to a number.\n\t    // Empty component becomes 0.\n\t    // Non-numerical component becomes a negative number.\n\t    // Numerical component becomes itself as an integer.\n\t    numVersion = function (v) {\n\t      return !v ? 0 : (isNaN(v) ? vm[v] || -7 : parseInt(v, 10));\n\t    };\n\n\t  v1 = prepVersion(v1);\n\t  v2 = prepVersion(v2);\n\t  x = Math.max(v1.length, v2.length);\n\t  for (i = 0; i < x; i++) {\n\t    if (v1[i] == v2[i]) {\n\t      continue;\n\t    }\n\t    v1[i] = numVersion(v1[i]);\n\t    v2[i] = numVersion(v2[i]);\n\t    if (v1[i] < v2[i]) {\n\t      compare = -1;\n\t      break;\n\t    } else if (v1[i] > v2[i]) {\n\t      compare = 1;\n\t      break;\n\t    }\n\t  }\n\t  if (!operator) {\n\t    return compare;\n\t  }\n\n\t  // Important: operator is CASE-SENSITIVE.\n\t  // \"No operator\" seems to be treated as \"<.\"\n\t  // Any other values seem to make the function return null.\n\t  switch (operator) {\n\t  case '>':\n\t  case 'gt':\n\t    return (compare > 0);\n\t  case '>=':\n\t  case 'ge':\n\t    return (compare >= 0);\n\t  case '<=':\n\t  case 'le':\n\t    return (compare <= 0);\n\t  case '==':\n\t  case '=':\n\t  case 'eq':\n\t    return (compare === 0);\n\t  case '<>':\n\t  case '!=':\n\t  case 'ne':\n\t    return (compare !== 0);\n\t  case '':\n\t  case '<':\n\t  case 'lt':\n\t    return (compare < 0);\n\t  default:\n\t    return null;\n\t  }\n\t}\n\n\n\tvar can = (function() {\n\t\tvar caps = {\n\t\t\t\tdefine_property: (function() {\n\t\t\t\t\t/* // currently too much extra code required, not exactly worth it\n\t\t\t\t\ttry { // as of IE8, getters/setters are supported only on DOM elements\n\t\t\t\t\t\tvar obj = {};\n\t\t\t\t\t\tif (Object.defineProperty) {\n\t\t\t\t\t\t\tObject.defineProperty(obj, 'prop', {\n\t\t\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(ex) {}\n\n\t\t\t\t\tif (Object.prototype.__defineGetter__ && Object.prototype.__defineSetter__) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}*/\n\t\t\t\t\treturn false;\n\t\t\t\t}()),\n\n\t\t\t\tcreate_canvas: (function() {\n\t\t\t\t\t// On the S60 and BB Storm, getContext exists, but always returns undefined\n\t\t\t\t\t// so we actually have to call getContext() to verify\n\t\t\t\t\t// github.com/Modernizr/Modernizr/issues/issue/97/\n\t\t\t\t\tvar el = document.createElement('canvas');\n\t\t\t\t\treturn !!(el.getContext && el.getContext('2d'));\n\t\t\t\t}()),\n\n\t\t\t\treturn_response_type: function(responseType) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (Basic.inArray(responseType, ['', 'text', 'document']) !== -1) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else if (window.XMLHttpRequest) {\n\t\t\t\t\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\t\t\t\t\txhr.open('get', '/'); // otherwise Gecko throws an exception\n\t\t\t\t\t\t\tif ('responseType' in xhr) {\n\t\t\t\t\t\t\t\txhr.responseType = responseType;\n\t\t\t\t\t\t\t\t// as of 23.0.1271.64, Chrome switched from throwing exception to merely logging it to the console (why? o why?)\n\t\t\t\t\t\t\t\tif (xhr.responseType !== responseType) {\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (ex) {}\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\t// ideas for this heavily come from Modernizr (http://modernizr.com/)\n\t\t\t\tuse_data_uri: (function() {\n\t\t\t\t\tvar du = new Image();\n\n\t\t\t\t\tdu.onload = function() {\n\t\t\t\t\t\tcaps.use_data_uri = (du.width === 1 && du.height === 1);\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tdu.src = \"data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\";\n\t\t\t\t\t}, 1);\n\t\t\t\t\treturn false;\n\t\t\t\t}()),\n\n\t\t\t\tuse_data_uri_over32kb: function() { // IE8\n\t\t\t\t\treturn caps.use_data_uri && (Env.browser !== 'IE' || Env.version >= 9);\n\t\t\t\t},\n\n\t\t\t\tuse_data_uri_of: function(bytes) {\n\t\t\t\t\treturn (caps.use_data_uri && bytes < 33000 || caps.use_data_uri_over32kb());\n\t\t\t\t},\n\n\t\t\t\tuse_fileinput: function() {\n\t\t\t\t\tvar el = document.createElement('input');\n\t\t\t\t\tel.setAttribute('type', 'file');\n\t\t\t\t\treturn !el.disabled;\n\t\t\t\t}\n\t\t\t};\n\n\t\treturn function(cap) {\n\t\t\tvar args = [].slice.call(arguments);\n\t\t\targs.shift(); // shift of cap\n\t\t\treturn Basic.typeOf(caps[cap]) === 'function' ? caps[cap].apply(this, args) : !!caps[cap];\n\t\t};\n\t}());\n\n\n\tvar Env = {\n\t\tcan: can,\n\t\t\n\t\tbrowser: UAParser.browser.name,\n\t\tversion: parseFloat(UAParser.browser.major),\n\t\tos: UAParser.os.name, // everybody intuitively types it in a lowercase for some reason\n\t\tosVersion: UAParser.os.version,\n\n\t\tverComp: version_compare,\n\t\t\n\t\tswf_url: \"../flash/Moxie.swf\",\n\t\txap_url: \"../silverlight/Moxie.xap\",\n\t\tglobal_event_dispatcher: \"moxie.core.EventTarget.instance.dispatchEvent\"\n\t};\n\n\t// for backward compatibility\n\t// @deprecated Use `Env.os` instead\n\tEnv.OS = Env.os;\n\n\treturn Env;\n});\n\n// Included from: src/javascript/core/utils/Dom.js\n\n/**\n * Dom.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine('moxie/core/utils/Dom', ['moxie/core/utils/Env'], function(Env) {\n\n\t/**\n\tGet DOM Element by it's id.\n\n\t@method get\n\t@for Utils\n\t@param {String} id Identifier of the DOM Element\n\t@return {DOMElement}\n\t*/\n\tvar get = function(id) {\n\t\tif (typeof id !== 'string') {\n\t\t\treturn id;\n\t\t}\n\t\treturn document.getElementById(id);\n\t};\n\n\t/**\n\tChecks if specified DOM element has specified class.\n\n\t@method hasClass\n\t@static\n\t@param {Object} obj DOM element like object to add handler to.\n\t@param {String} name Class name\n\t*/\n\tvar hasClass = function(obj, name) {\n\t\tif (!obj.className) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar regExp = new RegExp(\"(^|\\\\s+)\"+name+\"(\\\\s+|$)\");\n\t\treturn regExp.test(obj.className);\n\t};\n\n\t/**\n\tAdds specified className to specified DOM element.\n\n\t@method addClass\n\t@static\n\t@param {Object} obj DOM element like object to add handler to.\n\t@param {String} name Class name\n\t*/\n\tvar addClass = function(obj, name) {\n\t\tif (!hasClass(obj, name)) {\n\t\t\tobj.className = !obj.className ? name : obj.className.replace(/\\s+$/, '') + ' ' + name;\n\t\t}\n\t};\n\n\t/**\n\tRemoves specified className from specified DOM element.\n\n\t@method removeClass\n\t@static\n\t@param {Object} obj DOM element like object to add handler to.\n\t@param {String} name Class name\n\t*/\n\tvar removeClass = function(obj, name) {\n\t\tif (obj.className) {\n\t\t\tvar regExp = new RegExp(\"(^|\\\\s+)\"+name+\"(\\\\s+|$)\");\n\t\t\tobj.className = obj.className.replace(regExp, function($0, $1, $2) {\n\t\t\t\treturn $1 === ' ' && $2 === ' ' ? ' ' : '';\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\tReturns a given computed style of a DOM element.\n\n\t@method getStyle\n\t@static\n\t@param {Object} obj DOM element like object.\n\t@param {String} name Style you want to get from the DOM element\n\t*/\n\tvar getStyle = function(obj, name) {\n\t\tif (obj.currentStyle) {\n\t\t\treturn obj.currentStyle[name];\n\t\t} else if (window.getComputedStyle) {\n\t\t\treturn window.getComputedStyle(obj, null)[name];\n\t\t}\n\t};\n\n\n\t/**\n\tReturns the absolute x, y position of an Element. The position will be returned in a object with x, y fields.\n\n\t@method getPos\n\t@static\n\t@param {Element} node HTML element or element id to get x, y position from.\n\t@param {Element} root Optional root element to stop calculations at.\n\t@return {object} Absolute position of the specified element object with x, y fields.\n\t*/\n\tvar getPos = function(node, root) {\n\t\tvar x = 0, y = 0, parent, doc = document, nodeRect, rootRect;\n\n\t\tnode = node;\n\t\troot = root || doc.body;\n\n\t\t// Returns the x, y cordinate for an element on IE 6 and IE 7\n\t\tfunction getIEPos(node) {\n\t\t\tvar bodyElm, rect, x = 0, y = 0;\n\n\t\t\tif (node) {\n\t\t\t\trect = node.getBoundingClientRect();\n\t\t\t\tbodyElm = doc.compatMode === \"CSS1Compat\" ? doc.documentElement : doc.body;\n\t\t\t\tx = rect.left + bodyElm.scrollLeft;\n\t\t\t\ty = rect.top + bodyElm.scrollTop;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx : x,\n\t\t\t\ty : y\n\t\t\t};\n\t\t}\n\n\t\t// Use getBoundingClientRect on IE 6 and IE 7 but not on IE 8 in standards mode\n\t\tif (node && node.getBoundingClientRect && Env.browser === 'IE' && (!doc.documentMode || doc.documentMode < 8)) {\n\t\t\tnodeRect = getIEPos(node);\n\t\t\trootRect = getIEPos(root);\n\n\t\t\treturn {\n\t\t\t\tx : nodeRect.x - rootRect.x,\n\t\t\t\ty : nodeRect.y - rootRect.y\n\t\t\t};\n\t\t}\n\n\t\tparent = node;\n\t\twhile (parent && parent != root && parent.nodeType) {\n\t\t\tx += parent.offsetLeft || 0;\n\t\t\ty += parent.offsetTop || 0;\n\t\t\tparent = parent.offsetParent;\n\t\t}\n\n\t\tparent = node.parentNode;\n\t\twhile (parent && parent != root && parent.nodeType) {\n\t\t\tx -= parent.scrollLeft || 0;\n\t\t\ty -= parent.scrollTop || 0;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn {\n\t\t\tx : x,\n\t\t\ty : y\n\t\t};\n\t};\n\n\t/**\n\tReturns the size of the specified node in pixels.\n\n\t@method getSize\n\t@static\n\t@param {Node} node Node to get the size of.\n\t@return {Object} Object with a w and h property.\n\t*/\n\tvar getSize = function(node) {\n\t\treturn {\n\t\t\tw : node.offsetWidth || node.clientWidth,\n\t\t\th : node.offsetHeight || node.clientHeight\n\t\t};\n\t};\n\n\treturn {\n\t\tget: get,\n\t\thasClass: hasClass,\n\t\taddClass: addClass,\n\t\tremoveClass: removeClass,\n\t\tgetStyle: getStyle,\n\t\tgetPos: getPos,\n\t\tgetSize: getSize\n\t};\n});\n\n// Included from: src/javascript/core/Exceptions.js\n\n/**\n * Exceptions.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine('moxie/core/Exceptions', [\n\t'moxie/core/utils/Basic'\n], function(Basic) {\n\tfunction _findKey(obj, value) {\n\t\tvar key;\n\t\tfor (key in obj) {\n\t\t\tif (obj[key] === value) {\n\t\t\t\treturn key;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\treturn {\n\t\tRuntimeError: (function() {\n\t\t\tvar namecodes = {\n\t\t\t\tNOT_INIT_ERR: 1,\n\t\t\t\tNOT_SUPPORTED_ERR: 9,\n\t\t\t\tJS_ERR: 4\n\t\t\t};\n\n\t\t\tfunction RuntimeError(code) {\n\t\t\t\tthis.code = code;\n\t\t\t\tthis.name = _findKey(namecodes, code);\n\t\t\t\tthis.message = this.name + \": RuntimeError \" + this.code;\n\t\t\t}\n\t\t\t\n\t\t\tBasic.extend(RuntimeError, namecodes);\n\t\t\tRuntimeError.prototype = Error.prototype;\n\t\t\treturn RuntimeError;\n\t\t}()),\n\t\t\n\t\tOperationNotAllowedException: (function() {\n\t\t\t\n\t\t\tfunction OperationNotAllowedException(code) {\n\t\t\t\tthis.code = code;\n\t\t\t\tthis.name = 'OperationNotAllowedException';\n\t\t\t}\n\t\t\t\n\t\t\tBasic.extend(OperationNotAllowedException, {\n\t\t\t\tNOT_ALLOWED_ERR: 1\n\t\t\t});\n\t\t\t\n\t\t\tOperationNotAllowedException.prototype = Error.prototype;\n\t\t\t\n\t\t\treturn OperationNotAllowedException;\n\t\t}()),\n\n\t\tImageError: (function() {\n\t\t\tvar namecodes = {\n\t\t\t\tWRONG_FORMAT: 1,\n\t\t\t\tMAX_RESOLUTION_ERR: 2\n\t\t\t};\n\n\t\t\tfunction ImageError(code) {\n\t\t\t\tthis.code = code;\n\t\t\t\tthis.name = _findKey(namecodes, code);\n\t\t\t\tthis.message = this.name + \": ImageError \" + this.code;\n\t\t\t}\n\t\t\t\n\t\t\tBasic.extend(ImageError, namecodes);\n\t\t\tImageError.prototype = Error.prototype;\n\n\t\t\treturn ImageError;\n\t\t}()),\n\n\t\tFileException: (function() {\n\t\t\tvar namecodes = {\n\t\t\t\tNOT_FOUND_ERR: 1,\n\t\t\t\tSECURITY_ERR: 2,\n\t\t\t\tABORT_ERR: 3,\n\t\t\t\tNOT_READABLE_ERR: 4,\n\t\t\t\tENCODING_ERR: 5,\n\t\t\t\tNO_MODIFICATION_ALLOWED_ERR: 6,\n\t\t\t\tINVALID_STATE_ERR: 7,\n\t\t\t\tSYNTAX_ERR: 8\n\t\t\t};\n\n\t\t\tfunction FileException(code) {\n\t\t\t\tthis.code = code;\n\t\t\t\tthis.name = _findKey(namecodes, code);\n\t\t\t\tthis.message = this.name + \": FileException \" + this.code;\n\t\t\t}\n\t\t\t\n\t\t\tBasic.extend(FileException, namecodes);\n\t\t\tFileException.prototype = Error.prototype;\n\t\t\treturn FileException;\n\t\t}()),\n\t\t\n\t\tDOMException: (function() {\n\t\t\tvar namecodes = {\n\t\t\t\tINDEX_SIZE_ERR: 1,\n\t\t\t\tDOMSTRING_SIZE_ERR: 2,\n\t\t\t\tHIERARCHY_REQUEST_ERR: 3,\n\t\t\t\tWRONG_DOCUMENT_ERR: 4,\n\t\t\t\tINVALID_CHARACTER_ERR: 5,\n\t\t\t\tNO_DATA_ALLOWED_ERR: 6,\n\t\t\t\tNO_MODIFICATION_ALLOWED_ERR: 7,\n\t\t\t\tNOT_FOUND_ERR: 8,\n\t\t\t\tNOT_SUPPORTED_ERR: 9,\n\t\t\t\tINUSE_ATTRIBUTE_ERR: 10,\n\t\t\t\tINVALID_STATE_ERR: 11,\n\t\t\t\tSYNTAX_ERR: 12,\n\t\t\t\tINVALID_MODIFICATION_ERR: 13,\n\t\t\t\tNAMESPACE_ERR: 14,\n\t\t\t\tINVALID_ACCESS_ERR: 15,\n\t\t\t\tVALIDATION_ERR: 16,\n\t\t\t\tTYPE_MISMATCH_ERR: 17,\n\t\t\t\tSECURITY_ERR: 18,\n\t\t\t\tNETWORK_ERR: 19,\n\t\t\t\tABORT_ERR: 20,\n\t\t\t\tURL_MISMATCH_ERR: 21,\n\t\t\t\tQUOTA_EXCEEDED_ERR: 22,\n\t\t\t\tTIMEOUT_ERR: 23,\n\t\t\t\tINVALID_NODE_TYPE_ERR: 24,\n\t\t\t\tDATA_CLONE_ERR: 25\n\t\t\t};\n\n\t\t\tfunction DOMException(code) {\n\t\t\t\tthis.code = code;\n\t\t\t\tthis.name = _findKey(namecodes, code);\n\t\t\t\tthis.message = this.name + \": DOMException \" + this.code;\n\t\t\t}\n\t\t\t\n\t\t\tBasic.extend(DOMException, namecodes);\n\t\t\tDOMException.prototype = Error.prototype;\n\t\t\treturn DOMException;\n\t\t}()),\n\t\t\n\t\tEventException: (function() {\n\t\t\tfunction EventException(code) {\n\t\t\t\tthis.code = code;\n\t\t\t\tthis.name = 'EventException';\n\t\t\t}\n\t\t\t\n\t\t\tBasic.extend(EventException, {\n\t\t\t\tUNSPECIFIED_EVENT_TYPE_ERR: 0\n\t\t\t});\n\t\t\t\n\t\t\tEventException.prototype = Error.prototype;\n\t\t\t\n\t\t\treturn EventException;\n\t\t}())\n\t};\n});\n\n// Included from: src/javascript/core/EventTarget.js\n\n/**\n * EventTarget.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine('moxie/core/EventTarget', [\n\t'moxie/core/Exceptions',\n\t'moxie/core/utils/Basic'\n], function(x, Basic) {\n\t/**\n\tParent object for all event dispatching components and objects\n\n\t@class EventTarget\n\t@constructor EventTarget\n\t*/\n\tfunction EventTarget() {\n\t\t// hash of event listeners by object uid\n\t\tvar eventpool = {};\n\t\t\t\t\n\t\tBasic.extend(this, {\n\t\t\t\n\t\t\t/**\n\t\t\tUnique id of the event dispatcher, usually overriden by children\n\n\t\t\t@property uid\n\t\t\t@type String\n\t\t\t*/\n\t\t\tuid: null,\n\t\t\t\n\t\t\t/**\n\t\t\tCan be called from within a child  in order to acquire uniqie id in automated manner\n\n\t\t\t@method init\n\t\t\t*/\n\t\t\tinit: function() {\n\t\t\t\tif (!this.uid) {\n\t\t\t\t\tthis.uid = Basic.guid('uid_');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\tRegister a handler to a specific event dispatched by the object\n\n\t\t\t@method addEventListener\n\t\t\t@param {String} type Type or basically a name of the event to subscribe to\n\t\t\t@param {Function} fn Callback function that will be called when event happens\n\t\t\t@param {Number} [priority=0] Priority of the event handler - handlers with higher priorities will be called first\n\t\t\t@param {Object} [scope=this] A scope to invoke event handler in\n\t\t\t*/\n\t\t\taddEventListener: function(type, fn, priority, scope) {\n\t\t\t\tvar self = this, list;\n\t\t\t\t\n\t\t\t\ttype = Basic.trim(type);\n\t\t\t\t\n\t\t\t\tif (/\\s/.test(type)) {\n\t\t\t\t\t// multiple event types were passed for one handler\n\t\t\t\t\tBasic.each(type.split(/\\s+/), function(type) {\n\t\t\t\t\t\tself.addEventListener(type, fn, priority, scope);\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttype = type.toLowerCase();\n\t\t\t\tpriority = parseInt(priority, 10) || 0;\n\t\t\t\t\n\t\t\t\tlist = eventpool[this.uid] && eventpool[this.uid][type] || [];\n\t\t\t\tlist.push({fn : fn, priority : priority, scope : scope || this});\n\t\t\t\t\n\t\t\t\tif (!eventpool[this.uid]) {\n\t\t\t\t\teventpool[this.uid] = {};\n\t\t\t\t}\n\t\t\t\teventpool[this.uid][type] = list;\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\tCheck if any handlers were registered to the specified event\n\n\t\t\t@method hasEventListener\n\t\t\t@param {String} type Type or basically a name of the event to check\n\t\t\t@return {Mixed} Returns a handler if it was found and false, if - not\n\t\t\t*/\n\t\t\thasEventListener: function(type) {\n\t\t\t\treturn type ? !!(eventpool[this.uid] && eventpool[this.uid][type]) : !!eventpool[this.uid];\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\tUnregister the handler from the event, or if former was not specified - unregister all handlers\n\n\t\t\t@method removeEventListener\n\t\t\t@param {String} type Type or basically a name of the event\n\t\t\t@param {Function} [fn] Handler to unregister\n\t\t\t*/\n\t\t\tremoveEventListener: function(type, fn) {\n\t\t\t\ttype = type.toLowerCase();\n\t\n\t\t\t\tvar list = eventpool[this.uid] && eventpool[this.uid][type], i;\n\t\n\t\t\t\tif (list) {\n\t\t\t\t\tif (fn) {\n\t\t\t\t\t\tfor (i = list.length - 1; i >= 0; i--) {\n\t\t\t\t\t\t\tif (list[i].fn === fn) {\n\t\t\t\t\t\t\t\tlist.splice(i, 1);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlist = [];\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// delete event list if it has become empty\n\t\t\t\t\tif (!list.length) {\n\t\t\t\t\t\tdelete eventpool[this.uid][type];\n\t\t\t\t\t\t\n\t\t\t\t\t\t// and object specific entry in a hash if it has no more listeners attached\n\t\t\t\t\t\tif (Basic.isEmptyObj(eventpool[this.uid])) {\n\t\t\t\t\t\t\tdelete eventpool[this.uid];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\tRemove all event handlers from the object\n\n\t\t\t@method removeAllEventListeners\n\t\t\t*/\n\t\t\tremoveAllEventListeners: function() {\n\t\t\t\tif (eventpool[this.uid]) {\n\t\t\t\t\tdelete eventpool[this.uid];\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\tDispatch the event\n\n\t\t\t@method dispatchEvent\n\t\t\t@param {String/Object} Type of event or event object to dispatch\n\t\t\t@param {Mixed} [...] Variable number of arguments to be passed to a handlers\n\t\t\t@return {Boolean} true by default and false if any handler returned false\n\t\t\t*/\n\t\t\tdispatchEvent: function(type) {\n\t\t\t\tvar uid, list, args, tmpEvt, evt = {}, result = true, undef;\n\t\t\t\t\n\t\t\t\tif (Basic.typeOf(type) !== 'string') {\n\t\t\t\t\t// we can't use original object directly (because of Silverlight)\n\t\t\t\t\ttmpEvt = type;\n\n\t\t\t\t\tif (Basic.typeOf(tmpEvt.type) === 'string') {\n\t\t\t\t\t\ttype = tmpEvt.type;\n\n\t\t\t\t\t\tif (tmpEvt.total !== undef && tmpEvt.loaded !== undef) { // progress event\n\t\t\t\t\t\t\tevt.total = tmpEvt.total;\n\t\t\t\t\t\t\tevt.loaded = tmpEvt.loaded;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tevt.async = tmpEvt.async || false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new x.EventException(x.EventException.UNSPECIFIED_EVENT_TYPE_ERR);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// check if event is meant to be dispatched on an object having specific uid\n\t\t\t\tif (type.indexOf('::') !== -1) {\n\t\t\t\t\t(function(arr) {\n\t\t\t\t\t\tuid = arr[0];\n\t\t\t\t\t\ttype = arr[1];\n\t\t\t\t\t}(type.split('::')));\n\t\t\t\t} else {\n\t\t\t\t\tuid = this.uid;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttype = type.toLowerCase();\n\t\t\t\t\t\t\t\t\n\t\t\t\tlist = eventpool[uid] && eventpool[uid][type];\n\n\t\t\t\tif (list) {\n\t\t\t\t\t// sort event list by prority\n\t\t\t\t\tlist.sort(function(a, b) { return b.priority - a.priority; });\n\t\t\t\t\t\n\t\t\t\t\targs = [].slice.call(arguments);\n\t\t\t\t\t\n\t\t\t\t\t// first argument will be pseudo-event object\n\t\t\t\t\targs.shift();\n\t\t\t\t\tevt.type = type;\n\t\t\t\t\targs.unshift(evt);\n\n\t\t\t\t\t// Dispatch event to all listeners\n\t\t\t\t\tvar queue = [];\n\t\t\t\t\tBasic.each(list, function(handler) {\n\t\t\t\t\t\t// explicitly set the target, otherwise events fired from shims do not get it\n\t\t\t\t\t\targs[0].target = handler.scope;\n\t\t\t\t\t\t// if event is marked as async, detach the handler\n\t\t\t\t\t\tif (evt.async) {\n\t\t\t\t\t\t\tqueue.push(function(cb) {\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\tcb(handler.fn.apply(handler.scope, args) === false);\n\t\t\t\t\t\t\t\t}, 1);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tqueue.push(function(cb) {\n\t\t\t\t\t\t\t\tcb(handler.fn.apply(handler.scope, args) === false); // if handler returns false stop propagation\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (queue.length) {\n\t\t\t\t\t\tBasic.inSeries(queue, function(err) {\n\t\t\t\t\t\t\tresult = !err;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\tAlias for addEventListener\n\n\t\t\t@method bind\n\t\t\t@protected\n\t\t\t*/\n\t\t\tbind: function() {\n\t\t\t\tthis.addEventListener.apply(this, arguments);\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\tAlias for removeEventListener\n\n\t\t\t@method unbind\n\t\t\t@protected\n\t\t\t*/\n\t\t\tunbind: function() {\n\t\t\t\tthis.removeEventListener.apply(this, arguments);\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\tAlias for removeAllEventListeners\n\n\t\t\t@method unbindAll\n\t\t\t@protected\n\t\t\t*/\n\t\t\tunbindAll: function() {\n\t\t\t\tthis.removeAllEventListeners.apply(this, arguments);\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\tAlias for dispatchEvent\n\n\t\t\t@method trigger\n\t\t\t@protected\n\t\t\t*/\n\t\t\ttrigger: function() {\n\t\t\t\treturn this.dispatchEvent.apply(this, arguments);\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\t/**\n\t\t\tConverts properties of on[event] type to corresponding event handlers,\n\t\t\tis used to avoid extra hassle around the process of calling them back\n\n\t\t\t@method convertEventPropsToHandlers\n\t\t\t@private\n\t\t\t*/\n\t\t\tconvertEventPropsToHandlers: function(handlers) {\n\t\t\t\tvar h;\n\t\t\t\t\t\t\n\t\t\t\tif (Basic.typeOf(handlers) !== 'array') {\n\t\t\t\t\thandlers = [handlers];\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0; i < handlers.length; i++) {\n\t\t\t\t\th = 'on' + handlers[i];\n\t\t\t\t\t\n\t\t\t\t\tif (Basic.typeOf(this[h]) === 'function') {\n\t\t\t\t\t\tthis.addEventListener(handlers[i], this[h]);\n\t\t\t\t\t} else if (Basic.typeOf(this[h]) === 'undefined') {\n\t\t\t\t\t\tthis[h] = null; // object must have defined event properties, even if it doesn't make use of them\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t});\n\t}\n\n\tEventTarget.instance = new EventTarget(); \n\n\treturn EventTarget;\n});\n\n// Included from: src/javascript/core/utils/Encode.js\n\n/**\n * Encode.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine('moxie/core/utils/Encode', [], function() {\n\n\t/**\n\tEncode string with UTF-8\n\n\t@method utf8_encode\n\t@for Utils\n\t@static\n\t@param {String} str String to encode\n\t@return {String} UTF-8 encoded string\n\t*/\n\tvar utf8_encode = function(str) {\n\t\treturn unescape(encodeURIComponent(str));\n\t};\n\t\n\t/**\n\tDecode UTF-8 encoded string\n\n\t@method utf8_decode\n\t@static\n\t@param {String} str String to decode\n\t@return {String} Decoded string\n\t*/\n\tvar utf8_decode = function(str_data) {\n\t\treturn decodeURIComponent(escape(str_data));\n\t};\n\t\n\t/**\n\tDecode Base64 encoded string (uses browser's default method if available),\n\tfrom: https://raw.github.com/kvz/phpjs/master/functions/url/base64_decode.js\n\n\t@method atob\n\t@static\n\t@param {String} data String to decode\n\t@return {String} Decoded string\n\t*/\n\tvar atob = function(data, utf8) {\n\t\tif (typeof(window.atob) === 'function') {\n\t\t\treturn utf8 ? utf8_decode(window.atob(data)) : window.atob(data);\n\t\t}\n\n\t\t// http://kevin.vanzonneveld.net\n\t\t// +   original by: Tyler Akins (http://rumkin.com)\n\t\t// +   improved by: Thunder.m\n\t\t// +      input by: Aman Gupta\n\t\t// +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n\t\t// +   bugfixed by: Onno Marsman\n\t\t// +   bugfixed by: Pellentesque Malesuada\n\t\t// +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n\t\t// +      input by: Brett Zamir (http://brett-zamir.me)\n\t\t// +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n\t\t// *     example 1: base64_decode('S2V2aW4gdmFuIFpvbm5ldmVsZA==');\n\t\t// *     returns 1: 'Kevin van Zonneveld'\n\t\t// mozilla has this native\n\t\t// - but breaks in 2.0.0.12!\n\t\t//if (typeof this.window.atob == 'function') {\n\t\t//    return atob(data);\n\t\t//}\n\t\tvar b64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\t\tvar o1, o2, o3, h1, h2, h3, h4, bits, i = 0,\n\t\t\tac = 0,\n\t\t\tdec = \"\",\n\t\t\ttmp_arr = [];\n\n\t\tif (!data) {\n\t\t\treturn data;\n\t\t}\n\n\t\tdata += '';\n\n\t\tdo { // unpack four hexets into three octets using index points in b64\n\t\t\th1 = b64.indexOf(data.charAt(i++));\n\t\t\th2 = b64.indexOf(data.charAt(i++));\n\t\t\th3 = b64.indexOf(data.charAt(i++));\n\t\t\th4 = b64.indexOf(data.charAt(i++));\n\n\t\t\tbits = h1 << 18 | h2 << 12 | h3 << 6 | h4;\n\n\t\t\to1 = bits >> 16 & 0xff;\n\t\t\to2 = bits >> 8 & 0xff;\n\t\t\to3 = bits & 0xff;\n\n\t\t\tif (h3 == 64) {\n\t\t\t\ttmp_arr[ac++] = String.fromCharCode(o1);\n\t\t\t} else if (h4 == 64) {\n\t\t\t\ttmp_arr[ac++] = String.fromCharCode(o1, o2);\n\t\t\t} else {\n\t\t\t\ttmp_arr[ac++] = String.fromCharCode(o1, o2, o3);\n\t\t\t}\n\t\t} while (i < data.length);\n\n\t\tdec = tmp_arr.join('');\n\n\t\treturn utf8 ? utf8_decode(dec) : dec;\n\t};\n\t\n\t/**\n\tBase64 encode string (uses browser's default method if available),\n\tfrom: https://raw.github.com/kvz/phpjs/master/functions/url/base64_encode.js\n\n\t@method btoa\n\t@static\n\t@param {String} data String to encode\n\t@return {String} Base64 encoded string\n\t*/\n\tvar btoa = function(data, utf8) {\n\t\tif (utf8) {\n\t\t\tutf8_encode(data);\n\t\t}\n\n\t\tif (typeof(window.btoa) === 'function') {\n\t\t\treturn window.btoa(data);\n\t\t}\n\n\t\t// http://kevin.vanzonneveld.net\n\t\t// +   original by: Tyler Akins (http://rumkin.com)\n\t\t// +   improved by: Bayron Guevara\n\t\t// +   improved by: Thunder.m\n\t\t// +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n\t\t// +   bugfixed by: Pellentesque Malesuada\n\t\t// +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n\t\t// +   improved by: Rafa Kukawski (http://kukawski.pl)\n\t\t// *     example 1: base64_encode('Kevin van Zonneveld');\n\t\t// *     returns 1: 'S2V2aW4gdmFuIFpvbm5ldmVsZA=='\n\t\t// mozilla has this native\n\t\t// - but breaks in 2.0.0.12!\n\t\tvar b64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\t\tvar o1, o2, o3, h1, h2, h3, h4, bits, i = 0,\n\t\t\tac = 0,\n\t\t\tenc = \"\",\n\t\t\ttmp_arr = [];\n\n\t\tif (!data) {\n\t\t\treturn data;\n\t\t}\n\n\t\tdo { // pack three octets into four hexets\n\t\t\to1 = data.charCodeAt(i++);\n\t\t\to2 = data.charCodeAt(i++);\n\t\t\to3 = data.charCodeAt(i++);\n\n\t\t\tbits = o1 << 16 | o2 << 8 | o3;\n\n\t\t\th1 = bits >> 18 & 0x3f;\n\t\t\th2 = bits >> 12 & 0x3f;\n\t\t\th3 = bits >> 6 & 0x3f;\n\t\t\th4 = bits & 0x3f;\n\n\t\t\t// use hexets to index into b64, and append result to encoded string\n\t\t\ttmp_arr[ac++] = b64.charAt(h1) + b64.charAt(h2) + b64.charAt(h3) + b64.charAt(h4);\n\t\t} while (i < data.length);\n\n\t\tenc = tmp_arr.join('');\n\n\t\tvar r = data.length % 3;\n\n\t\treturn (r ? enc.slice(0, r - 3) : enc) + '==='.slice(r || 3);\n\t};\n\n\n\treturn {\n\t\tutf8_encode: utf8_encode,\n\t\tutf8_decode: utf8_decode,\n\t\tatob: atob,\n\t\tbtoa: btoa\n\t};\n});\n\n// Included from: src/javascript/runtime/Runtime.js\n\n/**\n * Runtime.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine('moxie/runtime/Runtime', [\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/core/utils/Dom\",\n\t\"moxie/core/EventTarget\"\n], function(Basic, Dom, EventTarget) {\n\tvar runtimeConstructors = {}, runtimes = {};\n\n\t/**\n\tCommon set of methods and properties for every runtime instance\n\n\t@class Runtime\n\n\t@param {Object} options\n\t@param {String} type Sanitized name of the runtime\n\t@param {Object} [caps] Set of capabilities that differentiate specified runtime\n\t@param {Object} [modeCaps] Set of capabilities that do require specific operational mode\n\t@param {String} [preferredMode='browser'] Preferred operational mode to choose if no required capabilities were requested\n\t*/\n\tfunction Runtime(options, type, caps, modeCaps, preferredMode) {\n\t\t/**\n\t\tDispatched when runtime is initialized and ready.\n\t\tResults in RuntimeInit on a connected component.\n\n\t\t@event Init\n\t\t*/\n\n\t\t/**\n\t\tDispatched when runtime fails to initialize.\n\t\tResults in RuntimeError on a connected component.\n\n\t\t@event Error\n\t\t*/\n\n\t\tvar self = this\n\t\t, _shim\n\t\t, _uid = Basic.guid(type + '_')\n\t\t, defaultMode = preferredMode || 'browser'\n\t\t;\n\n\t\toptions = options || {};\n\n\t\t// register runtime in private hash\n\t\truntimes[_uid] = this;\n\n\t\t/**\n\t\tDefault set of capabilities, which can be redifined later by specific runtime\n\n\t\t@private\n\t\t@property caps\n\t\t@type Object\n\t\t*/\n\t\tcaps = Basic.extend({\n\t\t\t// Runtime can: \n\t\t\t// provide access to raw binary data of the file\n\t\t\taccess_binary: false,\n\t\t\t// provide access to raw binary data of the image (image extension is optional) \n\t\t\taccess_image_binary: false,\n\t\t\t// display binary data as thumbs for example\n\t\t\tdisplay_media: false,\n\t\t\t// make cross-domain requests\n\t\t\tdo_cors: false,\n\t\t\t// accept files dragged and dropped from the desktop\n\t\t\tdrag_and_drop: false,\n\t\t\t// filter files in selection dialog by their extensions\n\t\t\tfilter_by_extension: true,\n\t\t\t// resize image (and manipulate it raw data of any file in general)\n\t\t\tresize_image: false,\n\t\t\t// periodically report how many bytes of total in the file were uploaded (loaded)\n\t\t\treport_upload_progress: false,\n\t\t\t// provide access to the headers of http response \n\t\t\treturn_response_headers: false,\n\t\t\t// support response of specific type, which should be passed as an argument\n\t\t\t// e.g. runtime.can('return_response_type', 'blob')\n\t\t\treturn_response_type: false,\n\t\t\t// return http status code of the response\n\t\t\treturn_status_code: true,\n\t\t\t// send custom http header with the request\n\t\t\tsend_custom_headers: false,\n\t\t\t// pick up the files from a dialog\n\t\t\tselect_file: false,\n\t\t\t// select whole folder in file browse dialog\n\t\t\tselect_folder: false,\n\t\t\t// select multiple files at once in file browse dialog\n\t\t\tselect_multiple: true,\n\t\t\t// send raw binary data, that is generated after image resizing or manipulation of other kind\n\t\t\tsend_binary_string: false,\n\t\t\t// send cookies with http request and therefore retain session\n\t\t\tsend_browser_cookies: true,\n\t\t\t// send data formatted as multipart/form-data\n\t\t\tsend_multipart: true,\n\t\t\t// slice the file or blob to smaller parts\n\t\t\tslice_blob: false,\n\t\t\t// upload file without preloading it to memory, stream it out directly from disk\n\t\t\tstream_upload: false,\n\t\t\t// programmatically trigger file browse dialog\n\t\t\tsummon_file_dialog: false,\n\t\t\t// upload file of specific size, size should be passed as argument\n\t\t\t// e.g. runtime.can('upload_filesize', '500mb')\n\t\t\tupload_filesize: true,\n\t\t\t// initiate http request with specific http method, method should be passed as argument\n\t\t\t// e.g. runtime.can('use_http_method', 'put')\n\t\t\tuse_http_method: true\n\t\t}, caps);\n\t\t\t\n\t\n\t\t// default to the mode that is compatible with preferred caps\n\t\tif (options.preferred_caps) {\n\t\t\tdefaultMode = Runtime.getMode(modeCaps, options.preferred_caps, defaultMode);\n\t\t}\n\t\t\n\t\t// small extension factory here (is meant to be extended with actual extensions constructors)\n\t\t_shim = (function() {\n\t\t\tvar objpool = {};\n\t\t\treturn {\n\t\t\t\texec: function(uid, comp, fn, args) {\n\t\t\t\t\tif (_shim[comp]) {\n\t\t\t\t\t\tif (!objpool[uid]) {\n\t\t\t\t\t\t\tobjpool[uid] = {\n\t\t\t\t\t\t\t\tcontext: this,\n\t\t\t\t\t\t\t\tinstance: new _shim[comp]()\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (objpool[uid].instance[fn]) {\n\t\t\t\t\t\t\treturn objpool[uid].instance[fn].apply(this, args);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tremoveInstance: function(uid) {\n\t\t\t\t\tdelete objpool[uid];\n\t\t\t\t},\n\n\t\t\t\tremoveAllInstances: function() {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tBasic.each(objpool, function(obj, uid) {\n\t\t\t\t\t\tif (Basic.typeOf(obj.instance.destroy) === 'function') {\n\t\t\t\t\t\t\tobj.instance.destroy.call(obj.context);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.removeInstance(uid);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t}());\n\n\n\t\t// public methods\n\t\tBasic.extend(this, {\n\t\t\t/**\n\t\t\tSpecifies whether runtime instance was initialized or not\n\n\t\t\t@property initialized\n\t\t\t@type {Boolean}\n\t\t\t@default false\n\t\t\t*/\n\t\t\tinitialized: false, // shims require this flag to stop initialization retries\n\n\t\t\t/**\n\t\t\tUnique ID of the runtime\n\n\t\t\t@property uid\n\t\t\t@type {String}\n\t\t\t*/\n\t\t\tuid: _uid,\n\n\t\t\t/**\n\t\t\tRuntime type (e.g. flash, html5, etc)\n\n\t\t\t@property type\n\t\t\t@type {String}\n\t\t\t*/\n\t\t\ttype: type,\n\n\t\t\t/**\n\t\t\tRuntime (not native one) may operate in browser or client mode.\n\n\t\t\t@property mode\n\t\t\t@private\n\t\t\t@type {String|Boolean} current mode or false, if none possible\n\t\t\t*/\n\t\t\tmode: Runtime.getMode(modeCaps, (options.required_caps), defaultMode),\n\n\t\t\t/**\n\t\t\tid of the DOM container for the runtime (if available)\n\n\t\t\t@property shimid\n\t\t\t@type {String}\n\t\t\t*/\n\t\t\tshimid: _uid + '_container',\n\n\t\t\t/**\n\t\t\tNumber of connected clients. If equal to zero, runtime can be destroyed\n\n\t\t\t@property clients\n\t\t\t@type {Number}\n\t\t\t*/\n\t\t\tclients: 0,\n\n\t\t\t/**\n\t\t\tRuntime initialization options\n\n\t\t\t@property options\n\t\t\t@type {Object}\n\t\t\t*/\n\t\t\toptions: options,\n\n\t\t\t/**\n\t\t\tChecks if the runtime has specific capability\n\n\t\t\t@method can\n\t\t\t@param {String} cap Name of capability to check\n\t\t\t@param {Mixed} [value] If passed, capability should somehow correlate to the value\n\t\t\t@param {Object} [refCaps] Set of capabilities to check the specified cap against (defaults to internal set)\n\t\t\t@return {Boolean} true if runtime has such capability and false, if - not\n\t\t\t*/\n\t\t\tcan: function(cap, value) {\n\t\t\t\tvar refCaps = arguments[2] || caps;\n\n\t\t\t\t// if cap var is a comma-separated list of caps, convert it to object (key/value)\n\t\t\t\tif (Basic.typeOf(cap) === 'string' && Basic.typeOf(value) === 'undefined') {\n\t\t\t\t\tcap = Runtime.parseCaps(cap);\n\t\t\t\t}\n\n\t\t\t\tif (Basic.typeOf(cap) === 'object') {\n\t\t\t\t\tfor (var key in cap) {\n\t\t\t\t\t\tif (!this.can(key, cap[key], refCaps)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\t// check the individual cap\n\t\t\t\tif (Basic.typeOf(refCaps[cap]) === 'function') {\n\t\t\t\t\treturn refCaps[cap].call(this, value);\n\t\t\t\t} else {\n\t\t\t\t\treturn (value === refCaps[cap]);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\tReturns container for the runtime as DOM element\n\n\t\t\t@method getShimContainer\n\t\t\t@return {DOMElement}\n\t\t\t*/\n\t\t\tgetShimContainer: function() {\n\t\t\t\tvar container, shimContainer = Dom.get(this.shimid);\n\n\t\t\t\t// if no container for shim, create one\n\t\t\t\tif (!shimContainer) {\n\t\t\t\t\tcontainer = this.options.container ? Dom.get(this.options.container) : document.body;\n\n\t\t\t\t\t// create shim container and insert it at an absolute position into the outer container\n\t\t\t\t\tshimContainer = document.createElement('div');\n\t\t\t\t\tshimContainer.id = this.shimid;\n\t\t\t\t\tshimContainer.className = 'moxie-shim moxie-shim-' + this.type;\n\n\t\t\t\t\tBasic.extend(shimContainer.style, {\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\ttop: '0px',\n\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\twidth: '1px',\n\t\t\t\t\t\theight: '1px',\n\t\t\t\t\t\toverflow: 'hidden'\n\t\t\t\t\t});\n\n\t\t\t\t\tcontainer.appendChild(shimContainer);\n\t\t\t\t\tcontainer = null;\n\t\t\t\t}\n\n\t\t\t\treturn shimContainer;\n\t\t\t},\n\n\t\t\t/**\n\t\t\tReturns runtime as DOM element (if appropriate)\n\n\t\t\t@method getShim\n\t\t\t@return {DOMElement}\n\t\t\t*/\n\t\t\tgetShim: function() {\n\t\t\t\treturn _shim;\n\t\t\t},\n\n\t\t\t/**\n\t\t\tInvokes a method within the runtime itself (might differ across the runtimes)\n\n\t\t\t@method shimExec\n\t\t\t@param {Mixed} []\n\t\t\t@protected\n\t\t\t@return {Mixed} Depends on the action and component\n\t\t\t*/\n\t\t\tshimExec: function(component, action) {\n\t\t\t\tvar args = [].slice.call(arguments, 2);\n\t\t\t\treturn self.getShim().exec.call(this, this.uid, component, action, args);\n\t\t\t},\n\n\t\t\t/**\n\t\t\tOperaional interface that is used by components to invoke specific actions on the runtime\n\t\t\t(is invoked in the scope of component)\n\n\t\t\t@method exec\n\t\t\t@param {Mixed} []*\n\t\t\t@protected\n\t\t\t@return {Mixed} Depends on the action and component\n\t\t\t*/\n\t\t\texec: function(component, action) { // this is called in the context of component, not runtime\n\t\t\t\tvar args = [].slice.call(arguments, 2);\n\n\t\t\t\tif (self[component] && self[component][action]) {\n\t\t\t\t\treturn self[component][action].apply(this, args);\n\t\t\t\t}\n\t\t\t\treturn self.shimExec.apply(this, arguments);\n\t\t\t},\n\n\t\t\t/**\n\t\t\tDestroys the runtime (removes all events and deletes DOM structures)\n\n\t\t\t@method destroy\n\t\t\t*/\n\t\t\tdestroy: function() {\n\t\t\t\tif (!self) {\n\t\t\t\t\treturn; // obviously already destroyed\n\t\t\t\t}\n\n\t\t\t\tvar shimContainer = Dom.get(this.shimid);\n\t\t\t\tif (shimContainer) {\n\t\t\t\t\tshimContainer.parentNode.removeChild(shimContainer);\n\t\t\t\t}\n\n\t\t\t\tif (_shim) {\n\t\t\t\t\t_shim.removeAllInstances();\n\t\t\t\t}\n\n\t\t\t\tthis.unbindAll();\n\t\t\t\tdelete runtimes[this.uid];\n\t\t\t\tthis.uid = null; // mark this runtime as destroyed\n\t\t\t\t_uid = self = _shim = shimContainer = null;\n\t\t\t}\n\t\t});\n\n\t\t// once we got the mode, test against all caps\n\t\tif (this.mode && options.required_caps && !this.can(options.required_caps)) {\n\t\t\tthis.mode = false;\n\t\t}\t\n\t}\n\n\n\t/**\n\tDefault order to try different runtime types\n\n\t@property order\n\t@type String\n\t@static\n\t*/\n\tRuntime.order = 'html5,flash,silverlight,html4';\n\n\n\t/**\n\tRetrieves runtime from private hash by it's uid\n\n\t@method getRuntime\n\t@private\n\t@static\n\t@param {String} uid Unique identifier of the runtime\n\t@return {Runtime|Boolean} Returns runtime, if it exists and false, if - not\n\t*/\n\tRuntime.getRuntime = function(uid) {\n\t\treturn runtimes[uid] ? runtimes[uid] : false;\n\t};\n\n\n\t/**\n\tRegister constructor for the Runtime of new (or perhaps modified) type\n\n\t@method addConstructor\n\t@static\n\t@param {String} type Runtime type (e.g. flash, html5, etc)\n\t@param {Function} construct Constructor for the Runtime type\n\t*/\n\tRuntime.addConstructor = function(type, constructor) {\n\t\tconstructor.prototype = EventTarget.instance;\n\t\truntimeConstructors[type] = constructor;\n\t};\n\n\n\t/**\n\tGet the constructor for the specified type.\n\n\tmethod getConstructor\n\t@static\n\t@param {String} type Runtime type (e.g. flash, html5, etc)\n\t@return {Function} Constructor for the Runtime type\n\t*/\n\tRuntime.getConstructor = function(type) {\n\t\treturn runtimeConstructors[type] || null;\n\t};\n\n\n\t/**\n\tGet info about the runtime (uid, type, capabilities)\n\n\t@method getInfo\n\t@static\n\t@param {String} uid Unique identifier of the runtime\n\t@return {Mixed} Info object or null if runtime doesn't exist\n\t*/\n\tRuntime.getInfo = function(uid) {\n\t\tvar runtime = Runtime.getRuntime(uid);\n\n\t\tif (runtime) {\n\t\t\treturn {\n\t\t\t\tuid: runtime.uid,\n\t\t\t\ttype: runtime.type,\n\t\t\t\tmode: runtime.mode,\n\t\t\t\tcan: function() {\n\t\t\t\t\treturn runtime.can.apply(runtime, arguments);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t};\n\n\n\t/**\n\tConvert caps represented by a comma-separated string to the object representation.\n\n\t@method parseCaps\n\t@static\n\t@param {String} capStr Comma-separated list of capabilities\n\t@return {Object}\n\t*/\n\tRuntime.parseCaps = function(capStr) {\n\t\tvar capObj = {};\n\n\t\tif (Basic.typeOf(capStr) !== 'string') {\n\t\t\treturn capStr || {};\n\t\t}\n\n\t\tBasic.each(capStr.split(','), function(key) {\n\t\t\tcapObj[key] = true; // we assume it to be - true\n\t\t});\n\n\t\treturn capObj;\n\t};\n\n\t/**\n\tTest the specified runtime for specific capabilities.\n\n\t@method can\n\t@static\n\t@param {String} type Runtime type (e.g. flash, html5, etc)\n\t@param {String|Object} caps Set of capabilities to check\n\t@return {Boolean} Result of the test\n\t*/\n\tRuntime.can = function(type, caps) {\n\t\tvar runtime\n\t\t, constructor = Runtime.getConstructor(type)\n\t\t, mode\n\t\t;\n\t\tif (constructor) {\n\t\t\truntime = new constructor({\n\t\t\t\trequired_caps: caps\n\t\t\t});\n\t\t\tmode = runtime.mode;\n\t\t\truntime.destroy();\n\t\t\treturn !!mode;\n\t\t}\n\t\treturn false;\n\t};\n\n\n\t/**\n\tFigure out a runtime that supports specified capabilities.\n\n\t@method thatCan\n\t@static\n\t@param {String|Object} caps Set of capabilities to check\n\t@param {String} [runtimeOrder] Comma-separated list of runtimes to check against\n\t@return {String} Usable runtime identifier or null\n\t*/\n\tRuntime.thatCan = function(caps, runtimeOrder) {\n\t\tvar types = (runtimeOrder || Runtime.order).split(/\\s*,\\s*/);\n\t\tfor (var i in types) {\n\t\t\tif (Runtime.can(types[i], caps)) {\n\t\t\t\treturn types[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t};\n\n\n\t/**\n\tFigure out an operational mode for the specified set of capabilities.\n\n\t@method getMode\n\t@static\n\t@param {Object} modeCaps Set of capabilities that depend on particular runtime mode\n\t@param {Object} [requiredCaps] Supplied set of capabilities to find operational mode for\n\t@param {String|Boolean} [defaultMode='browser'] Default mode to use \n\t@return {String|Boolean} Compatible operational mode\n\t*/\n\tRuntime.getMode = function(modeCaps, requiredCaps, defaultMode) {\n\t\tvar mode = null;\n\n\t\tif (Basic.typeOf(defaultMode) === 'undefined') { // only if not specified\n\t\t\tdefaultMode = 'browser';\n\t\t}\n\n\t\tif (requiredCaps && !Basic.isEmptyObj(modeCaps)) {\n\t\t\t// loop over required caps and check if they do require the same mode\n\t\t\tBasic.each(requiredCaps, function(value, cap) {\n\t\t\t\tif (modeCaps.hasOwnProperty(cap)) {\n\t\t\t\t\tvar capMode = modeCaps[cap](value);\n\n\t\t\t\t\t// make sure we always have an array\n\t\t\t\t\tif (typeof(capMode) === 'string') {\n\t\t\t\t\t\tcapMode = [capMode];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (!mode) {\n\t\t\t\t\t\tmode = capMode;\n\t\t\t\t\t} else if (!(mode = Basic.arrayIntersect(mode, capMode))) {\n\t\t\t\t\t\t// if cap requires conflicting mode - runtime cannot fulfill required caps\n\t\t\t\t\t\treturn (mode = false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (mode) {\n\t\t\t\treturn Basic.inArray(defaultMode, mode) !== -1 ? defaultMode : mode[0];\n\t\t\t} else if (mode === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn defaultMode; \n\t};\n\n\n\t/**\n\tCapability check that always returns true\n\n\t@private\n\t@static\n\t@return {True}\n\t*/\n\tRuntime.capTrue = function() {\n\t\treturn true;\n\t};\n\n\t/**\n\tCapability check that always returns false\n\n\t@private\n\t@static\n\t@return {False}\n\t*/\n\tRuntime.capFalse = function() {\n\t\treturn false;\n\t};\n\n\t/**\n\tEvaluate the expression to boolean value and create a function that always returns it.\n\n\t@private\n\t@static\n\t@param {Mixed} expr Expression to evaluate\n\t@return {Function} Function returning the result of evaluation\n\t*/\n\tRuntime.capTest = function(expr) {\n\t\treturn function() {\n\t\t\treturn !!expr;\n\t\t};\n\t};\n\n\treturn Runtime;\n});\n\n// Included from: src/javascript/runtime/RuntimeClient.js\n\n/**\n * RuntimeClient.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine('moxie/runtime/RuntimeClient', [\n\t'moxie/core/Exceptions',\n\t'moxie/core/utils/Basic',\n\t'moxie/runtime/Runtime'\n], function(x, Basic, Runtime) {\n\t/**\n\tSet of methods and properties, required by a component to acquire ability to connect to a runtime\n\n\t@class RuntimeClient\n\t*/\n\treturn function RuntimeClient() {\n\t\tvar runtime;\n\n\t\tBasic.extend(this, {\n\t\t\t/**\n\t\t\tConnects to the runtime specified by the options. Will either connect to existing runtime or create a new one.\n\t\t\tIncrements number of clients connected to the specified runtime.\n\n\t\t\t@method connectRuntime\n\t\t\t@param {Mixed} options Can be a runtme uid or a set of key-value pairs defining requirements and pre-requisites\n\t\t\t*/\n\t\t\tconnectRuntime: function(options) {\n\t\t\t\tvar comp = this, ruid;\n\n\t\t\t\tfunction initialize(items) {\n\t\t\t\t\tvar type, constructor;\n\n\t\t\t\t\t// if we ran out of runtimes\n\t\t\t\t\tif (!items.length) {\n\t\t\t\t\t\tcomp.trigger('RuntimeError', new x.RuntimeError(x.RuntimeError.NOT_INIT_ERR));\n\t\t\t\t\t\truntime = null;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\ttype = items.shift();\n\t\t\t\t\tconstructor = Runtime.getConstructor(type);\n\t\t\t\t\tif (!constructor) {\n\t\t\t\t\t\tinitialize(items);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// try initializing the runtime\n\t\t\t\t\truntime = new constructor(options);\n\n\t\t\t\t\truntime.bind('Init', function() {\n\t\t\t\t\t\t// mark runtime as initialized\n\t\t\t\t\t\truntime.initialized = true;\n\n\t\t\t\t\t\t// jailbreak ...\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\truntime.clients++;\n\t\t\t\t\t\t\t// this will be triggered on component\n\t\t\t\t\t\t\tcomp.trigger('RuntimeInit', runtime);\n\t\t\t\t\t\t}, 1);\n\t\t\t\t\t});\n\n\t\t\t\t\truntime.bind('Error', function() {\n\t\t\t\t\t\truntime.destroy(); // runtime cannot destroy itself from inside at a right moment, thus we do it here\n\t\t\t\t\t\tinitialize(items);\n\t\t\t\t\t});\n\n\t\t\t\t\t/*runtime.bind('Exception', function() { });*/\n\n\t\t\t\t\t// check if runtime managed to pick-up operational mode\n\t\t\t\t\tif (!runtime.mode) {\n\t\t\t\t\t\truntime.trigger('Error');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\truntime.init();\n\t\t\t\t}\n\n\t\t\t\t// check if a particular runtime was requested\n\t\t\t\tif (Basic.typeOf(options) === 'string') {\n\t\t\t\t\truid = options;\n\t\t\t\t} else if (Basic.typeOf(options.ruid) === 'string') {\n\t\t\t\t\truid = options.ruid;\n\t\t\t\t}\n\n\t\t\t\tif (ruid) {\n\t\t\t\t\truntime = Runtime.getRuntime(ruid);\n\t\t\t\t\tif (runtime) {\n\t\t\t\t\t\truntime.clients++;\n\t\t\t\t\t\treturn runtime;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// there should be a runtime and there's none - weird case\n\t\t\t\t\t\tthrow new x.RuntimeError(x.RuntimeError.NOT_INIT_ERR);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// initialize a fresh one, that fits runtime list and required features best\n\t\t\t\tinitialize((options.runtime_order || Runtime.order).split(/\\s*,\\s*/));\n\t\t\t},\n\n\t\t\t/**\n\t\t\tReturns the runtime to which the client is currently connected.\n\n\t\t\t@method getRuntime\n\t\t\t@return {Runtime} Runtime or null if client is not connected\n\t\t\t*/\n\t\t\tgetRuntime: function() {\n\t\t\t\tif (runtime && runtime.uid) {\n\t\t\t\t\treturn runtime;\n\t\t\t\t}\n\t\t\t\truntime = null; // make sure we do not leave zombies rambling around\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\t/**\n\t\t\tDisconnects from the runtime. Decrements number of clients connected to the specified runtime.\n\n\t\t\t@method disconnectRuntime\n\t\t\t*/\n\t\t\tdisconnectRuntime: function() {\n\t\t\t\tif (runtime && --runtime.clients <= 0) {\n\t\t\t\t\truntime.destroy();\n\t\t\t\t\truntime = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\t};\n\n\n});\n\n// Included from: src/javascript/file/Blob.js\n\n/**\n * Blob.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine('moxie/file/Blob', [\n\t'moxie/core/utils/Basic',\n\t'moxie/core/utils/Encode',\n\t'moxie/runtime/RuntimeClient'\n], function(Basic, Encode, RuntimeClient) {\n\t\n\tvar blobpool = {};\n\n\t/**\n\t@class Blob\n\t@constructor\n\t@param {String} ruid Unique id of the runtime, to which this blob belongs to\n\t@param {Object} blob Object \"Native\" blob object, as it is represented in the runtime\n\t*/\n\tfunction Blob(ruid, blob) {\n\n\t\tfunction _sliceDetached(start, end, type) {\n\t\t\tvar blob, data = blobpool[this.uid];\n\n\t\t\tif (Basic.typeOf(data) !== 'string' || !data.length) {\n\t\t\t\treturn null; // or throw exception\n\t\t\t}\n\n\t\t\tblob = new Blob(null, {\n\t\t\t\ttype: type,\n\t\t\t\tsize: end - start\n\t\t\t});\n\t\t\tblob.detach(data.substr(start, blob.size));\n\n\t\t\treturn blob;\n\t\t}\n\n\t\tRuntimeClient.call(this);\n\n\t\tif (ruid) {\t\n\t\t\tthis.connectRuntime(ruid);\n\t\t}\n\n\t\tif (!blob) {\n\t\t\tblob = {};\n\t\t} else if (Basic.typeOf(blob) === 'string') { // dataUrl or binary string\n\t\t\tblob = { data: blob };\n\t\t}\n\n\t\tBasic.extend(this, {\n\t\t\t\n\t\t\t/**\n\t\t\tUnique id of the component\n\n\t\t\t@property uid\n\t\t\t@type {String}\n\t\t\t*/\n\t\t\tuid: blob.uid || Basic.guid('uid_'),\n\t\t\t\n\t\t\t/**\n\t\t\tUnique id of the connected runtime, if falsy, then runtime will have to be initialized \n\t\t\tbefore this Blob can be used, modified or sent\n\n\t\t\t@property ruid\n\t\t\t@type {String}\n\t\t\t*/\n\t\t\truid: ruid,\n\t\n\t\t\t/**\n\t\t\tSize of blob\n\n\t\t\t@property size\n\t\t\t@type {Number}\n\t\t\t@default 0\n\t\t\t*/\n\t\t\tsize: blob.size || 0,\n\t\t\t\n\t\t\t/**\n\t\t\tMime type of blob\n\n\t\t\t@property type\n\t\t\t@type {String}\n\t\t\t@default ''\n\t\t\t*/\n\t\t\ttype: blob.type || '',\n\t\t\t\n\t\t\t/**\n\t\t\t@method slice\n\t\t\t@param {Number} [start=0]\n\t\t\t*/\n\t\t\tslice: function(start, end, type) {\t\t\n\t\t\t\tif (this.isDetached()) {\n\t\t\t\t\treturn _sliceDetached.apply(this, arguments);\n\t\t\t\t}\n\t\t\t\treturn this.getRuntime().exec.call(this, 'Blob', 'slice', this.getSource(), start, end, type);\n\t\t\t},\n\n\t\t\t/**\n\t\t\tReturns \"native\" blob object (as it is represented in connected runtime) or null if not found\n\n\t\t\t@method getSource\n\t\t\t@return {Blob} Returns \"native\" blob object or null if not found\n\t\t\t*/\n\t\t\tgetSource: function() {\n\t\t\t\tif (!blobpool[this.uid]) {\n\t\t\t\t\treturn null;\t\n\t\t\t\t}\n\t\t\t\treturn blobpool[this.uid];\n\t\t\t},\n\n\t\t\t/** \n\t\t\tDetaches blob from any runtime that it depends on and initialize with standalone value\n\n\t\t\t@method detach\n\t\t\t@protected\n\t\t\t@param {DOMString} [data=''] Standalone value\n\t\t\t*/\n\t\t\tdetach: function(data) {\n\t\t\t\tif (this.ruid) {\n\t\t\t\t\tthis.getRuntime().exec.call(this, 'Blob', 'destroy');\n\t\t\t\t\tthis.disconnectRuntime();\n\t\t\t\t\tthis.ruid = null;\n\t\t\t\t}\n\n\t\t\t\tdata = data || '';\n\n\t\t\t\t// if dataUrl, convert to binary string\n\t\t\t\tvar matches = data.match(/^data:([^;]*);base64,/);\n\t\t\t\tif (matches) {\n\t\t\t\t\tthis.type = matches[1];\n\t\t\t\t\tdata = Encode.atob(data.substring(data.indexOf('base64,') + 7));\n\t\t\t\t}\n\n\t\t\t\tthis.size = data.length;\n\n\t\t\t\tblobpool[this.uid] = data;\n\t\t\t},\n\n\t\t\t/**\n\t\t\tChecks if blob is standalone (detached of any runtime)\n\t\t\t\n\t\t\t@method isDetached\n\t\t\t@protected\n\t\t\t@return {Boolean}\n\t\t\t*/\n\t\t\tisDetached: function() {\n\t\t\t\treturn !this.ruid && Basic.typeOf(blobpool[this.uid]) === 'string';\n\t\t\t},\n\t\t\t\n\t\t\t/** \n\t\t\tDestroy Blob and free any resources it was using\n\n\t\t\t@method destroy\n\t\t\t*/\n\t\t\tdestroy: function() {\n\t\t\t\tthis.detach();\n\t\t\t\tdelete blobpool[this.uid];\n\t\t\t}\n\t\t});\n\n\t\t\n\t\tif (blob.data) {\n\t\t\tthis.detach(blob.data); // auto-detach if payload has been passed\n\t\t} else {\n\t\t\tblobpool[this.uid] = blob;\t\n\t\t}\n\t}\n\t\n\treturn Blob;\n});\n\n// Included from: src/javascript/file/File.js\n\n/**\n * File.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine('moxie/file/File', [\n\t'moxie/core/utils/Basic',\n\t'moxie/core/utils/Mime',\n\t'moxie/file/Blob'\n], function(Basic, Mime, Blob) {\n\t/**\n\t@class File\n\t@extends Blob\n\t@constructor\n\t@param {String} ruid Unique id of the runtime, to which this blob belongs to\n\t@param {Object} file Object \"Native\" file object, as it is represented in the runtime\n\t*/\n\tfunction File(ruid, file) {\n\t\tvar name, type;\n\n\t\tif (!file) { // avoid extra errors in case we overlooked something\n\t\t\tfile = {};\n\t\t}\n\n\t\t// figure out the type\n\t\tif (file.type && file.type !== '') {\n\t\t\ttype = file.type;\n\t\t} else {\n\t\t\ttype = Mime.getFileMime(file.name);\n\t\t}\n\n\t\t// sanitize file name or generate new one\n\t\tif (file.name) {\n\t\t\tname = file.name.replace(/\\\\/g, '/');\n\t\t\tname = name.substr(name.lastIndexOf('/') + 1);\n\t\t} else {\n\t\t\tvar prefix = type.split('/')[0];\n\t\t\tname = Basic.guid((prefix !== '' ? prefix : 'file') + '_');\n\t\t\t\n\t\t\tif (Mime.extensions[type]) {\n\t\t\t\tname += '.' + Mime.extensions[type][0]; // append proper extension if possible\n\t\t\t}\n\t\t}\n\n\t\tBlob.apply(this, arguments);\n\t\t\n\t\tBasic.extend(this, {\n\t\t\t/**\n\t\t\tFile mime type\n\n\t\t\t@property type\n\t\t\t@type {String}\n\t\t\t@default ''\n\t\t\t*/\n\t\t\ttype: type || '',\n\n\t\t\t/**\n\t\t\tFile name\n\n\t\t\t@property name\n\t\t\t@type {String}\n\t\t\t@default UID\n\t\t\t*/\n\t\t\tname: name || Basic.guid('file_'),\n\t\t\t\n\t\t\t/**\n\t\t\tDate of last modification\n\n\t\t\t@property lastModifiedDate\n\t\t\t@type {String}\n\t\t\t@default now\n\t\t\t*/\n\t\t\tlastModifiedDate: file.lastModifiedDate || (new Date()).toLocaleString() // Thu Aug 23 2012 19:40:00 GMT+0400 (GET)\n\t\t});\n\t}\n\n\tFile.prototype = Blob.prototype;\n\n\treturn File;\n});\n\n// Included from: src/javascript/file/FileInput.js\n\n/**\n * FileInput.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine('moxie/file/FileInput', [\n\t'moxie/core/utils/Basic',\n\t'moxie/core/utils/Mime',\n\t'moxie/core/utils/Dom',\n\t'moxie/core/Exceptions',\n\t'moxie/core/EventTarget',\n\t'moxie/core/I18n',\n\t'moxie/file/File',\n\t'moxie/runtime/Runtime',\n\t'moxie/runtime/RuntimeClient'\n], function(Basic, Mime, Dom, x, EventTarget, I18n, File, Runtime, RuntimeClient) {\n\t/**\n\tProvides a convenient way to create cross-browser file-picker. Generates file selection dialog on click,\n\tconverts selected files to _File_ objects, to be used in conjunction with _Image_, preloaded in memory\n\twith _FileReader_ or uploaded to a server through _XMLHttpRequest_.\n\n\t@class FileInput\n\t@constructor\n\t@extends EventTarget\n\t@uses RuntimeClient\n\t@param {Object|String|DOMElement} options If options is string or node, argument is considered as _browse\\_button_.\n\t\t@param {String|DOMElement} options.browse_button DOM Element to turn into file picker.\n\t\t@param {Array} [options.accept] Array of mime types to accept. By default accepts all.\n\t\t@param {String} [options.file='file'] Name of the file field (not the filename).\n\t\t@param {Boolean} [options.multiple=false] Enable selection of multiple files.\n\t\t@param {Boolean} [options.directory=false] Turn file input into the folder input (cannot be both at the same time).\n\t\t@param {String|DOMElement} [options.container] DOM Element to use as a container for file-picker. Defaults to parentNode \n\t\tfor _browse\\_button_.\n\t\t@param {Object|String} [options.required_caps] Set of required capabilities, that chosen runtime must support.\n\n\t@example\n\t\t<div id=\"container\">\n\t\t\t<a id=\"file-picker\" href=\"javascript:;\">Browse...</a>\n\t\t</div>\n\n\t\t<script>\n\t\t\tvar fileInput = new mOxie.FileInput({\n\t\t\t\tbrowse_button: 'file-picker', // or document.getElementById('file-picker')\n\t\t\t\tcontainer: 'container',\n\t\t\t\taccept: [\n\t\t\t\t\t{title: \"Image files\", extensions: \"jpg,gif,png\"} // accept only images\n\t\t\t\t],\n\t\t\t\tmultiple: true // allow multiple file selection\n\t\t\t});\n\n\t\t\tfileInput.onchange = function(e) {\n\t\t\t\t// do something to files array\n\t\t\t\tconsole.info(e.target.files); // or this.files or fileInput.files\n\t\t\t};\n\n\t\t\tfileInput.init(); // initialize\n\t\t</script>\n\t*/\n\tvar dispatches = [\n\t\t/**\n\t\tDispatched when runtime is connected and file-picker is ready to be used.\n\n\t\t@event ready\n\t\t@param {Object} event\n\t\t*/\n\t\t'ready',\n\n\t\t/**\n\t\tDispatched right after [ready](#event_ready) event, and whenever [refresh()](#method_refresh) is invoked. \n\t\tCheck [corresponding documentation entry](#method_refresh) for more info.\n\n\t\t@event refresh\n\t\t@param {Object} event\n\t\t*/\n\n\t\t/**\n\t\tDispatched when selection of files in the dialog is complete.\n\n\t\t@event change\n\t\t@param {Object} event\n\t\t*/\n\t\t'change',\n\n\t\t'cancel', // TODO: might be useful\n\n\t\t/**\n\t\tDispatched when mouse cursor enters file-picker area. Can be used to style element\n\t\taccordingly.\n\n\t\t@event mouseenter\n\t\t@param {Object} event\n\t\t*/\n\t\t'mouseenter',\n\n\t\t/**\n\t\tDispatched when mouse cursor leaves file-picker area. Can be used to style element\n\t\taccordingly.\n\n\t\t@event mouseleave\n\t\t@param {Object} event\n\t\t*/\n\t\t'mouseleave',\n\n\t\t/**\n\t\tDispatched when functional mouse button is pressed on top of file-picker area.\n\n\t\t@event mousedown\n\t\t@param {Object} event\n\t\t*/\n\t\t'mousedown',\n\n\t\t/**\n\t\tDispatched when functional mouse button is released on top of file-picker area.\n\n\t\t@event mouseup\n\t\t@param {Object} event\n\t\t*/\n\t\t'mouseup'\n\t];\n\n\tfunction FileInput(options) {\n\t\tvar self = this,\n\t\t\tcontainer, browseButton, defaults;\n\n\t\t// if flat argument passed it should be browse_button id\n\t\tif (Basic.inArray(Basic.typeOf(options), ['string', 'node']) !== -1) {\n\t\t\toptions = { browse_button : options };\n\t\t}\n\n\t\t// this will help us to find proper default container\n\t\tbrowseButton = Dom.get(options.browse_button);\n\t\tif (!browseButton) {\n\t\t\t// browse button is required\n\t\t\tthrow new x.DOMException(x.DOMException.NOT_FOUND_ERR);\n\t\t}\n\n\t\t// figure out the options\n\t\tdefaults = {\n\t\t\taccept: [{\n\t\t\t\ttitle: I18n.translate('All Files'),\n\t\t\t\textensions: '*'\n\t\t\t}],\n\t\t\tname: 'file',\n\t\t\tmultiple: false,\n\t\t\trequired_caps: false,\n\t\t\tcontainer: browseButton.parentNode || document.body\n\t\t};\n\t\t\n\t\toptions = Basic.extend({}, defaults, options);\n\n\t\t// convert to object representation\n\t\tif (typeof(options.required_caps) === 'string') {\n\t\t\toptions.required_caps = Runtime.parseCaps(options.required_caps);\n\t\t}\n\t\t\t\t\t\n\t\t// normalize accept option (could be list of mime types or array of title/extensions pairs)\n\t\tif (typeof(options.accept) === 'string') {\n\t\t\toptions.accept = Mime.mimes2extList(options.accept);\n\t\t}\n\n\t\tcontainer = Dom.get(options.container);\n\t\t// make sure we have container\n\t\tif (!container) {\n\t\t\tcontainer = document.body;\n\t\t}\n\n\t\t// make container relative, if it's not\n\t\tif (Dom.getStyle(container, 'position') === 'static') {\n\t\t\tcontainer.style.position = 'relative';\n\t\t}\n\n\t\tcontainer = browseButton = null; // IE\n\t\t\t\t\t\t\n\t\tRuntimeClient.call(self);\n\t\t\n\t\tBasic.extend(self, {\n\t\t\t/**\n\t\t\tUnique id of the component\n\n\t\t\t@property uid\n\t\t\t@protected\n\t\t\t@readOnly\n\t\t\t@type {String}\n\t\t\t@default UID\n\t\t\t*/\n\t\t\tuid: Basic.guid('uid_'),\n\t\t\t\n\t\t\t/**\n\t\t\tUnique id of the connected runtime, if any.\n\n\t\t\t@property ruid\n\t\t\t@protected\n\t\t\t@type {String}\n\t\t\t*/\n\t\t\truid: null,\n\n\t\t\t/**\n\t\t\tUnique id of the runtime container. Useful to get hold of it for various manipulations.\n\n\t\t\t@property shimid\n\t\t\t@protected\n\t\t\t@type {String}\n\t\t\t*/\n\t\t\tshimid: null,\n\t\t\t\n\t\t\t/**\n\t\t\tArray of selected mOxie.File objects\n\n\t\t\t@property files\n\t\t\t@type {Array}\n\t\t\t@default null\n\t\t\t*/\n\t\t\tfiles: null,\n\n\t\t\t/**\n\t\t\tInitializes the file-picker, connects it to runtime and dispatches event ready when done.\n\n\t\t\t@method init\n\t\t\t*/\n\t\t\tinit: function() {\n\t\t\t\tself.convertEventPropsToHandlers(dispatches);\n\n\t\t\t\tself.bind('RuntimeInit', function(e, runtime) {\n\t\t\t\t\tself.ruid = runtime.uid;\n\t\t\t\t\tself.shimid = runtime.shimid;\n\n\t\t\t\t\tself.bind(\"Ready\", function() {\n\t\t\t\t\t\tself.trigger(\"Refresh\");\n\t\t\t\t\t}, 999);\n\n\t\t\t\t\tself.bind(\"Change\", function() {\n\t\t\t\t\t\tvar files = runtime.exec.call(self, 'FileInput', 'getFiles');\n\n\t\t\t\t\t\tself.files = [];\n\n\t\t\t\t\t\tBasic.each(files, function(file) {\n\t\t\t\t\t\t\t// ignore empty files (IE10 for example hangs if you try to send them via XHR)\n\t\t\t\t\t\t\tif (file.size === 0) {\n\t\t\t\t\t\t\t\treturn true; \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.files.push(new File(self.ruid, file));\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 999);\n\n\t\t\t\t\t// re-position and resize shim container\n\t\t\t\t\tself.bind('Refresh', function() {\n\t\t\t\t\t\tvar pos, size, browseButton, shimContainer;\n\t\t\t\t\t\t\n\t\t\t\t\t\tbrowseButton = Dom.get(options.browse_button);\n\t\t\t\t\t\tshimContainer = Dom.get(runtime.shimid); // do not use runtime.getShimContainer(), since it will create container if it doesn't exist\n\n\t\t\t\t\t\tif (browseButton) {\n\t\t\t\t\t\t\tpos = Dom.getPos(browseButton, Dom.get(options.container));\n\t\t\t\t\t\t\tsize = Dom.getSize(browseButton);\n\n\t\t\t\t\t\t\tif (shimContainer) {\n\t\t\t\t\t\t\t\tBasic.extend(shimContainer.style, {\n\t\t\t\t\t\t\t\t\ttop     : pos.y + 'px',\n\t\t\t\t\t\t\t\t\tleft    : pos.x + 'px',\n\t\t\t\t\t\t\t\t\twidth   : size.w + 'px',\n\t\t\t\t\t\t\t\t\theight  : size.h + 'px'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tshimContainer = browseButton = null;\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\truntime.exec.call(self, 'FileInput', 'init', options);\n\t\t\t\t});\n\n\t\t\t\t// runtime needs: options.required_features, options.runtime_order and options.container\n\t\t\t\tself.connectRuntime(Basic.extend({}, options, {\n\t\t\t\t\trequired_caps: {\n\t\t\t\t\t\tselect_file: true\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t},\n\n\t\t\t/**\n\t\t\tDisables file-picker element, so that it doesn't react to mouse clicks.\n\n\t\t\t@method disable\n\t\t\t@param {Boolean} [state=true] Disable component if - true, enable if - false\n\t\t\t*/\n\t\t\tdisable: function(state) {\n\t\t\t\tvar runtime = this.getRuntime();\n\t\t\t\tif (runtime) {\n\t\t\t\t\truntime.exec.call(this, 'FileInput', 'disable', Basic.typeOf(state) === 'undefined' ? true : state);\n\t\t\t\t}\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\tReposition and resize dialog trigger to match the position and size of browse_button element.\n\n\t\t\t@method refresh\n\t\t\t*/\n\t\t\trefresh: function() {\n\t\t\t\tself.trigger(\"Refresh\");\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\tDestroy component.\n\n\t\t\t@method destroy\n\t\t\t*/\n\t\t\tdestroy: function() {\n\t\t\t\tvar runtime = this.getRuntime();\n\t\t\t\tif (runtime) {\n\t\t\t\t\truntime.exec.call(this, 'FileInput', 'destroy');\n\t\t\t\t\tthis.disconnectRuntime();\n\t\t\t\t}\n\n\t\t\t\tif (Basic.typeOf(this.files) === 'array') {\n\t\t\t\t\t// no sense in leaving associated files behind\n\t\t\t\t\tBasic.each(this.files, function(file) {\n\t\t\t\t\t\tfile.destroy();\n\t\t\t\t\t});\n\t\t\t\t} \n\t\t\t\tthis.files = null;\n\t\t\t}\n\t\t});\n\t}\n\n\tFileInput.prototype = EventTarget.instance;\n\n\treturn FileInput;\n});\n\n// Included from: src/javascript/file/FileDrop.js\n\n/**\n * FileDrop.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine('moxie/file/FileDrop', [\n\t'moxie/core/I18n',\n\t'moxie/core/utils/Dom',\n\t'moxie/core/Exceptions',\n\t'moxie/core/utils/Basic',\n\t'moxie/file/File',\n\t'moxie/runtime/RuntimeClient',\n\t'moxie/core/EventTarget',\n\t'moxie/core/utils/Mime'\n], function(I18n, Dom, x, Basic, File, RuntimeClient, EventTarget, Mime) {\n\t/**\n\tTurn arbitrary DOM element to a drop zone accepting files. Converts selected files to _File_ objects, to be used \n\tin conjunction with _Image_, preloaded in memory with _FileReader_ or uploaded to a server through \n\t_XMLHttpRequest_.\n\n\t@example\n\t\t<div id=\"drop_zone\">\n\t\t\tDrop files here\n\t\t</div>\n\t\t<br />\n\t\t<div id=\"filelist\"></div>\n\n\t\t<script type=\"text/javascript\">\n\t\t\tvar fileDrop = new mOxie.FileDrop('drop_zone'), fileList = mOxie.get('filelist');\n\n\t\t\tfileDrop.ondrop = function() {\n\t\t\t\tmOxie.each(this.files, function(file) {\n\t\t\t\t\tfileList.innerHTML += '<div>' + file.name + '</div>';\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tfileDrop.init();\n\t\t</script>\n\n\t@class FileDrop\n\t@constructor\n\t@extends EventTarget\n\t@uses RuntimeClient\n\t@param {Object|String} options If options has typeof string, argument is considered as options.drop_zone\n\t\t@param {String|DOMElement} options.drop_zone DOM Element to turn into a drop zone\n\t\t@param {Array} [options.accept] Array of mime types to accept. By default accepts all\n\t\t@param {Object|String} [options.required_caps] Set of required capabilities, that chosen runtime must support\n\t*/\n\tvar dispatches = [\n\t\t/**\n\t\tDispatched when runtime is connected and drop zone is ready to accept files.\n\n\t\t@event ready\n\t\t@param {Object} event\n\t\t*/\n\t\t'ready', \n\n\t\t/**\n\t\tDispatched when dragging cursor enters the drop zone.\n\n\t\t@event dragenter\n\t\t@param {Object} event\n\t\t*/\n\t\t'dragenter',\n\n\t\t/**\n\t\tDispatched when dragging cursor leaves the drop zone.\n\n\t\t@event dragleave\n\t\t@param {Object} event\n\t\t*/\n\t\t'dragleave', \n\n\t\t/**\n\t\tDispatched when file is dropped onto the drop zone.\n\n\t\t@event drop\n\t\t@param {Object} event\n\t\t*/\n\t\t'drop', \n\n\t\t/**\n\t\tDispatched if error occurs.\n\n\t\t@event error\n\t\t@param {Object} event\n\t\t*/\n\t\t'error'\n\t];\n\n\tfunction FileDrop(options) {\n\t\tvar self = this, defaults;\n\n\t\t// if flat argument passed it should be drop_zone id\n\t\tif (typeof(options) === 'string') {\n\t\t\toptions = { drop_zone : options };\n\t\t}\n\n\t\t// figure out the options\n\t\tdefaults = {\n\t\t\taccept: [{\n\t\t\t\ttitle: I18n.translate('All Files'),\n\t\t\t\textensions: '*'\n\t\t\t}],\n\t\t\trequired_caps: {\n\t\t\t\tdrag_and_drop: true\n\t\t\t}\n\t\t};\n\t\t\n\t\toptions = typeof(options) === 'object' ? Basic.extend({}, defaults, options) : defaults;\n\n\t\t// this will help us to find proper default container\n\t\toptions.container = Dom.get(options.drop_zone) || document.body;\n\n\t\t// make container relative, if it is not\n\t\tif (Dom.getStyle(options.container, 'position') === 'static') {\n\t\t\toptions.container.style.position = 'relative';\n\t\t}\n\t\t\t\t\t\n\t\t// normalize accept option (could be list of mime types or array of title/extensions pairs)\n\t\tif (typeof(options.accept) === 'string') {\n\t\t\toptions.accept = Mime.mimes2extList(options.accept);\n\t\t}\n\n\t\tRuntimeClient.call(self);\n\n\t\tBasic.extend(self, {\n\t\t\tuid: Basic.guid('uid_'),\n\n\t\t\truid: null,\n\n\t\t\tfiles: null,\n\n\t\t\tinit: function() {\n\t\n\t\t\t\tself.convertEventPropsToHandlers(dispatches);\n\t\t\n\t\t\t\tself.bind('RuntimeInit', function(e, runtime) {\n\t\t\t\t\tself.ruid = runtime.uid;\n\n\t\t\t\t\tself.bind(\"Drop\", function() {\n\t\t\t\t\t\tvar files = runtime.exec.call(self, 'FileDrop', 'getFiles');\n\n\t\t\t\t\t\tself.files = [];\n\n\t\t\t\t\t\tBasic.each(files, function(file) {\n\t\t\t\t\t\t\tself.files.push(new File(self.ruid, file));\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 999);\n\n\t\t\t\t\truntime.exec.call(self, 'FileDrop', 'init', options);\n\n\t\t\t\t\tself.dispatchEvent('ready');\n\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t// runtime needs: options.required_features, options.runtime_order and options.container\n\t\t\t\tself.connectRuntime(options); // throws RuntimeError\n\t\t\t},\n\n\t\t\tdestroy: function() {\n\t\t\t\tvar runtime = this.getRuntime();\n\t\t\t\tif (runtime) {\n\t\t\t\t\truntime.exec.call(this, 'FileDrop', 'destroy');\n\t\t\t\t\tthis.disconnectRuntime();\n\t\t\t\t}\n\t\t\t\tthis.files = null;\n\t\t\t}\n\t\t});\n\t}\n\n\tFileDrop.prototype = EventTarget.instance;\n\n\treturn FileDrop;\n});\n\n// Included from: src/javascript/runtime/RuntimeTarget.js\n\n/**\n * RuntimeTarget.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine('moxie/runtime/RuntimeTarget', [\n\t'moxie/core/utils/Basic',\n\t'moxie/runtime/RuntimeClient',\n\t\"moxie/core/EventTarget\"\n], function(Basic, RuntimeClient, EventTarget) {\n\t/**\n\tInstance of this class can be used as a target for the events dispatched by shims,\n\twhen allowing them onto components is for either reason inappropriate\n\n\t@class RuntimeTarget\n\t@constructor\n\t@protected\n\t@extends EventTarget\n\t*/\n\tfunction RuntimeTarget() {\n\t\tthis.uid = Basic.guid('uid_');\n\t\t\n\t\tRuntimeClient.call(this);\n\n\t\tthis.destroy = function() {\n\t\t\tthis.disconnectRuntime();\n\t\t\tthis.unbindAll();\n\t\t};\n\t}\n\n\tRuntimeTarget.prototype = EventTarget.instance;\n\n\treturn RuntimeTarget;\n});\n\n// Included from: src/javascript/file/FileReader.js\n\n/**\n * FileReader.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine('moxie/file/FileReader', [\n\t'moxie/core/utils/Basic',\n\t'moxie/core/utils/Encode',\n\t'moxie/core/Exceptions',\n\t'moxie/core/EventTarget',\n\t'moxie/file/Blob',\n\t'moxie/file/File',\n\t'moxie/runtime/RuntimeTarget'\n], function(Basic, Encode, x, EventTarget, Blob, File, RuntimeTarget) {\n\t/**\n\tUtility for preloading o.Blob/o.File objects in memory. By design closely follows [W3C FileReader](http://www.w3.org/TR/FileAPI/#dfn-filereader)\n\tinterface. Where possible uses native FileReader, where - not falls back to shims.\n\n\t@class FileReader\n\t@constructor FileReader\n\t@extends EventTarget\n\t@uses RuntimeClient\n\t*/\n\tvar dispatches = [\n\n\t\t/** \n\t\tDispatched when the read starts.\n\n\t\t@event loadstart\n\t\t@param {Object} event\n\t\t*/\n\t\t'loadstart', \n\n\t\t/** \n\t\tDispatched while reading (and decoding) blob, and reporting partial Blob data (progess.loaded/progress.total).\n\n\t\t@event progress\n\t\t@param {Object} event\n\t\t*/\n\t\t'progress', \n\n\t\t/** \n\t\tDispatched when the read has successfully completed.\n\n\t\t@event load\n\t\t@param {Object} event\n\t\t*/\n\t\t'load', \n\n\t\t/** \n\t\tDispatched when the read has been aborted. For instance, by invoking the abort() method.\n\n\t\t@event abort\n\t\t@param {Object} event\n\t\t*/\n\t\t'abort', \n\n\t\t/** \n\t\tDispatched when the read has failed.\n\n\t\t@event error\n\t\t@param {Object} event\n\t\t*/\n\t\t'error', \n\n\t\t/** \n\t\tDispatched when the request has completed (either in success or failure).\n\n\t\t@event loadend\n\t\t@param {Object} event\n\t\t*/\n\t\t'loadend'\n\t];\n\t\n\tfunction FileReader() {\n\t\tvar self = this, _fr;\n\t\t\t\t\n\t\tBasic.extend(this, {\n\t\t\t/**\n\t\t\tUID of the component instance.\n\n\t\t\t@property uid\n\t\t\t@type {String}\n\t\t\t*/\n\t\t\tuid: Basic.guid('uid_'),\n\n\t\t\t/**\n\t\t\tContains current state of FileReader object. Can take values of FileReader.EMPTY, FileReader.LOADING\n\t\t\tand FileReader.DONE.\n\n\t\t\t@property readyState\n\t\t\t@type {Number}\n\t\t\t@default FileReader.EMPTY\n\t\t\t*/\n\t\t\treadyState: FileReader.EMPTY,\n\t\t\t\n\t\t\t/**\n\t\t\tResult of the successful read operation.\n\n\t\t\t@property result\n\t\t\t@type {String}\n\t\t\t*/\n\t\t\tresult: null,\n\t\t\t\n\t\t\t/**\n\t\t\tStores the error of failed asynchronous read operation.\n\n\t\t\t@property error\n\t\t\t@type {DOMError}\n\t\t\t*/\n\t\t\terror: null,\n\t\t\t\n\t\t\t/**\n\t\t\tInitiates reading of File/Blob object contents to binary string.\n\n\t\t\t@method readAsBinaryString\n\t\t\t@param {Blob|File} blob Object to preload\n\t\t\t*/\n\t\t\treadAsBinaryString: function(blob) {\n\t\t\t\t_read.call(this, 'readAsBinaryString', blob);\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\tInitiates reading of File/Blob object contents to dataURL string.\n\n\t\t\t@method readAsDataURL\n\t\t\t@param {Blob|File} blob Object to preload\n\t\t\t*/\n\t\t\treadAsDataURL: function(blob) {\n\t\t\t\t_read.call(this, 'readAsDataURL', blob);\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\tInitiates reading of File/Blob object contents to string.\n\n\t\t\t@method readAsText\n\t\t\t@param {Blob|File} blob Object to preload\n\t\t\t*/\n\t\t\treadAsText: function(blob) {\n\t\t\t\t_read.call(this, 'readAsText', blob);\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\tAborts preloading process.\n\n\t\t\t@method abort\n\t\t\t*/\n\t\t\tabort: function() {\n\t\t\t\tthis.result = null;\n\t\t\t\t\n\t\t\t\tif (Basic.inArray(this.readyState, [FileReader.EMPTY, FileReader.DONE]) !== -1) {\n\t\t\t\t\treturn;\n\t\t\t\t} else if (this.readyState === FileReader.LOADING) {\n\t\t\t\t\tthis.readyState = FileReader.DONE;\n\t\t\t\t}\n\n\t\t\t\tif (_fr) {\n\t\t\t\t\t_fr.getRuntime().exec.call(this, 'FileReader', 'abort');\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.trigger('abort');\n\t\t\t\tthis.trigger('loadend');\n\t\t\t},\n\n\t\t\t/**\n\t\t\tDestroy component and release resources.\n\n\t\t\t@method destroy\n\t\t\t*/\n\t\t\tdestroy: function() {\n\t\t\t\tthis.abort();\n\n\t\t\t\tif (_fr) {\n\t\t\t\t\t_fr.getRuntime().exec.call(this, 'FileReader', 'destroy');\n\t\t\t\t\t_fr.disconnectRuntime();\n\t\t\t\t}\n\n\t\t\t\tself = _fr = null;\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\tfunction _read(op, blob) {\n\t\t\t_fr = new RuntimeTarget();\n\n\t\t\tfunction error(err) {\n\t\t\t\tself.readyState = FileReader.DONE;\n\t\t\t\tself.error = err;\n\t\t\t\tself.trigger('error');\n\t\t\t\tloadEnd();\n\t\t\t}\n\n\t\t\tfunction loadEnd() {\n\t\t\t\t_fr.destroy();\n\t\t\t\t_fr = null;\n\t\t\t\tself.trigger('loadend');\n\t\t\t}\n\n\t\t\tfunction exec(runtime) {\n\t\t\t\t_fr.bind('Error', function(e, err) {\n\t\t\t\t\terror(err);\n\t\t\t\t});\n\n\t\t\t\t_fr.bind('Progress', function(e) {\n\t\t\t\t\tself.result = runtime.exec.call(_fr, 'FileReader', 'getResult');\n\t\t\t\t\tself.trigger(e);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t_fr.bind('Load', function(e) {\n\t\t\t\t\tself.readyState = FileReader.DONE;\n\t\t\t\t\tself.result = runtime.exec.call(_fr, 'FileReader', 'getResult');\n\t\t\t\t\tself.trigger(e);\n\t\t\t\t\tloadEnd();\n\t\t\t\t});\n\n\t\t\t\truntime.exec.call(_fr, 'FileReader', 'read', op, blob);\n\t\t\t}\n\n\t\t\tthis.convertEventPropsToHandlers(dispatches);\n\n\t\t\tif (this.readyState === FileReader.LOADING) {\n\t\t\t\treturn error(new x.DOMException(x.DOMException.INVALID_STATE_ERR));\n\t\t\t}\n\n\t\t\tthis.readyState = FileReader.LOADING;\n\t\t\tthis.trigger('loadstart');\n\n\t\t\t// if source is o.Blob/o.File\n\t\t\tif (blob instanceof Blob) {\n\t\t\t\tif (blob.isDetached()) {\n\t\t\t\t\tvar src = blob.getSource();\n\t\t\t\t\tswitch (op) {\n\t\t\t\t\t\tcase 'readAsText':\n\t\t\t\t\t\tcase 'readAsBinaryString':\n\t\t\t\t\t\t\tthis.result = src;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'readAsDataURL':\n\t\t\t\t\t\t\tthis.result = 'data:' + blob.type + ';base64,' + Encode.btoa(src);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tthis.readyState = FileReader.DONE;\n\t\t\t\t\tthis.trigger('load');\n\t\t\t\t\tloadEnd();\n\t\t\t\t} else {\n\t\t\t\t\texec(_fr.connectRuntime(blob.ruid));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\terror(new x.DOMException(x.DOMException.NOT_FOUND_ERR));\n\t\t\t}\n\t\t}\n\t}\n\t\n\t/**\n\tInitial FileReader state\n\n\t@property EMPTY\n\t@type {Number}\n\t@final\n\t@static\n\t@default 0\n\t*/\n\tFileReader.EMPTY = 0;\n\n\t/**\n\tFileReader switches to this state when it is preloading the source\n\n\t@property LOADING\n\t@type {Number}\n\t@final\n\t@static\n\t@default 1\n\t*/\n\tFileReader.LOADING = 1;\n\n\t/**\n\tPreloading is complete, this is a final state\n\n\t@property DONE\n\t@type {Number}\n\t@final\n\t@static\n\t@default 2\n\t*/\n\tFileReader.DONE = 2;\n\n\tFileReader.prototype = EventTarget.instance;\n\n\treturn FileReader;\n});\n\n// Included from: src/javascript/core/utils/Url.js\n\n/**\n * Url.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine('moxie/core/utils/Url', [], function() {\n\t/**\n\tParse url into separate components and fill in absent parts with parts from current url,\n\tbased on https://raw.github.com/kvz/phpjs/master/functions/url/parse_url.js\n\n\t@method parseUrl\n\t@for Utils\n\t@static\n\t@param {String} url Url to parse (defaults to empty string if undefined)\n\t@return {Object} Hash containing extracted uri components\n\t*/\n\tvar parseUrl = function(url, currentUrl) {\n\t\tvar key = ['source', 'scheme', 'authority', 'userInfo', 'user', 'pass', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'fragment']\n\t\t, i = key.length\n\t\t, ports = {\n\t\t\thttp: 80,\n\t\t\thttps: 443\n\t\t}\n\t\t, uri = {}\n\t\t, regex = /^(?:([^:\\/?#]+):)?(?:\\/\\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\\/?#]*)(?::(\\d*))?))?()(?:(()(?:(?:[^?#\\/]*\\/)*)()(?:[^?#]*))(?:\\\\?([^#]*))?(?:#(.*))?)/\n\t\t, m = regex.exec(url || '')\n\t\t;\n\t\t\t\t\t\n\t\twhile (i--) {\n\t\t\tif (m[i]) {\n\t\t\t\turi[key[i]] = m[i];\n\t\t\t}\n\t\t}\n\n\t\t// when url is relative, we set the origin and the path ourselves\n\t\tif (!uri.scheme) {\n\t\t\t// come up with defaults\n\t\t\tif (!currentUrl || typeof(currentUrl) === 'string') {\n\t\t\t\tcurrentUrl = parseUrl(currentUrl || document.location.href);\n\t\t\t}\n\n\t\t\turi.scheme = currentUrl.scheme;\n\t\t\turi.host = currentUrl.host;\n\t\t\turi.port = currentUrl.port;\n\n\t\t\tvar path = '';\n\t\t\t// for urls without trailing slash we need to figure out the path\n\t\t\tif (/^[^\\/]/.test(uri.path)) {\n\t\t\t\tpath = currentUrl.path;\n\t\t\t\t// if path ends with a filename, strip it\n\t\t\t\tif (!/(\\/|\\/[^\\.]+)$/.test(path)) {\n\t\t\t\t\tpath = path.replace(/\\/[^\\/]+$/, '/');\n\t\t\t\t} else {\n\t\t\t\t\tpath += '/';\n\t\t\t\t}\n\t\t\t}\n\t\t\turi.path = path + (uri.path || ''); // site may reside at domain.com or domain.com/subdir\n\t\t}\n\n\t\tif (!uri.port) {\n\t\t\turi.port = ports[uri.scheme] || 80;\n\t\t} \n\t\t\n\t\turi.port = parseInt(uri.port, 10);\n\n\t\tif (!uri.path) {\n\t\t\turi.path = \"/\";\n\t\t}\n\n\t\tdelete uri.source;\n\n\t\treturn uri;\n\t};\n\n\t/**\n\tResolve url - among other things will turn relative url to absolute\n\n\t@method resolveUrl\n\t@static\n\t@param {String} url Either absolute or relative\n\t@return {String} Resolved, absolute url\n\t*/\n\tvar resolveUrl = function(url) {\n\t\tvar ports = { // we ignore default ports\n\t\t\thttp: 80,\n\t\t\thttps: 443\n\t\t}\n\t\t, urlp = parseUrl(url)\n\t\t;\n\n\t\treturn urlp.scheme + '://' + urlp.host + (urlp.port !== ports[urlp.scheme] ? ':' + urlp.port : '') + urlp.path + (urlp.query ? urlp.query : '');\n\t};\n\n\t/**\n\tCheck if specified url has the same origin as the current document\n\n\t@method hasSameOrigin\n\t@param {String|Object} url\n\t@return {Boolean}\n\t*/\n\tvar hasSameOrigin = function(url) {\n\t\tfunction origin(url) {\n\t\t\treturn [url.scheme, url.host, url.port].join('/');\n\t\t}\n\t\t\t\n\t\tif (typeof url === 'string') {\n\t\t\turl = parseUrl(url);\n\t\t}\t\n\t\t\n\t\treturn origin(parseUrl()) === origin(url);\n\t};\n\n\treturn {\n\t\tparseUrl: parseUrl,\n\t\tresolveUrl: resolveUrl,\n\t\thasSameOrigin: hasSameOrigin\n\t};\n});\n\n// Included from: src/javascript/file/FileReaderSync.js\n\n/**\n * FileReaderSync.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine('moxie/file/FileReaderSync', [\n\t'moxie/core/utils/Basic',\n\t'moxie/runtime/RuntimeClient',\n\t'moxie/core/utils/Encode'\n], function(Basic, RuntimeClient, Encode) {\n\t/**\n\tSynchronous FileReader implementation. Something like this is available in WebWorkers environment, here\n\tit can be used to read only preloaded blobs/files and only below certain size (not yet sure what that'd be,\n\tbut probably < 1mb). Not meant to be used directly by user.\n\n\t@class FileReaderSync\n\t@private\n\t@constructor\n\t*/\n\treturn function() {\n\t\tRuntimeClient.call(this);\n\n\t\tBasic.extend(this, {\n\t\t\tuid: Basic.guid('uid_'),\n\n\t\t\treadAsBinaryString: function(blob) {\n\t\t\t\treturn _read.call(this, 'readAsBinaryString', blob);\n\t\t\t},\n\t\t\t\n\t\t\treadAsDataURL: function(blob) {\n\t\t\t\treturn _read.call(this, 'readAsDataURL', blob);\n\t\t\t},\n\t\t\t\n\t\t\t/*readAsArrayBuffer: function(blob) {\n\t\t\t\treturn _read.call(this, 'readAsArrayBuffer', blob);\n\t\t\t},*/\n\t\t\t\n\t\t\treadAsText: function(blob) {\n\t\t\t\treturn _read.call(this, 'readAsText', blob);\n\t\t\t}\n\t\t});\n\n\t\tfunction _read(op, blob) {\n\t\t\tif (blob.isDetached()) {\n\t\t\t\tvar src = blob.getSource();\n\t\t\t\tswitch (op) {\n\t\t\t\t\tcase 'readAsBinaryString':\n\t\t\t\t\t\treturn src;\n\t\t\t\t\tcase 'readAsDataURL':\n\t\t\t\t\t\treturn 'data:' + blob.type + ';base64,' + Encode.btoa(src);\n\t\t\t\t\tcase 'readAsText':\n\t\t\t\t\t\tvar txt = '';\n\t\t\t\t\t\tfor (var i = 0, length = src.length; i < length; i++) {\n\t\t\t\t\t\t\ttxt += String.fromCharCode(src[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn txt;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar result = this.connectRuntime(blob.ruid).exec.call(this, 'FileReaderSync', 'read', op, blob);\n\t\t\t\tthis.disconnectRuntime();\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t};\n});\n\n// Included from: src/javascript/xhr/FormData.js\n\n/**\n * FormData.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine(\"moxie/xhr/FormData\", [\n\t\"moxie/core/Exceptions\",\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/file/Blob\"\n], function(x, Basic, Blob) {\n\t/**\n\tFormData\n\n\t@class FormData\n\t@constructor\n\t*/\n\tfunction FormData() {\n\t\tvar _blob, _fields = [];\n\n\t\tBasic.extend(this, {\n\t\t\t/**\n\t\t\tAppend another key-value pair to the FormData object\n\n\t\t\t@method append\n\t\t\t@param {String} name Name for the new field\n\t\t\t@param {String|Blob|Array|Object} value Value for the field\n\t\t\t*/\n\t\t\tappend: function(name, value) {\n\t\t\t\tvar self = this, valueType = Basic.typeOf(value);\n\n\t\t\t\t// according to specs value might be either Blob or String\n\t\t\t\tif (value instanceof Blob) {\n\t\t\t\t\t_blob = {\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tvalue: value // unfortunately we can only send single Blob in one FormData\n\t\t\t\t\t};\n\t\t\t\t} else if ('array' === valueType) {\n\t\t\t\t\tname += '[]';\n\n\t\t\t\t\tBasic.each(value, function(value) {\n\t\t\t\t\t\tself.append(name, value);\n\t\t\t\t\t});\n\t\t\t\t} else if ('object' === valueType) {\n\t\t\t\t\tBasic.each(value, function(value, key) {\n\t\t\t\t\t\tself.append(name + '[' + key + ']', value);\n\t\t\t\t\t});\n\t\t\t\t} else if ('null' === valueType || 'undefined' === valueType || 'number' === valueType && isNaN(value)) {\n\t\t\t\t\tself.append(name, \"false\");\n\t\t\t\t} else {\n\t\t\t\t\t_fields.push({\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tvalue: value.toString()\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\tChecks if FormData contains Blob.\n\n\t\t\t@method hasBlob\n\t\t\t@return {Boolean}\n\t\t\t*/\n\t\t\thasBlob: function() {\n\t\t\t\treturn !!this.getBlob();\n\t\t\t},\n\n\t\t\t/**\n\t\t\tRetrieves blob.\n\n\t\t\t@method getBlob\n\t\t\t@return {Object} Either Blob if found or null\n\t\t\t*/\n\t\t\tgetBlob: function() {\n\t\t\t\treturn _blob && _blob.value || null;\n\t\t\t},\n\n\t\t\t/**\n\t\t\tRetrieves blob field name.\n\n\t\t\t@method getBlobName\n\t\t\t@return {String} Either Blob field name or null\n\t\t\t*/\n\t\t\tgetBlobName: function() {\n\t\t\t\treturn _blob && _blob.name || null;\n\t\t\t},\n\n\t\t\t/**\n\t\t\tLoop over the fields in FormData and invoke the callback for each of them.\n\n\t\t\t@method each\n\t\t\t@param {Function} cb Callback to call for each field\n\t\t\t*/\n\t\t\teach: function(cb) {\n\t\t\t\tBasic.each(_fields, function(field) {\n\t\t\t\t\tcb(field.value, field.name);\n\t\t\t\t});\n\n\t\t\t\tif (_blob) {\n\t\t\t\t\tcb(_blob.value, _blob.name);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdestroy: function() {\n\t\t\t\t_blob = null;\n\t\t\t\t_fields = [];\n\t\t\t}\n\t\t});\n\t}\n\n\treturn FormData;\n});\n\n// Included from: src/javascript/xhr/XMLHttpRequest.js\n\n/**\n * XMLHttpRequest.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine(\"moxie/xhr/XMLHttpRequest\", [\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/core/Exceptions\",\n\t\"moxie/core/EventTarget\",\n\t\"moxie/core/utils/Encode\",\n\t\"moxie/core/utils/Url\",\n\t\"moxie/runtime/Runtime\",\n\t\"moxie/runtime/RuntimeTarget\",\n\t\"moxie/file/Blob\",\n\t\"moxie/file/FileReaderSync\",\n\t\"moxie/xhr/FormData\",\n\t\"moxie/core/utils/Env\",\n\t\"moxie/core/utils/Mime\"\n], function(Basic, x, EventTarget, Encode, Url, Runtime, RuntimeTarget, Blob, FileReaderSync, FormData, Env, Mime) {\n\n\tvar httpCode = {\n\t\t100: 'Continue',\n\t\t101: 'Switching Protocols',\n\t\t102: 'Processing',\n\n\t\t200: 'OK',\n\t\t201: 'Created',\n\t\t202: 'Accepted',\n\t\t203: 'Non-Authoritative Information',\n\t\t204: 'No Content',\n\t\t205: 'Reset Content',\n\t\t206: 'Partial Content',\n\t\t207: 'Multi-Status',\n\t\t226: 'IM Used',\n\n\t\t300: 'Multiple Choices',\n\t\t301: 'Moved Permanently',\n\t\t302: 'Found',\n\t\t303: 'See Other',\n\t\t304: 'Not Modified',\n\t\t305: 'Use Proxy',\n\t\t306: 'Reserved',\n\t\t307: 'Temporary Redirect',\n\n\t\t400: 'Bad Request',\n\t\t401: 'Unauthorized',\n\t\t402: 'Payment Required',\n\t\t403: 'Forbidden',\n\t\t404: 'Not Found',\n\t\t405: 'Method Not Allowed',\n\t\t406: 'Not Acceptable',\n\t\t407: 'Proxy Authentication Required',\n\t\t408: 'Request Timeout',\n\t\t409: 'Conflict',\n\t\t410: 'Gone',\n\t\t411: 'Length Required',\n\t\t412: 'Precondition Failed',\n\t\t413: 'Request Entity Too Large',\n\t\t414: 'Request-URI Too Long',\n\t\t415: 'Unsupported Media Type',\n\t\t416: 'Requested Range Not Satisfiable',\n\t\t417: 'Expectation Failed',\n\t\t422: 'Unprocessable Entity',\n\t\t423: 'Locked',\n\t\t424: 'Failed Dependency',\n\t\t426: 'Upgrade Required',\n\n\t\t500: 'Internal Server Error',\n\t\t501: 'Not Implemented',\n\t\t502: 'Bad Gateway',\n\t\t503: 'Service Unavailable',\n\t\t504: 'Gateway Timeout',\n\t\t505: 'HTTP Version Not Supported',\n\t\t506: 'Variant Also Negotiates',\n\t\t507: 'Insufficient Storage',\n\t\t510: 'Not Extended'\n\t};\n\n\tfunction XMLHttpRequestUpload() {\n\t\tthis.uid = Basic.guid('uid_');\n\t}\n\t\n\tXMLHttpRequestUpload.prototype = EventTarget.instance;\n\n\t/**\n\tImplementation of XMLHttpRequest\n\n\t@class XMLHttpRequest\n\t@constructor\n\t@uses RuntimeClient\n\t@extends EventTarget\n\t*/\n\tvar dispatches = ['loadstart', 'progress', 'abort', 'error', 'load', 'timeout', 'loadend']; // & readystatechange (for historical reasons)\n\t\n\tvar NATIVE = 1, RUNTIME = 2;\n\t\t\t\t\t\n\tfunction XMLHttpRequest() {\n\t\tvar self = this,\n\t\t\t// this (together with _p() @see below) is here to gracefully upgrade to setter/getter syntax where possible\n\t\t\tprops = {\n\t\t\t\t/**\n\t\t\t\tThe amount of milliseconds a request can take before being terminated. Initially zero. Zero means there is no timeout.\n\n\t\t\t\t@property timeout\n\t\t\t\t@type Number\n\t\t\t\t@default 0\n\t\t\t\t*/\n\t\t\t\ttimeout: 0,\n\n\t\t\t\t/**\n\t\t\t\tCurrent state, can take following values:\n\t\t\t\tUNSENT (numeric value 0)\n\t\t\t\tThe object has been constructed.\n\n\t\t\t\tOPENED (numeric value 1)\n\t\t\t\tThe open() method has been successfully invoked. During this state request headers can be set using setRequestHeader() and the request can be made using the send() method.\n\n\t\t\t\tHEADERS_RECEIVED (numeric value 2)\n\t\t\t\tAll redirects (if any) have been followed and all HTTP headers of the final response have been received. Several response members of the object are now available.\n\n\t\t\t\tLOADING (numeric value 3)\n\t\t\t\tThe response entity body is being received.\n\n\t\t\t\tDONE (numeric value 4)\n\n\t\t\t\t@property readyState\n\t\t\t\t@type Number\n\t\t\t\t@default 0 (UNSENT)\n\t\t\t\t*/\n\t\t\t\treadyState: XMLHttpRequest.UNSENT,\n\n\t\t\t\t/**\n\t\t\t\tTrue when user credentials are to be included in a cross-origin request. False when they are to be excluded\n\t\t\t\tin a cross-origin request and when cookies are to be ignored in its response. Initially false.\n\n\t\t\t\t@property withCredentials\n\t\t\t\t@type Boolean\n\t\t\t\t@default false\n\t\t\t\t*/\n\t\t\t\twithCredentials: false,\n\n\t\t\t\t/**\n\t\t\t\tReturns the HTTP status code.\n\n\t\t\t\t@property status\n\t\t\t\t@type Number\n\t\t\t\t@default 0\n\t\t\t\t*/\n\t\t\t\tstatus: 0,\n\n\t\t\t\t/**\n\t\t\t\tReturns the HTTP status text.\n\n\t\t\t\t@property statusText\n\t\t\t\t@type String\n\t\t\t\t*/\n\t\t\t\tstatusText: \"\",\n\n\t\t\t\t/**\n\t\t\t\tReturns the response type. Can be set to change the response type. Values are:\n\t\t\t\tthe empty string (default), \"arraybuffer\", \"blob\", \"document\", \"json\", and \"text\".\n\t\t\t\t\n\t\t\t\t@property responseType\n\t\t\t\t@type String\n\t\t\t\t*/\n\t\t\t\tresponseType: \"\",\n\n\t\t\t\t/**\n\t\t\t\tReturns the document response entity body.\n\t\t\t\t\n\t\t\t\tThrows an \"InvalidStateError\" exception if responseType is not the empty string or \"document\".\n\n\t\t\t\t@property responseXML\n\t\t\t\t@type Document\n\t\t\t\t*/\n\t\t\t\tresponseXML: null,\n\n\t\t\t\t/**\n\t\t\t\tReturns the text response entity body.\n\t\t\t\t\n\t\t\t\tThrows an \"InvalidStateError\" exception if responseType is not the empty string or \"text\".\n\n\t\t\t\t@property responseText\n\t\t\t\t@type String\n\t\t\t\t*/\n\t\t\t\tresponseText: null,\n\n\t\t\t\t/**\n\t\t\t\tReturns the response entity body (http://www.w3.org/TR/XMLHttpRequest/#response-entity-body).\n\t\t\t\tCan become: ArrayBuffer, Blob, Document, JSON, Text\n\t\t\t\t\n\t\t\t\t@property response\n\t\t\t\t@type Mixed\n\t\t\t\t*/\n\t\t\t\tresponse: null\n\t\t\t},\n\n\t\t\t_async = true,\n\t\t\t_url,\n\t\t\t_method,\n\t\t\t_headers = {},\n\t\t\t_user,\n\t\t\t_password,\n\t\t\t_encoding = null,\n\t\t\t_mimeType = null,\n\n\t\t\t// flags\n\t\t\t_sync_flag = false,\n\t\t\t_send_flag = false,\n\t\t\t_upload_events_flag = false,\n\t\t\t_upload_complete_flag = false,\n\t\t\t_error_flag = false,\n\t\t\t_same_origin_flag = false,\n\n\t\t\t// times\n\t\t\t_start_time,\n\t\t\t_timeoutset_time,\n\n\t\t\t_finalMime = null,\n\t\t\t_finalCharset = null,\n\n\t\t\t_options = {},\n\t\t\t_xhr,\n\t\t\t_responseHeaders = '',\n\t\t\t_responseHeadersBag\n\t\t\t;\n\n\t\t\n\t\tBasic.extend(this, props, {\n\t\t\t/**\n\t\t\tUnique id of the component\n\n\t\t\t@property uid\n\t\t\t@type String\n\t\t\t*/\n\t\t\tuid: Basic.guid('uid_'),\n\t\t\t\n\t\t\t/**\n\t\t\tTarget for Upload events\n\n\t\t\t@property upload\n\t\t\t@type XMLHttpRequestUpload\n\t\t\t*/\n\t\t\tupload: new XMLHttpRequestUpload(),\n\t\t\t\n\n\t\t\t/**\n\t\t\tSets the request method, request URL, synchronous flag, request username, and request password.\n\n\t\t\tThrows a \"SyntaxError\" exception if one of the following is true:\n\n\t\t\tmethod is not a valid HTTP method.\n\t\t\turl cannot be resolved.\n\t\t\turl contains the \"user:password\" format in the userinfo production.\n\t\t\tThrows a \"SecurityError\" exception if method is a case-insensitive match for CONNECT, TRACE or TRACK.\n\n\t\t\tThrows an \"InvalidAccessError\" exception if one of the following is true:\n\n\t\t\tEither user or password is passed as argument and the origin of url does not match the XMLHttpRequest origin.\n\t\t\tThere is an associated XMLHttpRequest document and either the timeout attribute is not zero,\n\t\t\tthe withCredentials attribute is true, or the responseType attribute is not the empty string.\n\n\n\t\t\t@method open\n\t\t\t@param {String} method HTTP method to use on request\n\t\t\t@param {String} url URL to request\n\t\t\t@param {Boolean} [async=true] If false request will be done in synchronous manner. Asynchronous by default.\n\t\t\t@param {String} [user] Username to use in HTTP authentication process on server-side\n\t\t\t@param {String} [password] Password to use in HTTP authentication process on server-side\n\t\t\t*/\n\t\t\topen: function(method, url, async, user, password) {\n\t\t\t\tvar urlp;\n\t\t\t\t\n\t\t\t\t// first two arguments are required\n\t\t\t\tif (!method || !url) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.SYNTAX_ERR);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 2 - check if any code point in method is higher than U+00FF or after deflating method it does not match the method\n\t\t\t\tif (/[\\u0100-\\uffff]/.test(method) || Encode.utf8_encode(method) !== method) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.SYNTAX_ERR);\n\t\t\t\t}\n\n\t\t\t\t// 3\n\t\t\t\tif (!!~Basic.inArray(method.toUpperCase(), ['CONNECT', 'DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT', 'TRACE', 'TRACK'])) {\n\t\t\t\t\t_method = method.toUpperCase();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t// 4 - allowing these methods poses a security risk\n\t\t\t\tif (!!~Basic.inArray(_method, ['CONNECT', 'TRACE', 'TRACK'])) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.SECURITY_ERR);\n\t\t\t\t}\n\n\t\t\t\t// 5\n\t\t\t\turl = Encode.utf8_encode(url);\n\t\t\t\t\n\t\t\t\t// 6 - Resolve url relative to the XMLHttpRequest base URL. If the algorithm returns an error, throw a \"SyntaxError\".\n\t\t\t\turlp = Url.parseUrl(url);\n\n\t\t\t\t_same_origin_flag = Url.hasSameOrigin(urlp);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t// 7 - manually build up absolute url\n\t\t\t\t_url = Url.resolveUrl(url);\n\t\t\n\t\t\t\t// 9-10, 12-13\n\t\t\t\tif ((user || password) && !_same_origin_flag) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_ACCESS_ERR);\n\t\t\t\t}\n\n\t\t\t\t_user = user || urlp.user;\n\t\t\t\t_password = password || urlp.pass;\n\t\t\t\t\n\t\t\t\t// 11\n\t\t\t\t_async = async || true;\n\t\t\t\t\n\t\t\t\tif (_async === false && (_p('timeout') || _p('withCredentials') || _p('responseType') !== \"\")) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_ACCESS_ERR);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 14 - terminate abort()\n\t\t\t\t\n\t\t\t\t// 15 - terminate send()\n\n\t\t\t\t// 18\n\t\t\t\t_sync_flag = !_async;\n\t\t\t\t_send_flag = false;\n\t\t\t\t_headers = {};\n\t\t\t\t_reset.call(this);\n\n\t\t\t\t// 19\n\t\t\t\t_p('readyState', XMLHttpRequest.OPENED);\n\t\t\t\t\n\t\t\t\t// 20\n\t\t\t\tthis.convertEventPropsToHandlers(['readystatechange']); // unify event handlers\n\t\t\t\tthis.dispatchEvent('readystatechange');\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\tAppends an header to the list of author request headers, or if header is already\n\t\t\tin the list of author request headers, combines its value with value.\n\n\t\t\tThrows an \"InvalidStateError\" exception if the state is not OPENED or if the send() flag is set.\n\t\t\tThrows a \"SyntaxError\" exception if header is not a valid HTTP header field name or if value\n\t\t\tis not a valid HTTP header field value.\n\t\t\t\n\t\t\t@method setRequestHeader\n\t\t\t@param {String} header\n\t\t\t@param {String|Number} value\n\t\t\t*/\n\t\t\tsetRequestHeader: function(header, value) {\n\t\t\t\tvar uaHeaders = [ // these headers are controlled by the user agent\n\t\t\t\t\t\t\"accept-charset\",\n\t\t\t\t\t\t\"accept-encoding\",\n\t\t\t\t\t\t\"access-control-request-headers\",\n\t\t\t\t\t\t\"access-control-request-method\",\n\t\t\t\t\t\t\"connection\",\n\t\t\t\t\t\t\"content-length\",\n\t\t\t\t\t\t\"cookie\",\n\t\t\t\t\t\t\"cookie2\",\n\t\t\t\t\t\t\"content-transfer-encoding\",\n\t\t\t\t\t\t\"date\",\n\t\t\t\t\t\t\"expect\",\n\t\t\t\t\t\t\"host\",\n\t\t\t\t\t\t\"keep-alive\",\n\t\t\t\t\t\t\"origin\",\n\t\t\t\t\t\t\"referer\",\n\t\t\t\t\t\t\"te\",\n\t\t\t\t\t\t\"trailer\",\n\t\t\t\t\t\t\"transfer-encoding\",\n\t\t\t\t\t\t\"upgrade\",\n\t\t\t\t\t\t\"user-agent\",\n\t\t\t\t\t\t\"via\"\n\t\t\t\t\t];\n\t\t\t\t\n\t\t\t\t// 1-2\n\t\t\t\tif (_p('readyState') !== XMLHttpRequest.OPENED || _send_flag) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t}\n\n\t\t\t\t// 3\n\t\t\t\tif (/[\\u0100-\\uffff]/.test(header) || Encode.utf8_encode(header) !== header) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.SYNTAX_ERR);\n\t\t\t\t}\n\n\t\t\t\t// 4\n\t\t\t\t/* this step is seemingly bypassed in browsers, probably to allow various unicode characters in header values\n\t\t\t\tif (/[\\u0100-\\uffff]/.test(value) || Encode.utf8_encode(value) !== value) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.SYNTAX_ERR);\n\t\t\t\t}*/\n\n\t\t\t\theader = Basic.trim(header).toLowerCase();\n\t\t\t\t\n\t\t\t\t// setting of proxy-* and sec-* headers is prohibited by spec\n\t\t\t\tif (!!~Basic.inArray(header, uaHeaders) || /^(proxy\\-|sec\\-)/.test(header)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// camelize\n\t\t\t\t// browsers lowercase header names (at least for custom ones)\n\t\t\t\t// header = header.replace(/\\b\\w/g, function($1) { return $1.toUpperCase(); });\n\t\t\t\t\n\t\t\t\tif (!_headers[header]) {\n\t\t\t\t\t_headers[header] = value;\n\t\t\t\t} else {\n\t\t\t\t\t// http://tools.ietf.org/html/rfc2616#section-4.2 (last paragraph)\n\t\t\t\t\t_headers[header] += ', ' + value;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t/**\n\t\t\tReturns all headers from the response, with the exception of those whose field name is Set-Cookie or Set-Cookie2.\n\n\t\t\t@method getAllResponseHeaders\n\t\t\t@return {String} reponse headers or empty string\n\t\t\t*/\n\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\treturn _responseHeaders || '';\n\t\t\t},\n\n\t\t\t/**\n\t\t\tReturns the header field value from the response of which the field name matches header, \n\t\t\tunless the field name is Set-Cookie or Set-Cookie2.\n\n\t\t\t@method getResponseHeader\n\t\t\t@param {String} header\n\t\t\t@return {String} value(s) for the specified header or null\n\t\t\t*/\n\t\t\tgetResponseHeader: function(header) {\n\t\t\t\theader = header.toLowerCase();\n\n\t\t\t\tif (_error_flag || !!~Basic.inArray(header, ['set-cookie', 'set-cookie2'])) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tif (_responseHeaders && _responseHeaders !== '') {\n\t\t\t\t\t// if we didn't parse response headers until now, do it and keep for later\n\t\t\t\t\tif (!_responseHeadersBag) {\n\t\t\t\t\t\t_responseHeadersBag = {};\n\t\t\t\t\t\tBasic.each(_responseHeaders.split(/\\r\\n/), function(line) {\n\t\t\t\t\t\t\tvar pair = line.split(/:\\s+/);\n\t\t\t\t\t\t\tif (pair.length === 2) { // last line might be empty, omit\n\t\t\t\t\t\t\t\tpair[0] = Basic.trim(pair[0]); // just in case\n\t\t\t\t\t\t\t\t_responseHeadersBag[pair[0].toLowerCase()] = { // simply to retain header name in original form\n\t\t\t\t\t\t\t\t\theader: pair[0],\n\t\t\t\t\t\t\t\t\tvalue: Basic.trim(pair[1])\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (_responseHeadersBag.hasOwnProperty(header)) {\n\t\t\t\t\t\treturn _responseHeadersBag[header].header + ': ' + _responseHeadersBag[header].value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\tSets the Content-Type header for the response to mime.\n\t\t\tThrows an \"InvalidStateError\" exception if the state is LOADING or DONE.\n\t\t\tThrows a \"SyntaxError\" exception if mime is not a valid media type.\n\n\t\t\t@method overrideMimeType\n\t\t\t@param String mime Mime type to set\n\t\t\t*/\n\t\t\toverrideMimeType: function(mime) {\n\t\t\t\tvar matches, charset;\n\t\t\t\n\t\t\t\t// 1\n\t\t\t\tif (!!~Basic.inArray(_p('readyState'), [XMLHttpRequest.LOADING, XMLHttpRequest.DONE])) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t}\n\n\t\t\t\t// 2\n\t\t\t\tmime = Basic.trim(mime.toLowerCase());\n\n\t\t\t\tif (/;/.test(mime) && (matches = mime.match(/^([^;]+)(?:;\\scharset\\=)?(.*)$/))) {\n\t\t\t\t\tmime = matches[1];\n\t\t\t\t\tif (matches[2]) {\n\t\t\t\t\t\tcharset = matches[2];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!Mime.mimes[mime]) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.SYNTAX_ERR);\n\t\t\t\t}\n\n\t\t\t\t// 3-4\n\t\t\t\t_finalMime = mime;\n\t\t\t\t_finalCharset = charset;\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\tInitiates the request. The optional argument provides the request entity body.\n\t\t\tThe argument is ignored if request method is GET or HEAD.\n\n\t\t\tThrows an \"InvalidStateError\" exception if the state is not OPENED or if the send() flag is set.\n\n\t\t\t@method send\n\t\t\t@param {Blob|Document|String|FormData} [data] Request entity body\n\t\t\t@param {Object} [options] Set of requirements and pre-requisities for runtime initialization\n\t\t\t*/\n\t\t\tsend: function(data, options) {\t\t\t\t\t\n\t\t\t\tif (Basic.typeOf(options) === 'string') {\n\t\t\t\t\t_options = { ruid: options };\n\t\t\t\t} else if (!options) {\n\t\t\t\t\t_options = {};\n\t\t\t\t} else {\n\t\t\t\t\t_options = options;\n\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\tthis.convertEventPropsToHandlers(dispatches);\n\t\t\t\tthis.upload.convertEventPropsToHandlers(dispatches);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t// 1-2\n\t\t\t\tif (this.readyState !== XMLHttpRequest.OPENED || _send_flag) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 3\t\t\t\t\t\n\t\t\t\t// sending Blob\n\t\t\t\tif (data instanceof Blob) {\n\t\t\t\t\t_options.ruid = data.ruid;\n\t\t\t\t\t_mimeType = data.type || 'application/octet-stream';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// FormData\n\t\t\t\telse if (data instanceof FormData) {\n\t\t\t\t\tif (data.hasBlob()) {\n\t\t\t\t\t\tvar blob = data.getBlob();\n\t\t\t\t\t\t_options.ruid = blob.ruid;\n\t\t\t\t\t\t_mimeType = blob.type || 'application/octet-stream';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// DOMString\n\t\t\t\telse if (typeof data === 'string') {\n\t\t\t\t\t_encoding = 'UTF-8';\n\t\t\t\t\t_mimeType = 'text/plain;charset=UTF-8';\n\t\t\t\t\t\n\t\t\t\t\t// data should be converted to Unicode and encoded as UTF-8\n\t\t\t\t\tdata = Encode.utf8_encode(data);\n\t\t\t\t}\n\n\t\t\t\t// if withCredentials not set, but requested, set it automatically\n\t\t\t\tif (!this.withCredentials) {\n\t\t\t\t\tthis.withCredentials = (_options.required_caps && _options.required_caps.send_browser_cookies) && !_same_origin_flag;\n\t\t\t\t}\n\n\t\t\t\t// 4 - storage mutex\n\t\t\t\t// 5\n\t\t\t\t_upload_events_flag = (!_sync_flag && this.upload.hasEventListener()); // DSAP\n\t\t\t\t// 6\n\t\t\t\t_error_flag = false;\n\t\t\t\t// 7\n\t\t\t\t_upload_complete_flag = !data;\n\t\t\t\t// 8 - Asynchronous steps\n\t\t\t\tif (!_sync_flag) {\n\t\t\t\t\t// 8.1\n\t\t\t\t\t_send_flag = true;\n\t\t\t\t\t// 8.2\n\t\t\t\t\t// this.dispatchEvent('loadstart'); // will be dispatched either by native or runtime xhr\n\t\t\t\t\t// 8.3\n\t\t\t\t\t//if (!_upload_complete_flag) {\n\t\t\t\t\t\t// this.upload.dispatchEvent('loadstart');\t// will be dispatched either by native or runtime xhr\n\t\t\t\t\t//}\n\t\t\t\t}\n\t\t\t\t// 8.5 - Return the send() method call, but continue running the steps in this algorithm.\n\t\t\t\t_doXHR.call(this, data);\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\tCancels any network activity.\n\t\t\t\n\t\t\t@method abort\n\t\t\t*/\n\t\t\tabort: function() {\n\t\t\t\t_error_flag = true;\n\t\t\t\t_sync_flag = false;\n\n\t\t\t\tif (!~Basic.inArray(_p('readyState'), [XMLHttpRequest.UNSENT, XMLHttpRequest.OPENED, XMLHttpRequest.DONE])) {\n\t\t\t\t\t_p('readyState', XMLHttpRequest.DONE);\n\t\t\t\t\t_send_flag = false;\n\n\t\t\t\t\tif (_xhr) {\n\t\t\t\t\t\t_xhr.getRuntime().exec.call(_xhr, 'XMLHttpRequest', 'abort', _upload_complete_flag);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t}\n\n\t\t\t\t\t_upload_complete_flag = true;\n\t\t\t\t} else {\n\t\t\t\t\t_p('readyState', XMLHttpRequest.UNSENT);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdestroy: function() {\n\t\t\t\tif (_xhr) {\n\t\t\t\t\tif (Basic.typeOf(_xhr.destroy) === 'function') {\n\t\t\t\t\t\t_xhr.destroy();\n\t\t\t\t\t}\n\t\t\t\t\t_xhr = null;\n\t\t\t\t}\n\n\t\t\t\tthis.unbindAll();\n\n\t\t\t\tif (this.upload) {\n\t\t\t\t\tthis.upload.unbindAll();\n\t\t\t\t\tthis.upload = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t/* this is nice, but maybe too lengthy\n\n\t\t// if supported by JS version, set getters/setters for specific properties\n\t\to.defineProperty(this, 'readyState', {\n\t\t\tconfigurable: false,\n\n\t\t\tget: function() {\n\t\t\t\treturn _p('readyState');\n\t\t\t}\n\t\t});\n\n\t\to.defineProperty(this, 'timeout', {\n\t\t\tconfigurable: false,\n\n\t\t\tget: function() {\n\t\t\t\treturn _p('timeout');\n\t\t\t},\n\n\t\t\tset: function(value) {\n\n\t\t\t\tif (_sync_flag) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_ACCESS_ERR);\n\t\t\t\t}\n\n\t\t\t\t// timeout still should be measured relative to the start time of request\n\t\t\t\t_timeoutset_time = (new Date).getTime();\n\n\t\t\t\t_p('timeout', value);\n\t\t\t}\n\t\t});\n\n\t\t// the withCredentials attribute has no effect when fetching same-origin resources\n\t\to.defineProperty(this, 'withCredentials', {\n\t\t\tconfigurable: false,\n\n\t\t\tget: function() {\n\t\t\t\treturn _p('withCredentials');\n\t\t\t},\n\n\t\t\tset: function(value) {\n\t\t\t\t// 1-2\n\t\t\t\tif (!~o.inArray(_p('readyState'), [XMLHttpRequest.UNSENT, XMLHttpRequest.OPENED]) || _send_flag) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t}\n\n\t\t\t\t// 3-4\n\t\t\t\tif (_anonymous_flag || _sync_flag) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_ACCESS_ERR);\n\t\t\t\t}\n\n\t\t\t\t// 5\n\t\t\t\t_p('withCredentials', value);\n\t\t\t}\n\t\t});\n\n\t\to.defineProperty(this, 'status', {\n\t\t\tconfigurable: false,\n\n\t\t\tget: function() {\n\t\t\t\treturn _p('status');\n\t\t\t}\n\t\t});\n\n\t\to.defineProperty(this, 'statusText', {\n\t\t\tconfigurable: false,\n\n\t\t\tget: function() {\n\t\t\t\treturn _p('statusText');\n\t\t\t}\n\t\t});\n\n\t\to.defineProperty(this, 'responseType', {\n\t\t\tconfigurable: false,\n\n\t\t\tget: function() {\n\t\t\t\treturn _p('responseType');\n\t\t\t},\n\n\t\t\tset: function(value) {\n\t\t\t\t// 1\n\t\t\t\tif (!!~o.inArray(_p('readyState'), [XMLHttpRequest.LOADING, XMLHttpRequest.DONE])) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t}\n\n\t\t\t\t// 2\n\t\t\t\tif (_sync_flag) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_ACCESS_ERR);\n\t\t\t\t}\n\n\t\t\t\t// 3\n\t\t\t\t_p('responseType', value.toLowerCase());\n\t\t\t}\n\t\t});\n\n\t\to.defineProperty(this, 'responseText', {\n\t\t\tconfigurable: false,\n\n\t\t\tget: function() {\n\t\t\t\t// 1\n\t\t\t\tif (!~o.inArray(_p('responseType'), ['', 'text'])) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t}\n\n\t\t\t\t// 2-3\n\t\t\t\tif (_p('readyState') !== XMLHttpRequest.DONE && _p('readyState') !== XMLHttpRequest.LOADING || _error_flag) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t}\n\n\t\t\t\treturn _p('responseText');\n\t\t\t}\n\t\t});\n\n\t\to.defineProperty(this, 'responseXML', {\n\t\t\tconfigurable: false,\n\n\t\t\tget: function() {\n\t\t\t\t// 1\n\t\t\t\tif (!~o.inArray(_p('responseType'), ['', 'document'])) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t}\n\n\t\t\t\t// 2-3\n\t\t\t\tif (_p('readyState') !== XMLHttpRequest.DONE || _error_flag) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t}\n\n\t\t\t\treturn _p('responseXML');\n\t\t\t}\n\t\t});\n\n\t\to.defineProperty(this, 'response', {\n\t\t\tconfigurable: false,\n\n\t\t\tget: function() {\n\t\t\t\tif (!!~o.inArray(_p('responseType'), ['', 'text'])) {\n\t\t\t\t\tif (_p('readyState') !== XMLHttpRequest.DONE && _p('readyState') !== XMLHttpRequest.LOADING || _error_flag) {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (_p('readyState') !== XMLHttpRequest.DONE || _error_flag) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn _p('response');\n\t\t\t}\n\t\t});\n\n\t\t*/\n\n\t\tfunction _p(prop, value) {\n\t\t\tif (!props.hasOwnProperty(prop)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (arguments.length === 1) { // get\n\t\t\t\treturn Env.can('define_property') ? props[prop] : self[prop];\n\t\t\t} else { // set\n\t\t\t\tif (Env.can('define_property')) {\n\t\t\t\t\tprops[prop] = value;\n\t\t\t\t} else {\n\t\t\t\t\tself[prop] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t/*\n\t\tfunction _toASCII(str, AllowUnassigned, UseSTD3ASCIIRules) {\n\t\t\t// TODO: http://tools.ietf.org/html/rfc3490#section-4.1\n\t\t\treturn str.toLowerCase();\n\t\t}\n\t\t*/\n\t\t\n\t\t\n\t\tfunction _doXHR(data) {\n\t\t\tvar self = this;\n\t\t\t\n\t\t\t_start_time = new Date().getTime();\n\n\t\t\t_xhr = new RuntimeTarget();\n\n\t\t\tfunction loadEnd() {\n\t\t\t\tif (_xhr) { // it could have been destroyed by now\n\t\t\t\t\t_xhr.destroy();\n\t\t\t\t\t_xhr = null;\n\t\t\t\t}\n\t\t\t\tself.dispatchEvent('loadend');\n\t\t\t\tself = null;\n\t\t\t}\n\n\t\t\tfunction exec(runtime) {\n\t\t\t\t_xhr.bind('LoadStart', function(e) {\n\t\t\t\t\t_p('readyState', XMLHttpRequest.LOADING);\n\t\t\t\t\tself.dispatchEvent('readystatechange');\n\n\t\t\t\t\tself.dispatchEvent(e);\n\t\t\t\t\t\n\t\t\t\t\tif (_upload_events_flag) {\n\t\t\t\t\t\tself.upload.dispatchEvent(e);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t_xhr.bind('Progress', function(e) {\n\t\t\t\t\tif (_p('readyState') !== XMLHttpRequest.LOADING) {\n\t\t\t\t\t\t_p('readyState', XMLHttpRequest.LOADING); // LoadStart unreliable (in Flash for example)\n\t\t\t\t\t\tself.dispatchEvent('readystatechange');\n\t\t\t\t\t}\n\t\t\t\t\tself.dispatchEvent(e);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t_xhr.bind('UploadProgress', function(e) {\n\t\t\t\t\tif (_upload_events_flag) {\n\t\t\t\t\t\tself.upload.dispatchEvent({\n\t\t\t\t\t\t\ttype: 'progress',\n\t\t\t\t\t\t\tlengthComputable: false,\n\t\t\t\t\t\t\ttotal: e.total,\n\t\t\t\t\t\t\tloaded: e.loaded\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t_xhr.bind('Load', function(e) {\n\t\t\t\t\t_p('readyState', XMLHttpRequest.DONE);\n\t\t\t\t\t_p('status', Number(runtime.exec.call(_xhr, 'XMLHttpRequest', 'getStatus') || 0));\n\t\t\t\t\t_p('statusText', httpCode[_p('status')] || \"\");\n\t\t\t\t\t\n\t\t\t\t\t_p('response', runtime.exec.call(_xhr, 'XMLHttpRequest', 'getResponse', _p('responseType')));\n\n\t\t\t\t\tif (!!~Basic.inArray(_p('responseType'), ['text', ''])) {\n\t\t\t\t\t\t_p('responseText', _p('response'));\n\t\t\t\t\t} else if (_p('responseType') === 'document') {\n\t\t\t\t\t\t_p('responseXML', _p('response'));\n\t\t\t\t\t}\n\n\t\t\t\t\t_responseHeaders = runtime.exec.call(_xhr, 'XMLHttpRequest', 'getAllResponseHeaders');\n\n\t\t\t\t\tself.dispatchEvent('readystatechange');\n\t\t\t\t\t\n\t\t\t\t\tif (_p('status') > 0) { // status 0 usually means that server is unreachable\n\t\t\t\t\t\tif (_upload_events_flag) {\n\t\t\t\t\t\t\tself.upload.dispatchEvent(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.dispatchEvent(e);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_error_flag = true;\n\t\t\t\t\t\tself.dispatchEvent('error');\n\t\t\t\t\t}\n\t\t\t\t\tloadEnd();\n\t\t\t\t});\n\n\t\t\t\t_xhr.bind('Abort', function(e) {\n\t\t\t\t\tself.dispatchEvent(e);\n\t\t\t\t\tloadEnd();\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t_xhr.bind('Error', function(e) {\n\t\t\t\t\t_error_flag = true;\n\t\t\t\t\t_p('readyState', XMLHttpRequest.DONE);\n\t\t\t\t\tself.dispatchEvent('readystatechange');\n\t\t\t\t\t_upload_complete_flag = true;\n\t\t\t\t\tself.dispatchEvent(e);\n\t\t\t\t\tloadEnd();\n\t\t\t\t});\n\n\t\t\t\truntime.exec.call(_xhr, 'XMLHttpRequest', 'send', {\n\t\t\t\t\turl: _url,\n\t\t\t\t\tmethod: _method,\n\t\t\t\t\tasync: _async,\n\t\t\t\t\tuser: _user,\n\t\t\t\t\tpassword: _password,\n\t\t\t\t\theaders: _headers,\n\t\t\t\t\tmimeType: _mimeType,\n\t\t\t\t\tencoding: _encoding,\n\t\t\t\t\tresponseType: self.responseType,\n\t\t\t\t\twithCredentials: self.withCredentials,\n\t\t\t\t\toptions: _options\n\t\t\t\t}, data);\n\t\t\t}\n\n\t\t\t// clarify our requirements\n\t\t\tif (typeof(_options.required_caps) === 'string') {\n\t\t\t\t_options.required_caps = Runtime.parseCaps(_options.required_caps);\n\t\t\t}\n\n\t\t\t_options.required_caps = Basic.extend({}, _options.required_caps, {\n\t\t\t\treturn_response_type: self.responseType\n\t\t\t});\n\n\t\t\tif (data instanceof FormData) {\n\t\t\t\t_options.required_caps.send_multipart = true;\n\t\t\t}\n\n\t\t\tif (!_same_origin_flag) {\n\t\t\t\t_options.required_caps.do_cors = true;\n\t\t\t}\n\t\t\t\n\n\t\t\tif (_options.ruid) { // we do not need to wait if we can connect directly\n\t\t\t\texec(_xhr.connectRuntime(_options));\n\t\t\t} else {\n\t\t\t\t_xhr.bind('RuntimeInit', function(e, runtime) {\n\t\t\t\t\texec(runtime);\n\t\t\t\t});\n\t\t\t\t_xhr.bind('RuntimeError', function(e, err) {\n\t\t\t\t\tself.dispatchEvent('RuntimeError', err);\n\t\t\t\t});\n\t\t\t\t_xhr.connectRuntime(_options);\n\t\t\t}\n\t\t}\n\t\n\t\t\n\t\tfunction _reset() {\n\t\t\t_p('responseText', \"\");\n\t\t\t_p('responseXML', null);\n\t\t\t_p('response', null);\n\t\t\t_p('status', 0);\n\t\t\t_p('statusText', \"\");\n\t\t\t_start_time = _timeoutset_time = null;\n\t\t}\n\t}\n\n\tXMLHttpRequest.UNSENT = 0;\n\tXMLHttpRequest.OPENED = 1;\n\tXMLHttpRequest.HEADERS_RECEIVED = 2;\n\tXMLHttpRequest.LOADING = 3;\n\tXMLHttpRequest.DONE = 4;\n\t\n\tXMLHttpRequest.prototype = EventTarget.instance;\n\n\treturn XMLHttpRequest;\n});\n\n// Included from: src/javascript/runtime/Transporter.js\n\n/**\n * Transporter.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine(\"moxie/runtime/Transporter\", [\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/core/utils/Encode\",\n\t\"moxie/runtime/RuntimeClient\",\n\t\"moxie/core/EventTarget\"\n], function(Basic, Encode, RuntimeClient, EventTarget) {\n\tfunction Transporter() {\n\t\tvar mod, _runtime, _data, _size, _pos, _chunk_size;\n\n\t\tRuntimeClient.call(this);\n\n\t\tBasic.extend(this, {\n\t\t\tuid: Basic.guid('uid_'),\n\n\t\t\tstate: Transporter.IDLE,\n\n\t\t\tresult: null,\n\n\t\t\ttransport: function(data, type, options) {\n\t\t\t\tvar self = this;\n\n\t\t\t\toptions = Basic.extend({\n\t\t\t\t\tchunk_size: 204798\n\t\t\t\t}, options);\n\n\t\t\t\t// should divide by three, base64 requires this\n\t\t\t\tif ((mod = options.chunk_size % 3)) {\n\t\t\t\t\toptions.chunk_size += 3 - mod;\n\t\t\t\t}\n\n\t\t\t\t_chunk_size = options.chunk_size;\n\n\t\t\t\t_reset.call(this);\n\t\t\t\t_data = data;\n\t\t\t\t_size = data.length;\n\n\t\t\t\tif (Basic.typeOf(options) === 'string' || options.ruid) {\n\t\t\t\t\t_run.call(self, type, this.connectRuntime(options));\n\t\t\t\t} else {\n\t\t\t\t\t// we require this to run only once\n\t\t\t\t\tvar cb = function(e, runtime) {\n\t\t\t\t\t\tself.unbind(\"RuntimeInit\", cb);\n\t\t\t\t\t\t_run.call(self, type, runtime);\n\t\t\t\t\t};\n\t\t\t\t\tthis.bind(\"RuntimeInit\", cb);\n\t\t\t\t\tthis.connectRuntime(options);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tvar self = this;\n\n\t\t\t\tself.state = Transporter.IDLE;\n\t\t\t\tif (_runtime) {\n\t\t\t\t\t_runtime.exec.call(self, 'Transporter', 'clear');\n\t\t\t\t\tself.trigger(\"TransportingAborted\");\n\t\t\t\t}\n\n\t\t\t\t_reset.call(self);\n\t\t\t},\n\n\n\t\t\tdestroy: function() {\n\t\t\t\tthis.unbindAll();\n\t\t\t\t_runtime = null;\n\t\t\t\tthis.disconnectRuntime();\n\t\t\t\t_reset.call(this);\n\t\t\t}\n\t\t});\n\n\t\tfunction _reset() {\n\t\t\t_size = _pos = 0;\n\t\t\t_data = this.result = null;\n\t\t}\n\n\t\tfunction _run(type, runtime) {\n\t\t\tvar self = this;\n\n\t\t\t_runtime = runtime;\n\n\t\t\t//self.unbind(\"RuntimeInit\");\n\n\t\t\tself.bind(\"TransportingProgress\", function(e) {\n\t\t\t\t_pos = e.loaded;\n\n\t\t\t\tif (_pos < _size && Basic.inArray(self.state, [Transporter.IDLE, Transporter.DONE]) === -1) {\n\t\t\t\t\t_transport.call(self);\n\t\t\t\t}\n\t\t\t}, 999);\n\n\t\t\tself.bind(\"TransportingComplete\", function() {\n\t\t\t\t_pos = _size;\n\t\t\t\tself.state = Transporter.DONE;\n\t\t\t\t_data = null; // clean a bit\n\t\t\t\tself.result = _runtime.exec.call(self, 'Transporter', 'getAsBlob', type || '');\n\t\t\t}, 999);\n\n\t\t\tself.state = Transporter.BUSY;\n\t\t\tself.trigger(\"TransportingStarted\");\n\t\t\t_transport.call(self);\n\t\t}\n\n\t\tfunction _transport() {\n\t\t\tvar self = this,\n\t\t\t\tchunk,\n\t\t\t\tbytesLeft = _size - _pos;\n\n\t\t\tif (_chunk_size > bytesLeft) {\n\t\t\t\t_chunk_size = bytesLeft;\n\t\t\t}\n\n\t\t\tchunk = Encode.btoa(_data.substr(_pos, _chunk_size));\n\t\t\t_runtime.exec.call(self, 'Transporter', 'receive', chunk, _size);\n\t\t}\n\t}\n\n\tTransporter.IDLE = 0;\n\tTransporter.BUSY = 1;\n\tTransporter.DONE = 2;\n\n\tTransporter.prototype = EventTarget.instance;\n\n\treturn Transporter;\n});\n\n// Included from: src/javascript/image/Image.js\n\n/**\n * Image.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine(\"moxie/image/Image\", [\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/core/utils/Dom\",\n\t\"moxie/core/Exceptions\",\n\t\"moxie/file/FileReaderSync\",\n\t\"moxie/xhr/XMLHttpRequest\",\n\t\"moxie/runtime/Runtime\",\n\t\"moxie/runtime/RuntimeClient\",\n\t\"moxie/runtime/Transporter\",\n\t\"moxie/core/utils/Env\",\n\t\"moxie/core/EventTarget\",\n\t\"moxie/file/Blob\",\n\t\"moxie/file/File\",\n\t\"moxie/core/utils/Encode\"\n], function(Basic, Dom, x, FileReaderSync, XMLHttpRequest, Runtime, RuntimeClient, Transporter, Env, EventTarget, Blob, File, Encode) {\n\t/**\n\tImage preloading and manipulation utility. Additionally it provides access to image meta info (Exif, GPS) and raw binary data.\n\n\t@class Image\n\t@constructor\n\t@extends EventTarget\n\t*/\n\tvar dispatches = [\n\t\t'progress',\n\n\t\t/**\n\t\tDispatched when loading is complete.\n\n\t\t@event load\n\t\t@param {Object} event\n\t\t*/\n\t\t'load',\n\n\t\t'error',\n\n\t\t/**\n\t\tDispatched when resize operation is complete.\n\t\t\n\t\t@event resize\n\t\t@param {Object} event\n\t\t*/\n\t\t'resize',\n\n\t\t/**\n\t\tDispatched when visual representation of the image is successfully embedded\n\t\tinto the corresponsing container.\n\n\t\t@event embedded\n\t\t@param {Object} event\n\t\t*/\n\t\t'embedded'\n\t];\n\n\tfunction Image() {\n\t\tRuntimeClient.call(this);\n\n\t\tBasic.extend(this, {\n\t\t\t/**\n\t\t\tUnique id of the component\n\n\t\t\t@property uid\n\t\t\t@type {String}\n\t\t\t*/\n\t\t\tuid: Basic.guid('uid_'),\n\n\t\t\t/**\n\t\t\tUnique id of the connected runtime, if any.\n\n\t\t\t@property ruid\n\t\t\t@type {String}\n\t\t\t*/\n\t\t\truid: null,\n\n\t\t\t/**\n\t\t\tName of the file, that was used to create an image, if available. If not equals to empty string.\n\n\t\t\t@property name\n\t\t\t@type {String}\n\t\t\t@default \"\"\n\t\t\t*/\n\t\t\tname: \"\",\n\n\t\t\t/**\n\t\t\tSize of the image in bytes. Actual value is set only after image is preloaded.\n\n\t\t\t@property size\n\t\t\t@type {Number}\n\t\t\t@default 0\n\t\t\t*/\n\t\t\tsize: 0,\n\n\t\t\t/**\n\t\t\tWidth of the image. Actual value is set only after image is preloaded.\n\n\t\t\t@property width\n\t\t\t@type {Number}\n\t\t\t@default 0\n\t\t\t*/\n\t\t\twidth: 0,\n\n\t\t\t/**\n\t\t\tHeight of the image. Actual value is set only after image is preloaded.\n\n\t\t\t@property height\n\t\t\t@type {Number}\n\t\t\t@default 0\n\t\t\t*/\n\t\t\theight: 0,\n\n\t\t\t/**\n\t\t\tMime type of the image. Currently only image/jpeg and image/png are supported. Actual value is set only after image is preloaded.\n\n\t\t\t@property type\n\t\t\t@type {String}\n\t\t\t@default \"\"\n\t\t\t*/\n\t\t\ttype: \"\",\n\n\t\t\t/**\n\t\t\tHolds meta info (Exif, GPS). Is populated only for image/jpeg. Actual value is set only after image is preloaded.\n\n\t\t\t@property meta\n\t\t\t@type {Object}\n\t\t\t@default {}\n\t\t\t*/\n\t\t\tmeta: {},\n\n\t\t\t/**\n\t\t\tAlias for load method, that takes another mOxie.Image object as a source (see load).\n\n\t\t\t@method clone\n\t\t\t@param {Image} src Source for the image\n\t\t\t@param {Boolean} [exact=false] Whether to activate in-depth clone mode\n\t\t\t*/\n\t\t\tclone: function() {\n\t\t\t\tthis.load.apply(this, arguments);\n\t\t\t},\n\n\t\t\t/**\n\t\t\tLoads image from various sources. Currently the source for new image can be: mOxie.Image, mOxie.Blob/mOxie.File, \n\t\t\tnative Blob/File, dataUrl or URL. Depending on the type of the source, arguments - differ. When source is URL, \n\t\t\tImage will be downloaded from remote destination and loaded in memory.\n\n\t\t\t@example\n\t\t\t\tvar img = new mOxie.Image();\n\t\t\t\timg.onload = function() {\n\t\t\t\t\tvar blob = img.getAsBlob();\n\t\t\t\t\t\n\t\t\t\t\tvar formData = new mOxie.FormData();\n\t\t\t\t\tformData.append('file', blob);\n\n\t\t\t\t\tvar xhr = new mOxie.XMLHttpRequest();\n\t\t\t\t\txhr.onload = function() {\n\t\t\t\t\t\t// upload complete\n\t\t\t\t\t};\n\t\t\t\t\txhr.open('post', 'upload.php');\n\t\t\t\t\txhr.send(formData);\n\t\t\t\t};\n\t\t\t\timg.load(\"http://www.moxiecode.com/images/mox-logo.jpg\"); // notice file extension (.jpg)\n\t\t\t\n\n\t\t\t@method load\n\t\t\t@param {Image|Blob|File|String} src Source for the image\n\t\t\t@param {Boolean|Object} [mixed]\n\t\t\t*/\n\t\t\tload: function() {\n\t\t\t\t// this is here because to bind properly we need an uid first, which is created above\n\t\t\t\tthis.bind('Load Resize', function() {\n\t\t\t\t\t_updateInfo.call(this);\n\t\t\t\t}, 999);\n\n\t\t\t\tthis.convertEventPropsToHandlers(dispatches);\n\n\t\t\t\t_load.apply(this, arguments);\n\t\t\t},\n\n\t\t\t/**\n\t\t\tDownsizes the image to fit the specified width/height. If crop is supplied, image will be cropped to exact dimensions.\n\n\t\t\t@method downsize\n\t\t\t@param {Number} width Resulting width\n\t\t\t@param {Number} [height=width] Resulting height (optional, if not supplied will default to width)\n\t\t\t@param {Boolean} [crop=false] Whether to crop the image to exact dimensions\n\t\t\t@param {Boolean} [preserveHeaders=true] Whether to preserve meta headers (on JPEGs after resize)\n\t\t\t*/\n\t\t\tdownsize: function(opts) {\n\t\t\t\tvar defaults = {\n\t\t\t\t\twidth: this.width,\n\t\t\t\t\theight: this.height,\n\t\t\t\t\tcrop: false,\n\t\t\t\t\tpreserveHeaders: true\n\t\t\t\t};\n\n\t\t\t\tif (typeof(opts) === 'object') {\n\t\t\t\t\topts = Basic.extend(defaults, opts);\n\t\t\t\t} else {\n\t\t\t\t\topts = Basic.extend(defaults, {\n\t\t\t\t\t\twidth: arguments[0],\n\t\t\t\t\t\theight: arguments[1],\n\t\t\t\t\t\tcrop: arguments[2],\n\t\t\t\t\t\tpreserveHeaders: arguments[3]\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tif (!this.size) { // only preloaded image objects can be used as source\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t}\n\n\t\t\t\t\t// no way to reliably intercept the crash due to high resolution, so we simply avoid it\n\t\t\t\t\tif (this.width > Image.MAX_RESIZE_WIDTH || this.height > Image.MAX_RESIZE_HEIGHT) {\n\t\t\t\t\t\tthrow new x.ImageError(x.ImageError.MAX_RESOLUTION_ERR);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.getRuntime().exec.call(this, 'Image', 'downsize', opts.width, opts.height, opts.crop, opts.preserveHeaders);\n\t\t\t\t} catch(ex) {\n\t\t\t\t\t// for now simply trigger error event\n\t\t\t\t\tthis.trigger('error', ex.code);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\tAlias for downsize(width, height, true). (see downsize)\n\t\t\t\n\t\t\t@method crop\n\t\t\t@param {Number} width Resulting width\n\t\t\t@param {Number} [height=width] Resulting height (optional, if not supplied will default to width)\n\t\t\t@param {Boolean} [preserveHeaders=true] Whether to preserve meta headers (on JPEGs after resize)\n\t\t\t*/\n\t\t\tcrop: function(width, height, preserveHeaders) {\n\t\t\t\tthis.downsize(width, height, true, preserveHeaders);\n\t\t\t},\n\n\t\t\tgetAsCanvas: function() {\n\t\t\t\tif (!Env.can('create_canvas')) {\n\t\t\t\t\tthrow new x.RuntimeError(x.RuntimeError.NOT_SUPPORTED_ERR);\n\t\t\t\t}\n\n\t\t\t\tvar runtime = this.connectRuntime(this.ruid);\n\t\t\t\treturn runtime.exec.call(this, 'Image', 'getAsCanvas');\n\t\t\t},\n\n\t\t\t/**\n\t\t\tRetrieves image in it's current state as mOxie.Blob object. Cannot be run on empty or image in progress (throws\n\t\t\tDOMException.INVALID_STATE_ERR).\n\n\t\t\t@method getAsBlob\n\t\t\t@param {String} [type=\"image/jpeg\"] Mime type of resulting blob. Can either be image/jpeg or image/png\n\t\t\t@param {Number} [quality=90] Applicable only together with mime type image/jpeg\n\t\t\t@return {Blob} Image as Blob\n\t\t\t*/\n\t\t\tgetAsBlob: function(type, quality) {\n\t\t\t\tif (!this.size) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t}\n\n\t\t\t\tif (!type) {\n\t\t\t\t\ttype = 'image/jpeg';\n\t\t\t\t}\n\n\t\t\t\tif (type === 'image/jpeg' && !quality) {\n\t\t\t\t\tquality = 90;\n\t\t\t\t}\n\n\t\t\t\treturn this.getRuntime().exec.call(this, 'Image', 'getAsBlob', type, quality);\n\t\t\t},\n\n\t\t\t/**\n\t\t\tRetrieves image in it's current state as dataURL string. Cannot be run on empty or image in progress (throws\n\t\t\tDOMException.INVALID_STATE_ERR).\n\n\t\t\t@method getAsDataURL\n\t\t\t@param {String} [type=\"image/jpeg\"] Mime type of resulting blob. Can either be image/jpeg or image/png\n\t\t\t@param {Number} [quality=90] Applicable only together with mime type image/jpeg\n\t\t\t@return {String} Image as dataURL string\n\t\t\t*/\n\t\t\tgetAsDataURL: function(type, quality) {\n\t\t\t\tif (!this.size) {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t}\n\t\t\t\treturn this.getRuntime().exec.call(this, 'Image', 'getAsDataURL', type, quality);\n\t\t\t},\n\n\t\t\t/**\n\t\t\tRetrieves image in it's current state as binary string. Cannot be run on empty or image in progress (throws\n\t\t\tDOMException.INVALID_STATE_ERR).\n\n\t\t\t@method getAsBinaryString\n\t\t\t@param {String} [type=\"image/jpeg\"] Mime type of resulting blob. Can either be image/jpeg or image/png\n\t\t\t@param {Number} [quality=90] Applicable only together with mime type image/jpeg\n\t\t\t@return {String} Image as binary string\n\t\t\t*/\n\t\t\tgetAsBinaryString: function(type, quality) {\n\t\t\t\tvar dataUrl = this.getAsDataURL(type, quality);\n\t\t\t\treturn Encode.atob(dataUrl.substring(dataUrl.indexOf('base64,') + 7));\n\t\t\t},\n\n\t\t\t/**\n\t\t\tEmbeds a visual representation of the image into the specified node. Depending on the runtime, \n\t\t\tit might be a canvas, an img node or a thrid party shim object (Flash or SilverLight - very rare, \n\t\t\tcan be used in legacy browsers that do not have canvas or proper dataURI support).\n\n\t\t\t@method embed\n\t\t\t@param {DOMElement} el DOM element to insert the image object into\n\t\t\t@param {Object} [options]\n\t\t\t\t@param {Number} [options.width] The width of an embed (defaults to the image width)\n\t\t\t\t@param {Number} [options.height] The height of an embed (defaults to the image height)\n\t\t\t\t@param {String} [type=\"image/jpeg\"] Mime type\n\t\t\t\t@param {Number} [quality=90] Quality of an embed, if mime type is image/jpeg\n\t\t\t\t@param {Boolean} [crop=false] Whether to crop an embed to the specified dimensions\n\t\t\t*/\n\t\t\tembed: function(el) {\n\t\t\t\tvar self = this\n\t\t\t\t, imgCopy\n\t\t\t\t, type, quality, crop\n\t\t\t\t, options = arguments[1] || {}\n\t\t\t\t, width = this.width\n\t\t\t\t, height = this.height\n\t\t\t\t, runtime // this has to be outside of all the closures to contain proper runtime\n\t\t\t\t;\n\n\t\t\t\tfunction onResize() {\n\t\t\t\t\t// if possible, embed a canvas element directly\n\t\t\t\t\tif (Env.can('create_canvas')) {\n\t\t\t\t\t\tvar canvas = imgCopy.getAsCanvas();\n\t\t\t\t\t\tif (canvas) {\n\t\t\t\t\t\t\tel.appendChild(canvas);\n\t\t\t\t\t\t\tcanvas = null;\n\t\t\t\t\t\t\timgCopy.destroy();\n\t\t\t\t\t\t\tself.trigger('embedded');\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar dataUrl = imgCopy.getAsDataURL(type, quality);\n\t\t\t\t\tif (!dataUrl) {\n\t\t\t\t\t\tthrow new x.ImageError(x.ImageError.WRONG_FORMAT);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Env.can('use_data_uri_of', dataUrl.length)) {\n\t\t\t\t\t\tel.innerHTML = '<img src=\"' + dataUrl + '\" width=\"' + imgCopy.width + '\" height=\"' + imgCopy.height + '\" />';\n\t\t\t\t\t\timgCopy.destroy();\n\t\t\t\t\t\tself.trigger('embedded');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar tr = new Transporter();\n\n\t\t\t\t\t\ttr.bind(\"TransportingComplete\", function() {\n\t\t\t\t\t\t\truntime = self.connectRuntime(this.result.ruid);\n\n\t\t\t\t\t\t\tself.bind(\"Embedded\", function() {\n\t\t\t\t\t\t\t\t// position and size properly\n\t\t\t\t\t\t\t\tBasic.extend(runtime.getShimContainer().style, {\n\t\t\t\t\t\t\t\t\t//position: 'relative',\n\t\t\t\t\t\t\t\t\ttop: '0px',\n\t\t\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\t\t\twidth: imgCopy.width + 'px',\n\t\t\t\t\t\t\t\t\theight: imgCopy.height + 'px'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t// some shims (Flash/SilverLight) reinitialize, if parent element is hidden, reordered or it's\n\t\t\t\t\t\t\t\t// position type changes (in Gecko), but since we basically need this only in IEs 6/7 and\n\t\t\t\t\t\t\t\t// sometimes 8 and they do not have this problem, we can comment this for now\n\t\t\t\t\t\t\t\t/*tr.bind(\"RuntimeInit\", function(e, runtime) {\n\t\t\t\t\t\t\t\t\ttr.destroy();\n\t\t\t\t\t\t\t\t\truntime.destroy();\n\t\t\t\t\t\t\t\t\tonResize.call(self); // re-feed our image data\n\t\t\t\t\t\t\t\t});*/\n\n\t\t\t\t\t\t\t\truntime = null;\n\t\t\t\t\t\t\t}, 999);\n\n\t\t\t\t\t\t\truntime.exec.call(self, \"ImageView\", \"display\", this.result.uid, width, height);\n\t\t\t\t\t\t\timgCopy.destroy();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\ttr.transport(Encode.atob(dataUrl.substring(dataUrl.indexOf('base64,') + 7)), type, Basic.extend({}, options, {\n\t\t\t\t\t\t\trequired_caps: {\n\t\t\t\t\t\t\t\tdisplay_media: true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\truntime_order: 'flash,silverlight',\n\t\t\t\t\t\t\tcontainer: el\n\t\t\t\t\t\t}));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tif (!(el = Dom.get(el))) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_NODE_TYPE_ERR);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!this.size) { // only preloaded image objects can be used as source\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.width > Image.MAX_RESIZE_WIDTH || this.height > Image.MAX_RESIZE_HEIGHT) {\n\t\t\t\t\t\tthrow new x.ImageError(x.ImageError.MAX_RESOLUTION_ERR);\n\t\t\t\t\t}\n\n\t\t\t\t\ttype = options.type || this.type || 'image/jpeg';\n\t\t\t\t\tquality = options.quality || 90;\n\t\t\t\t\tcrop = Basic.typeOf(options.crop) !== 'undefined' ? options.crop : false;\n\n\t\t\t\t\t// figure out dimensions for the thumb\n\t\t\t\t\tif (options.width) {\n\t\t\t\t\t\twidth = options.width;\n\t\t\t\t\t\theight = options.height || width;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// if container element has measurable dimensions, use them\n\t\t\t\t\t\tvar dimensions = Dom.getSize(el);\n\t\t\t\t\t\tif (dimensions.w && dimensions.h) { // both should be > 0\n\t\t\t\t\t\t\twidth = dimensions.w;\n\t\t\t\t\t\t\theight = dimensions.h;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\timgCopy = new Image();\n\n\t\t\t\t\timgCopy.bind(\"Resize\", function() {\n\t\t\t\t\t\tonResize.call(self);\n\t\t\t\t\t});\n\n\t\t\t\t\timgCopy.bind(\"Load\", function() {\n\t\t\t\t\t\timgCopy.downsize(width, height, crop, false);\n\t\t\t\t\t});\n\n\t\t\t\t\timgCopy.clone(this, false);\n\n\t\t\t\t\treturn imgCopy;\n\t\t\t\t} catch(ex) {\n\t\t\t\t\t// for now simply trigger error event\n\t\t\t\t\tthis.trigger('error', ex.code);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\tProperly destroys the image and frees resources in use. If any. Recommended way to dispose mOxie.Image object.\n\n\t\t\t@method destroy\n\t\t\t*/\n\t\t\tdestroy: function() {\n\t\t\t\tif (this.ruid) {\n\t\t\t\t\tthis.getRuntime().exec.call(this, 'Image', 'destroy');\n\t\t\t\t\tthis.disconnectRuntime();\n\t\t\t\t}\n\t\t\t\tthis.unbindAll();\n\t\t\t}\n\t\t});\n\n\n\t\tfunction _updateInfo(info) {\n\t\t\tif (!info) {\n\t\t\t\tinfo = this.getRuntime().exec.call(this, 'Image', 'getInfo');\n\t\t\t}\n\n\t\t\tthis.size = info.size;\n\t\t\tthis.width = info.width;\n\t\t\tthis.height = info.height;\n\t\t\tthis.type = info.type;\n\t\t\tthis.meta = info.meta;\n\n\t\t\t// update file name, only if empty\n\t\t\tif (this.name === '') {\n\t\t\t\tthis.name = info.name;\n\t\t\t}\n\t\t}\n\t\t\n\n\t\tfunction _load(src) {\n\t\t\tvar srcType = Basic.typeOf(src);\n\n\t\t\ttry {\n\t\t\t\t// if source is Image\n\t\t\t\tif (src instanceof Image) {\n\t\t\t\t\tif (!src.size) { // only preloaded image objects can be used as source\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.INVALID_STATE_ERR);\n\t\t\t\t\t}\n\t\t\t\t\t_loadFromImage.apply(this, arguments);\n\t\t\t\t}\n\t\t\t\t// if source is o.Blob/o.File\n\t\t\t\telse if (src instanceof Blob) {\n\t\t\t\t\tif (!~Basic.inArray(src.type, ['image/jpeg', 'image/png'])) {\n\t\t\t\t\t\tthrow new x.ImageError(x.ImageError.WRONG_FORMAT);\n\t\t\t\t\t}\n\t\t\t\t\t_loadFromBlob.apply(this, arguments);\n\t\t\t\t}\n\t\t\t\t// if native blob/file\n\t\t\t\telse if (Basic.inArray(srcType, ['blob', 'file']) !== -1) {\n\t\t\t\t\t_load.call(this, new File(null, src), arguments[1]);\n\t\t\t\t}\n\t\t\t\t// if String\n\t\t\t\telse if (srcType === 'string') {\n\t\t\t\t\t// if dataUrl String\n\t\t\t\t\tif (/^data:[^;]*;base64,/.test(src)) {\n\t\t\t\t\t\t_load.call(this, new Blob(null, { data: src }), arguments[1]);\n\t\t\t\t\t}\n\t\t\t\t\t// else assume Url, either relative or absolute\n\t\t\t\t\telse {\n\t\t\t\t\t\t_loadFromUrl.apply(this, arguments);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// if source seems to be an img node\n\t\t\t\telse if (srcType === 'node' && src.nodeName.toLowerCase() === 'img') {\n\t\t\t\t\t_load.call(this, src.src, arguments[1]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthrow new x.DOMException(x.DOMException.TYPE_MISMATCH_ERR);\n\t\t\t\t}\n\t\t\t} catch(ex) {\n\t\t\t\t// for now simply trigger error event\n\t\t\t\tthis.trigger('error', ex.code);\n\t\t\t}\n\t\t}\n\n\n\t\tfunction _loadFromImage(img, exact) {\n\t\t\tvar runtime = this.connectRuntime(img.ruid);\n\t\t\tthis.ruid = runtime.uid;\n\t\t\truntime.exec.call(this, 'Image', 'loadFromImage', img, (Basic.typeOf(exact) === 'undefined' ? true : exact));\n\t\t}\n\n\n\t\tfunction _loadFromBlob(blob, options) {\n\t\t\tvar self = this;\n\n\t\t\tself.name = blob.name || '';\n\n\t\t\tfunction exec(runtime) {\n\t\t\t\tself.ruid = runtime.uid;\n\t\t\t\truntime.exec.call(self, 'Image', 'loadFromBlob', blob);\n\t\t\t}\n\n\t\t\tif (blob.isDetached()) {\n\t\t\t\tthis.bind('RuntimeInit', function(e, runtime) {\n\t\t\t\t\texec(runtime);\n\t\t\t\t});\n\n\t\t\t\t// convert to object representation\n\t\t\t\tif (options && typeof(options.required_caps) === 'string') {\n\t\t\t\t\toptions.required_caps = Runtime.parseCaps(options.required_caps);\n\t\t\t\t}\n\n\t\t\t\tthis.connectRuntime(Basic.extend({\n\t\t\t\t\trequired_caps: {\n\t\t\t\t\t\taccess_image_binary: true,\n\t\t\t\t\t\tresize_image: true\n\t\t\t\t\t}\n\t\t\t\t}, options));\n\t\t\t} else {\n\t\t\t\texec(this.connectRuntime(blob.ruid));\n\t\t\t}\n\t\t}\n\n\n\t\tfunction _loadFromUrl(url, options) {\n\t\t\tvar self = this, xhr;\n\n\t\t\txhr = new XMLHttpRequest();\n\n\t\t\txhr.open('get', url);\n\t\t\txhr.responseType = 'blob';\n\n\t\t\txhr.onprogress = function(e) {\n\t\t\t\tself.trigger(e);\n\t\t\t};\n\n\t\t\txhr.onload = function() {\n\t\t\t\t_loadFromBlob.call(self, xhr.response, true);\n\t\t\t};\n\n\t\t\txhr.onerror = function(e) {\n\t\t\t\tself.trigger(e);\n\t\t\t};\n\n\t\t\txhr.onloadend = function() {\n\t\t\t\txhr.destroy();\n\t\t\t};\n\n\t\t\txhr.bind('RuntimeError', function(e, err) {\n\t\t\t\tself.trigger('RuntimeError', err);\n\t\t\t});\n\n\t\t\txhr.send(null, options);\n\t\t}\n\t}\n\n\t// virtual world will crash on you if image has a resolution higher than this:\n\tImage.MAX_RESIZE_WIDTH = 6500;\n\tImage.MAX_RESIZE_HEIGHT = 6500; \n\n\tImage.prototype = EventTarget.instance;\n\n\treturn Image;\n});\n\n// Included from: src/javascript/runtime/html5/Runtime.js\n\n/**\n * Runtime.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/*global File:true */\n\n/**\nDefines constructor for HTML5 runtime.\n\n@class moxie/runtime/html5/Runtime\n@private\n*/\ndefine(\"moxie/runtime/html5/Runtime\", [\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/core/Exceptions\",\n\t\"moxie/runtime/Runtime\",\n\t\"moxie/core/utils/Env\"\n], function(Basic, x, Runtime, Env) {\n\t\n\tvar type = \"html5\", extensions = {};\n\t\n\tfunction Html5Runtime(options) {\n\t\tvar I = this\n\t\t, Test = Runtime.capTest\n\t\t, True = Runtime.capTrue\n\t\t;\n\n\t\tvar caps = Basic.extend({\n\t\t\t\taccess_binary: Test(window.FileReader || window.File && window.File.getAsDataURL),\n\t\t\t\taccess_image_binary: function() {\n\t\t\t\t\treturn I.can('access_binary') && !!extensions.Image;\n\t\t\t\t},\n\t\t\t\tdisplay_media: Test(Env.can('create_canvas') || Env.can('use_data_uri_over32kb')),\n\t\t\t\tdo_cors: Test(window.XMLHttpRequest && 'withCredentials' in new XMLHttpRequest()),\n\t\t\t\tdrag_and_drop: Test(function() {\n\t\t\t\t\t// this comes directly from Modernizr: http://www.modernizr.com/\n\t\t\t\t\tvar div = document.createElement('div');\n\t\t\t\t\t// IE has support for drag and drop since version 5, but doesn't support dropping files from desktop\n\t\t\t\t\treturn (('draggable' in div) || ('ondragstart' in div && 'ondrop' in div)) && (Env.browser !== 'IE' || Env.version > 9);\n\t\t\t\t}()),\n\t\t\t\tfilter_by_extension: Test(function() { // if you know how to feature-detect this, please suggest\n\t\t\t\t\treturn (Env.browser === 'Chrome' && Env.version >= 28) || (Env.browser === 'IE' && Env.version >= 10);\n\t\t\t\t}()),\n\t\t\t\treturn_response_headers: True,\n\t\t\t\treturn_response_type: function(responseType) {\n\t\t\t\t\tif (responseType === 'json' && !!window.JSON) { // we can fake this one even if it's not supported\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} \n\t\t\t\t\treturn Env.can('return_response_type', responseType);\n\t\t\t\t},\n\t\t\t\treturn_status_code: True,\n\t\t\t\treport_upload_progress: Test(window.XMLHttpRequest && new XMLHttpRequest().upload),\n\t\t\t\tresize_image: function() {\n\t\t\t\t\treturn I.can('access_binary') && Env.can('create_canvas');\n\t\t\t\t},\n\t\t\t\tselect_file: function() {\n\t\t\t\t\treturn Env.can('use_fileinput') && window.File;\n\t\t\t\t},\n\t\t\t\tselect_folder: function() {\n\t\t\t\t\treturn I.can('select_file') && Env.browser === 'Chrome' && Env.version >= 21;\n\t\t\t\t},\n\t\t\t\tselect_multiple: function() {\n\t\t\t\t\t// it is buggy on Safari Windows and iOS\n\t\t\t\t\treturn I.can('select_file') && \n\t\t\t\t\t\t!(Env.browser === 'Safari' && Env.os === 'Windows') && \n\t\t\t\t\t\t!(Env.os === 'iOS' && Env.verComp(Env.osVersion, \"7.0.4\", '<'));\n\t\t\t\t},\n\t\t\t\tsend_binary_string: Test(window.XMLHttpRequest && (new XMLHttpRequest().sendAsBinary || (window.Uint8Array && window.ArrayBuffer))),\n\t\t\t\tsend_custom_headers: Test(window.XMLHttpRequest),\n\t\t\t\tsend_multipart: function() {\n\t\t\t\t\treturn !!(window.XMLHttpRequest && new XMLHttpRequest().upload && window.FormData) || I.can('send_binary_string');\n\t\t\t\t},\n\t\t\t\tslice_blob: Test(window.File && (File.prototype.mozSlice || File.prototype.webkitSlice || File.prototype.slice)),\n\t\t\t\tstream_upload: function(){\n\t\t\t\t\treturn I.can('slice_blob') && I.can('send_multipart');\n\t\t\t\t},\n\t\t\t\tsummon_file_dialog: Test(function() { // yeah... some dirty sniffing here...\n\t\t\t\t\treturn (Env.browser === 'Firefox' && Env.version >= 4) ||\n\t\t\t\t\t\t(Env.browser === 'Opera' && Env.version >= 12) ||\n\t\t\t\t\t\t(Env.browser === 'IE' && Env.version >= 10) ||\n\t\t\t\t\t\t!!~Basic.inArray(Env.browser, ['Chrome', 'Safari']);\n\t\t\t\t}()),\n\t\t\t\tupload_filesize: True\n\t\t\t}, \n\t\t\targuments[2]\n\t\t);\n\n\t\tRuntime.call(this, options, (arguments[1] || type), caps);\n\n\n\t\tBasic.extend(this, {\n\n\t\t\tinit : function() {\n\t\t\t\tthis.trigger(\"Init\");\n\t\t\t},\n\n\t\t\tdestroy: (function(destroy) { // extend default destroy method\n\t\t\t\treturn function() {\n\t\t\t\t\tdestroy.call(I);\n\t\t\t\t\tdestroy = I = null;\n\t\t\t\t};\n\t\t\t}(this.destroy))\n\t\t});\n\n\t\tBasic.extend(this.getShim(), extensions);\n\t}\n\n\tRuntime.addConstructor(type, Html5Runtime);\n\n\treturn extensions;\n});\n\n// Included from: src/javascript/runtime/html5/file/Blob.js\n\n/**\n * Blob.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/html5/file/Blob\n@private\n*/\ndefine(\"moxie/runtime/html5/file/Blob\", [\n\t\"moxie/runtime/html5/Runtime\",\n\t\"moxie/file/Blob\"\n], function(extensions, Blob) {\n\n\tfunction HTML5Blob() {\n\t\tfunction w3cBlobSlice(blob, start, end) {\n\t\t\tvar blobSlice;\n\n\t\t\tif (window.File.prototype.slice) {\n\t\t\t\ttry {\n\t\t\t\t\tblob.slice();\t// depricated version will throw WRONG_ARGUMENTS_ERR exception\n\t\t\t\t\treturn blob.slice(start, end);\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// depricated slice method\n\t\t\t\t\treturn blob.slice(start, end - start);\n\t\t\t\t}\n\t\t\t// slice method got prefixed: https://bugzilla.mozilla.org/show_bug.cgi?id=649672\n\t\t\t} else if ((blobSlice = window.File.prototype.webkitSlice || window.File.prototype.mozSlice)) {\n\t\t\t\treturn blobSlice.call(blob, start, end);\n\t\t\t} else {\n\t\t\t\treturn null; // or throw some exception\n\t\t\t}\n\t\t}\n\n\t\tthis.slice = function() {\n\t\t\treturn new Blob(this.getRuntime().uid, w3cBlobSlice.apply(this, arguments));\n\t\t};\n\t}\n\n\treturn (extensions.Blob = HTML5Blob);\n});\n\n// Included from: src/javascript/core/utils/Events.js\n\n/**\n * Events.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\ndefine('moxie/core/utils/Events', [\n\t'moxie/core/utils/Basic'\n], function(Basic) {\n\tvar eventhash = {}, uid = 'moxie_' + Basic.guid();\n\t\n\t// IE W3C like event funcs\n\tfunction preventDefault() {\n\t\tthis.returnValue = false;\n\t}\n\n\tfunction stopPropagation() {\n\t\tthis.cancelBubble = true;\n\t}\n\n\t/**\n\tAdds an event handler to the specified object and store reference to the handler\n\tin objects internal Plupload registry (@see removeEvent).\n\t\n\t@method addEvent\n\t@for Utils\n\t@static\n\t@param {Object} obj DOM element like object to add handler to.\n\t@param {String} name Name to add event listener to.\n\t@param {Function} callback Function to call when event occurs.\n\t@param {String} [key] that might be used to add specifity to the event record.\n\t*/\n\tvar addEvent = function(obj, name, callback, key) {\n\t\tvar func, events;\n\t\t\t\t\t\n\t\tname = name.toLowerCase();\n\n\t\t// Add event listener\n\t\tif (obj.addEventListener) {\n\t\t\tfunc = callback;\n\t\t\t\n\t\t\tobj.addEventListener(name, func, false);\n\t\t} else if (obj.attachEvent) {\n\t\t\tfunc = function() {\n\t\t\t\tvar evt = window.event;\n\n\t\t\t\tif (!evt.target) {\n\t\t\t\t\tevt.target = evt.srcElement;\n\t\t\t\t}\n\n\t\t\t\tevt.preventDefault = preventDefault;\n\t\t\t\tevt.stopPropagation = stopPropagation;\n\n\t\t\t\tcallback(evt);\n\t\t\t};\n\n\t\t\tobj.attachEvent('on' + name, func);\n\t\t}\n\t\t\n\t\t// Log event handler to objects internal mOxie registry\n\t\tif (!obj[uid]) {\n\t\t\tobj[uid] = Basic.guid();\n\t\t}\n\t\t\n\t\tif (!eventhash.hasOwnProperty(obj[uid])) {\n\t\t\teventhash[obj[uid]] = {};\n\t\t}\n\t\t\n\t\tevents = eventhash[obj[uid]];\n\t\t\n\t\tif (!events.hasOwnProperty(name)) {\n\t\t\tevents[name] = [];\n\t\t}\n\t\t\t\t\n\t\tevents[name].push({\n\t\t\tfunc: func,\n\t\t\torig: callback, // store original callback for IE\n\t\t\tkey: key\n\t\t});\n\t};\n\t\n\t\n\t/**\n\tRemove event handler from the specified object. If third argument (callback)\n\tis not specified remove all events with the specified name.\n\t\n\t@method removeEvent\n\t@static\n\t@param {Object} obj DOM element to remove event listener(s) from.\n\t@param {String} name Name of event listener to remove.\n\t@param {Function|String} [callback] might be a callback or unique key to match.\n\t*/\n\tvar removeEvent = function(obj, name, callback) {\n\t\tvar type, undef;\n\t\t\n\t\tname = name.toLowerCase();\n\t\t\n\t\tif (obj[uid] && eventhash[obj[uid]] && eventhash[obj[uid]][name]) {\n\t\t\ttype = eventhash[obj[uid]][name];\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t\t\t\n\t\tfor (var i = type.length - 1; i >= 0; i--) {\n\t\t\t// undefined or not, key should match\n\t\t\tif (type[i].orig === callback || type[i].key === callback) {\n\t\t\t\tif (obj.removeEventListener) {\n\t\t\t\t\tobj.removeEventListener(name, type[i].func, false);\n\t\t\t\t} else if (obj.detachEvent) {\n\t\t\t\t\tobj.detachEvent('on'+name, type[i].func);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttype[i].orig = null;\n\t\t\t\ttype[i].func = null;\n\t\t\t\ttype.splice(i, 1);\n\t\t\t\t\n\t\t\t\t// If callback was passed we are done here, otherwise proceed\n\t\t\t\tif (callback !== undef) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t// If event array got empty, remove it\n\t\tif (!type.length) {\n\t\t\tdelete eventhash[obj[uid]][name];\n\t\t}\n\t\t\n\t\t// If mOxie registry has become empty, remove it\n\t\tif (Basic.isEmptyObj(eventhash[obj[uid]])) {\n\t\t\tdelete eventhash[obj[uid]];\n\t\t\t\n\t\t\t// IE doesn't let you remove DOM object property with - delete\n\t\t\ttry {\n\t\t\t\tdelete obj[uid];\n\t\t\t} catch(e) {\n\t\t\t\tobj[uid] = undef;\n\t\t\t}\n\t\t}\n\t};\n\t\n\t\n\t/**\n\tRemove all kind of events from the specified object\n\t\n\t@method removeAllEvents\n\t@static\n\t@param {Object} obj DOM element to remove event listeners from.\n\t@param {String} [key] unique key to match, when removing events.\n\t*/\n\tvar removeAllEvents = function(obj, key) {\t\t\n\t\tif (!obj || !obj[uid]) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tBasic.each(eventhash[obj[uid]], function(events, name) {\n\t\t\tremoveEvent(obj, name, key);\n\t\t});\n\t};\n\n\treturn {\n\t\taddEvent: addEvent,\n\t\tremoveEvent: removeEvent,\n\t\tremoveAllEvents: removeAllEvents\n\t};\n});\n\n// Included from: src/javascript/runtime/html5/file/FileInput.js\n\n/**\n * FileInput.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/html5/file/FileInput\n@private\n*/\ndefine(\"moxie/runtime/html5/file/FileInput\", [\n\t\"moxie/runtime/html5/Runtime\",\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/core/utils/Dom\",\n\t\"moxie/core/utils/Events\",\n\t\"moxie/core/utils/Mime\",\n\t\"moxie/core/utils/Env\"\n], function(extensions, Basic, Dom, Events, Mime, Env) {\n\t\n\tfunction FileInput() {\n\t\tvar _files = [], _options;\n\n\t\tBasic.extend(this, {\n\t\t\tinit: function(options) {\n\t\t\t\tvar comp = this, I = comp.getRuntime(), input, shimContainer, mimes, browseButton, zIndex, top;\n\n\t\t\t\t_options = options;\n\t\t\t\t_files = [];\n\n\t\t\t\t// figure out accept string\n\t\t\t\tmimes = _options.accept.mimes || Mime.extList2mimes(_options.accept, I.can('filter_by_extension'));\n\n\t\t\t\tshimContainer = I.getShimContainer();\n\n\t\t\t\tshimContainer.innerHTML = '<input id=\"' + I.uid +'\" type=\"file\" style=\"font-size:999px;opacity:0;\"' +\n\t\t\t\t\t(_options.multiple && I.can('select_multiple') ? 'multiple' : '') + \n\t\t\t\t\t(_options.directory && I.can('select_folder') ? 'webkitdirectory directory' : '') + // Chrome 11+\n\t\t\t\t\t(mimes ? ' accept=\"' + mimes.join(',') + '\"' : '') + ' />';\n\n\t\t\t\tinput = Dom.get(I.uid);\n\n\t\t\t\t// prepare file input to be placed underneath the browse_button element\n\t\t\t\tBasic.extend(input.style, {\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100%'\n\t\t\t\t});\n\n\n\t\t\t\tbrowseButton = Dom.get(_options.browse_button);\n\n\t\t\t\t// Route click event to the input[type=file] element for browsers that support such behavior\n\t\t\t\tif (I.can('summon_file_dialog')) {\n\t\t\t\t\tif (Dom.getStyle(browseButton, 'position') === 'static') {\n\t\t\t\t\t\tbrowseButton.style.position = 'relative';\n\t\t\t\t\t}\n\n\t\t\t\t\tzIndex = parseInt(Dom.getStyle(browseButton, 'z-index'), 10) || 1;\n\n\t\t\t\t\tbrowseButton.style.zIndex = zIndex;\n\t\t\t\t\tshimContainer.style.zIndex = zIndex - 1;\n\n\t\t\t\t\tEvents.addEvent(browseButton, 'click', function(e) {\n\t\t\t\t\t\tvar input = Dom.get(I.uid);\n\t\t\t\t\t\tif (input && !input.disabled) { // for some reason FF (up to 8.0.1 so far) lets to click disabled input[type=file]\n\t\t\t\t\t\t\tinput.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}, comp.uid);\n\t\t\t\t}\n\n\t\t\t\t/* Since we have to place input[type=file] on top of the browse_button for some browsers,\n\t\t\t\tbrowse_button loses interactivity, so we restore it here */\n\t\t\t\ttop = I.can('summon_file_dialog') ? browseButton : shimContainer;\n\n\t\t\t\tEvents.addEvent(top, 'mouseover', function() {\n\t\t\t\t\tcomp.trigger('mouseenter');\n\t\t\t\t}, comp.uid);\n\n\t\t\t\tEvents.addEvent(top, 'mouseout', function() {\n\t\t\t\t\tcomp.trigger('mouseleave');\n\t\t\t\t}, comp.uid);\n\n\t\t\t\tEvents.addEvent(top, 'mousedown', function() {\n\t\t\t\t\tcomp.trigger('mousedown');\n\t\t\t\t}, comp.uid);\n\n\t\t\t\tEvents.addEvent(Dom.get(_options.container), 'mouseup', function() {\n\t\t\t\t\tcomp.trigger('mouseup');\n\t\t\t\t}, comp.uid);\n\n\n\t\t\t\tinput.onchange = function onChange() { // there should be only one handler for this\n\t\t\t\t\t_files = [];\n\n\t\t\t\t\tif (_options.directory) {\n\t\t\t\t\t\t// folders are represented by dots, filter them out (Chrome 11+)\n\t\t\t\t\t\tBasic.each(this.files, function(file) {\n\t\t\t\t\t\t\tif (file.name !== \".\") { // if it doesn't looks like a folder\n\t\t\t\t\t\t\t\t_files.push(file);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_files = [].slice.call(this.files);\n\t\t\t\t\t}\n\n\t\t\t\t\t// clearing the value enables the user to select the same file again if they want to\n\t\t\t\t\tif (Env.browser !== 'IE' && Env.browser !== 'IEMobile') {\n\t\t\t\t\t\tthis.value = '';\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// in IE input[type=\"file\"] is read-only so the only way to reset it is to re-insert it\n\t\t\t\t\t\tvar clone = this.cloneNode(true);\n\t\t\t\t\t\tthis.parentNode.replaceChild(clone, this);\n\t\t\t\t\t\tclone.onchange = onChange;\n\t\t\t\t\t}\n\t\t\t\t\tcomp.trigger('change');\n\t\t\t\t};\n\n\t\t\t\t// ready event is perfectly asynchronous\n\t\t\t\tcomp.trigger({\n\t\t\t\t\ttype: 'ready',\n\t\t\t\t\tasync: true\n\t\t\t\t});\n\n\t\t\t\tshimContainer = null;\n\t\t\t},\n\n\t\t\tgetFiles: function() {\n\t\t\t\treturn _files;\n\t\t\t},\n\n\t\t\tdisable: function(state) {\n\t\t\t\tvar I = this.getRuntime(), input;\n\n\t\t\t\tif ((input = Dom.get(I.uid))) {\n\t\t\t\t\tinput.disabled = !!state;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdestroy: function() {\n\t\t\t\tvar I = this.getRuntime()\n\t\t\t\t, shim = I.getShim()\n\t\t\t\t, shimContainer = I.getShimContainer()\n\t\t\t\t;\n\t\t\t\t\n\t\t\t\tEvents.removeAllEvents(shimContainer, this.uid);\n\t\t\t\tEvents.removeAllEvents(_options && Dom.get(_options.container), this.uid);\n\t\t\t\tEvents.removeAllEvents(_options && Dom.get(_options.browse_button), this.uid);\n\t\t\t\t\n\t\t\t\tif (shimContainer) {\n\t\t\t\t\tshimContainer.innerHTML = '';\n\t\t\t\t}\n\n\t\t\t\tshim.removeInstance(this.uid);\n\n\t\t\t\t_files = _options = shimContainer = shim = null;\n\t\t\t}\n\t\t});\n\t}\n\n\treturn (extensions.FileInput = FileInput);\n});\n\n// Included from: src/javascript/runtime/html5/file/FileDrop.js\n\n/**\n * FileDrop.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/html5/file/FileDrop\n@private\n*/\ndefine(\"moxie/runtime/html5/file/FileDrop\", [\n\t\"moxie/runtime/html5/Runtime\",\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/core/utils/Dom\",\n\t\"moxie/core/utils/Events\",\n\t\"moxie/core/utils/Mime\"\n], function(extensions, Basic, Dom, Events, Mime) {\n\t\n\tfunction FileDrop() {\n\t\tvar _files = [], _allowedExts = [], _options;\n\n\t\tBasic.extend(this, {\n\t\t\tinit: function(options) {\n\t\t\t\tvar comp = this, dropZone;\n\n\t\t\t\t_options = options;\n\t\t\t\t_allowedExts = _extractExts(_options.accept);\n\t\t\t\tdropZone = _options.container;\n\n\t\t\t\tEvents.addEvent(dropZone, 'dragover', function(e) {\n\t\t\t\t\tif (!_hasFiles(e)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.dataTransfer.dropEffect = 'copy';\n\t\t\t\t}, comp.uid);\n\n\t\t\t\tEvents.addEvent(dropZone, 'drop', function(e) {\n\t\t\t\t\tif (!_hasFiles(e)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t_files = [];\n\n\t\t\t\t\t// Chrome 21+ accepts folders via Drag'n'Drop\n\t\t\t\t\tif (e.dataTransfer.items && e.dataTransfer.items[0].webkitGetAsEntry) {\n\t\t\t\t\t\t_readItems(e.dataTransfer.items, function() {\n\t\t\t\t\t\t\tcomp.trigger(\"drop\");\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tBasic.each(e.dataTransfer.files, function(file) {\n\t\t\t\t\t\t\tif (_isAcceptable(file)) {\n\t\t\t\t\t\t\t\t_files.push(file);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcomp.trigger(\"drop\");\n\t\t\t\t\t}\n\t\t\t\t}, comp.uid);\n\n\t\t\t\tEvents.addEvent(dropZone, 'dragenter', function(e) {\n\t\t\t\t\tcomp.trigger(\"dragenter\");\n\t\t\t\t}, comp.uid);\n\n\t\t\t\tEvents.addEvent(dropZone, 'dragleave', function(e) {\n\t\t\t\t\tcomp.trigger(\"dragleave\");\n\t\t\t\t}, comp.uid);\n\t\t\t},\n\n\t\t\tgetFiles: function() {\n\t\t\t\treturn _files;\n\t\t\t},\n\n\t\t\tdestroy: function() {\n\t\t\t\tEvents.removeAllEvents(_options && Dom.get(_options.container), this.uid);\n\t\t\t\t_files = _allowedExts = _options = null;\n\t\t\t}\n\t\t});\n\n\n\t\tfunction _hasFiles(e) {\n\t\t\tif (!e.dataTransfer || !e.dataTransfer.types) { // e.dataTransfer.files is not available in Gecko during dragover\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar types = Basic.toArray(e.dataTransfer.types || []);\n\n\t\t\treturn Basic.inArray(\"Files\", types) !== -1 ||\n\t\t\t\tBasic.inArray(\"public.file-url\", types) !== -1 || // Safari < 5\n\t\t\t\tBasic.inArray(\"application/x-moz-file\", types) !== -1 // Gecko < 1.9.2 (< Firefox 3.6)\n\t\t\t\t;\n\t\t}\n\n\t\t\n\t\tfunction _extractExts(accept) {\n\t\t\tvar exts = [];\n\t\t\tfor (var i = 0; i < accept.length; i++) {\n\t\t\t\t[].push.apply(exts, accept[i].extensions.split(/\\s*,\\s*/));\n\t\t\t}\n\t\t\treturn Basic.inArray('*', exts) === -1 ? exts : [];\n\t\t}\n\n\n\t\tfunction _isAcceptable(file) {\n\t\t\tif (!_allowedExts.length) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar ext = Mime.getFileExtension(file.name);\n\t\t\treturn !ext || Basic.inArray(ext, _allowedExts) !== -1;\n\t\t}\n\n\n\t\tfunction _readItems(items, cb) {\n\t\t\tvar entries = [];\n\t\t\tBasic.each(items, function(item) {\n\t\t\t\tvar entry = item.webkitGetAsEntry();\n\t\t\t\t// Address #998 (https://code.google.com/p/chromium/issues/detail?id=332579)\n\t\t\t\tif (entry) {\n\t\t\t\t\t// file() fails on OSX when the filename contains a special character (e.g. umlaut): see #61\n\t\t\t\t\tif (entry.isFile) {\n\t\t\t\t\t\tvar file = item.getAsFile();\n\t\t\t\t\t\tif (_isAcceptable(file)) {\n\t\t\t\t\t\t\t_files.push(file);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tentries.push(entry);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (entries.length) {\n\t\t\t\t_readEntries(entries, cb);\n\t\t\t} else {\n\t\t\t\tcb();\n\t\t\t}\n\t\t}\n\n\n\t\tfunction _readEntries(entries, cb) {\n\t\t\tvar queue = [];\n\t\t\tBasic.each(entries, function(entry) {\n\t\t\t\tqueue.push(function(cbcb) {\n\t\t\t\t\t_readEntry(entry, cbcb);\n\t\t\t\t});\n\t\t\t});\n\t\t\tBasic.inSeries(queue, function() {\n\t\t\t\tcb();\n\t\t\t});\n\t\t}\n\n\n\t\tfunction _readEntry(entry, cb) {\n\t\t\tif (entry.isFile) {\n\t\t\t\tentry.file(function(file) {\n\t\t\t\t\tif (_isAcceptable(file)) {\n\t\t\t\t\t\t_files.push(file);\n\t\t\t\t\t}\n\t\t\t\t\tcb();\n\t\t\t\t}, function() {\n\t\t\t\t\t// fire an error event maybe\n\t\t\t\t\tcb();\n\t\t\t\t});\n\t\t\t} else if (entry.isDirectory) {\n\t\t\t\t_readDirEntry(entry, cb);\n\t\t\t} else {\n\t\t\t\tcb(); // not file, not directory? what then?..\n\t\t\t}\n\t\t}\n\n\n\t\tfunction _readDirEntry(dirEntry, cb) {\n\t\t\tvar entries = [], dirReader = dirEntry.createReader();\n\n\t\t\t// keep quering recursively till no more entries\n\t\t\tfunction getEntries(cbcb) {\n\t\t\t\tdirReader.readEntries(function(moreEntries) {\n\t\t\t\t\tif (moreEntries.length) {\n\t\t\t\t\t\t[].push.apply(entries, moreEntries);\n\t\t\t\t\t\tgetEntries(cbcb);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcbcb();\n\t\t\t\t\t}\n\t\t\t\t}, cbcb);\n\t\t\t}\n\n\t\t\t// ...and you thought FileReader was crazy...\n\t\t\tgetEntries(function() {\n\t\t\t\t_readEntries(entries, cb);\n\t\t\t}); \n\t\t}\n\t}\n\n\treturn (extensions.FileDrop = FileDrop);\n});\n\n// Included from: src/javascript/runtime/html5/file/FileReader.js\n\n/**\n * FileReader.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/html5/file/FileReader\n@private\n*/\ndefine(\"moxie/runtime/html5/file/FileReader\", [\n\t\"moxie/runtime/html5/Runtime\",\n\t\"moxie/core/utils/Encode\",\n\t\"moxie/core/utils/Basic\"\n], function(extensions, Encode, Basic) {\n\t\n\tfunction FileReader() {\n\t\tvar _fr, _convertToBinary = false;\n\n\t\tBasic.extend(this, {\n\n\t\t\tread: function(op, blob) {\n\t\t\t\tvar target = this;\n\n\t\t\t\t_fr = new window.FileReader();\n\n\t\t\t\t_fr.addEventListener('progress', function(e) {\n\t\t\t\t\ttarget.trigger(e);\n\t\t\t\t});\n\n\t\t\t\t_fr.addEventListener('load', function(e) {\n\t\t\t\t\ttarget.trigger(e);\n\t\t\t\t});\n\n\t\t\t\t_fr.addEventListener('error', function(e) {\n\t\t\t\t\ttarget.trigger(e, _fr.error);\n\t\t\t\t});\n\n\t\t\t\t_fr.addEventListener('loadend', function() {\n\t\t\t\t\t_fr = null;\n\t\t\t\t});\n\n\t\t\t\tif (Basic.typeOf(_fr[op]) === 'function') {\n\t\t\t\t\t_convertToBinary = false;\n\t\t\t\t\t_fr[op](blob.getSource());\n\t\t\t\t} else if (op === 'readAsBinaryString') { // readAsBinaryString is depricated in general and never existed in IE10+\n\t\t\t\t\t_convertToBinary = true;\n\t\t\t\t\t_fr.readAsDataURL(blob.getSource());\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetResult: function() {\n\t\t\t\treturn _fr && _fr.result ? (_convertToBinary ? _toBinary(_fr.result) : _fr.result) : null;\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif (_fr) {\n\t\t\t\t\t_fr.abort();\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdestroy: function() {\n\t\t\t\t_fr = null;\n\t\t\t}\n\t\t});\n\n\t\tfunction _toBinary(str) {\n\t\t\treturn Encode.atob(str.substring(str.indexOf('base64,') + 7));\n\t\t}\n\t}\n\n\treturn (extensions.FileReader = FileReader);\n});\n\n// Included from: src/javascript/runtime/html5/xhr/XMLHttpRequest.js\n\n/**\n * XMLHttpRequest.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/*global ActiveXObject:true */\n\n/**\n@class moxie/runtime/html5/xhr/XMLHttpRequest\n@private\n*/\ndefine(\"moxie/runtime/html5/xhr/XMLHttpRequest\", [\n\t\"moxie/runtime/html5/Runtime\",\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/core/utils/Mime\",\n\t\"moxie/core/utils/Url\",\n\t\"moxie/file/File\",\n\t\"moxie/file/Blob\",\n\t\"moxie/xhr/FormData\",\n\t\"moxie/core/Exceptions\",\n\t\"moxie/core/utils/Env\"\n], function(extensions, Basic, Mime, Url, File, Blob, FormData, x, Env) {\n\t\n\tfunction XMLHttpRequest() {\n\t\tvar self = this\n\t\t, _xhr\n\t\t, _filename\n\t\t;\n\n\t\tBasic.extend(this, {\n\t\t\tsend: function(meta, data) {\n\t\t\t\tvar target = this\n\t\t\t\t, isGecko2_5_6 = (Env.browser === 'Mozilla' && Env.version >= 4 && Env.version < 7)\n\t\t\t\t, isAndroidBrowser = Env.browser === 'Android Browser'\n\t\t\t\t, mustSendAsBinary = false\n\t\t\t\t;\n\n\t\t\t\t// extract file name\n\t\t\t\t_filename = meta.url.replace(/^.+?\\/([\\w\\-\\.]+)$/, '$1').toLowerCase();\n\n\t\t\t\t_xhr = _getNativeXHR();\n\t\t\t\t_xhr.open(meta.method, meta.url, meta.async, meta.user, meta.password);\n\n\n\t\t\t\t// prepare data to be sent\n\t\t\t\tif (data instanceof Blob) {\n\t\t\t\t\tif (data.isDetached()) {\n\t\t\t\t\t\tmustSendAsBinary = true;\n\t\t\t\t\t}\n\t\t\t\t\tdata = data.getSource();\n\t\t\t\t} else if (data instanceof FormData) {\n\n\t\t\t\t\tif (data.hasBlob()) {\n\t\t\t\t\t\tif (data.getBlob().isDetached()) {\n\t\t\t\t\t\t\tdata = _prepareMultipart.call(target, data); // _xhr must be instantiated and be in OPENED state\n\t\t\t\t\t\t\tmustSendAsBinary = true;\n\t\t\t\t\t\t} else if ((isGecko2_5_6 || isAndroidBrowser) && Basic.typeOf(data.getBlob().getSource()) === 'blob' && window.FileReader) {\n\t\t\t\t\t\t\t// Gecko 2/5/6 can't send blob in FormData: https://bugzilla.mozilla.org/show_bug.cgi?id=649150\n\t\t\t\t\t\t\t// Android browsers (default one and Dolphin) seem to have the same issue, see: #613\n\t\t\t\t\t\t\t_preloadAndSend.call(target, meta, data);\n\t\t\t\t\t\t\treturn; // _preloadAndSend will reinvoke send() with transmutated FormData =%D\n\t\t\t\t\t\t}\t\n\t\t\t\t\t}\n\n\t\t\t\t\t// transfer fields to real FormData\n\t\t\t\t\tif (data instanceof FormData) { // if still a FormData, e.g. not mangled by _prepareMultipart()\n\t\t\t\t\t\tvar fd = new window.FormData();\n\t\t\t\t\t\tdata.each(function(value, name) {\n\t\t\t\t\t\t\tif (value instanceof Blob) {\n\t\t\t\t\t\t\t\tfd.append(name, value.getSource());\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfd.append(name, value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tdata = fd;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\t// if XHR L2\n\t\t\t\tif (_xhr.upload) {\n\t\t\t\t\tif (meta.withCredentials) {\n\t\t\t\t\t\t_xhr.withCredentials = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t_xhr.addEventListener('load', function(e) {\n\t\t\t\t\t\ttarget.trigger(e);\n\t\t\t\t\t});\n\n\t\t\t\t\t_xhr.addEventListener('error', function(e) {\n\t\t\t\t\t\ttarget.trigger(e);\n\t\t\t\t\t});\n\n\t\t\t\t\t// additionally listen to progress events\n\t\t\t\t\t_xhr.addEventListener('progress', function(e) {\n\t\t\t\t\t\ttarget.trigger(e);\n\t\t\t\t\t});\n\n\t\t\t\t\t_xhr.upload.addEventListener('progress', function(e) {\n\t\t\t\t\t\ttarget.trigger({\n\t\t\t\t\t\t\ttype: 'UploadProgress',\n\t\t\t\t\t\t\tloaded: e.loaded,\n\t\t\t\t\t\t\ttotal: e.total\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t// ... otherwise simulate XHR L2\n\t\t\t\t} else {\n\t\t\t\t\t_xhr.onreadystatechange = function onReadyStateChange() {\n\t\t\t\t\t\t\n\t\t\t\t\t\t// fake Level 2 events\n\t\t\t\t\t\tswitch (_xhr.readyState) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcase 1: // XMLHttpRequest.OPENED\n\t\t\t\t\t\t\t\t// readystatechanged is fired twice for OPENED state (in IE and Mozilla) - neu\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// looks like HEADERS_RECEIVED (state 2) is not reported in Opera (or it's old versions) - neu\n\t\t\t\t\t\t\tcase 2: // XMLHttpRequest.HEADERS_RECEIVED\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcase 3: // XMLHttpRequest.LOADING \n\t\t\t\t\t\t\t\t// try to fire progress event for not XHR L2\n\t\t\t\t\t\t\t\tvar total, loaded;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tif (Url.hasSameOrigin(meta.url)) { // Content-Length not accessible for cross-domain on some browsers\n\t\t\t\t\t\t\t\t\t\ttotal = _xhr.getResponseHeader('Content-Length') || 0; // old Safari throws an exception here\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (_xhr.responseText) { // responseText was introduced in IE7\n\t\t\t\t\t\t\t\t\t\tloaded = _xhr.responseText.length;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} catch(ex) {\n\t\t\t\t\t\t\t\t\ttotal = loaded = 0;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\ttarget.trigger({\n\t\t\t\t\t\t\t\t\ttype: 'progress',\n\t\t\t\t\t\t\t\t\tlengthComputable: !!total,\n\t\t\t\t\t\t\t\t\ttotal: parseInt(total, 10),\n\t\t\t\t\t\t\t\t\tloaded: loaded\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcase 4: // XMLHttpRequest.DONE\n\t\t\t\t\t\t\t\t// release readystatechange handler (mostly for IE)\n\t\t\t\t\t\t\t\t_xhr.onreadystatechange = function() {};\n\n\t\t\t\t\t\t\t\t// usually status 0 is returned when server is unreachable, but FF also fails to status 0 for 408 timeout\n\t\t\t\t\t\t\t\tif (_xhr.status === 0) {\n\t\t\t\t\t\t\t\t\ttarget.trigger('error');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ttarget.trigger('load');\n\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\t// set request headers\n\t\t\t\tif (!Basic.isEmptyObj(meta.headers)) {\n\t\t\t\t\tBasic.each(meta.headers, function(value, header) {\n\t\t\t\t\t\t_xhr.setRequestHeader(header, value);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// request response type\n\t\t\t\tif (\"\" !== meta.responseType && 'responseType' in _xhr) {\n\t\t\t\t\tif ('json' === meta.responseType && !Env.can('return_response_type', 'json')) { // we can fake this one\n\t\t\t\t\t\t_xhr.responseType = 'text';\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_xhr.responseType = meta.responseType;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// send ...\n\t\t\t\tif (!mustSendAsBinary) {\n\t\t\t\t\t_xhr.send(data);\n\t\t\t\t} else {\n\t\t\t\t\tif (_xhr.sendAsBinary) { // Gecko\n\t\t\t\t\t\t_xhr.sendAsBinary(data);\n\t\t\t\t\t} else { // other browsers having support for typed arrays\n\t\t\t\t\t\t(function() {\n\t\t\t\t\t\t\t// mimic Gecko's sendAsBinary\n\t\t\t\t\t\t\tvar ui8a = new Uint8Array(data.length);\n\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\t\t\t\tui8a[i] = (data.charCodeAt(i) & 0xff);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t_xhr.send(ui8a.buffer);\n\t\t\t\t\t\t}());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\ttarget.trigger('loadstart');\n\t\t\t},\n\n\t\t\tgetStatus: function() {\n\t\t\t\t// according to W3C spec it should return 0 for readyState < 3, but instead it throws an exception\n\t\t\t\ttry {\n\t\t\t\t\tif (_xhr) {\n\t\t\t\t\t\treturn _xhr.status;\n\t\t\t\t\t}\n\t\t\t\t} catch(ex) {}\n\t\t\t\treturn 0;\n\t\t\t},\n\n\t\t\tgetResponse: function(responseType) {\n\t\t\t\tvar I = this.getRuntime();\n\n\t\t\t\ttry {\n\t\t\t\t\tswitch (responseType) {\n\t\t\t\t\t\tcase 'blob':\n\t\t\t\t\t\t\tvar file = new File(I.uid, _xhr.response);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// try to extract file name from content-disposition if possible (might be - not, if CORS for example)\t\n\t\t\t\t\t\t\tvar disposition = _xhr.getResponseHeader('Content-Disposition');\n\t\t\t\t\t\t\tif (disposition) {\n\t\t\t\t\t\t\t\t// extract filename from response header if available\n\t\t\t\t\t\t\t\tvar match = disposition.match(/filename=([\\'\\\"'])([^\\1]+)\\1/);\n\t\t\t\t\t\t\t\tif (match) {\n\t\t\t\t\t\t\t\t\t_filename = match[2];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfile.name = _filename;\n\n\t\t\t\t\t\t\t// pre-webkit Opera doesn't set type property on the blob response\n\t\t\t\t\t\t\tif (!file.type) {\n\t\t\t\t\t\t\t\tfile.type = Mime.getFileMime(_filename);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn file;\n\n\t\t\t\t\t\tcase 'json':\n\t\t\t\t\t\t\tif (!Env.can('return_response_type', 'json')) {\n\t\t\t\t\t\t\t\treturn _xhr.status === 200 && !!window.JSON ? JSON.parse(_xhr.responseText) : null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn _xhr.response;\n\n\t\t\t\t\t\tcase 'document':\n\t\t\t\t\t\t\treturn _getDocument(_xhr);\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn _xhr.responseText !== '' ? _xhr.responseText : null; // against the specs, but for consistency across the runtimes\n\t\t\t\t\t}\n\t\t\t\t} catch(ex) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\t\t\t\t\n\t\t\t},\n\n\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\ttry {\n\t\t\t\t\treturn _xhr.getAllResponseHeaders();\n\t\t\t\t} catch(ex) {}\n\t\t\t\treturn '';\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif (_xhr) {\n\t\t\t\t\t_xhr.abort();\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdestroy: function() {\n\t\t\t\tself = _filename = null;\n\t\t\t}\n\t\t});\n\n\n\t\t// here we go... ugly fix for ugly bug\n\t\tfunction _preloadAndSend(meta, data) {\n\t\t\tvar target = this, blob, fr;\n\t\t\t\t\n\t\t\t// get original blob\n\t\t\tblob = data.getBlob().getSource();\n\t\t\t\n\t\t\t// preload blob in memory to be sent as binary string\n\t\t\tfr = new window.FileReader();\n\t\t\tfr.onload = function() {\n\t\t\t\t// overwrite original blob\n\t\t\t\tdata.append(data.getBlobName(), new Blob(null, {\n\t\t\t\t\ttype: blob.type,\n\t\t\t\t\tdata: fr.result\n\t\t\t\t}));\n\t\t\t\t// invoke send operation again\n\t\t\t\tself.send.call(target, meta, data);\n\t\t\t};\n\t\t\tfr.readAsBinaryString(blob);\n\t\t}\n\n\t\t\n\t\tfunction _getNativeXHR() {\n\t\t\tif (window.XMLHttpRequest && !(Env.browser === 'IE' && Env.version < 8)) { // IE7 has native XHR but it's buggy\n\t\t\t\treturn new window.XMLHttpRequest();\n\t\t\t} else {\n\t\t\t\treturn (function() {\n\t\t\t\t\tvar progIDs = ['Msxml2.XMLHTTP.6.0', 'Microsoft.XMLHTTP']; // if 6.0 available, use it, otherwise failback to default 3.0\n\t\t\t\t\tfor (var i = 0; i < progIDs.length; i++) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\treturn new ActiveXObject(progIDs[i]);\n\t\t\t\t\t\t} catch (ex) {}\n\t\t\t\t\t}\n\t\t\t\t})();\n\t\t\t}\n\t\t}\n\t\t\n\t\t// @credits Sergey Ilinsky\t(http://www.ilinsky.com/)\n\t\tfunction _getDocument(xhr) {\n\t\t\tvar rXML = xhr.responseXML;\n\t\t\tvar rText = xhr.responseText;\n\t\t\t\n\t\t\t// Try parsing responseText (@see: http://www.ilinsky.com/articles/XMLHttpRequest/#bugs-ie-responseXML-content-type)\n\t\t\tif (Env.browser === 'IE' && rText && rXML && !rXML.documentElement && /[^\\/]+\\/[^\\+]+\\+xml/.test(xhr.getResponseHeader(\"Content-Type\"))) {\n\t\t\t\trXML = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n\t\t\t\trXML.async = false;\n\t\t\t\trXML.validateOnParse = false;\n\t\t\t\trXML.loadXML(rText);\n\t\t\t}\n\t\n\t\t\t// Check if there is no error in document\n\t\t\tif (rXML) {\n\t\t\t\tif ((Env.browser === 'IE' && rXML.parseError !== 0) || !rXML.documentElement || rXML.documentElement.tagName === \"parsererror\") {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn rXML;\n\t\t}\n\n\n\t\tfunction _prepareMultipart(fd) {\n\t\t\tvar boundary = '----moxieboundary' + new Date().getTime()\n\t\t\t, dashdash = '--'\n\t\t\t, crlf = '\\r\\n'\n\t\t\t, multipart = ''\n\t\t\t, I = this.getRuntime()\n\t\t\t;\n\n\t\t\tif (!I.can('send_binary_string')) {\n\t\t\t\tthrow new x.RuntimeError(x.RuntimeError.NOT_SUPPORTED_ERR);\n\t\t\t}\n\n\t\t\t_xhr.setRequestHeader('Content-Type', 'multipart/form-data; boundary=' + boundary);\n\n\t\t\t// append multipart parameters\n\t\t\tfd.each(function(value, name) {\n\t\t\t\t// Firefox 3.6 failed to convert multibyte characters to UTF-8 in sendAsBinary(), \n\t\t\t\t// so we try it here ourselves with: unescape(encodeURIComponent(value))\n\t\t\t\tif (value instanceof Blob) {\n\t\t\t\t\t// Build RFC2388 blob\n\t\t\t\t\tmultipart += dashdash + boundary + crlf +\n\t\t\t\t\t\t'Content-Disposition: form-data; name=\"' + name + '\"; filename=\"' + unescape(encodeURIComponent(value.name || 'blob')) + '\"' + crlf +\n\t\t\t\t\t\t'Content-Type: ' + (value.type || 'application/octet-stream') + crlf + crlf +\n\t\t\t\t\t\tvalue.getSource() + crlf;\n\t\t\t\t} else {\n\t\t\t\t\tmultipart += dashdash + boundary + crlf +\n\t\t\t\t\t\t'Content-Disposition: form-data; name=\"' + name + '\"' + crlf + crlf +\n\t\t\t\t\t\tunescape(encodeURIComponent(value)) + crlf;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmultipart += dashdash + boundary + dashdash + crlf;\n\n\t\t\treturn multipart;\n\t\t}\n\t}\n\n\treturn (extensions.XMLHttpRequest = XMLHttpRequest);\n});\n\n// Included from: src/javascript/runtime/html5/utils/BinaryReader.js\n\n/**\n * BinaryReader.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/html5/utils/BinaryReader\n@private\n*/\ndefine(\"moxie/runtime/html5/utils/BinaryReader\", [], function() {\n\treturn function() {\n\t\tvar II = false, bin;\n\n\t\t// Private functions\n\t\tfunction read(idx, size) {\n\t\t\tvar mv = II ? 0 : -8 * (size - 1), sum = 0, i;\n\n\t\t\tfor (i = 0; i < size; i++) {\n\t\t\t\tsum |= (bin.charCodeAt(idx + i) << Math.abs(mv + i*8));\n\t\t\t}\n\n\t\t\treturn sum;\n\t\t}\n\n\t\tfunction putstr(segment, idx, length) {\n\t\t\tlength = arguments.length === 3 ? length : bin.length - idx - 1;\n\t\t\tbin = bin.substr(0, idx) + segment + bin.substr(length + idx);\n\t\t}\n\n\t\tfunction write(idx, num, size) {\n\t\t\tvar str = '', mv = II ? 0 : -8 * (size - 1), i;\n\n\t\t\tfor (i = 0; i < size; i++) {\n\t\t\t\tstr += String.fromCharCode((num >> Math.abs(mv + i*8)) & 255);\n\t\t\t}\n\n\t\t\tputstr(str, idx, size);\n\t\t}\n\n\t\t// Public functions\n\t\treturn {\n\t\t\tII: function(order) {\n\t\t\t\tif (order === undefined) {\n\t\t\t\t\treturn II;\n\t\t\t\t} else {\n\t\t\t\t\tII = order;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tinit: function(binData) {\n\t\t\t\tII = false;\n\t\t\t\tbin = binData;\n\t\t\t},\n\n\t\t\tSEGMENT: function(idx, length, segment) {\n\t\t\t\tswitch (arguments.length) {\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\treturn bin.substr(idx, bin.length - idx - 1);\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\treturn bin.substr(idx, length);\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tputstr(segment, idx, length);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault: return bin;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tBYTE: function(idx) {\n\t\t\t\treturn read(idx, 1);\n\t\t\t},\n\n\t\t\tSHORT: function(idx) {\n\t\t\t\treturn read(idx, 2);\n\t\t\t},\n\n\t\t\tLONG: function(idx, num) {\n\t\t\t\tif (num === undefined) {\n\t\t\t\t\treturn read(idx, 4);\n\t\t\t\t} else {\n\t\t\t\t\twrite(idx, num, 4);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tSLONG: function(idx) { // 2's complement notation\n\t\t\t\tvar num = read(idx, 4);\n\n\t\t\t\treturn (num > 2147483647 ? num - 4294967296 : num);\n\t\t\t},\n\n\t\t\tSTRING: function(idx, size) {\n\t\t\t\tvar str = '';\n\n\t\t\t\tfor (size += idx; idx < size; idx++) {\n\t\t\t\t\tstr += String.fromCharCode(read(idx, 1));\n\t\t\t\t}\n\n\t\t\t\treturn str;\n\t\t\t}\n\t\t};\n\t};\n});\n\n// Included from: src/javascript/runtime/html5/image/JPEGHeaders.js\n\n/**\n * JPEGHeaders.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n \n/**\n@class moxie/runtime/html5/image/JPEGHeaders\n@private\n*/\ndefine(\"moxie/runtime/html5/image/JPEGHeaders\", [\n\t\"moxie/runtime/html5/utils/BinaryReader\"\n], function(BinaryReader) {\n\t\n\treturn function JPEGHeaders(data) {\n\t\tvar headers = [], read, idx, marker, length = 0;\n\n\t\tread = new BinaryReader();\n\t\tread.init(data);\n\n\t\t// Check if data is jpeg\n\t\tif (read.SHORT(0) !== 0xFFD8) {\n\t\t\treturn;\n\t\t}\n\n\t\tidx = 2;\n\n\t\twhile (idx <= data.length) {\n\t\t\tmarker = read.SHORT(idx);\n\n\t\t\t// omit RST (restart) markers\n\t\t\tif (marker >= 0xFFD0 && marker <= 0xFFD7) {\n\t\t\t\tidx += 2;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// no headers allowed after SOS marker\n\t\t\tif (marker === 0xFFDA || marker === 0xFFD9) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tlength = read.SHORT(idx + 2) + 2;\n\n\t\t\t// APPn marker detected\n\t\t\tif (marker >= 0xFFE1 && marker <= 0xFFEF) {\n\t\t\t\theaders.push({\n\t\t\t\t\thex: marker,\n\t\t\t\t\tname: 'APP' + (marker & 0x000F),\n\t\t\t\t\tstart: idx,\n\t\t\t\t\tlength: length,\n\t\t\t\t\tsegment: read.SEGMENT(idx, length)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tidx += length;\n\t\t}\n\n\t\tread.init(null); // free memory\n\n\t\treturn {\n\t\t\theaders: headers,\n\n\t\t\trestore: function(data) {\n\t\t\t\tvar max, i;\n\n\t\t\t\tread.init(data);\n\n\t\t\t\tidx = read.SHORT(2) == 0xFFE0 ? 4 + read.SHORT(4) : 2;\n\n\t\t\t\tfor (i = 0, max = headers.length; i < max; i++) {\n\t\t\t\t\tread.SEGMENT(idx, 0, headers[i].segment);\n\t\t\t\t\tidx += headers[i].length;\n\t\t\t\t}\n\n\t\t\t\tdata = read.SEGMENT();\n\t\t\t\tread.init(null);\n\t\t\t\treturn data;\n\t\t\t},\n\n\t\t\tstrip: function(data) {\n\t\t\t\tvar headers, jpegHeaders, i;\n\n\t\t\t\tjpegHeaders = new JPEGHeaders(data);\n\t\t\t\theaders = jpegHeaders.headers;\n\t\t\t\tjpegHeaders.purge();\n\n\t\t\t\tread.init(data);\n\n\t\t\t\ti = headers.length;\n\t\t\t\twhile (i--) {\n\t\t\t\t\tread.SEGMENT(headers[i].start, headers[i].length, '');\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tdata = read.SEGMENT();\n\t\t\t\tread.init(null);\n\t\t\t\treturn data;\n\t\t\t},\n\n\t\t\tget: function(name) {\n\t\t\t\tvar array = [];\n\n\t\t\t\tfor (var i = 0, max = headers.length; i < max; i++) {\n\t\t\t\t\tif (headers[i].name === name.toUpperCase()) {\n\t\t\t\t\t\tarray.push(headers[i].segment);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn array;\n\t\t\t},\n\n\t\t\tset: function(name, segment) {\n\t\t\t\tvar array = [], i, ii, max;\n\n\t\t\t\tif (typeof(segment) === 'string') {\n\t\t\t\t\tarray.push(segment);\n\t\t\t\t} else {\n\t\t\t\t\tarray = segment;\n\t\t\t\t}\n\n\t\t\t\tfor (i = ii = 0, max = headers.length; i < max; i++) {\n\t\t\t\t\tif (headers[i].name === name.toUpperCase()) {\n\t\t\t\t\t\theaders[i].segment = array[ii];\n\t\t\t\t\t\theaders[i].length = array[ii].length;\n\t\t\t\t\t\tii++;\n\t\t\t\t\t}\n\t\t\t\t\tif (ii >= array.length) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpurge: function() {\n\t\t\t\theaders = [];\n\t\t\t\tread.init(null);\n\t\t\t\tread = null;\n\t\t\t}\n\t\t};\n\t};\n});\n\n// Included from: src/javascript/runtime/html5/image/ExifParser.js\n\n/**\n * ExifParser.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/html5/image/ExifParser\n@private\n*/\ndefine(\"moxie/runtime/html5/image/ExifParser\", [\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/runtime/html5/utils/BinaryReader\"\n], function(Basic, BinaryReader) {\n\t\n\treturn function ExifParser() {\n\t\t// Private ExifParser fields\n\t\tvar data, tags, Tiff, offsets = {}, tagDescs;\n\n\t\tdata = new BinaryReader();\n\n\t\ttags = {\n\t\t\ttiff : {\n\t\t\t\t/*\n\t\t\t\tThe image orientation viewed in terms of rows and columns.\n\n\t\t\t\t1 = The 0th row is at the visual top of the image, and the 0th column is the visual left-hand side.\n\t\t\t\t2 = The 0th row is at the visual top of the image, and the 0th column is the visual right-hand side.\n\t\t\t\t3 = The 0th row is at the visual bottom of the image, and the 0th column is the visual right-hand side.\n\t\t\t\t4 = The 0th row is at the visual bottom of the image, and the 0th column is the visual left-hand side.\n\t\t\t\t5 = The 0th row is the visual left-hand side of the image, and the 0th column is the visual top.\n\t\t\t\t6 = The 0th row is the visual right-hand side of the image, and the 0th column is the visual top.\n\t\t\t\t7 = The 0th row is the visual right-hand side of the image, and the 0th column is the visual bottom.\n\t\t\t\t8 = The 0th row is the visual left-hand side of the image, and the 0th column is the visual bottom.\n\t\t\t\t*/\n\t\t\t\t0x0112: 'Orientation',\n\t\t\t\t0x010E: 'ImageDescription',\n\t\t\t\t0x010F: 'Make',\n\t\t\t\t0x0110: 'Model',\n\t\t\t\t0x0131: 'Software',\n\t\t\t\t0x8769: 'ExifIFDPointer',\n\t\t\t\t0x8825:\t'GPSInfoIFDPointer'\n\t\t\t},\n\t\t\texif : {\n\t\t\t\t0x9000: 'ExifVersion',\n\t\t\t\t0xA001: 'ColorSpace',\n\t\t\t\t0xA002: 'PixelXDimension',\n\t\t\t\t0xA003: 'PixelYDimension',\n\t\t\t\t0x9003: 'DateTimeOriginal',\n\t\t\t\t0x829A: 'ExposureTime',\n\t\t\t\t0x829D: 'FNumber',\n\t\t\t\t0x8827: 'ISOSpeedRatings',\n\t\t\t\t0x9201: 'ShutterSpeedValue',\n\t\t\t\t0x9202: 'ApertureValue'\t,\n\t\t\t\t0x9207: 'MeteringMode',\n\t\t\t\t0x9208: 'LightSource',\n\t\t\t\t0x9209: 'Flash',\n\t\t\t\t0x920A: 'FocalLength',\n\t\t\t\t0xA402: 'ExposureMode',\n\t\t\t\t0xA403: 'WhiteBalance',\n\t\t\t\t0xA406: 'SceneCaptureType',\n\t\t\t\t0xA404: 'DigitalZoomRatio',\n\t\t\t\t0xA408: 'Contrast',\n\t\t\t\t0xA409: 'Saturation',\n\t\t\t\t0xA40A: 'Sharpness'\n\t\t\t},\n\t\t\tgps : {\n\t\t\t\t0x0000: 'GPSVersionID',\n\t\t\t\t0x0001: 'GPSLatitudeRef',\n\t\t\t\t0x0002: 'GPSLatitude',\n\t\t\t\t0x0003: 'GPSLongitudeRef',\n\t\t\t\t0x0004: 'GPSLongitude'\n\t\t\t}\n\t\t};\n\n\t\ttagDescs = {\n\t\t\t'ColorSpace': {\n\t\t\t\t1: 'sRGB',\n\t\t\t\t0: 'Uncalibrated'\n\t\t\t},\n\n\t\t\t'MeteringMode': {\n\t\t\t\t0: 'Unknown',\n\t\t\t\t1: 'Average',\n\t\t\t\t2: 'CenterWeightedAverage',\n\t\t\t\t3: 'Spot',\n\t\t\t\t4: 'MultiSpot',\n\t\t\t\t5: 'Pattern',\n\t\t\t\t6: 'Partial',\n\t\t\t\t255: 'Other'\n\t\t\t},\n\n\t\t\t'LightSource': {\n\t\t\t\t1: 'Daylight',\n\t\t\t\t2: 'Fliorescent',\n\t\t\t\t3: 'Tungsten',\n\t\t\t\t4: 'Flash',\n\t\t\t\t9: 'Fine weather',\n\t\t\t\t10: 'Cloudy weather',\n\t\t\t\t11: 'Shade',\n\t\t\t\t12: 'Daylight fluorescent (D 5700 - 7100K)',\n\t\t\t\t13: 'Day white fluorescent (N 4600 -5400K)',\n\t\t\t\t14: 'Cool white fluorescent (W 3900 - 4500K)',\n\t\t\t\t15: 'White fluorescent (WW 3200 - 3700K)',\n\t\t\t\t17: 'Standard light A',\n\t\t\t\t18: 'Standard light B',\n\t\t\t\t19: 'Standard light C',\n\t\t\t\t20: 'D55',\n\t\t\t\t21: 'D65',\n\t\t\t\t22: 'D75',\n\t\t\t\t23: 'D50',\n\t\t\t\t24: 'ISO studio tungsten',\n\t\t\t\t255: 'Other'\n\t\t\t},\n\n\t\t\t'Flash': {\n\t\t\t\t0x0000: 'Flash did not fire.',\n\t\t\t\t0x0001: 'Flash fired.',\n\t\t\t\t0x0005: 'Strobe return light not detected.',\n\t\t\t\t0x0007: 'Strobe return light detected.',\n\t\t\t\t0x0009: 'Flash fired, compulsory flash mode',\n\t\t\t\t0x000D: 'Flash fired, compulsory flash mode, return light not detected',\n\t\t\t\t0x000F: 'Flash fired, compulsory flash mode, return light detected',\n\t\t\t\t0x0010: 'Flash did not fire, compulsory flash mode',\n\t\t\t\t0x0018: 'Flash did not fire, auto mode',\n\t\t\t\t0x0019: 'Flash fired, auto mode',\n\t\t\t\t0x001D: 'Flash fired, auto mode, return light not detected',\n\t\t\t\t0x001F: 'Flash fired, auto mode, return light detected',\n\t\t\t\t0x0020: 'No flash function',\n\t\t\t\t0x0041: 'Flash fired, red-eye reduction mode',\n\t\t\t\t0x0045: 'Flash fired, red-eye reduction mode, return light not detected',\n\t\t\t\t0x0047: 'Flash fired, red-eye reduction mode, return light detected',\n\t\t\t\t0x0049: 'Flash fired, compulsory flash mode, red-eye reduction mode',\n\t\t\t\t0x004D: 'Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected',\n\t\t\t\t0x004F: 'Flash fired, compulsory flash mode, red-eye reduction mode, return light detected',\n\t\t\t\t0x0059: 'Flash fired, auto mode, red-eye reduction mode',\n\t\t\t\t0x005D: 'Flash fired, auto mode, return light not detected, red-eye reduction mode',\n\t\t\t\t0x005F: 'Flash fired, auto mode, return light detected, red-eye reduction mode'\n\t\t\t},\n\n\t\t\t'ExposureMode': {\n\t\t\t\t0: 'Auto exposure',\n\t\t\t\t1: 'Manual exposure',\n\t\t\t\t2: 'Auto bracket'\n\t\t\t},\n\n\t\t\t'WhiteBalance': {\n\t\t\t\t0: 'Auto white balance',\n\t\t\t\t1: 'Manual white balance'\n\t\t\t},\n\n\t\t\t'SceneCaptureType': {\n\t\t\t\t0: 'Standard',\n\t\t\t\t1: 'Landscape',\n\t\t\t\t2: 'Portrait',\n\t\t\t\t3: 'Night scene'\n\t\t\t},\n\n\t\t\t'Contrast': {\n\t\t\t\t0: 'Normal',\n\t\t\t\t1: 'Soft',\n\t\t\t\t2: 'Hard'\n\t\t\t},\n\n\t\t\t'Saturation': {\n\t\t\t\t0: 'Normal',\n\t\t\t\t1: 'Low saturation',\n\t\t\t\t2: 'High saturation'\n\t\t\t},\n\n\t\t\t'Sharpness': {\n\t\t\t\t0: 'Normal',\n\t\t\t\t1: 'Soft',\n\t\t\t\t2: 'Hard'\n\t\t\t},\n\n\t\t\t// GPS related\n\t\t\t'GPSLatitudeRef': {\n\t\t\t\tN: 'North latitude',\n\t\t\t\tS: 'South latitude'\n\t\t\t},\n\n\t\t\t'GPSLongitudeRef': {\n\t\t\t\tE: 'East longitude',\n\t\t\t\tW: 'West longitude'\n\t\t\t}\n\t\t};\n\n\t\tfunction extractTags(IFD_offset, tags2extract) {\n\t\t\tvar length = data.SHORT(IFD_offset), i, ii,\n\t\t\t\ttag, type, count, tagOffset, offset, value, values = [], hash = {};\n\n\t\t\tfor (i = 0; i < length; i++) {\n\t\t\t\t// Set binary reader pointer to beginning of the next tag\n\t\t\t\toffset = tagOffset = IFD_offset + 12 * i + 2;\n\n\t\t\t\ttag = tags2extract[data.SHORT(offset)];\n\n\t\t\t\tif (tag === undefined) {\n\t\t\t\t\tcontinue; // Not the tag we requested\n\t\t\t\t}\n\n\t\t\t\ttype = data.SHORT(offset+=2);\n\t\t\t\tcount = data.LONG(offset+=2);\n\n\t\t\t\toffset += 4;\n\t\t\t\tvalues = [];\n\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 1: // BYTE\n\t\t\t\t\tcase 7: // UNDEFINED\n\t\t\t\t\t\tif (count > 4) {\n\t\t\t\t\t\t\toffset = data.LONG(offset) + offsets.tiffHeader;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (ii = 0; ii < count; ii++) {\n\t\t\t\t\t\t\tvalues[ii] = data.BYTE(offset + ii);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 2: // STRING\n\t\t\t\t\t\tif (count > 4) {\n\t\t\t\t\t\t\toffset = data.LONG(offset) + offsets.tiffHeader;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\thash[tag] = data.STRING(offset, count - 1);\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tcase 3: // SHORT\n\t\t\t\t\t\tif (count > 2) {\n\t\t\t\t\t\t\toffset = data.LONG(offset) + offsets.tiffHeader;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (ii = 0; ii < count; ii++) {\n\t\t\t\t\t\t\tvalues[ii] = data.SHORT(offset + ii*2);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 4: // LONG\n\t\t\t\t\t\tif (count > 1) {\n\t\t\t\t\t\t\toffset = data.LONG(offset) + offsets.tiffHeader;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (ii = 0; ii < count; ii++) {\n\t\t\t\t\t\t\tvalues[ii] = data.LONG(offset + ii*4);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 5: // RATIONAL\n\t\t\t\t\t\toffset = data.LONG(offset) + offsets.tiffHeader;\n\n\t\t\t\t\t\tfor (ii = 0; ii < count; ii++) {\n\t\t\t\t\t\t\tvalues[ii] = data.LONG(offset + ii*4) / data.LONG(offset + ii*4 + 4);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 9: // SLONG\n\t\t\t\t\t\toffset = data.LONG(offset) + offsets.tiffHeader;\n\n\t\t\t\t\t\tfor (ii = 0; ii < count; ii++) {\n\t\t\t\t\t\t\tvalues[ii] = data.SLONG(offset + ii*4);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 10: // SRATIONAL\n\t\t\t\t\t\toffset = data.LONG(offset) + offsets.tiffHeader;\n\n\t\t\t\t\t\tfor (ii = 0; ii < count; ii++) {\n\t\t\t\t\t\t\tvalues[ii] = data.SLONG(offset + ii*4) / data.SLONG(offset + ii*4 + 4);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvalue = (count == 1 ? values[0] : values);\n\n\t\t\t\tif (tagDescs.hasOwnProperty(tag) && typeof value != 'object') {\n\t\t\t\t\thash[tag] = tagDescs[tag][value];\n\t\t\t\t} else {\n\t\t\t\t\thash[tag] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn hash;\n\t\t}\n\n\t\tfunction getIFDOffsets() {\n\t\t\tvar idx = offsets.tiffHeader;\n\n\t\t\t// Set read order of multi-byte data\n\t\t\tdata.II(data.SHORT(idx) == 0x4949);\n\n\t\t\t// Check if always present bytes are indeed present\n\t\t\tif (data.SHORT(idx+=2) !== 0x002A) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\toffsets.IFD0 = offsets.tiffHeader + data.LONG(idx += 2);\n\t\t\tTiff = extractTags(offsets.IFD0, tags.tiff);\n\n\t\t\tif ('ExifIFDPointer' in Tiff) {\n\t\t\t\toffsets.exifIFD = offsets.tiffHeader + Tiff.ExifIFDPointer;\n\t\t\t\tdelete Tiff.ExifIFDPointer;\n\t\t\t}\n\n\t\t\tif ('GPSInfoIFDPointer' in Tiff) {\n\t\t\t\toffsets.gpsIFD = offsets.tiffHeader + Tiff.GPSInfoIFDPointer;\n\t\t\t\tdelete Tiff.GPSInfoIFDPointer;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\t// At the moment only setting of simple (LONG) values, that do not require offset recalculation, is supported\n\t\tfunction setTag(ifd, tag, value) {\n\t\t\tvar offset, length, tagOffset, valueOffset = 0;\n\n\t\t\t// If tag name passed translate into hex key\n\t\t\tif (typeof(tag) === 'string') {\n\t\t\t\tvar tmpTags = tags[ifd.toLowerCase()];\n\t\t\t\tfor (var hex in tmpTags) {\n\t\t\t\t\tif (tmpTags[hex] === tag) {\n\t\t\t\t\t\ttag = hex;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\toffset = offsets[ifd.toLowerCase() + 'IFD'];\n\t\t\tlength = data.SHORT(offset);\n\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\ttagOffset = offset + 12 * i + 2;\n\n\t\t\t\tif (data.SHORT(tagOffset) == tag) {\n\t\t\t\t\tvalueOffset = tagOffset + 8;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!valueOffset) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tdata.LONG(valueOffset, value);\n\t\t\treturn true;\n\t\t}\n\n\n\t\t// Public functions\n\t\treturn {\n\t\t\tinit: function(segment) {\n\t\t\t\t// Reset internal data\n\t\t\t\toffsets = {\n\t\t\t\t\ttiffHeader: 10\n\t\t\t\t};\n\n\t\t\t\tif (segment === undefined || !segment.length) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tdata.init(segment);\n\n\t\t\t\t// Check if that's APP1 and that it has EXIF\n\t\t\t\tif (data.SHORT(0) === 0xFFE1 && data.STRING(4, 5).toUpperCase() === \"EXIF\\0\") {\n\t\t\t\t\treturn getIFDOffsets();\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\n\t\t\tTIFF: function() {\n\t\t\t\treturn Tiff;\n\t\t\t},\n\n\t\t\tEXIF: function() {\n\t\t\t\tvar Exif;\n\n\t\t\t\t// Populate EXIF hash\n\t\t\t\tExif = extractTags(offsets.exifIFD, tags.exif);\n\n\t\t\t\t// Fix formatting of some tags\n\t\t\t\tif (Exif.ExifVersion && Basic.typeOf(Exif.ExifVersion) === 'array') {\n\t\t\t\t\tfor (var i = 0, exifVersion = ''; i < Exif.ExifVersion.length; i++) {\n\t\t\t\t\t\texifVersion += String.fromCharCode(Exif.ExifVersion[i]);\n\t\t\t\t\t}\n\t\t\t\t\tExif.ExifVersion = exifVersion;\n\t\t\t\t}\n\n\t\t\t\treturn Exif;\n\t\t\t},\n\n\t\t\tGPS: function() {\n\t\t\t\tvar GPS;\n\n\t\t\t\tGPS = extractTags(offsets.gpsIFD, tags.gps);\n\n\t\t\t\t// iOS devices (and probably some others) do not put in GPSVersionID tag (why?..)\n\t\t\t\tif (GPS.GPSVersionID && Basic.typeOf(GPS.GPSVersionID) === 'array') {\n\t\t\t\t\tGPS.GPSVersionID = GPS.GPSVersionID.join('.');\n\t\t\t\t}\n\n\t\t\t\treturn GPS;\n\t\t\t},\n\n\t\t\tsetExif: function(tag, value) {\n\t\t\t\t// Right now only setting of width/height is possible\n\t\t\t\tif (tag !== 'PixelXDimension' && tag !== 'PixelYDimension') {return false;}\n\n\t\t\t\treturn setTag('exif', tag, value);\n\t\t\t},\n\n\n\t\t\tgetBinary: function() {\n\t\t\t\treturn data.SEGMENT();\n\t\t\t},\n\n\t\t\tpurge: function() {\n\t\t\t\tdata.init(null);\n\t\t\t\tdata = Tiff = null;\n\t\t\t\toffsets = {};\n\t\t\t}\n\t\t};\n\t};\n});\n\n// Included from: src/javascript/runtime/html5/image/JPEG.js\n\n/**\n * JPEG.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/html5/image/JPEG\n@private\n*/\ndefine(\"moxie/runtime/html5/image/JPEG\", [\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/core/Exceptions\",\n\t\"moxie/runtime/html5/image/JPEGHeaders\",\n\t\"moxie/runtime/html5/utils/BinaryReader\",\n\t\"moxie/runtime/html5/image/ExifParser\"\n], function(Basic, x, JPEGHeaders, BinaryReader, ExifParser) {\n\t\n\tfunction JPEG(binstr) {\n\t\tvar _binstr, _br, _hm, _ep, _info, hasExif;\n\n\t\tfunction _getDimensions() {\n\t\t\tvar idx = 0, marker, length;\n\n\t\t\t// examine all through the end, since some images might have very large APP segments\n\t\t\twhile (idx <= _binstr.length) {\n\t\t\t\tmarker = _br.SHORT(idx += 2);\n\n\t\t\t\tif (marker >= 0xFFC0 && marker <= 0xFFC3) { // SOFn\n\t\t\t\t\tidx += 5; // marker (2 bytes) + length (2 bytes) + Sample precision (1 byte)\n\t\t\t\t\treturn {\n\t\t\t\t\t\theight: _br.SHORT(idx),\n\t\t\t\t\t\twidth: _br.SHORT(idx += 2)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tlength = _br.SHORT(idx += 2);\n\t\t\t\tidx += length - 2;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\t_binstr = binstr;\n\n\t\t_br = new BinaryReader();\n\t\t_br.init(_binstr);\n\n\t\t// check if it is jpeg\n\t\tif (_br.SHORT(0) !== 0xFFD8) {\n\t\t\tthrow new x.ImageError(x.ImageError.WRONG_FORMAT);\n\t\t}\n\n\t\t// backup headers\n\t\t_hm = new JPEGHeaders(binstr);\n\n\t\t// extract exif info\n\t\t_ep = new ExifParser();\n\t\thasExif = !!_ep.init(_hm.get('app1')[0]);\n\n\t\t// get dimensions\n\t\t_info = _getDimensions.call(this);\n\n\t\tBasic.extend(this, {\n\t\t\ttype: 'image/jpeg',\n\n\t\t\tsize: _binstr.length,\n\n\t\t\twidth: _info && _info.width || 0,\n\n\t\t\theight: _info && _info.height || 0,\n\n\t\t\tsetExif: function(tag, value) {\n\t\t\t\tif (!hasExif) {\n\t\t\t\t\treturn false; // or throw an exception\n\t\t\t\t}\n\n\t\t\t\tif (Basic.typeOf(tag) === 'object') {\n\t\t\t\t\tBasic.each(tag, function(value, tag) {\n\t\t\t\t\t\t_ep.setExif(tag, value);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t_ep.setExif(tag, value);\n\t\t\t\t}\n\n\t\t\t\t// update internal headers\n\t\t\t\t_hm.set('app1', _ep.getBinary());\n\t\t\t},\n\n\t\t\twriteHeaders: function() {\n\t\t\t\tif (!arguments.length) {\n\t\t\t\t\t// if no arguments passed, update headers internally\n\t\t\t\t\treturn (_binstr = _hm.restore(_binstr));\n\t\t\t\t}\n\t\t\t\treturn _hm.restore(arguments[0]);\n\t\t\t},\n\n\t\t\tstripHeaders: function(binstr) {\n\t\t\t\treturn _hm.strip(binstr);\n\t\t\t},\n\n\t\t\tpurge: function() {\n\t\t\t\t_purge.call(this);\n\t\t\t}\n\t\t});\n\n\t\tif (hasExif) {\n\t\t\tthis.meta = {\n\t\t\t\ttiff: _ep.TIFF(),\n\t\t\t\texif: _ep.EXIF(),\n\t\t\t\tgps: _ep.GPS()\n\t\t\t};\n\t\t}\n\n\t\tfunction _purge() {\n\t\t\tif (!_ep || !_hm || !_br) { \n\t\t\t\treturn; // ignore any repeating purge requests\n\t\t\t}\n\t\t\t_ep.purge();\n\t\t\t_hm.purge();\n\t\t\t_br.init(null);\n\t\t\t_binstr = _info = _hm = _ep = _br = null;\n\t\t}\n\t}\n\n\treturn JPEG;\n});\n\n// Included from: src/javascript/runtime/html5/image/PNG.js\n\n/**\n * PNG.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/html5/image/PNG\n@private\n*/\ndefine(\"moxie/runtime/html5/image/PNG\", [\n\t\"moxie/core/Exceptions\",\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/runtime/html5/utils/BinaryReader\"\n], function(x, Basic, BinaryReader) {\n\t\n\tfunction PNG(binstr) {\n\t\tvar _binstr, _br, _hm, _ep, _info;\n\n\t\t_binstr = binstr;\n\n\t\t_br = new BinaryReader();\n\t\t_br.init(_binstr);\n\n\t\t// check if it's png\n\t\t(function() {\n\t\t\tvar idx = 0, i = 0\n\t\t\t, signature = [0x8950, 0x4E47, 0x0D0A, 0x1A0A]\n\t\t\t;\n\n\t\t\tfor (i = 0; i < signature.length; i++, idx += 2) {\n\t\t\t\tif (signature[i] != _br.SHORT(idx)) {\n\t\t\t\t\tthrow new x.ImageError(x.ImageError.WRONG_FORMAT);\n\t\t\t\t}\n\t\t\t}\n\t\t}());\n\n\t\tfunction _getDimensions() {\n\t\t\tvar chunk, idx;\n\n\t\t\tchunk = _getChunkAt.call(this, 8);\n\n\t\t\tif (chunk.type == 'IHDR') {\n\t\t\t\tidx = chunk.start;\n\t\t\t\treturn {\n\t\t\t\t\twidth: _br.LONG(idx),\n\t\t\t\t\theight: _br.LONG(idx += 4)\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tfunction _purge() {\n\t\t\tif (!_br) {\n\t\t\t\treturn; // ignore any repeating purge requests\n\t\t\t}\n\t\t\t_br.init(null);\n\t\t\t_binstr = _info = _hm = _ep = _br = null;\n\t\t}\n\n\t\t_info = _getDimensions.call(this);\n\n\t\tBasic.extend(this, {\n\t\t\ttype: 'image/png',\n\n\t\t\tsize: _binstr.length,\n\n\t\t\twidth: _info.width,\n\n\t\t\theight: _info.height,\n\n\t\t\tpurge: function() {\n\t\t\t\t_purge.call(this);\n\t\t\t}\n\t\t});\n\n\t\t// for PNG we can safely trigger purge automatically, as we do not keep any data for later\n\t\t_purge.call(this);\n\n\t\tfunction _getChunkAt(idx) {\n\t\t\tvar length, type, start, CRC;\n\n\t\t\tlength = _br.LONG(idx);\n\t\t\ttype = _br.STRING(idx += 4, 4);\n\t\t\tstart = idx += 4;\n\t\t\tCRC = _br.LONG(idx + length);\n\n\t\t\treturn {\n\t\t\t\tlength: length,\n\t\t\t\ttype: type,\n\t\t\t\tstart: start,\n\t\t\t\tCRC: CRC\n\t\t\t};\n\t\t}\n\t}\n\n\treturn PNG;\n});\n\n// Included from: src/javascript/runtime/html5/image/ImageInfo.js\n\n/**\n * ImageInfo.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/html5/image/ImageInfo\n@private\n*/\ndefine(\"moxie/runtime/html5/image/ImageInfo\", [\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/core/Exceptions\",\n\t\"moxie/runtime/html5/image/JPEG\",\n\t\"moxie/runtime/html5/image/PNG\"\n], function(Basic, x, JPEG, PNG) {\n\t/**\n\tOptional image investigation tool for HTML5 runtime. Provides the following features:\n\t- ability to distinguish image type (JPEG or PNG) by signature\n\t- ability to extract image width/height directly from it's internals, without preloading in memory (fast)\n\t- ability to extract APP headers from JPEGs (Exif, GPS, etc)\n\t- ability to replace width/height tags in extracted JPEG headers\n\t- ability to restore APP headers, that were for example stripped during image manipulation\n\n\t@class ImageInfo\n\t@constructor\n\t@param {String} binstr Image source as binary string\n\t*/\n\treturn function(binstr) {\n\t\tvar _cs = [JPEG, PNG], _img;\n\n\t\t// figure out the format, throw: ImageError.WRONG_FORMAT if not supported\n\t\t_img = (function() {\n\t\t\tfor (var i = 0; i < _cs.length; i++) {\n\t\t\t\ttry {\n\t\t\t\t\treturn new _cs[i](binstr);\n\t\t\t\t} catch (ex) {\n\t\t\t\t\t// console.info(ex);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthrow new x.ImageError(x.ImageError.WRONG_FORMAT);\n\t\t}());\n\n\t\tBasic.extend(this, {\n\t\t\t/**\n\t\t\tImage Mime Type extracted from it's depths\n\n\t\t\t@property type\n\t\t\t@type {String}\n\t\t\t@default ''\n\t\t\t*/\n\t\t\ttype: '',\n\n\t\t\t/**\n\t\t\tImage size in bytes\n\n\t\t\t@property size\n\t\t\t@type {Number}\n\t\t\t@default 0\n\t\t\t*/\n\t\t\tsize: 0,\n\n\t\t\t/**\n\t\t\tImage width extracted from image source\n\n\t\t\t@property width\n\t\t\t@type {Number}\n\t\t\t@default 0\n\t\t\t*/\n\t\t\twidth: 0,\n\n\t\t\t/**\n\t\t\tImage height extracted from image source\n\n\t\t\t@property height\n\t\t\t@type {Number}\n\t\t\t@default 0\n\t\t\t*/\n\t\t\theight: 0,\n\n\t\t\t/**\n\t\t\tSets Exif tag. Currently applicable only for width and height tags. Obviously works only with JPEGs.\n\n\t\t\t@method setExif\n\t\t\t@param {String} tag Tag to set\n\t\t\t@param {Mixed} value Value to assign to the tag\n\t\t\t*/\n\t\t\tsetExif: function() {},\n\n\t\t\t/**\n\t\t\tRestores headers to the source.\n\n\t\t\t@method writeHeaders\n\t\t\t@param {String} data Image source as binary string\n\t\t\t@return {String} Updated binary string\n\t\t\t*/\n\t\t\twriteHeaders: function(data) {\n\t\t\t\treturn data;\n\t\t\t},\n\n\t\t\t/**\n\t\t\tStrip all headers from the source.\n\n\t\t\t@method stripHeaders\n\t\t\t@param {String} data Image source as binary string\n\t\t\t@return {String} Updated binary string\n\t\t\t*/\n\t\t\tstripHeaders: function(data) {\n\t\t\t\treturn data;\n\t\t\t},\n\n\t\t\t/**\n\t\t\tDispose resources.\n\n\t\t\t@method purge\n\t\t\t*/\n\t\t\tpurge: function() {}\n\t\t});\n\n\t\tBasic.extend(this, _img);\n\n\t\tthis.purge = function() {\n\t\t\t_img.purge();\n\t\t\t_img = null;\n\t\t};\n\t};\n});\n\n// Included from: src/javascript/runtime/html5/image/MegaPixel.js\n\n/**\n(The MIT License)\n\nCopyright (c) 2012 Shinichi Tomita <shinichi.tomita@gmail.com>;\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n'Software'), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/**\n * Mega pixel image rendering library for iOS6 Safari\n *\n * Fixes iOS6 Safari's image file rendering issue for large size image (over mega-pixel),\n * which causes unexpected subsampling when drawing it in canvas.\n * By using this library, you can safely render the image with proper stretching.\n *\n * Copyright (c) 2012 Shinichi Tomita <shinichi.tomita@gmail.com>\n * Released under the MIT license\n */\n\n/**\n@class moxie/runtime/html5/image/MegaPixel\n@private\n*/\ndefine(\"moxie/runtime/html5/image/MegaPixel\", [], function() {\n\n\t/**\n\t * Rendering image element (with resizing) into the canvas element\n\t */\n\tfunction renderImageToCanvas(img, canvas, options) {\n\t\tvar iw = img.naturalWidth, ih = img.naturalHeight;\n\t\tvar width = options.width, height = options.height;\n\t\tvar x = options.x || 0, y = options.y || 0;\n\t\tvar ctx = canvas.getContext('2d');\n\t\tif (detectSubsampling(img)) {\n\t\t\tiw /= 2;\n\t\t\tih /= 2;\n\t\t}\n\t\tvar d = 1024; // size of tiling canvas\n\t\tvar tmpCanvas = document.createElement('canvas');\n\t\ttmpCanvas.width = tmpCanvas.height = d;\n\t\tvar tmpCtx = tmpCanvas.getContext('2d');\n\t\tvar vertSquashRatio = detectVerticalSquash(img, iw, ih);\n\t\tvar sy = 0;\n\t\twhile (sy < ih) {\n\t\t\tvar sh = sy + d > ih ? ih - sy : d;\n\t\t\tvar sx = 0;\n\t\t\twhile (sx < iw) {\n\t\t\t\tvar sw = sx + d > iw ? iw - sx : d;\n\t\t\t\ttmpCtx.clearRect(0, 0, d, d);\n\t\t\t\ttmpCtx.drawImage(img, -sx, -sy);\n\t\t\t\tvar dx = (sx * width / iw + x) << 0;\n\t\t\t\tvar dw = Math.ceil(sw * width / iw);\n\t\t\t\tvar dy = (sy * height / ih / vertSquashRatio + y) << 0;\n\t\t\t\tvar dh = Math.ceil(sh * height / ih / vertSquashRatio);\n\t\t\t\tctx.drawImage(tmpCanvas, 0, 0, sw, sh, dx, dy, dw, dh);\n\t\t\t\tsx += d;\n\t\t\t}\n\t\t\tsy += d;\n\t\t}\n\t\ttmpCanvas = tmpCtx = null;\n\t}\n\n\t/**\n\t * Detect subsampling in loaded image.\n\t * In iOS, larger images than 2M pixels may be subsampled in rendering.\n\t */\n\tfunction detectSubsampling(img) {\n\t\tvar iw = img.naturalWidth, ih = img.naturalHeight;\n\t\tif (iw * ih > 1024 * 1024) { // subsampling may happen over megapixel image\n\t\t\tvar canvas = document.createElement('canvas');\n\t\t\tcanvas.width = canvas.height = 1;\n\t\t\tvar ctx = canvas.getContext('2d');\n\t\t\tctx.drawImage(img, -iw + 1, 0);\n\t\t\t// subsampled image becomes half smaller in rendering size.\n\t\t\t// check alpha channel value to confirm image is covering edge pixel or not.\n\t\t\t// if alpha value is 0 image is not covering, hence subsampled.\n\t\t\treturn ctx.getImageData(0, 0, 1, 1).data[3] === 0;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\n\t/**\n\t * Detecting vertical squash in loaded image.\n\t * Fixes a bug which squash image vertically while drawing into canvas for some images.\n\t */\n\tfunction detectVerticalSquash(img, iw, ih) {\n\t\tvar canvas = document.createElement('canvas');\n\t\tcanvas.width = 1;\n\t\tcanvas.height = ih;\n\t\tvar ctx = canvas.getContext('2d');\n\t\tctx.drawImage(img, 0, 0);\n\t\tvar data = ctx.getImageData(0, 0, 1, ih).data;\n\t\t// search image edge pixel position in case it is squashed vertically.\n\t\tvar sy = 0;\n\t\tvar ey = ih;\n\t\tvar py = ih;\n\t\twhile (py > sy) {\n\t\t\tvar alpha = data[(py - 1) * 4 + 3];\n\t\t\tif (alpha === 0) {\n\t\t\t\tey = py;\n\t\t\t} else {\n\t\t\tsy = py;\n\t\t\t}\n\t\t\tpy = (ey + sy) >> 1;\n\t\t}\n\t\tcanvas = null;\n\t\tvar ratio = (py / ih);\n\t\treturn (ratio === 0) ? 1 : ratio;\n\t}\n\n\treturn {\n\t\tisSubsampled: detectSubsampling,\n\t\trenderTo: renderImageToCanvas\n\t};\n});\n\n// Included from: src/javascript/runtime/html5/image/Image.js\n\n/**\n * Image.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/html5/image/Image\n@private\n*/\ndefine(\"moxie/runtime/html5/image/Image\", [\n\t\"moxie/runtime/html5/Runtime\",\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/core/Exceptions\",\n\t\"moxie/core/utils/Encode\",\n\t\"moxie/file/File\",\n\t\"moxie/runtime/html5/image/ImageInfo\",\n\t\"moxie/runtime/html5/image/MegaPixel\",\n\t\"moxie/core/utils/Mime\",\n\t\"moxie/core/utils/Env\"\n], function(extensions, Basic, x, Encode, File, ImageInfo, MegaPixel, Mime, Env) {\n\t\n\tfunction HTML5Image() {\n\t\tvar me = this\n\t\t, _img, _imgInfo, _canvas, _binStr, _blob\n\t\t, _modified = false // is set true whenever image is modified\n\t\t, _preserveHeaders = true\n\t\t;\n\n\t\tBasic.extend(this, {\n\t\t\tloadFromBlob: function(blob) {\n\t\t\t\tvar comp = this, I = comp.getRuntime()\n\t\t\t\t, asBinary = arguments.length > 1 ? arguments[1] : true\n\t\t\t\t;\n\n\t\t\t\tif (!I.can('access_binary')) {\n\t\t\t\t\tthrow new x.RuntimeError(x.RuntimeError.NOT_SUPPORTED_ERR);\n\t\t\t\t}\n\n\t\t\t\t_blob = blob;\n\n\t\t\t\tif (blob.isDetached()) {\n\t\t\t\t\t_binStr = blob.getSource();\n\t\t\t\t\t_preload.call(this, _binStr);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\t_readAsDataUrl.call(this, blob.getSource(), function(dataUrl) {\n\t\t\t\t\t\tif (asBinary) {\n\t\t\t\t\t\t\t_binStr = _toBinary(dataUrl);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_preload.call(comp, dataUrl);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tloadFromImage: function(img, exact) {\n\t\t\t\tthis.meta = img.meta;\n\n\t\t\t\t_blob = new File(null, {\n\t\t\t\t\tname: img.name,\n\t\t\t\t\tsize: img.size,\n\t\t\t\t\ttype: img.type\n\t\t\t\t});\n\n\t\t\t\t_preload.call(this, exact ? (_binStr = img.getAsBinaryString()) : img.getAsDataURL());\n\t\t\t},\n\n\t\t\tgetInfo: function() {\n\t\t\t\tvar I = this.getRuntime(), info;\n\n\t\t\t\tif (!_imgInfo && _binStr && I.can('access_image_binary')) {\n\t\t\t\t\t_imgInfo = new ImageInfo(_binStr);\n\t\t\t\t}\n\n\t\t\t\tinfo = {\n\t\t\t\t\twidth: _getImg().width || 0,\n\t\t\t\t\theight: _getImg().height || 0,\n\t\t\t\t\ttype: _blob.type || Mime.getFileMime(_blob.name),\n\t\t\t\t\tsize: _binStr && _binStr.length || _blob.size || 0,\n\t\t\t\t\tname: _blob.name || '',\n\t\t\t\t\tmeta: _imgInfo && _imgInfo.meta || this.meta || {}\n\t\t\t\t};\n\n\t\t\t\treturn info;\n\t\t\t},\n\n\t\t\tdownsize: function() {\n\t\t\t\t_downsize.apply(this, arguments);\n\t\t\t},\n\n\t\t\tgetAsCanvas: function() {\n\t\t\t\tif (_canvas) {\n\t\t\t\t\t_canvas.id = this.uid + '_canvas';\n\t\t\t\t}\n\t\t\t\treturn _canvas;\n\t\t\t},\n\n\t\t\tgetAsBlob: function(type, quality) {\n\t\t\t\tif (type !== this.type) {\n\t\t\t\t\t// if different mime type requested prepare image for conversion\n\t\t\t\t\t_downsize.call(this, this.width, this.height, false);\n\t\t\t\t}\n\t\t\t\treturn new File(null, {\n\t\t\t\t\tname: _blob.name || '',\n\t\t\t\t\ttype: type,\n\t\t\t\t\tdata: me.getAsBinaryString.call(this, type, quality)\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tgetAsDataURL: function(type) {\n\t\t\t\tvar quality = arguments[1] || 90;\n\n\t\t\t\t// if image has not been modified, return the source right away\n\t\t\t\tif (!_modified) {\n\t\t\t\t\treturn _img.src;\n\t\t\t\t}\n\n\t\t\t\tif ('image/jpeg' !== type) {\n\t\t\t\t\treturn _canvas.toDataURL('image/png');\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// older Geckos used to result in an exception on quality argument\n\t\t\t\t\t\treturn _canvas.toDataURL('image/jpeg', quality/100);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\treturn _canvas.toDataURL('image/jpeg');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetAsBinaryString: function(type, quality) {\n\t\t\t\t// if image has not been modified, return the source right away\n\t\t\t\tif (!_modified) {\n\t\t\t\t\t// if image was not loaded from binary string\n\t\t\t\t\tif (!_binStr) {\n\t\t\t\t\t\t_binStr = _toBinary(me.getAsDataURL(type, quality));\n\t\t\t\t\t}\n\t\t\t\t\treturn _binStr;\n\t\t\t\t}\n\n\t\t\t\tif ('image/jpeg' !== type) {\n\t\t\t\t\t_binStr = _toBinary(me.getAsDataURL(type, quality));\n\t\t\t\t} else {\n\t\t\t\t\tvar dataUrl;\n\n\t\t\t\t\t// if jpeg\n\t\t\t\t\tif (!quality) {\n\t\t\t\t\t\tquality = 90;\n\t\t\t\t\t}\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// older Geckos used to result in an exception on quality argument\n\t\t\t\t\t\tdataUrl = _canvas.toDataURL('image/jpeg', quality/100);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tdataUrl = _canvas.toDataURL('image/jpeg');\n\t\t\t\t\t}\n\n\t\t\t\t\t_binStr = _toBinary(dataUrl);\n\n\t\t\t\t\tif (_imgInfo) {\n\t\t\t\t\t\t_binStr = _imgInfo.stripHeaders(_binStr);\n\n\t\t\t\t\t\tif (_preserveHeaders) {\n\t\t\t\t\t\t\t// update dimensions info in exif\n\t\t\t\t\t\t\tif (_imgInfo.meta && _imgInfo.meta.exif) {\n\t\t\t\t\t\t\t\t_imgInfo.setExif({\n\t\t\t\t\t\t\t\t\tPixelXDimension: this.width,\n\t\t\t\t\t\t\t\t\tPixelYDimension: this.height\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// re-inject the headers\n\t\t\t\t\t\t\t_binStr = _imgInfo.writeHeaders(_binStr);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// will be re-created from fresh on next getInfo call\n\t\t\t\t\t\t_imgInfo.purge();\n\t\t\t\t\t\t_imgInfo = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t_modified = false;\n\n\t\t\t\treturn _binStr;\n\t\t\t},\n\n\t\t\tdestroy: function() {\n\t\t\t\tme = null;\n\t\t\t\t_purge.call(this);\n\t\t\t\tthis.getRuntime().getShim().removeInstance(this.uid);\n\t\t\t}\n\t\t});\n\n\n\t\tfunction _getImg() {\n\t\t\tif (!_canvas && !_img) {\n\t\t\t\tthrow new x.ImageError(x.DOMException.INVALID_STATE_ERR);\n\t\t\t}\n\t\t\treturn _canvas || _img;\n\t\t}\n\n\n\t\tfunction _toBinary(str) {\n\t\t\treturn Encode.atob(str.substring(str.indexOf('base64,') + 7));\n\t\t}\n\n\n\t\tfunction _toDataUrl(str, type) {\n\t\t\treturn 'data:' + (type || '') + ';base64,' + Encode.btoa(str);\n\t\t}\n\n\n\t\tfunction _preload(str) {\n\t\t\tvar comp = this;\n\n\t\t\t_img = new Image();\n\t\t\t_img.onerror = function() {\n\t\t\t\t_purge.call(this);\n\t\t\t\tcomp.trigger('error', x.ImageError.WRONG_FORMAT);\n\t\t\t};\n\t\t\t_img.onload = function() {\n\t\t\t\tcomp.trigger('load');\n\t\t\t};\n\n\t\t\t_img.src = /^data:[^;]*;base64,/.test(str) ? str : _toDataUrl(str, _blob.type);\n\t\t}\n\n\n\t\tfunction _readAsDataUrl(file, callback) {\n\t\t\tvar comp = this, fr;\n\n\t\t\t// use FileReader if it's available\n\t\t\tif (window.FileReader) {\n\t\t\t\tfr = new FileReader();\n\t\t\t\tfr.onload = function() {\n\t\t\t\t\tcallback(this.result);\n\t\t\t\t};\n\t\t\t\tfr.onerror = function() {\n\t\t\t\t\tcomp.trigger('error', x.ImageError.WRONG_FORMAT);\n\t\t\t\t};\n\t\t\t\tfr.readAsDataURL(file);\n\t\t\t} else {\n\t\t\t\treturn callback(file.getAsDataURL());\n\t\t\t}\n\t\t}\n\n\t\tfunction _downsize(width, height, crop, preserveHeaders) {\n\t\t\tvar self = this\n\t\t\t, scale\n\t\t\t, mathFn\n\t\t\t, x = 0\n\t\t\t, y = 0\n\t\t\t, img\n\t\t\t, destWidth\n\t\t\t, destHeight\n\t\t\t, orientation\n\t\t\t;\n\n\t\t\t_preserveHeaders = preserveHeaders; // we will need to check this on export (see getAsBinaryString())\n\n\t\t\t// take into account orientation tag\n\t\t\torientation = (this.meta && this.meta.tiff && this.meta.tiff.Orientation) || 1;\n\n\t\t\tif (Basic.inArray(orientation, [5,6,7,8]) !== -1) { // values that require 90 degree rotation\n\t\t\t\t// swap dimensions\n\t\t\t\tvar tmp = width;\n\t\t\t\twidth = height;\n\t\t\t\theight = tmp;\n\t\t\t}\n\n\t\t\timg = _getImg();\n\n\t\t\t// unify dimensions\n\t\t\tif (!crop) {\n\t\t\t\tscale = Math.min(width/img.width, height/img.height);\n\t\t\t} else {\n\t\t\t\t// one of the dimensions may exceed the actual image dimensions - we need to take the smallest value\n\t\t\t\twidth = Math.min(width, img.width);\n\t\t\t\theight = Math.min(height, img.height);\n\n\t\t\t\tscale = Math.max(width/img.width, height/img.height);\n\t\t\t}\n\t\t\n\t\t\t// we only downsize here\n\t\t\tif (scale > 1 && !crop && preserveHeaders) {\n\t\t\t\tthis.trigger('Resize');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// prepare canvas if necessary\n\t\t\tif (!_canvas) {\n\t\t\t\t_canvas = document.createElement(\"canvas\");\n\t\t\t}\n\n\t\t\t// calculate dimensions of proportionally resized image\n\t\t\tdestWidth = Math.round(img.width * scale);\t\n\t\t\tdestHeight = Math.round(img.height * scale);\n\n\t\t\t// scale image and canvas\n\t\t\tif (crop) {\n\t\t\t\t_canvas.width = width;\n\t\t\t\t_canvas.height = height;\n\n\t\t\t\t// if dimensions of the resulting image still larger than canvas, center it\n\t\t\t\tif (destWidth > width) {\n\t\t\t\t\tx = Math.round((destWidth - width) / 2);\n\t\t\t\t}\n\n\t\t\t\tif (destHeight > height) {\n\t\t\t\t\ty = Math.round((destHeight - height) / 2);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t_canvas.width = destWidth;\n\t\t\t\t_canvas.height = destHeight;\n\t\t\t}\n\n\t\t\t// rotate if required, according to orientation tag\n\t\t\tif (!_preserveHeaders) {\n\t\t\t\t_rotateToOrientaion(_canvas.width, _canvas.height, orientation);\n\t\t\t}\n\n\t\t\t_drawToCanvas.call(this, img, _canvas, -x, -y, destWidth, destHeight);\n\n\t\t\tthis.width = _canvas.width;\n\t\t\tthis.height = _canvas.height;\n\n\t\t\t_modified = true;\n\t\t\tself.trigger('Resize');\n\t\t}\n\n\n\t\tfunction _drawToCanvas(img, canvas, x, y, w, h) {\n\t\t\tif (Env.OS === 'iOS') { \n\t\t\t\t// avoid squish bug in iOS6\n\t\t\t\tMegaPixel.renderTo(img, canvas, { width: w, height: h, x: x, y: y });\n\t\t\t} else {\n\t\t\t\tvar ctx = canvas.getContext('2d');\n\t\t\t\tctx.drawImage(img, x, y, w, h);\n\t\t\t}\n\t\t}\n\n\n\t\t/**\n\t\t* Transform canvas coordination according to specified frame size and orientation\n\t\t* Orientation value is from EXIF tag\n\t\t* @author Shinichi Tomita <shinichi.tomita@gmail.com>\n\t\t*/\n\t\tfunction _rotateToOrientaion(width, height, orientation) {\n\t\t\tswitch (orientation) {\n\t\t\t\tcase 5:\n\t\t\t\tcase 6:\n\t\t\t\tcase 7:\n\t\t\t\tcase 8:\n\t\t\t\t\t_canvas.width = height;\n\t\t\t\t\t_canvas.height = width;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t_canvas.width = width;\n\t\t\t\t\t_canvas.height = height;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t1 = The 0th row is at the visual top of the image, and the 0th column is the visual left-hand side.\n\t\t\t2 = The 0th row is at the visual top of the image, and the 0th column is the visual right-hand side.\n\t\t\t3 = The 0th row is at the visual bottom of the image, and the 0th column is the visual right-hand side.\n\t\t\t4 = The 0th row is at the visual bottom of the image, and the 0th column is the visual left-hand side.\n\t\t\t5 = The 0th row is the visual left-hand side of the image, and the 0th column is the visual top.\n\t\t\t6 = The 0th row is the visual right-hand side of the image, and the 0th column is the visual top.\n\t\t\t7 = The 0th row is the visual right-hand side of the image, and the 0th column is the visual bottom.\n\t\t\t8 = The 0th row is the visual left-hand side of the image, and the 0th column is the visual bottom.\n\t\t\t*/\n\n\t\t\tvar ctx = _canvas.getContext('2d');\n\t\t\tswitch (orientation) {\n\t\t\t\tcase 2:\n\t\t\t\t\t// horizontal flip\n\t\t\t\t\tctx.translate(width, 0);\n\t\t\t\t\tctx.scale(-1, 1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\t// 180 rotate left\n\t\t\t\t\tctx.translate(width, height);\n\t\t\t\t\tctx.rotate(Math.PI);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\t// vertical flip\n\t\t\t\t\tctx.translate(0, height);\n\t\t\t\t\tctx.scale(1, -1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\t// vertical flip + 90 rotate right\n\t\t\t\t\tctx.rotate(0.5 * Math.PI);\n\t\t\t\t\tctx.scale(1, -1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\t// 90 rotate right\n\t\t\t\t\tctx.rotate(0.5 * Math.PI);\n\t\t\t\t\tctx.translate(0, -height);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 7:\n\t\t\t\t\t// horizontal flip + 90 rotate right\n\t\t\t\t\tctx.rotate(0.5 * Math.PI);\n\t\t\t\t\tctx.translate(width, -height);\n\t\t\t\t\tctx.scale(-1, 1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\t// 90 rotate left\n\t\t\t\t\tctx.rotate(-0.5 * Math.PI);\n\t\t\t\t\tctx.translate(-width, 0);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\n\t\tfunction _purge() {\n\t\t\tif (_imgInfo) {\n\t\t\t\t_imgInfo.purge();\n\t\t\t\t_imgInfo = null;\n\t\t\t}\n\t\t\t_binStr = _img = _canvas = _blob = null;\n\t\t\t_modified = false;\n\t\t}\n\t}\n\n\treturn (extensions.Image = HTML5Image);\n});\n\n// Included from: src/javascript/runtime/flash/Runtime.js\n\n/**\n * Runtime.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/*global ActiveXObject:true */\n\n/**\nDefines constructor for Flash runtime.\n\n@class moxie/runtime/flash/Runtime\n@private\n*/\ndefine(\"moxie/runtime/flash/Runtime\", [\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/core/utils/Env\",\n\t\"moxie/core/utils/Dom\",\n\t\"moxie/core/Exceptions\",\n\t\"moxie/runtime/Runtime\"\n], function(Basic, Env, Dom, x, Runtime) {\n\t\n\tvar type = 'flash', extensions = {};\n\n\t/**\n\tGet the version of the Flash Player\n\n\t@method getShimVersion\n\t@private\n\t@return {Number} Flash Player version\n\t*/\n\tfunction getShimVersion() {\n\t\tvar version;\n\n\t\ttry {\n\t\t\tversion = navigator.plugins['Shockwave Flash'];\n\t\t\tversion = version.description;\n\t\t} catch (e1) {\n\t\t\ttry {\n\t\t\t\tversion = new ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version');\n\t\t\t} catch (e2) {\n\t\t\t\tversion = '0.0';\n\t\t\t}\n\t\t}\n\t\tversion = version.match(/\\d+/g);\n\t\treturn parseFloat(version[0] + '.' + version[1]);\n\t}\n\n\t/**\n\tConstructor for the Flash Runtime\n\n\t@class FlashRuntime\n\t@extends Runtime\n\t*/\n\tfunction FlashRuntime(options) {\n\t\tvar I = this, initTimer;\n\n\t\toptions = Basic.extend({ swf_url: Env.swf_url }, options);\n\n\t\tRuntime.call(this, options, type, {\n\t\t\taccess_binary: function(value) {\n\t\t\t\treturn value && I.mode === 'browser';\n\t\t\t},\n\t\t\taccess_image_binary: function(value) {\n\t\t\t\treturn value && I.mode === 'browser';\n\t\t\t},\n\t\t\tdisplay_media: Runtime.capTrue,\n\t\t\tdo_cors: Runtime.capTrue,\n\t\t\tdrag_and_drop: false,\n\t\t\treport_upload_progress: function() {\n\t\t\t\treturn I.mode === 'client';\n\t\t\t},\n\t\t\tresize_image: Runtime.capTrue,\n\t\t\treturn_response_headers: false,\n\t\t\treturn_response_type: function(responseType) {\n\t\t\t\tif (responseType === 'json' && !!window.JSON) {\n\t\t\t\t\treturn true;\n\t\t\t\t} \n\t\t\t\treturn !Basic.arrayDiff(responseType, ['', 'text', 'document']) || I.mode === 'browser';\n\t\t\t},\n\t\t\treturn_status_code: function(code) {\n\t\t\t\treturn I.mode === 'browser' || !Basic.arrayDiff(code, [200, 404]);\n\t\t\t},\n\t\t\tselect_file: Runtime.capTrue,\n\t\t\tselect_multiple: Runtime.capTrue,\n\t\t\tsend_binary_string: function(value) {\n\t\t\t\treturn value && I.mode === 'browser';\n\t\t\t},\n\t\t\tsend_browser_cookies: function(value) {\n\t\t\t\treturn value && I.mode === 'browser';\n\t\t\t},\n\t\t\tsend_custom_headers: function(value) {\n\t\t\t\treturn value && I.mode === 'browser';\n\t\t\t},\n\t\t\tsend_multipart: Runtime.capTrue,\n\t\t\tslice_blob: function(value) {\n\t\t\t\treturn value && I.mode === 'browser';\n\t\t\t},\n\t\t\tstream_upload: function(value) {\n\t\t\t\treturn value && I.mode === 'browser';\n\t\t\t},\n\t\t\tsummon_file_dialog: false,\n\t\t\tupload_filesize: function(size) {\n\t\t\t\treturn Basic.parseSizeStr(size) <= 2097152 || I.mode === 'client';\n\t\t\t},\n\t\t\tuse_http_method: function(methods) {\n\t\t\t\treturn !Basic.arrayDiff(methods, ['GET', 'POST']);\n\t\t\t}\n\t\t}, { \n\t\t\t// capabilities that require specific mode\n\t\t\taccess_binary: function(value) {\n\t\t\t\treturn value ? 'browser' : 'client';\n\t\t\t},\n\t\t\taccess_image_binary: function(value) {\n\t\t\t\treturn value ? 'browser' : 'client';\n\t\t\t},\n\t\t\treport_upload_progress: function(value) {\n\t\t\t\treturn value ? 'browser' : 'client';\n\t\t\t},\n\t\t\treturn_response_type: function(responseType) {\n\t\t\t\treturn Basic.arrayDiff(responseType, ['', 'text', 'json', 'document']) ? 'browser' : ['client', 'browser'];\n\t\t\t},\n\t\t\treturn_status_code: function(code) {\n\t\t\t\treturn Basic.arrayDiff(code, [200, 404]) ? 'browser' : ['client', 'browser'];\n\t\t\t},\n\t\t\tsend_binary_string: function(value) {\n\t\t\t\treturn value ? 'browser' : 'client';\n\t\t\t},\n\t\t\tsend_browser_cookies: function(value) {\n\t\t\t\treturn value ? 'browser' : 'client';\n\t\t\t},\n\t\t\tsend_custom_headers: function(value) {\n\t\t\t\treturn value ? 'browser' : 'client';\n\t\t\t},\n\t\t\tstream_upload: function(value) {\n\t\t\t\treturn value ? 'client' : 'browser';\n\t\t\t},\n\t\t\tupload_filesize: function(size) {\n\t\t\t\treturn Basic.parseSizeStr(size) >= 2097152 ? 'client' : 'browser';\n\t\t\t}\n\t\t}, 'client');\n\n\n\t\t// minimal requirement for Flash Player version\n\t\tif (getShimVersion() < 10) {\n\t\t\tthis.mode = false; // with falsy mode, runtime won't operable, no matter what the mode was before\n\t\t}\n\n\n\t\tBasic.extend(this, {\n\n\t\t\tgetShim: function() {\n\t\t\t\treturn Dom.get(this.uid);\n\t\t\t},\n\n\t\t\tshimExec: function(component, action) {\n\t\t\t\tvar args = [].slice.call(arguments, 2);\n\t\t\t\treturn I.getShim().exec(this.uid, component, action, args);\n\t\t\t},\n\n\t\t\tinit: function() {\n\t\t\t\tvar html, el, container;\n\n\t\t\t\tcontainer = this.getShimContainer();\n\n\t\t\t\t// if not the minimal height, shims are not initialized in older browsers (e.g FF3.6, IE6,7,8, Safari 4.0,5.0, etc)\n\t\t\t\tBasic.extend(container.style, {\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: '-8px',\n\t\t\t\t\tleft: '-8px',\n\t\t\t\t\twidth: '9px',\n\t\t\t\t\theight: '9px',\n\t\t\t\t\toverflow: 'hidden'\n\t\t\t\t});\n\n\t\t\t\t// insert flash object\n\t\t\t\thtml = '<object id=\"' + this.uid + '\" type=\"application/x-shockwave-flash\" data=\"' +  options.swf_url + '\" ';\n\n\t\t\t\tif (Env.browser === 'IE') {\n\t\t\t\t\thtml += 'classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" ';\n\t\t\t\t}\n\n\t\t\t\thtml += 'width=\"100%\" height=\"100%\" style=\"outline:0\">'  +\n\t\t\t\t\t'<param name=\"movie\" value=\"' + options.swf_url + '\" />' +\n\t\t\t\t\t'<param name=\"flashvars\" value=\"uid=' + escape(this.uid) + '&target=' + Env.global_event_dispatcher + '\" />' +\n\t\t\t\t\t'<param name=\"wmode\" value=\"transparent\" />' +\n\t\t\t\t\t'<param name=\"allowscriptaccess\" value=\"always\" />' +\n\t\t\t\t'</object>';\n\n\t\t\t\tif (Env.browser === 'IE') {\n\t\t\t\t\tel = document.createElement('div');\n\t\t\t\t\tcontainer.appendChild(el);\n\t\t\t\t\tel.outerHTML = html;\n\t\t\t\t\tel = container = null; // just in case\n\t\t\t\t} else {\n\t\t\t\t\tcontainer.innerHTML = html;\n\t\t\t\t}\n\n\t\t\t\t// Init is dispatched by the shim\n\t\t\t\tinitTimer = setTimeout(function() {\n\t\t\t\t\tif (I && !I.initialized) { // runtime might be already destroyed by this moment\n\t\t\t\t\t\tI.trigger(\"Error\", new x.RuntimeError(x.RuntimeError.NOT_INIT_ERR));\n\t\t\t\t\t}\n\t\t\t\t}, 5000);\n\t\t\t},\n\n\t\t\tdestroy: (function(destroy) { // extend default destroy method\n\t\t\t\treturn function() {\n\t\t\t\t\tdestroy.call(I);\n\t\t\t\t\tclearTimeout(initTimer); // initialization check might be still onwait\n\t\t\t\t\toptions = initTimer = destroy = I = null;\n\t\t\t\t};\n\t\t\t}(this.destroy))\n\n\t\t}, extensions);\n\t}\n\n\tRuntime.addConstructor(type, FlashRuntime);\n\n\treturn extensions;\n});\n\n// Included from: src/javascript/runtime/flash/file/Blob.js\n\n/**\n * Blob.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/flash/file/Blob\n@private\n*/\ndefine(\"moxie/runtime/flash/file/Blob\", [\n\t\"moxie/runtime/flash/Runtime\",\n\t\"moxie/file/Blob\"\n], function(extensions, Blob) {\n\n\tvar FlashBlob = {\n\t\tslice: function(blob, start, end, type) {\n\t\t\tvar self = this.getRuntime();\n\n\t\t\tif (start < 0) {\n\t\t\t\tstart = Math.max(blob.size + start, 0);\n\t\t\t} else if (start > 0) {\n\t\t\t\tstart = Math.min(start, blob.size);\n\t\t\t}\n\n\t\t\tif (end < 0) {\n\t\t\t\tend = Math.max(blob.size + end, 0);\n\t\t\t} else if (end > 0) {\n\t\t\t\tend = Math.min(end, blob.size);\n\t\t\t}\n\n\t\t\tblob = self.shimExec.call(this, 'Blob', 'slice', start, end, type || '');\n\n\t\t\tif (blob) {\n\t\t\t\tblob = new Blob(self.uid, blob);\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t};\n\n\treturn (extensions.Blob = FlashBlob);\n});\n\n// Included from: src/javascript/runtime/flash/file/FileInput.js\n\n/**\n * FileInput.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/flash/file/FileInput\n@private\n*/\ndefine(\"moxie/runtime/flash/file/FileInput\", [\n\t\"moxie/runtime/flash/Runtime\"\n], function(extensions) {\n\t\n\tvar FileInput = {\t\t\n\t\tinit: function(options) {\n\t\t\tthis.getRuntime().shimExec.call(this, 'FileInput', 'init', {\n\t\t\t\tname: options.name,\n\t\t\t\taccept: options.accept,\n\t\t\t\tmultiple: options.multiple\n\t\t\t});\n\t\t\tthis.trigger('ready');\n\t\t}\n\t};\n\n\treturn (extensions.FileInput = FileInput);\n});\n\n// Included from: src/javascript/runtime/flash/file/FileReader.js\n\n/**\n * FileReader.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/flash/file/FileReader\n@private\n*/\ndefine(\"moxie/runtime/flash/file/FileReader\", [\n\t\"moxie/runtime/flash/Runtime\",\n\t\"moxie/core/utils/Encode\"\n], function(extensions, Encode) {\n\n\tvar _result = '';\n\n\tfunction _formatData(data, op) {\n\t\tswitch (op) {\n\t\t\tcase 'readAsText':\n\t\t\t\treturn Encode.atob(data, 'utf8');\n\t\t\tcase 'readAsBinaryString':\n\t\t\t\treturn Encode.atob(data);\n\t\t\tcase 'readAsDataURL':\n\t\t\t\treturn data;\n\t\t}\n\t\treturn null;\n\t}\n\n\tvar FileReader = {\n\t\tread: function(op, blob) {\n\t\t\tvar target = this, self = target.getRuntime();\n\n\t\t\t// special prefix for DataURL read mode\n\t\t\tif (op === 'readAsDataURL') {\n\t\t\t\t_result = 'data:' + (blob.type || '') + ';base64,';\n\t\t\t}\n\n\t\t\ttarget.bind('Progress', function(e, data) {\n\t\t\t\tif (data) {\n\t\t\t\t\t_result += _formatData(data, op);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn self.shimExec.call(this, 'FileReader', 'readAsBase64', blob.uid);\n\t\t},\n\n\t\tgetResult: function() {\n\t\t\treturn _result;\n\t\t},\n\n\t\tdestroy: function() {\n\t\t\t_result = null;\n\t\t}\n\t};\n\n\treturn (extensions.FileReader = FileReader);\n});\n\n// Included from: src/javascript/runtime/flash/file/FileReaderSync.js\n\n/**\n * FileReaderSync.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/flash/file/FileReaderSync\n@private\n*/\ndefine(\"moxie/runtime/flash/file/FileReaderSync\", [\n\t\"moxie/runtime/flash/Runtime\",\n\t\"moxie/core/utils/Encode\"\n], function(extensions, Encode) {\n\t\n\tfunction _formatData(data, op) {\n\t\tswitch (op) {\n\t\t\tcase 'readAsText':\n\t\t\t\treturn Encode.atob(data, 'utf8');\n\t\t\tcase 'readAsBinaryString':\n\t\t\t\treturn Encode.atob(data);\n\t\t\tcase 'readAsDataURL':\n\t\t\t\treturn data;\n\t\t}\n\t\treturn null;\n\t}\n\n\tvar FileReaderSync = {\n\t\tread: function(op, blob) {\n\t\t\tvar result, self = this.getRuntime();\n\n\t\t\tresult = self.shimExec.call(this, 'FileReaderSync', 'readAsBase64', blob.uid);\n\t\t\tif (!result) {\n\t\t\t\treturn null; // or throw ex\n\t\t\t}\n\n\t\t\t// special prefix for DataURL read mode\n\t\t\tif (op === 'readAsDataURL') {\n\t\t\t\tresult = 'data:' + (blob.type || '') + ';base64,' + result;\n\t\t\t}\n\n\t\t\treturn _formatData(result, op, blob.type);\n\t\t}\n\t};\n\n\treturn (extensions.FileReaderSync = FileReaderSync);\n});\n\n// Included from: src/javascript/runtime/flash/xhr/XMLHttpRequest.js\n\n/**\n * XMLHttpRequest.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/flash/xhr/XMLHttpRequest\n@private\n*/\ndefine(\"moxie/runtime/flash/xhr/XMLHttpRequest\", [\n\t\"moxie/runtime/flash/Runtime\",\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/file/Blob\",\n\t\"moxie/file/File\",\n\t\"moxie/file/FileReaderSync\",\n\t\"moxie/xhr/FormData\",\n\t\"moxie/runtime/Transporter\"\n], function(extensions, Basic, Blob, File, FileReaderSync, FormData, Transporter) {\n\t\n\tvar XMLHttpRequest = {\n\n\t\tsend: function(meta, data) {\n\t\t\tvar target = this, self = target.getRuntime();\n\n\t\t\tfunction send() {\n\t\t\t\tmeta.transport = self.mode;\n\t\t\t\tself.shimExec.call(target, 'XMLHttpRequest', 'send', meta, data);\n\t\t\t}\n\n\n\t\t\tfunction appendBlob(name, blob) {\n\t\t\t\tself.shimExec.call(target, 'XMLHttpRequest', 'appendBlob', name, blob.uid);\n\t\t\t\tdata = null;\n\t\t\t\tsend();\n\t\t\t}\n\n\n\t\t\tfunction attachBlob(blob, cb) {\n\t\t\t\tvar tr = new Transporter();\n\n\t\t\t\ttr.bind(\"TransportingComplete\", function() {\n\t\t\t\t\tcb(this.result);\n\t\t\t\t});\n\n\t\t\t\ttr.transport(blob.getSource(), blob.type, {\n\t\t\t\t\truid: self.uid\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// copy over the headers if any\n\t\t\tif (!Basic.isEmptyObj(meta.headers)) {\n\t\t\t\tBasic.each(meta.headers, function(value, header) {\n\t\t\t\t\tself.shimExec.call(target, 'XMLHttpRequest', 'setRequestHeader', header, value.toString()); // Silverlight doesn't accept integers into the arguments of type object\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// transfer over multipart params and blob itself\n\t\t\tif (data instanceof FormData) {\n\t\t\t\tvar blobField;\n\t\t\t\tdata.each(function(value, name) {\n\t\t\t\t\tif (value instanceof Blob) {\n\t\t\t\t\t\tblobField = name;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.shimExec.call(target, 'XMLHttpRequest', 'append', name, value);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (!data.hasBlob()) {\n\t\t\t\t\tdata = null;\n\t\t\t\t\tsend();\n\t\t\t\t} else {\n\t\t\t\t\tvar blob = data.getBlob();\n\t\t\t\t\tif (blob.isDetached()) {\n\t\t\t\t\t\tattachBlob(blob, function(attachedBlob) {\n\t\t\t\t\t\t\tblob.destroy();\n\t\t\t\t\t\t\tappendBlob(blobField, attachedBlob);\t\t\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tappendBlob(blobField, blob);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (data instanceof Blob) {\n\t\t\t\tif (data.isDetached()) {\n\t\t\t\t\tattachBlob(data, function(attachedBlob) {\n\t\t\t\t\t\tdata.destroy();\n\t\t\t\t\t\tdata = attachedBlob.uid;\n\t\t\t\t\t\tsend();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tdata = data.uid;\n\t\t\t\t\tsend();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsend();\n\t\t\t}\n\t\t},\n\n\t\tgetResponse: function(responseType) {\n\t\t\tvar frs, blob, self = this.getRuntime();\n\n\t\t\tblob = self.shimExec.call(this, 'XMLHttpRequest', 'getResponseAsBlob');\n\n\t\t\tif (blob) {\n\t\t\t\tblob = new File(self.uid, blob);\n\n\t\t\t\tif ('blob' === responseType) {\n\t\t\t\t\treturn blob;\n\t\t\t\t}\n\n\t\t\t\ttry { \n\t\t\t\t\tfrs = new FileReaderSync();\n\n\t\t\t\t\tif (!!~Basic.inArray(responseType, [\"\", \"text\"])) {\n\t\t\t\t\t\treturn frs.readAsText(blob);\n\t\t\t\t\t} else if ('json' === responseType && !!window.JSON) {\n\t\t\t\t\t\treturn JSON.parse(frs.readAsText(blob));\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tblob.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\tabort: function(upload_complete_flag) {\n\t\t\tvar self = this.getRuntime();\n\n\t\t\tself.shimExec.call(this, 'XMLHttpRequest', 'abort');\n\n\t\t\tthis.dispatchEvent('readystatechange');\n\t\t\t// this.dispatchEvent('progress');\n\t\t\tthis.dispatchEvent('abort');\n\n\t\t\t//if (!upload_complete_flag) {\n\t\t\t\t// this.dispatchEvent('uploadprogress');\n\t\t\t//}\n\t\t}\n\t};\n\n\treturn (extensions.XMLHttpRequest = XMLHttpRequest);\n});\n\n// Included from: src/javascript/runtime/flash/runtime/Transporter.js\n\n/**\n * Transporter.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/flash/runtime/Transporter\n@private\n*/\ndefine(\"moxie/runtime/flash/runtime/Transporter\", [\n\t\"moxie/runtime/flash/Runtime\",\n\t\"moxie/file/Blob\"\n], function(extensions, Blob) {\n\n\tvar Transporter = {\n\t\tgetAsBlob: function(type) {\n\t\t\tvar self = this.getRuntime()\n\t\t\t, blob = self.shimExec.call(this, 'Transporter', 'getAsBlob', type)\n\t\t\t;\n\t\t\tif (blob) {\n\t\t\t\treturn new Blob(self.uid, blob);\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t};\n\n\treturn (extensions.Transporter = Transporter);\n});\n\n// Included from: src/javascript/runtime/flash/image/Image.js\n\n/**\n * Image.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/flash/image/Image\n@private\n*/\ndefine(\"moxie/runtime/flash/image/Image\", [\n\t\"moxie/runtime/flash/Runtime\",\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/runtime/Transporter\",\n\t\"moxie/file/Blob\",\n\t\"moxie/file/FileReaderSync\"\n], function(extensions, Basic, Transporter, Blob, FileReaderSync) {\n\t\n\tvar Image = {\n\t\tloadFromBlob: function(blob) {\n\t\t\tvar comp = this, self = comp.getRuntime();\n\n\t\t\tfunction exec(srcBlob) {\n\t\t\t\tself.shimExec.call(comp, 'Image', 'loadFromBlob', srcBlob.uid);\n\t\t\t\tcomp = self = null;\n\t\t\t}\n\n\t\t\tif (blob.isDetached()) { // binary string\n\t\t\t\tvar tr = new Transporter();\n\t\t\t\ttr.bind(\"TransportingComplete\", function() {\n\t\t\t\t\texec(tr.result.getSource());\n\t\t\t\t});\n\t\t\t\ttr.transport(blob.getSource(), blob.type, { ruid: self.uid });\n\t\t\t} else {\n\t\t\t\texec(blob.getSource());\n\t\t\t}\n\t\t},\n\n\t\tloadFromImage: function(img) {\n\t\t\tvar self = this.getRuntime();\n\t\t\treturn self.shimExec.call(this, 'Image', 'loadFromImage', img.uid);\n\t\t},\n\n\t\tgetAsBlob: function(type, quality) {\n\t\t\tvar self = this.getRuntime()\n\t\t\t, blob = self.shimExec.call(this, 'Image', 'getAsBlob', type, quality)\n\t\t\t;\n\t\t\tif (blob) {\n\t\t\t\treturn new Blob(self.uid, blob);\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\tgetAsDataURL: function() {\n\t\t\tvar self = this.getRuntime()\n\t\t\t, blob = self.Image.getAsBlob.apply(this, arguments)\n\t\t\t, frs\n\t\t\t;\n\t\t\tif (!blob) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tfrs = new FileReaderSync();\n\t\t\treturn frs.readAsDataURL(blob);\n\t\t}\n\t};\n\n\treturn (extensions.Image = Image);\n});\n\n// Included from: src/javascript/runtime/silverlight/Runtime.js\n\n/**\n * RunTime.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/*global ActiveXObject:true */\n\n/**\nDefines constructor for Silverlight runtime.\n\n@class moxie/runtime/silverlight/Runtime\n@private\n*/\ndefine(\"moxie/runtime/silverlight/Runtime\", [\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/core/utils/Env\",\n\t\"moxie/core/utils/Dom\",\n\t\"moxie/core/Exceptions\",\n\t\"moxie/runtime/Runtime\"\n], function(Basic, Env, Dom, x, Runtime) {\n\t\n\tvar type = \"silverlight\", extensions = {};\n\n\tfunction isInstalled(version) {\n\t\tvar isVersionSupported = false, control = null, actualVer,\n\t\t\tactualVerArray, reqVerArray, requiredVersionPart, actualVersionPart, index = 0;\n\n\t\ttry {\n\t\t\ttry {\n\t\t\t\tcontrol = new ActiveXObject('AgControl.AgControl');\n\n\t\t\t\tif (control.IsVersionSupported(version)) {\n\t\t\t\t\tisVersionSupported = true;\n\t\t\t\t}\n\n\t\t\t\tcontrol = null;\n\t\t\t} catch (e) {\n\t\t\t\tvar plugin = navigator.plugins[\"Silverlight Plug-In\"];\n\n\t\t\t\tif (plugin) {\n\t\t\t\t\tactualVer = plugin.description;\n\n\t\t\t\t\tif (actualVer === \"1.0.30226.2\") {\n\t\t\t\t\t\tactualVer = \"2.0.30226.2\";\n\t\t\t\t\t}\n\n\t\t\t\t\tactualVerArray = actualVer.split(\".\");\n\n\t\t\t\t\twhile (actualVerArray.length > 3) {\n\t\t\t\t\t\tactualVerArray.pop();\n\t\t\t\t\t}\n\n\t\t\t\t\twhile ( actualVerArray.length < 4) {\n\t\t\t\t\t\tactualVerArray.push(0);\n\t\t\t\t\t}\n\n\t\t\t\t\treqVerArray = version.split(\".\");\n\n\t\t\t\t\twhile (reqVerArray.length > 4) {\n\t\t\t\t\t\treqVerArray.pop();\n\t\t\t\t\t}\n\n\t\t\t\t\tdo {\n\t\t\t\t\t\trequiredVersionPart = parseInt(reqVerArray[index], 10);\n\t\t\t\t\t\tactualVersionPart = parseInt(actualVerArray[index], 10);\n\t\t\t\t\t\tindex++;\n\t\t\t\t\t} while (index < reqVerArray.length && requiredVersionPart === actualVersionPart);\n\n\t\t\t\t\tif (requiredVersionPart <= actualVersionPart && !isNaN(requiredVersionPart)) {\n\t\t\t\t\t\tisVersionSupported = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e2) {\n\t\t\tisVersionSupported = false;\n\t\t}\n\n\t\treturn isVersionSupported;\n\t}\n\n\t/**\n\tConstructor for the Silverlight Runtime\n\n\t@class SilverlightRuntime\n\t@extends Runtime\n\t*/\n\tfunction SilverlightRuntime(options) {\n\t\tvar I = this, initTimer;\n\n\t\toptions = Basic.extend({ xap_url: Env.xap_url }, options);\n\n\t\tRuntime.call(this, options, type, {\n\t\t\taccess_binary: Runtime.capTrue,\n\t\t\taccess_image_binary: Runtime.capTrue,\n\t\t\tdisplay_media: Runtime.capTrue,\n\t\t\tdo_cors: Runtime.capTrue,\n\t\t\tdrag_and_drop: false,\n\t\t\treport_upload_progress: Runtime.capTrue,\n\t\t\tresize_image: Runtime.capTrue,\n\t\t\treturn_response_headers: function(value) {\n\t\t\t\treturn value && I.mode === 'client';\n\t\t\t},\n\t\t\treturn_response_type: function(responseType) {\n\t\t\t\tif (responseType !== 'json') {\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\treturn !!window.JSON;\n\t\t\t\t}\n\t\t\t},\n\t\t\treturn_status_code: function(code) {\n\t\t\t\treturn I.mode === 'client' || !Basic.arrayDiff(code, [200, 404]);\n\t\t\t},\n\t\t\tselect_file: Runtime.capTrue,\n\t\t\tselect_multiple: Runtime.capTrue,\n\t\t\tsend_binary_string: Runtime.capTrue,\n\t\t\tsend_browser_cookies: function(value) {\n\t\t\t\treturn value && I.mode === 'browser';\n\t\t\t},\n\t\t\tsend_custom_headers: function(value) {\n\t\t\t\treturn value && I.mode === 'client';\n\t\t\t},\n\t\t\tsend_multipart: Runtime.capTrue,\n\t\t\tslice_blob: Runtime.capTrue,\n\t\t\tstream_upload: true,\n\t\t\tsummon_file_dialog: false,\n\t\t\tupload_filesize: Runtime.capTrue,\n\t\t\tuse_http_method: function(methods) {\n\t\t\t\treturn I.mode === 'client' || !Basic.arrayDiff(methods, ['GET', 'POST']);\n\t\t\t}\n\t\t}, { \n\t\t\t// capabilities that require specific mode\n\t\t\treturn_response_headers: function(value) {\n\t\t\t\treturn value ? 'client' : 'browser';\n\t\t\t},\n\t\t\treturn_status_code: function(code) {\n\t\t\t\treturn Basic.arrayDiff(code, [200, 404]) ? 'client' : ['client', 'browser'];\n\t\t\t},\n\t\t\tsend_browser_cookies: function(value) {\n\t\t\t\treturn value ? 'browser' : 'client';\n\t\t\t},\n\t\t\tsend_custom_headers: function(value) {\n\t\t\t\treturn value ? 'client' : 'browser';\n\t\t\t},\n\t\t\tuse_http_method: function(methods) {\n\t\t\t\treturn Basic.arrayDiff(methods, ['GET', 'POST']) ? 'client' : ['client', 'browser'];\n\t\t\t}\n\t\t});\n\n\n\t\t// minimal requirement\n\t\tif (!isInstalled('2.0.31005.0') || Env.browser === 'Opera') {\n\t\t\tthis.mode = false;\n\t\t}\n\n\n\t\tBasic.extend(this, {\n\t\t\tgetShim: function() {\n\t\t\t\treturn Dom.get(this.uid).content.Moxie;\n\t\t\t},\n\n\t\t\tshimExec: function(component, action) {\n\t\t\t\tvar args = [].slice.call(arguments, 2);\n\t\t\t\treturn I.getShim().exec(this.uid, component, action, args);\n\t\t\t},\n\n\t\t\tinit : function() {\n\t\t\t\tvar container;\n\n\t\t\t\tcontainer = this.getShimContainer();\n\n\t\t\t\tcontainer.innerHTML = '<object id=\"' + this.uid + '\" data=\"data:application/x-silverlight,\" type=\"application/x-silverlight-2\" width=\"100%\" height=\"100%\" style=\"outline:none;\">' +\n\t\t\t\t\t'<param name=\"source\" value=\"' + options.xap_url + '\"/>' +\n\t\t\t\t\t'<param name=\"background\" value=\"Transparent\"/>' +\n\t\t\t\t\t'<param name=\"windowless\" value=\"true\"/>' +\n\t\t\t\t\t'<param name=\"enablehtmlaccess\" value=\"true\"/>' +\n\t\t\t\t\t'<param name=\"initParams\" value=\"uid=' + this.uid + ',target=' + Env.global_event_dispatcher + '\"/>' +\n\t\t\t\t'</object>';\n\n\t\t\t\t// Init is dispatched by the shim\n\t\t\t\tinitTimer = setTimeout(function() {\n\t\t\t\t\tif (I && !I.initialized) { // runtime might be already destroyed by this moment\n\t\t\t\t\t\tI.trigger(\"Error\", new x.RuntimeError(x.RuntimeError.NOT_INIT_ERR));\n\t\t\t\t\t}\n\t\t\t\t}, Env.OS !== 'Windows'? 10000 : 5000); // give it more time to initialize in non Windows OS (like Mac)\n\t\t\t},\n\n\t\t\tdestroy: (function(destroy) { // extend default destroy method\n\t\t\t\treturn function() {\n\t\t\t\t\tdestroy.call(I);\n\t\t\t\t\tclearTimeout(initTimer); // initialization check might be still onwait\n\t\t\t\t\toptions = initTimer = destroy = I = null;\n\t\t\t\t};\n\t\t\t}(this.destroy))\n\n\t\t}, extensions);\n\t}\n\n\tRuntime.addConstructor(type, SilverlightRuntime); \n\n\treturn extensions;\n});\n\n// Included from: src/javascript/runtime/silverlight/file/Blob.js\n\n/**\n * Blob.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/silverlight/file/Blob\n@private\n*/\ndefine(\"moxie/runtime/silverlight/file/Blob\", [\n\t\"moxie/runtime/silverlight/Runtime\",\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/runtime/flash/file/Blob\"\n], function(extensions, Basic, Blob) {\n\treturn (extensions.Blob = Basic.extend({}, Blob));\n});\n\n// Included from: src/javascript/runtime/silverlight/file/FileInput.js\n\n/**\n * FileInput.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/silverlight/file/FileInput\n@private\n*/\ndefine(\"moxie/runtime/silverlight/file/FileInput\", [\n\t\"moxie/runtime/silverlight/Runtime\"\n], function(extensions) {\n\t\n\tvar FileInput = {\n\t\tinit: function(options) {\n\n\t\t\tfunction toFilters(accept) {\n\t\t\t\tvar filter = '';\n\t\t\t\tfor (var i = 0; i < accept.length; i++) {\n\t\t\t\t\tfilter += (filter !== '' ? '|' : '') + accept[i].title + \" | *.\" + accept[i].extensions.replace(/,/g, ';*.');\n\t\t\t\t}\n\t\t\t\treturn filter;\n\t\t\t}\n\t\t\t\n\t\t\tthis.getRuntime().shimExec.call(this, 'FileInput', 'init', toFilters(options.accept), options.name, options.multiple);\n\t\t\tthis.trigger('ready');\n\t\t}\n\t};\n\n\treturn (extensions.FileInput = FileInput);\n});\n\n// Included from: src/javascript/runtime/silverlight/file/FileDrop.js\n\n/**\n * FileDrop.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/silverlight/file/FileDrop\n@private\n*/\ndefine(\"moxie/runtime/silverlight/file/FileDrop\", [\n\t\"moxie/runtime/silverlight/Runtime\",\n\t\"moxie/core/utils/Dom\", \n\t\"moxie/core/utils/Events\"\n], function(extensions, Dom, Events) {\n\n\t// not exactly useful, since works only in safari (...crickets...)\n\tvar FileDrop = {\n\t\tinit: function() {\n\t\t\tvar comp = this, self = comp.getRuntime(), dropZone;\n\n\t\t\tdropZone = self.getShimContainer();\n\n\t\t\tEvents.addEvent(dropZone, 'dragover', function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\te.dataTransfer.dropEffect = 'copy';\n\t\t\t}, comp.uid);\n\n\t\t\tEvents.addEvent(dropZone, 'dragenter', function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar flag = Dom.get(self.uid).dragEnter(e);\n\t\t\t\t// If handled, then stop propagation of event in DOM\n\t\t\t\tif (flag) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t}, comp.uid);\n\n\t\t\tEvents.addEvent(dropZone, 'drop', function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar flag = Dom.get(self.uid).dragDrop(e);\n\t\t\t\t// If handled, then stop propagation of event in DOM\n\t\t\t\tif (flag) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t}, comp.uid);\n\n\t\t\treturn self.shimExec.call(this, 'FileDrop', 'init');\n\t\t}\n\t};\n\n\treturn (extensions.FileDrop = FileDrop);\n});\n\n// Included from: src/javascript/runtime/silverlight/file/FileReader.js\n\n/**\n * FileReader.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/silverlight/file/FileReader\n@private\n*/\ndefine(\"moxie/runtime/silverlight/file/FileReader\", [\n\t\"moxie/runtime/silverlight/Runtime\",\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/runtime/flash/file/FileReader\"\n], function(extensions, Basic, FileReader) {\n\treturn (extensions.FileReader = Basic.extend({}, FileReader));\n});\n\n// Included from: src/javascript/runtime/silverlight/file/FileReaderSync.js\n\n/**\n * FileReaderSync.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/silverlight/file/FileReaderSync\n@private\n*/\ndefine(\"moxie/runtime/silverlight/file/FileReaderSync\", [\n\t\"moxie/runtime/silverlight/Runtime\",\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/runtime/flash/file/FileReaderSync\"\n], function(extensions, Basic, FileReaderSync) {\n\treturn (extensions.FileReaderSync = Basic.extend({}, FileReaderSync));\n});\n\n// Included from: src/javascript/runtime/silverlight/xhr/XMLHttpRequest.js\n\n/**\n * XMLHttpRequest.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/silverlight/xhr/XMLHttpRequest\n@private\n*/\ndefine(\"moxie/runtime/silverlight/xhr/XMLHttpRequest\", [\n\t\"moxie/runtime/silverlight/Runtime\",\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/runtime/flash/xhr/XMLHttpRequest\"\n], function(extensions, Basic, XMLHttpRequest) {\n\treturn (extensions.XMLHttpRequest = Basic.extend({}, XMLHttpRequest));\n});\n\n// Included from: src/javascript/runtime/silverlight/runtime/Transporter.js\n\n/**\n * Transporter.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/silverlight/runtime/Transporter\n@private\n*/\ndefine(\"moxie/runtime/silverlight/runtime/Transporter\", [\n\t\"moxie/runtime/silverlight/Runtime\",\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/runtime/flash/runtime/Transporter\"\n], function(extensions, Basic, Transporter) {\n\treturn (extensions.Transporter = Basic.extend({}, Transporter));\n});\n\n// Included from: src/javascript/runtime/silverlight/image/Image.js\n\n/**\n * Image.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n \n/**\n@class moxie/runtime/silverlight/image/Image\n@private\n*/\ndefine(\"moxie/runtime/silverlight/image/Image\", [\n\t\"moxie/runtime/silverlight/Runtime\",\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/runtime/flash/image/Image\"\n], function(extensions, Basic, Image) {\n\treturn (extensions.Image = Basic.extend({}, Image, {\n\n\t\tgetInfo: function() {\n\t\t\tvar self = this.getRuntime()\n\t\t\t, grps = ['tiff', 'exif', 'gps']\n\t\t\t, info = { meta: {} }\n\t\t\t, rawInfo = self.shimExec.call(this, 'Image', 'getInfo')\n\t\t\t;\n\n\t\t\tif (rawInfo.meta) {\n\t\t\t\tBasic.each(grps, function(grp) {\n\t\t\t\t\tvar meta = rawInfo.meta[grp]\n\t\t\t\t\t, tag\n\t\t\t\t\t, i\n\t\t\t\t\t, length\n\t\t\t\t\t, value\n\t\t\t\t\t;\n\t\t\t\t\tif (meta && meta.keys) {\n\t\t\t\t\t\tinfo.meta[grp] = {};\n\t\t\t\t\t\tfor (i = 0, length = meta.keys.length; i < length; i++) {\n\t\t\t\t\t\t\ttag = meta.keys[i];\n\t\t\t\t\t\t\tvalue = meta[tag];\n\t\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t\t// convert numbers\n\t\t\t\t\t\t\t\tif (/^(\\d|[1-9]\\d+)$/.test(value)) { // integer (make sure doesn't start with zero)\n\t\t\t\t\t\t\t\t\tvalue = parseInt(value, 10);\n\t\t\t\t\t\t\t\t} else if (/^\\d*\\.\\d+$/.test(value)) { // double\n\t\t\t\t\t\t\t\t\tvalue = parseFloat(value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tinfo.meta[grp][tag] = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tinfo.width = parseInt(rawInfo.width, 10);\n\t\t\tinfo.height = parseInt(rawInfo.height, 10);\n\t\t\tinfo.size = parseInt(rawInfo.size, 10);\n\t\t\tinfo.type = rawInfo.type;\n\t\t\tinfo.name = rawInfo.name;\n\n\t\t\treturn info;\n\t\t}\n\t}));\n});\n\n// Included from: src/javascript/runtime/html4/Runtime.js\n\n/**\n * Runtime.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/*global File:true */\n\n/**\nDefines constructor for HTML4 runtime.\n\n@class moxie/runtime/html4/Runtime\n@private\n*/\ndefine(\"moxie/runtime/html4/Runtime\", [\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/core/Exceptions\",\n\t\"moxie/runtime/Runtime\",\n\t\"moxie/core/utils/Env\"\n], function(Basic, x, Runtime, Env) {\n\t\n\tvar type = 'html4', extensions = {};\n\n\tfunction Html4Runtime(options) {\n\t\tvar I = this\n\t\t, Test = Runtime.capTest\n\t\t, True = Runtime.capTrue\n\t\t;\n\n\t\tRuntime.call(this, options, type, {\n\t\t\taccess_binary: Test(window.FileReader || window.File && File.getAsDataURL),\n\t\t\taccess_image_binary: false,\n\t\t\tdisplay_media: Test(extensions.Image && (Env.can('create_canvas') || Env.can('use_data_uri_over32kb'))),\n\t\t\tdo_cors: false,\n\t\t\tdrag_and_drop: false,\n\t\t\tfilter_by_extension: Test(function() { // if you know how to feature-detect this, please suggest\n\t\t\t\treturn (Env.browser === 'Chrome' && Env.version >= 28) || (Env.browser === 'IE' && Env.version >= 10);\n\t\t\t}()),\n\t\t\tresize_image: function() {\n\t\t\t\treturn extensions.Image && I.can('access_binary') && Env.can('create_canvas');\n\t\t\t},\n\t\t\treport_upload_progress: false,\n\t\t\treturn_response_headers: false,\n\t\t\treturn_response_type: function(responseType) {\n\t\t\t\tif (responseType === 'json' && !!window.JSON) {\n\t\t\t\t\treturn true;\n\t\t\t\t} \n\t\t\t\treturn !!~Basic.inArray(responseType, ['text', 'document', '']);\n\t\t\t},\n\t\t\treturn_status_code: function(code) {\n\t\t\t\treturn !Basic.arrayDiff(code, [200, 404]);\n\t\t\t},\n\t\t\tselect_file: function() {\n\t\t\t\treturn Env.can('use_fileinput');\n\t\t\t},\n\t\t\tselect_multiple: false,\n\t\t\tsend_binary_string: false,\n\t\t\tsend_custom_headers: false,\n\t\t\tsend_multipart: true,\n\t\t\tslice_blob: false,\n\t\t\tstream_upload: function() {\n\t\t\t\treturn I.can('select_file');\n\t\t\t},\n\t\t\tsummon_file_dialog: Test(function() { // yeah... some dirty sniffing here...\n\t\t\t\treturn (Env.browser === 'Firefox' && Env.version >= 4) ||\n\t\t\t\t\t(Env.browser === 'Opera' && Env.version >= 12) ||\n\t\t\t\t\t!!~Basic.inArray(Env.browser, ['Chrome', 'Safari']);\n\t\t\t}()),\n\t\t\tupload_filesize: True,\n\t\t\tuse_http_method: function(methods) {\n\t\t\t\treturn !Basic.arrayDiff(methods, ['GET', 'POST']);\n\t\t\t}\n\t\t});\n\n\n\t\tBasic.extend(this, {\n\t\t\tinit : function() {\n\t\t\t\tthis.trigger(\"Init\");\n\t\t\t},\n\n\t\t\tdestroy: (function(destroy) { // extend default destroy method\n\t\t\t\treturn function() {\n\t\t\t\t\tdestroy.call(I);\n\t\t\t\t\tdestroy = I = null;\n\t\t\t\t};\n\t\t\t}(this.destroy))\n\t\t});\n\n\t\tBasic.extend(this.getShim(), extensions);\n\t}\n\n\tRuntime.addConstructor(type, Html4Runtime);\n\n\treturn extensions;\n});\n\n// Included from: src/javascript/runtime/html4/file/FileInput.js\n\n/**\n * FileInput.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/html4/file/FileInput\n@private\n*/\ndefine(\"moxie/runtime/html4/file/FileInput\", [\n\t\"moxie/runtime/html4/Runtime\",\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/core/utils/Dom\",\n\t\"moxie/core/utils/Events\",\n\t\"moxie/core/utils/Mime\",\n\t\"moxie/core/utils/Env\"\n], function(extensions, Basic, Dom, Events, Mime, Env) {\n\t\n\tfunction FileInput() {\n\t\tvar _uid, _files = [], _mimes = [], _options;\n\n\t\tfunction addInput() {\n\t\t\tvar comp = this, I = comp.getRuntime(), shimContainer, browseButton, currForm, form, input, uid;\n\n\t\t\tuid = Basic.guid('uid_');\n\n\t\t\tshimContainer = I.getShimContainer(); // we get new ref everytime to avoid memory leaks in IE\n\n\t\t\tif (_uid) { // move previous form out of the view\n\t\t\t\tcurrForm = Dom.get(_uid + '_form');\n\t\t\t\tif (currForm) {\n\t\t\t\t\tBasic.extend(currForm.style, { top: '100%' });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// build form in DOM, since innerHTML version not able to submit file for some reason\n\t\t\tform = document.createElement('form');\n\t\t\tform.setAttribute('id', uid + '_form');\n\t\t\tform.setAttribute('method', 'post');\n\t\t\tform.setAttribute('enctype', 'multipart/form-data');\n\t\t\tform.setAttribute('encoding', 'multipart/form-data');\n\n\t\t\tBasic.extend(form.style, {\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '100%'\n\t\t\t});\n\n\t\t\tinput = document.createElement('input');\n\t\t\tinput.setAttribute('id', uid);\n\t\t\tinput.setAttribute('type', 'file');\n\t\t\tinput.setAttribute('name', _options.name || 'Filedata');\n\t\t\tinput.setAttribute('accept', _mimes.join(','));\n\n\t\t\tBasic.extend(input.style, {\n\t\t\t\tfontSize: '999px',\n\t\t\t\topacity: 0\n\t\t\t});\n\n\t\t\tform.appendChild(input);\n\t\t\tshimContainer.appendChild(form);\n\n\t\t\t// prepare file input to be placed underneath the browse_button element\n\t\t\tBasic.extend(input.style, {\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '100%'\n\t\t\t});\n\n\t\t\tif (Env.browser === 'IE' && Env.version < 10) {\n\t\t\t\tBasic.extend(input.style, {\n\t\t\t\t\tfilter : \"progid:DXImageTransform.Microsoft.Alpha(opacity=0)\"\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tinput.onchange = function() { // there should be only one handler for this\n\t\t\t\tvar file;\n\n\t\t\t\tif (!this.value) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (this.files) {\n\t\t\t\t\tfile = this.files[0];\n\t\t\t\t} else {\n\t\t\t\t\tfile = {\n\t\t\t\t\t\tname: this.value\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t_files = [file];\n\n\t\t\t\tthis.onchange = function() {}; // clear event handler\n\t\t\t\taddInput.call(comp);\n\n\t\t\t\t// after file is initialized as o.File, we need to update form and input ids\n\t\t\t\tcomp.bind('change', function onChange() {\n\t\t\t\t\tvar input = Dom.get(uid), form = Dom.get(uid + '_form'), file;\n\n\t\t\t\t\tcomp.unbind('change', onChange);\n\n\t\t\t\t\tif (comp.files.length && input && form) {\n\t\t\t\t\t\tfile = comp.files[0];\n\n\t\t\t\t\t\tinput.setAttribute('id', file.uid);\n\t\t\t\t\t\tform.setAttribute('id', file.uid + '_form');\n\n\t\t\t\t\t\t// set upload target\n\t\t\t\t\t\tform.setAttribute('target', file.uid + '_iframe');\n\t\t\t\t\t}\n\t\t\t\t\tinput = form = null;\n\t\t\t\t}, 998);\n\n\t\t\t\tinput = form = null;\n\t\t\t\tcomp.trigger('change');\n\t\t\t};\n\n\n\t\t\t// route click event to the input\n\t\t\tif (I.can('summon_file_dialog')) {\n\t\t\t\tbrowseButton = Dom.get(_options.browse_button);\n\t\t\t\tEvents.removeEvent(browseButton, 'click', comp.uid);\n\t\t\t\tEvents.addEvent(browseButton, 'click', function(e) {\n\t\t\t\t\tif (input && !input.disabled) { // for some reason FF (up to 8.0.1 so far) lets to click disabled input[type=file]\n\t\t\t\t\t\tinput.click();\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}, comp.uid);\n\t\t\t}\n\n\t\t\t_uid = uid;\n\n\t\t\tshimContainer = currForm = browseButton = null;\n\t\t}\n\n\t\tBasic.extend(this, {\n\t\t\tinit: function(options) {\n\t\t\t\tvar comp = this, I = comp.getRuntime(), shimContainer;\n\n\t\t\t\t// figure out accept string\n\t\t\t\t_options = options;\n\t\t\t\t_mimes = options.accept.mimes || Mime.extList2mimes(options.accept, I.can('filter_by_extension'));\n\n\t\t\t\tshimContainer = I.getShimContainer();\n\n\t\t\t\t(function() {\n\t\t\t\t\tvar browseButton, zIndex, top;\n\n\t\t\t\t\tbrowseButton = Dom.get(options.browse_button);\n\n\t\t\t\t\t// Route click event to the input[type=file] element for browsers that support such behavior\n\t\t\t\t\tif (I.can('summon_file_dialog')) {\n\t\t\t\t\t\tif (Dom.getStyle(browseButton, 'position') === 'static') {\n\t\t\t\t\t\t\tbrowseButton.style.position = 'relative';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tzIndex = parseInt(Dom.getStyle(browseButton, 'z-index'), 10) || 1;\n\n\t\t\t\t\t\tbrowseButton.style.zIndex = zIndex;\n\t\t\t\t\t\tshimContainer.style.zIndex = zIndex - 1;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* Since we have to place input[type=file] on top of the browse_button for some browsers,\n\t\t\t\t\tbrowse_button loses interactivity, so we restore it here */\n\t\t\t\t\ttop = I.can('summon_file_dialog') ? browseButton : shimContainer;\n\n\t\t\t\t\tEvents.addEvent(top, 'mouseover', function() {\n\t\t\t\t\t\tcomp.trigger('mouseenter');\n\t\t\t\t\t}, comp.uid);\n\n\t\t\t\t\tEvents.addEvent(top, 'mouseout', function() {\n\t\t\t\t\t\tcomp.trigger('mouseleave');\n\t\t\t\t\t}, comp.uid);\n\n\t\t\t\t\tEvents.addEvent(top, 'mousedown', function() {\n\t\t\t\t\t\tcomp.trigger('mousedown');\n\t\t\t\t\t}, comp.uid);\n\n\t\t\t\t\tEvents.addEvent(Dom.get(options.container), 'mouseup', function() {\n\t\t\t\t\t\tcomp.trigger('mouseup');\n\t\t\t\t\t}, comp.uid);\n\n\t\t\t\t\tbrowseButton = null;\n\t\t\t\t}());\n\n\t\t\t\taddInput.call(this);\n\n\t\t\t\tshimContainer = null;\n\n\t\t\t\t// trigger ready event asynchronously\n\t\t\t\tcomp.trigger({\n\t\t\t\t\ttype: 'ready',\n\t\t\t\t\tasync: true\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tgetFiles: function() {\n\t\t\t\treturn _files;\n\t\t\t},\n\n\t\t\tdisable: function(state) {\n\t\t\t\tvar input;\n\n\t\t\t\tif ((input = Dom.get(_uid))) {\n\t\t\t\t\tinput.disabled = !!state;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdestroy: function() {\n\t\t\t\tvar I = this.getRuntime()\n\t\t\t\t, shim = I.getShim()\n\t\t\t\t, shimContainer = I.getShimContainer()\n\t\t\t\t;\n\t\t\t\t\n\t\t\t\tEvents.removeAllEvents(shimContainer, this.uid);\n\t\t\t\tEvents.removeAllEvents(_options && Dom.get(_options.container), this.uid);\n\t\t\t\tEvents.removeAllEvents(_options && Dom.get(_options.browse_button), this.uid);\n\t\t\t\t\n\t\t\t\tif (shimContainer) {\n\t\t\t\t\tshimContainer.innerHTML = '';\n\t\t\t\t}\n\n\t\t\t\tshim.removeInstance(this.uid);\n\n\t\t\t\t_uid = _files = _mimes = _options = shimContainer = shim = null;\n\t\t\t}\n\t\t});\n\t}\n\n\treturn (extensions.FileInput = FileInput);\n});\n\n// Included from: src/javascript/runtime/html4/file/FileReader.js\n\n/**\n * FileReader.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/html4/file/FileReader\n@private\n*/\ndefine(\"moxie/runtime/html4/file/FileReader\", [\n\t\"moxie/runtime/html4/Runtime\",\n\t\"moxie/runtime/html5/file/FileReader\"\n], function(extensions, FileReader) {\n\treturn (extensions.FileReader = FileReader);\n});\n\n// Included from: src/javascript/runtime/html4/xhr/XMLHttpRequest.js\n\n/**\n * XMLHttpRequest.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/html4/xhr/XMLHttpRequest\n@private\n*/\ndefine(\"moxie/runtime/html4/xhr/XMLHttpRequest\", [\n\t\"moxie/runtime/html4/Runtime\",\n\t\"moxie/core/utils/Basic\",\n\t\"moxie/core/utils/Dom\",\n\t\"moxie/core/utils/Url\",\n\t\"moxie/core/Exceptions\",\n\t\"moxie/core/utils/Events\",\n\t\"moxie/file/Blob\",\n\t\"moxie/xhr/FormData\"\n], function(extensions, Basic, Dom, Url, x, Events, Blob, FormData) {\n\t\n\tfunction XMLHttpRequest() {\n\t\tvar _status, _response, _iframe;\n\n\t\tfunction cleanup(cb) {\n\t\t\tvar target = this, uid, form, inputs, i, hasFile = false;\n\n\t\t\tif (!_iframe) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tuid = _iframe.id.replace(/_iframe$/, '');\n\n\t\t\tform = Dom.get(uid + '_form');\n\t\t\tif (form) {\n\t\t\t\tinputs = form.getElementsByTagName('input');\n\t\t\t\ti = inputs.length;\n\n\t\t\t\twhile (i--) {\n\t\t\t\t\tswitch (inputs[i].getAttribute('type')) {\n\t\t\t\t\t\tcase 'hidden':\n\t\t\t\t\t\t\tinputs[i].parentNode.removeChild(inputs[i]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'file':\n\t\t\t\t\t\t\thasFile = true; // flag the case for later\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tinputs = [];\n\n\t\t\t\tif (!hasFile) { // we need to keep the form for sake of possible retries\n\t\t\t\t\tform.parentNode.removeChild(form);\n\t\t\t\t}\n\t\t\t\tform = null;\n\t\t\t}\n\n\t\t\t// without timeout, request is marked as canceled (in console)\n\t\t\tsetTimeout(function() {\n\t\t\t\tEvents.removeEvent(_iframe, 'load', target.uid);\n\t\t\t\tif (_iframe.parentNode) { // #382\n\t\t\t\t\t_iframe.parentNode.removeChild(_iframe);\n\t\t\t\t}\n\n\t\t\t\t// check if shim container has any other children, if - not, remove it as well\n\t\t\t\tvar shimContainer = target.getRuntime().getShimContainer();\n\t\t\t\tif (!shimContainer.children.length) {\n\t\t\t\t\tshimContainer.parentNode.removeChild(shimContainer);\n\t\t\t\t}\n\n\t\t\t\tshimContainer = _iframe = null;\n\t\t\t\tcb();\n\t\t\t}, 1);\n\t\t}\n\n\t\tBasic.extend(this, {\n\t\t\tsend: function(meta, data) {\n\t\t\t\tvar target = this, I = target.getRuntime(), uid, form, input, blob;\n\n\t\t\t\t_status = _response = null;\n\n\t\t\t\tfunction createIframe() {\n\t\t\t\t\tvar container = I.getShimContainer() || document.body\n\t\t\t\t\t, temp = document.createElement('div')\n\t\t\t\t\t;\n\n\t\t\t\t\t// IE 6 won't be able to set the name using setAttribute or iframe.name\n\t\t\t\t\ttemp.innerHTML = '<iframe id=\"' + uid + '_iframe\" name=\"' + uid + '_iframe\" src=\"javascript:&quot;&quot;\" style=\"display:none\"></iframe>';\n\t\t\t\t\t_iframe = temp.firstChild;\n\t\t\t\t\tcontainer.appendChild(_iframe);\n\n\t\t\t\t\t/* _iframe.onreadystatechange = function() {\n\t\t\t\t\t\tconsole.info(_iframe.readyState);\n\t\t\t\t\t};*/\n\n\t\t\t\t\tEvents.addEvent(_iframe, 'load', function() { // _iframe.onload doesn't work in IE lte 8\n\t\t\t\t\t\tvar el;\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tel = _iframe.contentWindow.document || _iframe.contentDocument || window.frames[_iframe.id].document;\n\n\t\t\t\t\t\t\t// try to detect some standard error pages\n\t\t\t\t\t\t\tif (/^4(0[0-9]|1[0-7]|2[2346])\\s/.test(el.title)) { // test if title starts with 4xx HTTP error\n\t\t\t\t\t\t\t\t_status = el.title.replace(/^(\\d+).*$/, '$1');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_status = 200;\n\t\t\t\t\t\t\t\t// get result\n\t\t\t\t\t\t\t\t_response = Basic.trim(el.body.innerHTML);\n\n\t\t\t\t\t\t\t\t// we need to fire these at least once\n\t\t\t\t\t\t\t\ttarget.trigger({\n\t\t\t\t\t\t\t\t\ttype: 'progress',\n\t\t\t\t\t\t\t\t\tloaded: _response.length,\n\t\t\t\t\t\t\t\t\ttotal: _response.length\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tif (blob) { // if we were uploading a file\n\t\t\t\t\t\t\t\t\ttarget.trigger({\n\t\t\t\t\t\t\t\t\t\ttype: 'uploadprogress',\n\t\t\t\t\t\t\t\t\t\tloaded: blob.size || 1025,\n\t\t\t\t\t\t\t\t\t\ttotal: blob.size || 1025\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\tif (Url.hasSameOrigin(meta.url)) {\n\t\t\t\t\t\t\t\t// if response is sent with error code, iframe in IE gets redirected to res://ieframe.dll/http_x.htm\n\t\t\t\t\t\t\t\t// which obviously results to cross domain error (wtf?)\n\t\t\t\t\t\t\t\t_status = 404;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcleanup.call(target, function() {\n\t\t\t\t\t\t\t\t\ttarget.trigger('error');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\t\n\t\t\t\t\t\n\t\t\t\t\t\tcleanup.call(target, function() {\n\t\t\t\t\t\t\ttarget.trigger('load');\n\t\t\t\t\t\t});\n\t\t\t\t\t}, target.uid);\n\t\t\t\t} // end createIframe\n\n\t\t\t\t// prepare data to be sent and convert if required\n\t\t\t\tif (data instanceof FormData && data.hasBlob()) {\n\t\t\t\t\tblob = data.getBlob();\n\t\t\t\t\tuid = blob.uid;\n\t\t\t\t\tinput = Dom.get(uid);\n\t\t\t\t\tform = Dom.get(uid + '_form');\n\t\t\t\t\tif (!form) {\n\t\t\t\t\t\tthrow new x.DOMException(x.DOMException.NOT_FOUND_ERR);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tuid = Basic.guid('uid_');\n\n\t\t\t\t\tform = document.createElement('form');\n\t\t\t\t\tform.setAttribute('id', uid + '_form');\n\t\t\t\t\tform.setAttribute('method', meta.method);\n\t\t\t\t\tform.setAttribute('enctype', 'multipart/form-data');\n\t\t\t\t\tform.setAttribute('encoding', 'multipart/form-data');\n\t\t\t\t\tform.setAttribute('target', uid + '_iframe');\n\n\t\t\t\t\tI.getShimContainer().appendChild(form);\n\t\t\t\t}\n\n\t\t\t\tif (data instanceof FormData) {\n\t\t\t\t\tdata.each(function(value, name) {\n\t\t\t\t\t\tif (value instanceof Blob) {\n\t\t\t\t\t\t\tif (input) {\n\t\t\t\t\t\t\t\tinput.setAttribute('name', name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar hidden = document.createElement('input');\n\n\t\t\t\t\t\t\tBasic.extend(hidden, {\n\t\t\t\t\t\t\t\ttype : 'hidden',\n\t\t\t\t\t\t\t\tname : name,\n\t\t\t\t\t\t\t\tvalue : value\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t// make sure that input[type=\"file\"], if it's there, comes last\n\t\t\t\t\t\t\tif (input) {\n\t\t\t\t\t\t\t\tform.insertBefore(hidden, input);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tform.appendChild(hidden);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// set destination url\n\t\t\t\tform.setAttribute(\"action\", meta.url);\n\n\t\t\t\tcreateIframe();\n\t\t\t\tform.submit();\n\t\t\t\ttarget.trigger('loadstart');\n\t\t\t},\n\n\t\t\tgetStatus: function() {\n\t\t\t\treturn _status;\n\t\t\t},\n\n\t\t\tgetResponse: function(responseType) {\n\t\t\t\tif ('json' === responseType) {\n\t\t\t\t\t// strip off <pre>..</pre> tags that might be enclosing the response\n\t\t\t\t\tif (Basic.typeOf(_response) === 'string' && !!window.JSON) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\treturn JSON.parse(_response.replace(/^\\s*<pre[^>]*>/, '').replace(/<\\/pre>\\s*$/, ''));\n\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t} \n\t\t\t\t} else if ('document' === responseType) {\n\n\t\t\t\t}\n\t\t\t\treturn _response;\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tvar target = this;\n\n\t\t\t\tif (_iframe && _iframe.contentWindow) {\n\t\t\t\t\tif (_iframe.contentWindow.stop) { // FireFox/Safari/Chrome\n\t\t\t\t\t\t_iframe.contentWindow.stop();\n\t\t\t\t\t} else if (_iframe.contentWindow.document.execCommand) { // IE\n\t\t\t\t\t\t_iframe.contentWindow.document.execCommand('Stop');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_iframe.src = \"about:blank\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcleanup.call(this, function() {\n\t\t\t\t\t// target.dispatchEvent('readystatechange');\n\t\t\t\t\ttarget.dispatchEvent('abort');\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\treturn (extensions.XMLHttpRequest = XMLHttpRequest);\n});\n\n// Included from: src/javascript/runtime/html4/image/Image.js\n\n/**\n * Image.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/**\n@class moxie/runtime/html4/image/Image\n@private\n*/\ndefine(\"moxie/runtime/html4/image/Image\", [\n\t\"moxie/runtime/html4/Runtime\",\n\t\"moxie/runtime/html5/image/Image\"\n], function(extensions, Image) {\n\treturn (extensions.Image = Image);\n});\n\nexpose([\"moxie/core/utils/Basic\",\"moxie/core/I18n\",\"moxie/core/utils/Mime\",\"moxie/core/utils/Env\",\"moxie/core/utils/Dom\",\"moxie/core/Exceptions\",\"moxie/core/EventTarget\",\"moxie/core/utils/Encode\",\"moxie/runtime/Runtime\",\"moxie/runtime/RuntimeClient\",\"moxie/file/Blob\",\"moxie/file/File\",\"moxie/file/FileInput\",\"moxie/file/FileDrop\",\"moxie/runtime/RuntimeTarget\",\"moxie/file/FileReader\",\"moxie/core/utils/Url\",\"moxie/file/FileReaderSync\",\"moxie/xhr/FormData\",\"moxie/xhr/XMLHttpRequest\",\"moxie/runtime/Transporter\",\"moxie/image/Image\",\"moxie/core/utils/Events\"]);\n})(this);/**\n * o.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/*global moxie:true */\n\n/**\nGlobally exposed namespace with the most frequently used public classes and handy methods.\n\n@class o\n@static\n@private\n*/\n(function(exports) {\n\t\"use strict\";\n\n\tvar o = {}, inArray = exports.moxie.core.utils.Basic.inArray;\n\n\t// directly add some public classes\n\t// (we do it dynamically here, since for custom builds we cannot know beforehand what modules were included)\n\t(function addAlias(ns) {\n\t\tvar name, itemType;\n\t\tfor (name in ns) {\n\t\t\titemType = typeof(ns[name]);\n\t\t\tif (itemType === 'object' && !~inArray(name, ['Exceptions', 'Env', 'Mime'])) {\n\t\t\t\taddAlias(ns[name]);\n\t\t\t} else if (itemType === 'function') {\n\t\t\t\to[name] = ns[name];\n\t\t\t}\n\t\t}\n\t})(exports.moxie);\n\n\t// add some manually\n\to.Env = exports.moxie.core.utils.Env;\n\to.Mime = exports.moxie.core.utils.Mime;\n\to.Exceptions = exports.moxie.core.Exceptions;\n\n\t// expose globally\n\texports.mOxie = o;\n\tif (!exports.o) {\n\t\texports.o = o;\n\t}\n\treturn o;\n})(this);\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = this.mOxie\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plupload/js/moxie.js\n ** module id = 93\n ** module chunks = 3\n **/","module.exports = \"<div class=tag-item><div class=point :style=\\\"{ background: '#' + tag.color }\\\"></div><p class=tag-name>{{tag.tagName}}</p><i v-if=showDel class=delete @click=removeTag(tag.tagId)></i></div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/tag.vue\n ** module id = 103\n ** module chunks = 1 3\n **/","require(\"-!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!style-loader!css-loader!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-e73b851c&file=tag.vue!stylus-loader!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./tag.vue\")\nmodule.exports = require(\"-!babel!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./tag.vue\")\n\nif (module.exports.__esModule) module.exports = module.exports.default\n;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = require(\"-!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./tag.vue\")\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Users/yuqiu/github/code-review-web/src/components/tag.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n  }\n})()}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/tag.vue\n ** module id = 107\n ** module chunks = 1 3\n **/","// <template>\n// \t<loading>\n// \t\t<section class=\"setting\">\n// \t\t\t<h2></h2>\n// \t\t\t<section class=\"form\">\n// \t\t\t\t<h3></h3>\n// \t\t\t\t<div class=\"white\">\n// \t\t\t\t\t<div class=\"avatar-container\" id=\"upload-container\">\n// \t\t\t\t\t\t<user-avatar :user=\"user\"></user-avatar>\n// \t\t\t\t\t\t<button type=\"button\" id=\"pickfiles\"></button>\n// \t\t\t\t\t</div>\n// \t\t\t\t\t<div class=\"row\">\n// \t\t\t\t\t\t<p></p>\n// \t\t\t\t\t\t<input type=\"text\" v-model=\"username\"/>\n// \t\t\t\t\t</div>\n// \t\t\t\t\t<div class=\"row\">\n// \t\t\t\t\t\t<p>Github </p>\n// \t\t\t\t\t\t<input type=\"text\" v-model=\"github\" style=\"text-indent: 110px\" />\n// \t\t\t\t\t\t<span>github.com / </span>\n// \t\t\t\t\t</div>\n// \t\t\t\t</div>\n// \t\t\t\t<div class=\"color\">\n// \t\t\t\t\t<div class=\"row\">\n// \t\t\t\t\t\t<p></p>\n// \t\t\t\t\t\t<input type=\"text\" v-model=\"company\"/>\n// \t\t\t\t\t</div>\n// \t\t\t\t\t<div class=\"row\">\n// \t\t\t\t\t\t<p></p>\n// \t\t\t\t\t\t<input type=\"text\"  v-model=\"jobTitle\"/>\n// \t\t\t\t\t</div>\n// \t\t\t\t\t<div class=\"row\">\n// \t\t\t\t\t\t<p></p>\n// \t\t\t\t\t\t<textarea v-model=\"introduction\"></textarea>\n// \t\t\t\t\t</div>\n// \t\t\t\t\t<div class=\"row\">\n// \t\t\t\t\t\t<button type=\"button\" @click=\"updateUser\"></button>\n// \t\t\t\t\t</div>\n// \t\t\t\t</div>\n// \t\t\t</section>\n// \t\t\t<section class=\"tags\">\n// \t\t\t\t<h3 class=\"region-title\">{{tagTitle}}</h3>\n// \t\t\t\t<div class=\"tags-content\">\t\n// \t\t\t\t\t<ul class=\"list\">\n// \t\t\t\t\t\t<li v-for=\"tag in tags\">\n// \t\t\t\t\t\t\t<tag :tag=\"tag\" :show-del=\"true\"></tag>\n// \t\t\t\t\t\t</li>\n// \t\t\t\t\t</ul>\n// \t\t\t\t\t<div class=\"select-content\">\n// \t\t\t\t\t\t<p> {{tagTitle}}</p>\n// \t\t\t\t\t\t<select v-model=\"selected\">\n// \t\t\t\t\t\t\t<option v-for=\"tag in remains\" :value=\"{tagId: tag.tagId}\">{{tag.tagName}}</option>\n// \t\t\t\t\t\t</select>\n// \t\t\t\t\t\t<button type=\"button\" @click=\"addTag\"></button>\n// \t\t\t\t\t</div>\n// \t\t\t\t</div>\n// \t\t\t</section>\n// \t\t</section>\n// \t</loading>\n\n// </template>\n\n// <script type=\"text/javascript\">\n\timport util from '../common/util';\n\timport UserAvatar from '../components/user-avatar.vue';\n\tvar debug = require('debug')('setting');\n\tvar moxie = require('moxie');\n\tvar plupload = require('moxie-plupload');\n\timport Qiniu from 'qiniu-js-sdk'\n\timport serviceUrl from \"../common/serviceUrl.js\"\n\timport Tag from '../components/tag.vue'\n\timport Loading from '../components/loading.vue'\n\texport default {\n\t\tcomponents: {\n\t\t\t'user-avatar': UserAvatar,\n\t\t\t'tag': Tag,\n\t\t\t'loading': Loading\n\t\t},\n\t\tdata () {\n\t\t\treturn {\n\t\t\t\tuser: {},\n\t\t\t\tusername: '',\n\t\t\t\tgithub: '',\n\t\t\t\tphone: '',\n\t\t\t\tcompany: '',\n\t\t\t\tjobTitle: '',\n\t\t\t\tintroduction: '',\n\t\t\t\tavatarUrl: '',\n\t\t\t\ttags: [],\n\t\t\t\tallTags: [],\n\t\t\t\tselected: ''\n\t\t\t}\n\t\t},\n\t\tevents: {\n\t\t\t/**\n\t\t\t * []\n\t\t\t * @param  {[type]} newObj []\n\t\t\t * @return {[type]}        []\n\t\t\t */\n\t\t\t'remove-tag': function(newTags){\n\t\t\t\tthis.tags = newTags;\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\t'remains': function () {\n\t\t\t\tif (!this.allTags || !this.tags) {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t\tvar remain = [];\n\t\t\t\tfor (var i = 0; i < this.allTags.length; i ++) {\n\t\t\t\t\tvar tag = this.allTags[i];\n\t\t\t\t\tvar found = false;\n\t\t\t\t\tfor (var j = 0; j < this.tags.length; j++) {\n\t\t\t\t\t\tif (tag.tagId === this.tags[j].tagId) {\n\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!found) {\n\t\t\t\t\t\tremain.push(tag);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn remain;\n\t\t\t},\n\t\t\t'tagTitle': function () {\n\t\t\t\tdebug('type %j', this.user.type);\n\t\t\t\tswitch (this.user.type) {\n\t\t\t\t\tcase 0: return '';\n\t\t\t\t\tcase 1: return '';\n\t\t\t\t}\n\t\t\t\treturn '';\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tupdateUser (e, cb) {\n\t\t\t\tvar data = {\n\t\t\t\t\tgitHubUsername: this.github,\n\t\t\t\t\tcompany: this.company,\n\t\t\t\t\tjobTitle: this.jobTitle,\n\t\t\t\t\tintroduction: this.introduction,\n\t\t\t\t};\n\t\t\t\tif (this.username && this.username.length > 0) {\n\t\t\t\t\tdata.username = this.username;\n\t\t\t\t}\n\t\t\t\tif (this.avatarUrl && this.avatarUrl.length > 0) {\n\t\t\t\t\tdata.avatarUrl = this.avatarUrl;\n\t\t\t\t}\n\t\t\t\tthis.$http.patch(serviceUrl.updateUser, data)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tdebug(res)\n\t\t\t\t\tif (util.filterError(this, res)) {\n\t\t\t\t\t\tutil.show(this, 'success', '');\n\t\t\t\t\t   \tthis.setUserInfo(res.data.result);\n\t\t\t\t\t\t\tutil.updateNavUser(this, user);\n\t\t\t\t\t   \tdebug('cb: %j', cb);\n\t\t\t\t\t   \tcb && cb();\n\t\t\t\t\t}\n\t\t\t\t}, util.httpErrorFn(this));\n\t\t\t},\n\t\t\tsetUserInfo (user) {\n\t\t\t\tthis.user = user;\n\t\t\t\tthis.username = user.username;\n\t\t\t\tthis.github = user.gitHubUsername;\n\t\t\t\tthis.phone = user.mobilePhoneNumber;\n\t\t\t\tthis.company = user.company;\n\t\t\t\tthis.jobTitle = user.jobTitle;\n\t\t\t\tthis.introduction = user.introduction;\n\t\t\t\tthis.avatarUrl = user.avatarUrl;\n\t\t\t\tthis.tags = user.tags;\n\t\t\t},\n\t\t\taddTag () {\n\t\t\t\tif (!this.selected.tagId) {\n\t\t\t\t\tutil.show(this, 'warn', '');\n\t\t\t\t}\n\t\t\t\tthis.$http.post(serviceUrl.userTag, {\n\t\t\t\t\ttagId: this.selected.tagId\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tthis.tags = res.data.result;\n\t\t\t\t}, util.httpErrorFn(this));\n\t\t\t},\n\t\t\tloaded() {\n\t\t\t\tif (this.username && this.allTags) {\n\t\t\t\t\tthis.$broadcast('loaded');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\tthis.$http.get(serviceUrl.userStatus).then((res) => {\n\t\t\t\tif (util.filterError(this, res)) {\n\t\t\t\t\tdebug(res.data.result);\n\t\t\t    this.setUserInfo(res.data.result);\n\t\t\t\t\tutil.updateNavUser(this, res.data.result); // addTag  nav user\n\t\t\t\t\tthis.loaded();\n\t\t\t\t}\n\t\t\t}, util.httpErrorFn(this))\n\t\t\tthis.$http.get(serviceUrl.tags).then((res) => {\n\t\t\t\tif (util.filterError(this, res)) {\n\t\t\t\t\tthis.allTags = res.data.result;\n\t\t\t\t\tthis.loaded();\n\t\t\t\t}\n\t\t\t}, util.httpErrorFn(this))\n\t\t},\n\t\tready () {\n\t\t\tvar component = this;\n\t\t\tthis.$http.get(serviceUrl.qiniu).then((res) => {\n\t\t\t\tif (util.filterError(this, res)) {\n\t\t\t\t\tdebug('qiniu token %j', res.data);\n\t\t\t\t\tvar uptoken = res.data.result.uptoken;\n\t\t\t\t\tvar bucketUrl = res.data.result.bucketUrl;\n\t\t\t\t\tvar uploader = Qiniu.uploader({\n\t\t\t\t\t    runtimes: 'html5,flash,html4',    //,\n\t\t\t\t\t    browse_button: 'pickfiles',       //****\n\t\t\t\t\t    uptoken_url: 'useless',\n\t\t\t\t\t    uptoken: uptoken,\n\t\t\t\t\t    domain: bucketUrl,\n\t\t\t\t\t    flash_swf_url: 'js/plupload/Moxie.swf',\n\t\t\t\t\t    unique_names: true,\n\t\t\t\t\t    get_new_uptoken: false,           //token\n\t\t\t\t\t    container: 'upload-container',    //DOM IDbrowser_button\n\t\t\t\t\t    max_file_size: '100mb',           //\n\t\t\t\t\t    max_retries: 3,                   //\n\t\t\t\t\t    dragdrop: false,                  //\n\t\t\t\t\t    drop_element: 'container',        //ID\n\t\t\t\t\t    chunk_size: '4mb',                //\n\t\t\t\t\t    auto_start: true,                 //,\n\t\t\t\t\t    init: {\n\t\t\t\t\t        'FilesAdded': function(up, files) {\n\t\t\t\t\t        },\n\t\t\t\t\t        'BeforeUpload': function(up, file) {\n\t\t\t\t\t        },\n\t\t\t\t\t        'UploadProgress': function(up, file) {\n\t\t\t\t\t        },\n\t\t\t\t\t        'FileUploaded': function(up, file, info) {\n\t\t\t\t\t               // info:\n\t\t\t\t\t               // {\n\t\t\t\t\t               //    \"hash\": \"Fh8xVqod2MQ1mocfI4S4KpRL6D98\",\n\t\t\t\t\t               //    \"key\": \"gogopher.jpg\"\n\t\t\t\t\t               //  }\n\t\t\t\t\t               var res = JSON.parse(info);\n\t\t\t\t\t               var domain = up.getOption('domain');\n\t\t\t\t\t               // 10 http://  / \n\t\t\t\t\t               if (domain.indexOf('/', 10) == -1) {\n\t\t\t\t\t               \t  domain += '/';\n\t\t\t\t\t               }\n\t\t\t\t\t               var sourceLink = domain + res.key;\n\t\t\t\t\t               debug('sourceLink: %j', sourceLink);\n\t\t\t\t\t               component.avatarUrl = sourceLink;\n\t\t\t\t\t               component.updateUser(null, () => {\n\t\t\t\t\t               \t  // todocomponent \n\t\t\t\t\t               \t  window.location = '/setting.html';\n\t\t\t\t\t               });\n\t\t\t\t\t        },\n\t\t\t\t\t        'Error': function(up, err, errTip) {\n\t\t\t\t\t               debug('qiniu error %j errTip %j', err, errTip);\n\t\t\t\t\t               util.show(component, 'error', errTip);\n\t\t\t\t\t        },\n\t\t\t\t\t        'UploadComplete': function() {\n\t\t\t\t\t        },\n\t\t\t\t\t        'Key': function(up, file) {\n\t\t\t\t\t            // key\n\t\t\t\t\t            //  unique_names: false , save_key: false \n\t\t\t\t\t            var key = \"\";\n\t\t\t\t\t            return key\n\t\t\t\t\t        }\n\t\t\t\t\t    }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, util.httpErrorFn(this))\n\t\t}\n\t}\n// </script>\n\n// <style lang=\"stylus\">\n// @import \"../stylus/variables.styl\";\n\n// \t.avatar-container\n// \t\ttext-align center\n// \t\tbackground white\n// \t\tborder-top-left-radius 3px\n// \t\tborder-top-right-radius 3px\n// \t\tbutton\n// \t\t\tdisplay block\n// \t\t\tmargin 0 auto\n// \t\t.avatar\n// \t\t\twidth 104px\n// \t\t\theight 112px\n// \t\t\tmargin-top 32px\n\n// \t.setting\n// \t\twidth 1160px\n// \t\tpadding-bottom 80px\n// \t\tfont-size 1rem\n// \t\tmargin 80px auto\n// \t\tclearfix()\n// \t\tinput,textarea,select,button\n// \t\t\tborder-radius 3px\n// \t\th2\n// \t\t\tfont-size 1.5rem\n// \t\t\theight 65px\n// \t\t\tborder-bottom 1px solid rgba(0,0,0,.3)\n// \t\th3\n// \t\t\tline-height 80px\n// \t\t\tborder-bottom 1px solid rgba(0,0,0,.15)\n// \t\t\tbackground white\n// \t\t\tborder-top-left-radius 3px\n// \t\t\tborder-top-right-radius 3px\n// \t\t\tpadding-left 40px\n// \t\t.form, .tags\n// \t\t\tfloat left\n// \t\t\tmargin-top 50px\n// \t\t\tborder 1px solid rgba(0,0,0,.15)\n// \t\t\tborder-radius 3px\n// \t\t.form\n// \t\t\twidth 61%\n// \t\t\tfont-weight 200\n// \t\t\t.white\n// \t\t\t\tbackground white\n// \t\t\t\tpadding-bottom 54px\n// \t\t\t\tborder-bottom 1px solid rgba(0,0,0,.15)\n// \t\t\t.color\n// \t\t\t\tbackground #FDFFFF\n// \t\t\t\tborder-bottom-left-radius 3px\n// \t\t\t\tborder-bottom-right-radius 3px\n// \t\t\t\tborder-top none\n// \t\t\tbutton\n// \t\t\t\twidth 150px\n// \t\t\t\theight 60px\n// \t\t\t\tcolor white\n// \t\t\t\tfont-size 1rem\n// \t\t\t\tbackground green\n// \t\t\t\ttext-align center\n// \t\t\t\tline-height 60px\n// \t\t\t\tborder none\n// \t\t\t.row\n// \t\t\t\tpadding 27px 40px 0;\n// \t\t\t\tposition relative\n// \t\t\t\t&:last-child\n// \t\t\t\t\tborder-bottom-left-radius 3px\n// \t\t\t\t\tborder-bottom-right-radius 3px\n// \t\t\t\tp\n// \t\t\t\t\topacity 0.6\n// \t\t\t\t\tline-height 32px\n// \t\t\t\tspan\n// \t\t\t\t\topacity .6\n// \t\t\t\t\tposition absolute\n// \t\t\t\t\ttop 78px\n// \t\t\t\t\tleft 50px\n// \t\t\t\tinput\n// \t\t\t\t\theight 50px\n// \t\t\t\t\tborder 1px solid rgba(40,47,49,.3)\n// \t\t\t\t\twidth 100%\n// \t\t\t\t\tfont-size 1rem\n// \t\t\t\t\ttext-indent 15px\n// \t\t\t\t\tbox-shadow 0 1px 4px rgba(0,0,0,0.03)\n// \t\t\t\t\tcolor rgba(40,47,49,.6)\n// \t\t\t\ttextarea\n// \t\t\t\t\twidth 100%\n// \t\t\t\t\theight 280px\n// \t\t\t\t\tpadding 15px\n// \t\t\t\t\tresize none\n// \t\t\t\t\tcolor rgba(40,47,49,.6)\n// \t\t\t\t\tfont-size 1rem\n// \t\t\t\t\tborder 1px solid rgba(40,47,49,.3)\n// \t\t\t\tbutton\n// \t\t\t\t\tmargin 27px 0 54px\n// \t\t\t\t\tbackground blue\n// \t\t.tags\n// \t\t\twidth 34%\n// \t\t\tmargin-left 5%\n// \t\t\tbox-shadow 0 4px 4px rgba(135,135,135,0.15)\n// \t\t\t.tags-content\n// \t\t\t\tbackground #FDFFFF\n// \t\t\t\tfont-weight 200\n// \t\t\t\t.list\n// \t\t\t\t\tbackground white\n// \t\t\t\t\tmin-height 300px\n// \t\t\t\t\tpadding 40px\n// \t\t\t\t\tli\n// \t\t\t\t\t\tborder-radius 3px\n// \t\t\t\t\t\theight 48px\n// \t\t\t\t\t\twidth 50%\n// \t\t\t\t\t\ttext-align left\n// \t\t\t\t.select-content\n// \t\t\t\t\tborder-top 1px solid rgba(0,0,0,0.15)\n// \t\t\t\t\tpadding 40px\n// \t\t\t\t\tborder-bottom-left-radius 3px\n// \t\t\t\t\tborder-bottom-right-radius 3px\n// \t\t\t\t\tp\n// \t\t\t\t\t\topacity 0.6\n// \t\t\t\t\t\tline-height 50px\n// \t\t\t\t\tselect\n// \t\t\t\t\t\theight 50px\n// \t\t\t\t\t\twidth 205px\n// \t\t\t\t\t\t-webkit-appearance: none\n// \t\t\t\t\t\tborder 1px solid rgba(40,47,49,0.3)\n// \t\t\t\t\t\tbox-shadow 0 1px 4px rgba(0,0,0,0.03)\n// \t\t\t\t\t\tbackground white\n// \t\t\t\t\t\toption\n// \t\t\t\t\t\t\t-webkit-appearance: none\n// \t\t\t\t\t\t\theight 40px\n// \t\t\t\t\t\t\tline-height 40px\n// \t\t\t\t\tbutton\n// \t\t\t\t\t\twidth 82px\n// \t\t\t\t\t\theight 50px\n// \t\t\t\t\t\tbackground blue\n// \t\t\t\t\t\tcolor white\n// \t\t\t\t\t\tfont-size 1rem\n// \t\t\t\t\t\ttext-align center\n// \t\t\t\t\t\tline-height 50px\n// \t\t\t\t\t\tborder none\n// \t\t\t\t\t\tmargin-left 20px\n// </style>\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/setting.vue\n **/","/**\n * \n * @authors yuqiu (yuqiu@luojilab.com)\n * @date    2015-12-23 16:07:42\n * @version $Id$\n */\n\nimport Vue from 'vue'\nimport Nav from './views/nav.vue'\nimport Footer from './views/footer.vue'\nimport Setting from './views/setting.vue'\nimport util from './common/util'\nutil.configVue(Vue)\n\nlet reviewer = new Vue({\n  el: 'body',\n  components:{\n    'my-nav': Nav,\n    'my-footer': Footer,\n    'setting': Setting\n  }\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/setting.js\n **/","/*global plupload ,mOxie*/\n/*global ActiveXObject */\n/*exported Qiniu */\n\nfunction QiniuJsSDK() {\n\n\n    this.detectIEVersion = function() {\n        var v = 4,\n            div = document.createElement('div'),\n            all = div.getElementsByTagName('i');\n        while (\n            div.innerHTML = '<!--[if gt IE ' + v + ']><i></i><![endif]-->',\n            all[0]\n        ) {\n            v++;\n        }\n        return v > 4 ? v : false;\n    };\n\n    this.isImage = function(url) {\n        var res, suffix = \"\";\n        var imageSuffixes = [\"png\", \"jpg\", \"jpeg\", \"gif\", \"bmp\"];\n        var suffixMatch = /\\.([a-zA-Z0-9]+)(\\?|\\@|$)/;\n\n        if (!url || !suffixMatch.test(url)) {\n            return false;\n        }\n        res = suffixMatch.exec(url);\n        suffix = res[1].toLowerCase();\n        for (var i = 0, l = imageSuffixes.length; i < l; i++) {\n            if (suffix === imageSuffixes[i]) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    this.getFileExtension = function(filename) {\n        var tempArr = filename.split(\".\");\n        var ext;\n        if (tempArr.length === 1 || (tempArr[0] === \"\" && tempArr.length === 2)) {\n            ext = \"\";\n        } else {\n            ext = tempArr.pop().toLowerCase(); //get the extension and make it lower-case\n        }\n        return ext;\n    };\n\n    this.utf8_encode = function(argString) {\n        // http://kevin.vanzonneveld.net\n        // +   original by: Webtoolkit.info (http://www.webtoolkit.info/)\n        // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n        // +   improved by: sowberry\n        // +    tweaked by: Jack\n        // +   bugfixed by: Onno Marsman\n        // +   improved by: Yves Sucaet\n        // +   bugfixed by: Onno Marsman\n        // +   bugfixed by: Ulrich\n        // +   bugfixed by: Rafal Kukawski\n        // +   improved by: kirilloid\n        // +   bugfixed by: kirilloid\n        // *     example 1: this.utf8_encode('Kevin van Zonneveld');\n        // *     returns 1: 'Kevin van Zonneveld'\n\n        if (argString === null || typeof argString === 'undefined') {\n            return '';\n        }\n\n        var string = (argString + ''); // .replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n        var utftext = '',\n            start, end, stringl = 0;\n\n        start = end = 0;\n        stringl = string.length;\n        for (var n = 0; n < stringl; n++) {\n            var c1 = string.charCodeAt(n);\n            var enc = null;\n\n            if (c1 < 128) {\n                end++;\n            } else if (c1 > 127 && c1 < 2048) {\n                enc = String.fromCharCode(\n                    (c1 >> 6) | 192, (c1 & 63) | 128\n                );\n            } else if (c1 & 0xF800 ^ 0xD800 > 0) {\n                enc = String.fromCharCode(\n                    (c1 >> 12) | 224, ((c1 >> 6) & 63) | 128, (c1 & 63) | 128\n                );\n            } else { // surrogate pairs\n                if (c1 & 0xFC00 ^ 0xD800 > 0) {\n                    throw new RangeError('Unmatched trail surrogate at ' + n);\n                }\n                var c2 = string.charCodeAt(++n);\n                if (c2 & 0xFC00 ^ 0xDC00 > 0) {\n                    throw new RangeError('Unmatched lead surrogate at ' + (n - 1));\n                }\n                c1 = ((c1 & 0x3FF) << 10) + (c2 & 0x3FF) + 0x10000;\n                enc = String.fromCharCode(\n                    (c1 >> 18) | 240, ((c1 >> 12) & 63) | 128, ((c1 >> 6) & 63) | 128, (c1 & 63) | 128\n                );\n            }\n            if (enc !== null) {\n                if (end > start) {\n                    utftext += string.slice(start, end);\n                }\n                utftext += enc;\n                start = end = n + 1;\n            }\n        }\n\n        if (end > start) {\n            utftext += string.slice(start, stringl);\n        }\n\n        return utftext;\n    };\n\n    this.base64_encode = function(data) {\n        // http://kevin.vanzonneveld.net\n        // +   original by: Tyler Akins (http://rumkin.com)\n        // +   improved by: Bayron Guevara\n        // +   improved by: Thunder.m\n        // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n        // +   bugfixed by: Pellentesque Malesuada\n        // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n        // -    depends on: this.utf8_encode\n        // *     example 1: this.base64_encode('Kevin van Zonneveld');\n        // *     returns 1: 'S2V2aW4gdmFuIFpvbm5ldmVsZA=='\n        // mozilla has this native\n        // - but breaks in 2.0.0.12!\n        //if (typeof this.window['atob'] == 'function') {\n        //    return atob(data);\n        //}\n        var b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        var o1, o2, o3, h1, h2, h3, h4, bits, i = 0,\n            ac = 0,\n            enc = '',\n            tmp_arr = [];\n\n        if (!data) {\n            return data;\n        }\n\n        data = this.utf8_encode(data + '');\n\n        do { // pack three octets into four hexets\n            o1 = data.charCodeAt(i++);\n            o2 = data.charCodeAt(i++);\n            o3 = data.charCodeAt(i++);\n\n            bits = o1 << 16 | o2 << 8 | o3;\n\n            h1 = bits >> 18 & 0x3f;\n            h2 = bits >> 12 & 0x3f;\n            h3 = bits >> 6 & 0x3f;\n            h4 = bits & 0x3f;\n\n            // use hexets to index into b64, and append result to encoded string\n            tmp_arr[ac++] = b64.charAt(h1) + b64.charAt(h2) + b64.charAt(h3) + b64.charAt(h4);\n        } while (i < data.length);\n\n        enc = tmp_arr.join('');\n\n        switch (data.length % 3) {\n            case 1:\n                enc = enc.slice(0, -2) + '==';\n                break;\n            case 2:\n                enc = enc.slice(0, -1) + '=';\n                break;\n        }\n\n        return enc;\n    };\n\n    this.URLSafeBase64Encode = function(v) {\n        v = this.base64_encode(v);\n        return v.replace(/\\//g, '_').replace(/\\+/g, '-');\n    };\n\n    this.createAjax = function(argument) {\n        var xmlhttp = {};\n        if (window.XMLHttpRequest) {\n            xmlhttp = new XMLHttpRequest();\n        } else {\n            xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n        }\n        return xmlhttp;\n    };\n\n    this.parseJSON = function(data) {\n        // Attempt to parse using the native JSON parser first\n        if (window.JSON && window.JSON.parse) {\n            return window.JSON.parse(data);\n        }\n\n        if (data === null) {\n            return data;\n        }\n        if (typeof data === \"string\") {\n\n            // Make sure leading/trailing whitespace is removed (IE can't handle it)\n            data = this.trim(data);\n\n            if (data) {\n                // Make sure the incoming data is actual JSON\n                // Logic borrowed from http://json.org/json2.js\n                if (/^[\\],:{}\\s]*$/.test(data.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[\\da-fA-F]{4})/g, \"@\").replace(/\"[^\"\\\\\\r\\n]*\"|true|false|null|-?(?:\\d+\\.|)\\d+(?:[eE][+-]?\\d+|)/g, \"]\").replace(/(?:^|:|,)(?:\\s*\\[)+/g, \"\"))) {\n\n                    return (function() {\n                        return data;\n                    })();\n                }\n            }\n        }\n    };\n\n    this.trim = function(text) {\n        return text === null ? \"\" : this.trim.call(text);\n    };\n\n    //Todo ie7 handler / this.parseJSON bug;\n\n    var that = this;\n\n    this.uploader = function(op) {\n        if (!op.domain) {\n            throw 'uptoken_url or domain is required!';\n        }\n\n        if (!op.browse_button) {\n            throw 'browse_button is required!';\n        }\n\n        var option = {};\n\n        var _Error_Handler = op.init && op.init.Error;\n        var _FileUploaded_Handler = op.init && op.init.FileUploaded;\n\n        op.init.Error = function() {};\n        op.init.FileUploaded = function() {};\n\n        that.uptoken_url = op.uptoken_url;\n        that.token = '';\n        that.key_handler = typeof op.init.Key === 'function' ? op.init.Key : '';\n        this.domain = op.domain;\n        var ctx = '';\n\n        var reset_chunk_size = function() {\n            var ie = that.detectIEVersion();\n            var BLOCK_BITS, MAX_CHUNK_SIZE, chunk_size;\n            var isSpecialSafari = (mOxie.Env.browser === \"Safari\" && mOxie.Env.version <= 5 && mOxie.Env.os === \"Windows\" && mOxie.Env.osVersion === \"7\") || (mOxie.Env.browser === \"Safari\" && mOxie.Env.os === \"iOS\" && mOxie.Env.osVersion === \"7\");\n            if (ie && ie <= 9 && op.chunk_size && op.runtimes.indexOf('flash') >= 0) {\n                //  link: http://www.plupload.com/docs/Frequently-Asked-Questions#when-to-use-chunking-and-when-not\n                //  when plupload chunk_size setting is't null ,it cause bug in ie8/9  which runs  flash runtimes (not support html5) .\n                op.chunk_size = 0;\n\n            } else if (isSpecialSafari) {\n                // win7 safari / iOS7 safari have bug when in chunk upload mode\n                // reset chunk_size to 0\n                // disable chunk in special version safari\n                op.chunk_size = 0;\n            } else {\n                BLOCK_BITS = 20;\n                MAX_CHUNK_SIZE = 4 << BLOCK_BITS; //4M\n\n                chunk_size = plupload.parseSize(op.chunk_size);\n                if (chunk_size > MAX_CHUNK_SIZE) {\n                    op.chunk_size = MAX_CHUNK_SIZE;\n                }\n                // qiniu service  max_chunk_size is 4m\n                // reset chunk_size to max_chunk_size(4m) when chunk_size > 4m\n            }\n        };\n        reset_chunk_size();\n\n        var getUpToken = function() {\n            if (!op.uptoken) {\n                var ajax = that.createAjax();\n                ajax.open('GET', that.uptoken_url, true);\n                ajax.setRequestHeader(\"If-Modified-Since\", \"0\");\n                ajax.onreadystatechange = function() {\n                    if (ajax.readyState === 4 && ajax.status === 200) {\n                        var res = that.parseJSON(ajax.responseText);\n                        that.token = res.uptoken;\n                    }\n                };\n                ajax.send();\n            } else {\n                that.token = op.uptoken;\n            }\n        };\n\n        var getFileKey = function(up, file, func) {\n            var key = '',\n                unique_names = false;\n            if (!op.save_key) {\n                unique_names = up.getOption && up.getOption('unique_names');\n                unique_names = unique_names || (up.settings && up.settings.unique_names);\n                if (unique_names) {\n                    var ext = that.getFileExtension(file.name);\n                    key = ext ? file.id + '.' + ext : file.id;\n                } else if (typeof func === 'function') {\n                    key = func(up, file);\n                } else {\n                    key = file.name;\n                }\n            }\n            return key;\n        };\n\n        plupload.extend(option, op, {\n            url: 'http://up.qiniu.com',\n            multipart_params: {\n                token: ''\n            }\n        });\n\n        var uploader = new plupload.Uploader(option);\n\n        uploader.bind('Init', function(up, params) {\n            getUpToken();\n        });\n        uploader.init();\n\n        uploader.bind('FilesAdded', function(up, files) {\n            var auto_start = up.getOption && up.getOption('auto_start');\n            auto_start = auto_start || (up.settings && up.settings.auto_start);\n            if (auto_start) {\n                plupload.each(files, function(i, file) {\n                    up.start();\n                });\n            }\n            up.refresh(); // Reposition Flash/Silverlight\n        });\n\n        uploader.bind('BeforeUpload', function(up, file) {\n\n            ctx = '';\n\n            var directUpload = function(up, file, func) {\n\n                var multipart_params_obj;\n                if (op.save_key) {\n                    multipart_params_obj = {\n                        'token': that.token\n                    };\n                } else {\n                    multipart_params_obj = {\n                        'key': getFileKey(up, file, func),\n                        'token': that.token\n                    };\n                }\n\n                var x_vars = op.x_vars;\n                if (x_vars !== undefined && typeof x_vars === 'object') {\n                    for (var x_key in x_vars) {\n                        if (x_vars.hasOwnProperty(x_key)) {\n                            if (typeof x_vars[x_key] === 'function') {\n                                multipart_params_obj['x:' + x_key] = x_vars[x_key](up, file);\n                            } else if (typeof x_vars[x_key] !== 'object') {\n                                multipart_params_obj['x:' + x_key] = x_vars[x_key];\n                            }\n                        }\n                    }\n                }\n\n\n                up.setOption({\n                    'url': 'http://up.qiniu.com/',\n                    'multipart': true,\n                    'chunk_size': undefined,\n                    'multipart_params': multipart_params_obj\n                });\n            };\n\n\n            var chunk_size = up.getOption && up.getOption('chunk_size');\n            chunk_size = chunk_size || (up.settings && up.settings.chunk_size);\n            if (uploader.runtime === 'html5' && chunk_size) {\n                if (file.size < chunk_size) {\n                    directUpload(up, file, that.key_handler);\n                } else {\n                    var localFileInfo = localStorage.getItem(file.name);\n                    var blockSize = chunk_size;\n                    if (localFileInfo) {\n                        localFileInfo = JSON.parse(localFileInfo);\n                        var now = (new Date()).getTime();\n                        var before = localFileInfo.time || 0;\n                        var aDay = 24 * 60 * 60 * 1000; //  milliseconds\n                        if (now - before < aDay) {\n                            if (localFileInfo.percent !== 100) {\n                                if (file.size === localFileInfo.total) {\n                                    file.percent = localFileInfo.percent;\n                                    file.loaded = localFileInfo.offset;\n                                    ctx = localFileInfo.ctx;\n                                    if (localFileInfo.offset + blockSize > file.size) {\n                                        blockSize = file.size - localFileInfo.offset;\n                                    }\n                                } else {\n                                    localStorage.removeItem(file.name);\n                                }\n\n                            } else {\n                                // 100%localStorage 499 bug\n                                localStorage.removeItem(file.name);\n                            }\n                        } else {\n                            localStorage.removeItem(file.name);\n                        }\n                    }\n                    up.setOption({\n                        'url': 'http://up.qiniu.com/mkblk/' + blockSize,\n                        'multipart': false,\n                        'chunk_size': chunk_size,\n                        'required_features': \"chunks\",\n                        'headers': {\n                            'Authorization': 'UpToken ' + that.token\n                        },\n                        'multipart_params': {}\n                    });\n                }\n            } else {\n                directUpload(up, file, that.key_handler);\n            }\n        });\n\n        uploader.bind('ChunkUploaded', function(up, file, info) {\n            var res = that.parseJSON(info.response);\n\n            ctx = ctx ? ctx + ',' + res.ctx : res.ctx;\n            var leftSize = info.total - info.offset;\n            var chunk_size = up.getOption && up.getOption('chunk_size');\n            chunk_size = chunk_size || (up.settings && up.settings.chunk_size);\n            if (leftSize < chunk_size) {\n                up.setOption({\n                    'url': 'http://up.qiniu.com/mkblk/' + leftSize\n                });\n            }\n            localStorage.setItem(file.name, JSON.stringify({\n                ctx: ctx,\n                percent: file.percent,\n                total: info.total,\n                offset: info.offset,\n                time: (new Date()).getTime()\n            }));\n        });\n\n        uploader.bind('Error', (function(_Error_Handler) {\n            return function(up, err) {\n                var errTip = '';\n                var file = err.file;\n                if (file) {\n                    switch (err.code) {\n                        case plupload.FAILED:\n                            errTip = '';\n                            break;\n                        case plupload.FILE_SIZE_ERROR:\n                            var max_file_size = up.getOption && up.getOption('max_file_size');\n                            max_file_size = max_file_size || (up.settings && up.settings.max_file_size);\n                            errTip = '' + max_file_size + '';\n                            break;\n                        case plupload.FILE_EXTENSION_ERROR:\n                            errTip = '';\n                            break;\n                        case plupload.HTTP_ERROR:\n                            var errorObj = that.parseJSON(err.response);\n                            var errorText = errorObj.error;\n                            switch (err.status) {\n                                case 400:\n                                    errTip = \"\";\n                                    break;\n                                case 401:\n                                    errTip = \"\";\n                                    break;\n                                case 405:\n                                    errTip = \"\";\n                                    break;\n                                case 579:\n                                    errTip = \"\";\n                                    break;\n                                case 599:\n                                    errTip = \"\";\n                                    break;\n                                case 614:\n                                    errTip = \"\";\n                                    try {\n                                        errorObj = that.parseJSON(errorObj.error);\n                                        errorText = errorObj.error || 'file exists';\n                                    } catch (e) {\n                                        errorText = errorObj.error || 'file exists';\n                                    }\n                                    break;\n                                case 631:\n                                    errTip = \"\";\n                                    break;\n                                case 701:\n                                    errTip = \"\";\n                                    break;\n                                default:\n                                    errTip = \"\";\n                                    break;\n                            }\n                            errTip = errTip + '(' + err.status + '' + errorText + ')';\n                            break;\n                        case plupload.SECURITY_ERROR:\n                            errTip = '';\n                            break;\n                        case plupload.GENERIC_ERROR:\n                            errTip = '';\n                            break;\n                        case plupload.IO_ERROR:\n                            errTip = '';\n                            break;\n                        case plupload.INIT_ERROR:\n                            errTip = '';\n                            uploader.destroy();\n                            break;\n                        default:\n                            errTip = err.message + err.details;\n                            break;\n                    }\n                    if (_Error_Handler) {\n                        _Error_Handler(up, err, errTip);\n                    }\n                }\n                up.refresh(); // Reposition Flash/Silverlight\n            };\n        })(_Error_Handler));\n\n        uploader.bind('FileUploaded', (function(_FileUploaded_Handler) {\n            return function(up, file, info) {\n\n                var last_step = function(up, file, info) {\n                    if (op.downtoken_url) {\n                        var ajax_downtoken = that.createAjax();\n                        ajax_downtoken.open('POST', op.downtoken_url, true);\n                        ajax_downtoken.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n                        ajax_downtoken.onreadystatechange = function() {\n                            if (ajax_downtoken.readyState === 4) {\n                                if (ajax_downtoken.status === 200) {\n                                    var res_downtoken;\n                                    try {\n                                        res_downtoken = that.parseJSON(ajax_downtoken.responseText);\n                                    } catch (e) {\n                                        throw ('invalid json format');\n                                    }\n                                    var info_extended = {};\n                                    plupload.extend(info_extended, that.parseJSON(info), res_downtoken);\n                                    if (_FileUploaded_Handler) {\n                                        _FileUploaded_Handler(up, file, JSON.stringify(info_extended));\n                                    }\n                                } else {\n                                    uploader.trigger('Error', {\n                                        status: ajax_downtoken.status,\n                                        response: ajax_downtoken.responseText,\n                                        file: file,\n                                        code: plupload.HTTP_ERROR\n                                    });\n                                }\n                            }\n                        };\n                        ajax_downtoken.send('key=' + that.parseJSON(info).key + '&domain=' + op.domain);\n                    } else if (_FileUploaded_Handler) {\n                        _FileUploaded_Handler(up, file, info);\n                    }\n                };\n\n                var res = that.parseJSON(info.response);\n                ctx = ctx ? ctx : res.ctx;\n                if (ctx) {\n                    var key = '';\n                    if (!op.save_key) {\n                        key = getFileKey(up, file, that.key_handler);\n                        key = key ? '/key/' + that.URLSafeBase64Encode(key) : '';\n                    }\n\n                    var x_vars = op.x_vars,\n                        x_val = '',\n                        x_vars_url = '';\n                    if (x_vars !== undefined && typeof x_vars === 'object') {\n                        for (var x_key in x_vars) {\n                            if (x_vars.hasOwnProperty(x_key)) {\n                                if (typeof x_vars[x_key] === 'function') {\n                                    x_val = that.URLSafeBase64Encode(x_vars[x_key](up, file));\n                                } else if (typeof x_vars[x_key] !== 'object') {\n                                    x_val = that.URLSafeBase64Encode(x_vars[x_key]);\n                                }\n                                x_vars_url += '/x:' + x_key + '/' + x_val;\n                            }\n                        }\n                    }\n\n                    var url = 'http://up.qiniu.com/mkfile/' + file.size + key + x_vars_url;\n                    var ajax = that.createAjax();\n                    ajax.open('POST', url, true);\n                    ajax.setRequestHeader('Content-Type', 'text/plain;charset=UTF-8');\n                    ajax.setRequestHeader('Authorization', 'UpToken ' + that.token);\n                    ajax.onreadystatechange = function() {\n                        if (ajax.readyState === 4) {\n                            localStorage.removeItem(file.name);\n                            if (ajax.status === 200) {\n                                var info = ajax.responseText;\n                                last_step(up, file, info);\n                            } else {\n                                uploader.trigger('Error', {\n                                    status: ajax.status,\n                                    response: ajax.responseText,\n                                    file: file,\n                                    code: -200\n                                });\n                            }\n                        }\n                    };\n                    ajax.send(ctx);\n                } else {\n                    last_step(up, file, info.response);\n                }\n\n            };\n        })(_FileUploaded_Handler));\n\n        return uploader;\n    };\n\n    this.getUrl = function(key) {\n        if (!key) {\n            return false;\n        }\n        key = encodeURI(key);\n        var domain = this.domain;\n        if (domain.slice(domain.length - 1) !== '/') {\n            domain = domain + '/';\n        }\n        return domain + key;\n    };\n\n    this.imageView2 = function(op, key) {\n        var mode = op.mode || '',\n            w = op.w || '',\n            h = op.h || '',\n            q = op.quality || '',\n            format = op.format || '';\n        if (!mode) {\n            return false;\n        }\n        if (!w && !h) {\n            return false;\n        }\n\n        var imageUrl = 'imageView2/' + mode;\n        imageUrl += w ? '/w/' + w : '';\n        imageUrl += h ? '/h/' + h : '';\n        imageUrl += q ? '/q/' + q : '';\n        imageUrl += format ? '/format/' + format : '';\n        if (key) {\n            imageUrl = this.getUrl(key) + '?' + imageUrl;\n        }\n        return imageUrl;\n    };\n\n\n    this.imageMogr2 = function(op, key) {\n        var auto_orient = op['auto-orient'] || '',\n            thumbnail = op.thumbnail || '',\n            strip = op.strip || '',\n            gravity = op.gravity || '',\n            crop = op.crop || '',\n            quality = op.quality || '',\n            rotate = op.rotate || '',\n            format = op.format || '',\n            blur = op.blur || '';\n        //Todo check option\n\n        var imageUrl = 'imageMogr2';\n\n        imageUrl += auto_orient ? '/auto-orient' : '';\n        imageUrl += thumbnail ? '/thumbnail/' + thumbnail : '';\n        imageUrl += strip ? '/strip' : '';\n        imageUrl += gravity ? '/gravity/' + gravity : '';\n        imageUrl += quality ? '/quality/' + quality : '';\n        imageUrl += crop ? '/crop/' + crop : '';\n        imageUrl += rotate ? '/rotate/' + rotate : '';\n        imageUrl += format ? '/format/' + format : '';\n        imageUrl += blur ? '/blur/' + blur : '';\n\n        if (key) {\n            imageUrl = this.getUrl(key) + '?' + imageUrl;\n        }\n        return imageUrl;\n    };\n\n    this.watermark = function(op, key) {\n\n        var mode = op.mode;\n        if (!mode) {\n            return false;\n        }\n\n        var imageUrl = 'watermark/' + mode;\n\n        if (mode === 1) {\n            var image = op.image || '';\n            if (!image) {\n                return false;\n            }\n            imageUrl += image ? '/image/' + this.URLSafeBase64Encode(image) : '';\n        } else if (mode === 2) {\n            var text = op.text ? op.text : '',\n                font = op.font ? op.font : '',\n                fontsize = op.fontsize ? op.fontsize : '',\n                fill = op.fill ? op.fill : '';\n            if (!text) {\n                return false;\n            }\n            imageUrl += text ? '/text/' + this.URLSafeBase64Encode(text) : '';\n            imageUrl += font ? '/font/' + this.URLSafeBase64Encode(font) : '';\n            imageUrl += fontsize ? '/fontsize/' + fontsize : '';\n            imageUrl += fill ? '/fill/' + this.URLSafeBase64Encode(fill) : '';\n        } else {\n            // Todo mode3\n            return false;\n        }\n\n        var dissolve = op.dissolve || '',\n            gravity = op.gravity || '',\n            dx = op.dx || '',\n            dy = op.dy || '';\n\n        imageUrl += dissolve ? '/dissolve/' + dissolve : '';\n        imageUrl += gravity ? '/gravity/' + gravity : '';\n        imageUrl += dx ? '/dx/' + dx : '';\n        imageUrl += dy ? '/dy/' + dy : '';\n\n        if (key) {\n            imageUrl = this.getUrl(key) + '?' + imageUrl;\n        }\n        return imageUrl;\n\n    };\n\n    this.imageInfo = function(key) {\n        if (!key) {\n            return false;\n        }\n        var url = this.getUrl(key) + '?imageInfo';\n        var xhr = this.createAjax();\n        var info;\n        var that = this;\n        xhr.open('GET', url, false);\n        xhr.onreadystatechange = function() {\n            if (xhr.readyState === 4 && xhr.status === 200) {\n                info = that.parseJSON(xhr.responseText);\n            }\n        };\n        xhr.send();\n        return info;\n    };\n\n\n    this.exif = function(key) {\n        if (!key) {\n            return false;\n        }\n        var url = this.getUrl(key) + '?exif';\n        var xhr = this.createAjax();\n        var info;\n        var that = this;\n        xhr.open('GET', url, false);\n        xhr.onreadystatechange = function() {\n            if (xhr.readyState === 4 && xhr.status === 200) {\n                info = that.parseJSON(xhr.responseText);\n            }\n        };\n        xhr.send();\n        return info;\n    };\n\n    this.get = function(type, key) {\n        if (!key || !type) {\n            return false;\n        }\n        if (type === 'exif') {\n            return this.exif(key);\n        } else if (type === 'imageInfo') {\n            return this.imageInfo(key);\n        }\n        return false;\n    };\n\n\n    this.pipeline = function(arr, key) {\n\n        var isArray = Object.prototype.toString.call(arr) === '[object Array]';\n        var option, errOp, imageUrl = '';\n        if (isArray) {\n            for (var i = 0, len = arr.length; i < len; i++) {\n                option = arr[i];\n                if (!option.fop) {\n                    return false;\n                }\n                switch (option.fop) {\n                    case 'watermark':\n                        imageUrl += this.watermark(option) + '|';\n                        break;\n                    case 'imageView2':\n                        imageUrl += this.imageView2(option) + '|';\n                        break;\n                    case 'imageMogr2':\n                        imageUrl += this.imageMogr2(option) + '|';\n                        break;\n                    default:\n                        errOp = true;\n                        break;\n                }\n                if (errOp) {\n                    return false;\n                }\n            }\n            if (key) {\n                imageUrl = this.getUrl(key) + '?' + imageUrl;\n                var length = imageUrl.length;\n                if (imageUrl.slice(length - 1) === '|') {\n                    imageUrl = imageUrl.slice(0, length - 1);\n                }\n            }\n            return imageUrl;\n        }\n        return false;\n    };\n\n}\n\nexports.uploader = function(options) {\n  var qiniu = new QiniuJsSDK();\n  return qiniu.uploader(options);\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/qiniu-js-sdk/qiniu.js\n ** module id = 175\n ** module chunks = 3\n **/","module.exports = \"<loading><section class=setting><h2></h2><section class=form><h3></h3><div class=white><div class=avatar-container id=upload-container><user-avatar :user=user></user-avatar><button type=button id=pickfiles></button></div><div class=row><p></p><input v-model=\\\"username\\\"></div><div class=row><p>Github </p><input v-model=github style=\\\"text-indent: 110px\\\"> <span>github.com /</span></div></div><div class=color><div class=row><p></p><input v-model=\\\"company\\\"></div><div class=row><p></p><input v-model=\\\"jobTitle\\\"></div><div class=row><p></p><textarea v-model=introduction></textarea></div><div class=row><button type=button @click=updateUser></button></div></div></section><section class=tags><h3 class=region-title>{{tagTitle}}</h3><div class=tags-content><ul class=list><li v-for=\\\"tag in tags\\\"><tag :tag=tag :show-del=true></tag></li></ul><div class=select-content><p> {{tagTitle}}</p><select v-model=selected><option v-for=\\\"tag in remains\\\" :value=\\\"{tagId: tag.tagId}\\\">{{tag.tagName}}</select><button type=button @click=addTag></button></div></div></section></section></loading>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/setting.vue\n ** module id = 191\n ** module chunks = 3\n **/","require(\"-!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!style-loader!css-loader!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-38895d24&file=setting.vue!stylus-loader!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./setting.vue\")\nmodule.exports = require(\"-!babel!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./setting.vue\")\n\nif (module.exports.__esModule) module.exports = module.exports.default\n;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = require(\"-!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./setting.vue\")\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Users/yuqiu/github/code-review-web/src/views/setting.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n  }\n})()}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/views/setting.vue\n ** module id = 203\n ** module chunks = 3\n **/","/**\n * Plupload - multi-runtime File Uploader\n * v2.1.2\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n *\n * Date: 2014-05-14\n */\n/**\n * Plupload.js\n *\n * Copyright 2013, Moxiecode Systems AB\n * Released under GPL License.\n *\n * License: http://www.plupload.com/license\n * Contributing: http://www.plupload.com/contributing\n */\n\n/*global mOxie:true */\n\n;(function(window, o, undef) {\n\nvar delay = window.setTimeout\n, fileFilters = {}\n;\n\n// convert plupload features to caps acceptable by mOxie\nfunction normalizeCaps(settings) {\t\t\n\tvar features = settings.required_features, caps = {};\n\n\tfunction resolve(feature, value, strict) {\n\t\t// Feature notation is deprecated, use caps (this thing here is required for backward compatibility)\n\t\tvar map = { \n\t\t\tchunks: 'slice_blob',\n\t\t\tjpgresize: 'send_binary_string',\n\t\t\tpngresize: 'send_binary_string',\n\t\t\tprogress: 'report_upload_progress',\n\t\t\tmulti_selection: 'select_multiple',\n\t\t\tdragdrop: 'drag_and_drop',\n\t\t\tdrop_element: 'drag_and_drop',\n\t\t\theaders: 'send_custom_headers',\n\t\t\turlstream_upload: 'send_binary_string',\n\t\t\tcanSendBinary: 'send_binary',\n\t\t\ttriggerDialog: 'summon_file_dialog'\n\t\t};\n\n\t\tif (map[feature]) {\n\t\t\tcaps[map[feature]] = value;\n\t\t} else if (!strict) {\n\t\t\tcaps[feature] = value;\n\t\t}\n\t}\n\n\tif (typeof(features) === 'string') {\n\t\tplupload.each(features.split(/\\s*,\\s*/), function(feature) {\n\t\t\tresolve(feature, true);\n\t\t});\n\t} else if (typeof(features) === 'object') {\n\t\tplupload.each(features, function(value, feature) {\n\t\t\tresolve(feature, value);\n\t\t});\n\t} else if (features === true) {\n\t\t// check settings for required features\n\t\tif (settings.chunk_size > 0) {\n\t\t\tcaps.slice_blob = true;\n\t\t}\n\n\t\tif (settings.resize.enabled || !settings.multipart) {\n\t\t\tcaps.send_binary_string = true;\n\t\t}\n\t\t\n\t\tplupload.each(settings, function(value, feature) {\n\t\t\tresolve(feature, !!value, true); // strict check\n\t\t});\n\t}\n\t\n\treturn caps;\n}\n\n/** \n * @module plupload\t\n * @static\n */\nvar plupload = {\n\t/**\n\t * Plupload version will be replaced on build.\n\t *\n\t * @property VERSION\n\t * @for Plupload\n\t * @static\n\t * @final\n\t */\n\tVERSION : '2.1.2',\n\n\t/**\n\t * Inital state of the queue and also the state ones it's finished all it's uploads.\n\t *\n\t * @property STOPPED\n\t * @static\n\t * @final\n\t */\n\tSTOPPED : 1,\n\n\t/**\n\t * Upload process is running\n\t *\n\t * @property STARTED\n\t * @static\n\t * @final\n\t */\n\tSTARTED : 2,\n\n\t/**\n\t * File is queued for upload\n\t *\n\t * @property QUEUED\n\t * @static\n\t * @final\n\t */\n\tQUEUED : 1,\n\n\t/**\n\t * File is being uploaded\n\t *\n\t * @property UPLOADING\n\t * @static\n\t * @final\n\t */\n\tUPLOADING : 2,\n\n\t/**\n\t * File has failed to be uploaded\n\t *\n\t * @property FAILED\n\t * @static\n\t * @final\n\t */\n\tFAILED : 4,\n\n\t/**\n\t * File has been uploaded successfully\n\t *\n\t * @property DONE\n\t * @static\n\t * @final\n\t */\n\tDONE : 5,\n\n\t// Error constants used by the Error event\n\n\t/**\n\t * Generic error for example if an exception is thrown inside Silverlight.\n\t *\n\t * @property GENERIC_ERROR\n\t * @static\n\t * @final\n\t */\n\tGENERIC_ERROR : -100,\n\n\t/**\n\t * HTTP transport error. For example if the server produces a HTTP status other than 200.\n\t *\n\t * @property HTTP_ERROR\n\t * @static\n\t * @final\n\t */\n\tHTTP_ERROR : -200,\n\n\t/**\n\t * Generic I/O error. For example if it wasn't possible to open the file stream on local machine.\n\t *\n\t * @property IO_ERROR\n\t * @static\n\t * @final\n\t */\n\tIO_ERROR : -300,\n\n\t/**\n\t * @property SECURITY_ERROR\n\t * @static\n\t * @final\n\t */\n\tSECURITY_ERROR : -400,\n\n\t/**\n\t * Initialization error. Will be triggered if no runtime was initialized.\n\t *\n\t * @property INIT_ERROR\n\t * @static\n\t * @final\n\t */\n\tINIT_ERROR : -500,\n\n\t/**\n\t * File size error. If the user selects a file that is too large it will be blocked and an error of this type will be triggered.\n\t *\n\t * @property FILE_SIZE_ERROR\n\t * @static\n\t * @final\n\t */\n\tFILE_SIZE_ERROR : -600,\n\n\t/**\n\t * File extension error. If the user selects a file that isn't valid according to the filters setting.\n\t *\n\t * @property FILE_EXTENSION_ERROR\n\t * @static\n\t * @final\n\t */\n\tFILE_EXTENSION_ERROR : -601,\n\n\t/**\n\t * Duplicate file error. If prevent_duplicates is set to true and user selects the same file again.\n\t *\n\t * @property FILE_DUPLICATE_ERROR\n\t * @static\n\t * @final\n\t */\n\tFILE_DUPLICATE_ERROR : -602,\n\n\t/**\n\t * Runtime will try to detect if image is proper one. Otherwise will throw this error.\n\t *\n\t * @property IMAGE_FORMAT_ERROR\n\t * @static\n\t * @final\n\t */\n\tIMAGE_FORMAT_ERROR : -700,\n\n\t/**\n\t * While working on files runtime may run out of memory and will throw this error.\n\t *\n\t * @since 2.1.2\n\t * @property MEMORY_ERROR\n\t * @static\n\t * @final\n\t */\n\tMEMORY_ERROR : -701,\n\n\t/**\n\t * Each runtime has an upper limit on a dimension of the image it can handle. If bigger, will throw this error.\n\t *\n\t * @property IMAGE_DIMENSIONS_ERROR\n\t * @static\n\t * @final\n\t */\n\tIMAGE_DIMENSIONS_ERROR : -702,\n\n\t/**\n\t * Mime type lookup table.\n\t *\n\t * @property mimeTypes\n\t * @type Object\n\t * @final\n\t */\n\tmimeTypes : o.mimes,\n\n\t/**\n\t * In some cases sniffing is the only way around :(\n\t */\n\tua: o.ua,\n\n\t/**\n\t * Gets the true type of the built-in object (better version of typeof).\n\t * @credits Angus Croll (http://javascriptweblog.wordpress.com/)\n\t *\n\t * @method typeOf\n\t * @static\n\t * @param {Object} o Object to check.\n\t * @return {String} Object [[Class]]\n\t */\n\ttypeOf: o.typeOf,\n\n\t/**\n\t * Extends the specified object with another object.\n\t *\n\t * @method extend\n\t * @static\n\t * @param {Object} target Object to extend.\n\t * @param {Object..} obj Multiple objects to extend with.\n\t * @return {Object} Same as target, the extended object.\n\t */\n\textend : o.extend,\n\n\t/**\n\t * Generates an unique ID. This is 99.99% unique since it takes the current time and 5 random numbers.\n\t * The only way a user would be able to get the same ID is if the two persons at the same exact milisecond manages\n\t * to get 5 the same random numbers between 0-65535 it also uses a counter so each call will be guaranteed to be page unique.\n\t * It's more probable for the earth to be hit with an ansteriod. You can also if you want to be 100% sure set the plupload.guidPrefix property\n\t * to an user unique key.\n\t *\n\t * @method guid\n\t * @static\n\t * @return {String} Virtually unique id.\n\t */\n\tguid : o.guid,\n\n\t/**\n\t * Get array of DOM Elements by their ids.\n\t * \n\t * @method get\n\t * @for Utils\n\t * @param {String} id Identifier of the DOM Element\n\t * @return {Array}\n\t*/\n\tget : function get(ids) {\n\t\tvar els = [], el;\n\n\t\tif (o.typeOf(ids) !== 'array') {\n\t\t\tids = [ids];\n\t\t}\n\n\t\tvar i = ids.length;\n\t\twhile (i--) {\n\t\t\tel = o.get(ids[i]);\n\t\t\tif (el) {\n\t\t\t\tels.push(el);\n\t\t\t}\n\t\t}\n\n\t\treturn els.length ? els : null;\n\t},\n\n\t/**\n\t * Executes the callback function for each item in array/object. If you return false in the\n\t * callback it will break the loop.\n\t *\n\t * @method each\n\t * @static\n\t * @param {Object} obj Object to iterate.\n\t * @param {function} callback Callback function to execute for each item.\n\t */\n\teach : o.each,\n\n\t/**\n\t * Returns the absolute x, y position of an Element. The position will be returned in a object with x, y fields.\n\t *\n\t * @method getPos\n\t * @static\n\t * @param {Element} node HTML element or element id to get x, y position from.\n\t * @param {Element} root Optional root element to stop calculations at.\n\t * @return {object} Absolute position of the specified element object with x, y fields.\n\t */\n\tgetPos : o.getPos,\n\n\t/**\n\t * Returns the size of the specified node in pixels.\n\t *\n\t * @method getSize\n\t * @static\n\t * @param {Node} node Node to get the size of.\n\t * @return {Object} Object with a w and h property.\n\t */\n\tgetSize : o.getSize,\n\n\t/**\n\t * Encodes the specified string.\n\t *\n\t * @method xmlEncode\n\t * @static\n\t * @param {String} s String to encode.\n\t * @return {String} Encoded string.\n\t */\n\txmlEncode : function(str) {\n\t\tvar xmlEncodeChars = {'<' : 'lt', '>' : 'gt', '&' : 'amp', '\"' : 'quot', '\\'' : '#39'}, xmlEncodeRegExp = /[<>&\\\"\\']/g;\n\n\t\treturn str ? ('' + str).replace(xmlEncodeRegExp, function(chr) {\n\t\t\treturn xmlEncodeChars[chr] ? '&' + xmlEncodeChars[chr] + ';' : chr;\n\t\t}) : str;\n\t},\n\n\t/**\n\t * Forces anything into an array.\n\t *\n\t * @method toArray\n\t * @static\n\t * @param {Object} obj Object with length field.\n\t * @return {Array} Array object containing all items.\n\t */\n\ttoArray : o.toArray,\n\n\t/**\n\t * Find an element in array and return it's index if present, otherwise return -1.\n\t *\n\t * @method inArray\n\t * @static\n\t * @param {mixed} needle Element to find\n\t * @param {Array} array\n\t * @return {Int} Index of the element, or -1 if not found\n\t */\n\tinArray : o.inArray,\n\n\t/**\n\t * Extends the language pack object with new items.\n\t *\n\t * @method addI18n\n\t * @static\n\t * @param {Object} pack Language pack items to add.\n\t * @return {Object} Extended language pack object.\n\t */\n\taddI18n : o.addI18n,\n\n\t/**\n\t * Translates the specified string by checking for the english string in the language pack lookup.\n\t *\n\t * @method translate\n\t * @static\n\t * @param {String} str String to look for.\n\t * @return {String} Translated string or the input string if it wasn't found.\n\t */\n\ttranslate : o.translate,\n\n\t/**\n\t * Checks if object is empty.\n\t *\n\t * @method isEmptyObj\n\t * @static\n\t * @param {Object} obj Object to check.\n\t * @return {Boolean}\n\t */\n\tisEmptyObj : o.isEmptyObj,\n\n\t/**\n\t * Checks if specified DOM element has specified class.\n\t *\n\t * @method hasClass\n\t * @static\n\t * @param {Object} obj DOM element like object to add handler to.\n\t * @param {String} name Class name\n\t */\n\thasClass : o.hasClass,\n\n\t/**\n\t * Adds specified className to specified DOM element.\n\t *\n\t * @method addClass\n\t * @static\n\t * @param {Object} obj DOM element like object to add handler to.\n\t * @param {String} name Class name\n\t */\n\taddClass : o.addClass,\n\n\t/**\n\t * Removes specified className from specified DOM element.\n\t *\n\t * @method removeClass\n\t * @static\n\t * @param {Object} obj DOM element like object to add handler to.\n\t * @param {String} name Class name\n\t */\n\tremoveClass : o.removeClass,\n\n\t/**\n\t * Returns a given computed style of a DOM element.\n\t *\n\t * @method getStyle\n\t * @static\n\t * @param {Object} obj DOM element like object.\n\t * @param {String} name Style you want to get from the DOM element\n\t */\n\tgetStyle : o.getStyle,\n\n\t/**\n\t * Adds an event handler to the specified object and store reference to the handler\n\t * in objects internal Plupload registry (@see removeEvent).\n\t *\n\t * @method addEvent\n\t * @static\n\t * @param {Object} obj DOM element like object to add handler to.\n\t * @param {String} name Name to add event listener to.\n\t * @param {Function} callback Function to call when event occurs.\n\t * @param {String} (optional) key that might be used to add specifity to the event record.\n\t */\n\taddEvent : o.addEvent,\n\n\t/**\n\t * Remove event handler from the specified object. If third argument (callback)\n\t * is not specified remove all events with the specified name.\n\t *\n\t * @method removeEvent\n\t * @static\n\t * @param {Object} obj DOM element to remove event listener(s) from.\n\t * @param {String} name Name of event listener to remove.\n\t * @param {Function|String} (optional) might be a callback or unique key to match.\n\t */\n\tremoveEvent: o.removeEvent,\n\n\t/**\n\t * Remove all kind of events from the specified object\n\t *\n\t * @method removeAllEvents\n\t * @static\n\t * @param {Object} obj DOM element to remove event listeners from.\n\t * @param {String} (optional) unique key to match, when removing events.\n\t */\n\tremoveAllEvents: o.removeAllEvents,\n\n\t/**\n\t * Cleans the specified name from national characters (diacritics). The result will be a name with only a-z, 0-9 and _.\n\t *\n\t * @method cleanName\n\t * @static\n\t * @param {String} s String to clean up.\n\t * @return {String} Cleaned string.\n\t */\n\tcleanName : function(name) {\n\t\tvar i, lookup;\n\n\t\t// Replace diacritics\n\t\tlookup = [\n\t\t\t/[\\300-\\306]/g, 'A', /[\\340-\\346]/g, 'a',\n\t\t\t/\\307/g, 'C', /\\347/g, 'c',\n\t\t\t/[\\310-\\313]/g, 'E', /[\\350-\\353]/g, 'e',\n\t\t\t/[\\314-\\317]/g, 'I', /[\\354-\\357]/g, 'i',\n\t\t\t/\\321/g, 'N', /\\361/g, 'n',\n\t\t\t/[\\322-\\330]/g, 'O', /[\\362-\\370]/g, 'o',\n\t\t\t/[\\331-\\334]/g, 'U', /[\\371-\\374]/g, 'u'\n\t\t];\n\n\t\tfor (i = 0; i < lookup.length; i += 2) {\n\t\t\tname = name.replace(lookup[i], lookup[i + 1]);\n\t\t}\n\n\t\t// Replace whitespace\n\t\tname = name.replace(/\\s+/g, '_');\n\n\t\t// Remove anything else\n\t\tname = name.replace(/[^a-z0-9_\\-\\.]+/gi, '');\n\n\t\treturn name;\n\t},\n\n\t/**\n\t * Builds a full url out of a base URL and an object with items to append as query string items.\n\t *\n\t * @method buildUrl\n\t * @static\n\t * @param {String} url Base URL to append query string items to.\n\t * @param {Object} items Name/value object to serialize as a querystring.\n\t * @return {String} String with url + serialized query string items.\n\t */\n\tbuildUrl : function(url, items) {\n\t\tvar query = '';\n\n\t\tplupload.each(items, function(value, name) {\n\t\t\tquery += (query ? '&' : '') + encodeURIComponent(name) + '=' + encodeURIComponent(value);\n\t\t});\n\n\t\tif (query) {\n\t\t\turl += (url.indexOf('?') > 0 ? '&' : '?') + query;\n\t\t}\n\n\t\treturn url;\n\t},\n\n\t/**\n\t * Formats the specified number as a size string for example 1024 becomes 1 KB.\n\t *\n\t * @method formatSize\n\t * @static\n\t * @param {Number} size Size to format as string.\n\t * @return {String} Formatted size string.\n\t */\n\tformatSize : function(size) {\n\n\t\tif (size === undef || /\\D/.test(size)) {\n\t\t\treturn plupload.translate('N/A');\n\t\t}\n\n\t\tfunction round(num, precision) {\n\t\t\treturn Math.round(num * Math.pow(10, precision)) / Math.pow(10, precision);\n\t\t}\n\n\t\tvar boundary = Math.pow(1024, 4);\n\n\t\t// TB\n\t\tif (size > boundary) {\n\t\t\treturn round(size / boundary, 1) + \" \" + plupload.translate('tb');\n\t\t}\n\n\t\t// GB\n\t\tif (size > (boundary/=1024)) {\n\t\t\treturn round(size / boundary, 1) + \" \" + plupload.translate('gb');\n\t\t}\n\n\t\t// MB\n\t\tif (size > (boundary/=1024)) {\n\t\t\treturn round(size / boundary, 1) + \" \" + plupload.translate('mb');\n\t\t}\n\n\t\t// KB\n\t\tif (size > 1024) {\n\t\t\treturn Math.round(size / 1024) + \" \" + plupload.translate('kb');\n\t\t}\n\n\t\treturn size + \" \" + plupload.translate('b');\n\t},\n\n\n\t/**\n\t * Parses the specified size string into a byte value. For example 10kb becomes 10240.\n\t *\n\t * @method parseSize\n\t * @static\n\t * @param {String|Number} size String to parse or number to just pass through.\n\t * @return {Number} Size in bytes.\n\t */\n\tparseSize : o.parseSizeStr,\n\n\n\t/**\n\t * A way to predict what runtime will be choosen in the current environment with the\n\t * specified settings.\n\t *\n\t * @method predictRuntime\n\t * @static\n\t * @param {Object|String} config Plupload settings to check\n\t * @param {String} [runtimes] Comma-separated list of runtimes to check against\n\t * @return {String} Type of compatible runtime\n\t */\n\tpredictRuntime : function(config, runtimes) {\n\t\tvar up, runtime;\n\n\t\tup = new plupload.Uploader(config);\n\t\truntime = o.Runtime.thatCan(up.getOption().required_features, runtimes || config.runtimes);\n\t\tup.destroy();\n\t\treturn runtime;\n\t},\n\n\t/**\n\t * Registers a filter that will be executed for each file added to the queue.\n\t * If callback returns false, file will not be added.\n\t *\n\t * Callback receives two arguments: a value for the filter as it was specified in settings.filters\n\t * and a file to be filtered. Callback is executed in the context of uploader instance.\n\t *\n\t * @method addFileFilter\n\t * @static\n\t * @param {String} name Name of the filter by which it can be referenced in settings.filters\n\t * @param {String} cb Callback - the actual routine that every added file must pass\n\t */\n\taddFileFilter: function(name, cb) {\n\t\tfileFilters[name] = cb;\n\t}\n};\n\n\nplupload.addFileFilter('mime_types', function(filters, file, cb) {\n\tif (filters.length && !filters.regexp.test(file.name)) {\n\t\tthis.trigger('Error', {\n\t\t\tcode : plupload.FILE_EXTENSION_ERROR,\n\t\t\tmessage : plupload.translate('File extension error.'),\n\t\t\tfile : file\n\t\t});\n\t\tcb(false);\n\t} else {\n\t\tcb(true);\n\t}\n});\n\n\nplupload.addFileFilter('max_file_size', function(maxSize, file, cb) {\n\tvar undef;\n\n\tmaxSize = plupload.parseSize(maxSize);\n\n\t// Invalid file size\n\tif (file.size !== undef && maxSize && file.size > maxSize) {\n\t\tthis.trigger('Error', {\n\t\t\tcode : plupload.FILE_SIZE_ERROR,\n\t\t\tmessage : plupload.translate('File size error.'),\n\t\t\tfile : file\n\t\t});\n\t\tcb(false);\n\t} else {\n\t\tcb(true);\n\t}\n});\n\n\nplupload.addFileFilter('prevent_duplicates', function(value, file, cb) {\n\tif (value) {\n\t\tvar ii = this.files.length;\n\t\twhile (ii--) {\n\t\t\t// Compare by name and size (size might be 0 or undefined, but still equivalent for both)\n\t\t\tif (file.name === this.files[ii].name && file.size === this.files[ii].size) {\n\t\t\t\tthis.trigger('Error', {\n\t\t\t\t\tcode : plupload.FILE_DUPLICATE_ERROR,\n\t\t\t\t\tmessage : plupload.translate('Duplicate file error.'),\n\t\t\t\t\tfile : file\n\t\t\t\t});\n\t\t\t\tcb(false);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\tcb(true);\n});\n\n\n/**\n@class Uploader\n@constructor\n\n@param {Object} settings For detailed information about each option check documentation.\n\t@param {String|DOMElement} settings.browse_button id of the DOM element or DOM element itself to use as file dialog trigger.\n\t@param {String} settings.url URL of the server-side upload handler.\n\t@param {Number|String} [settings.chunk_size=0] Chunk size in bytes to slice the file into. Shorcuts with b, kb, mb, gb, tb suffixes also supported. `e.g. 204800 or \"204800b\" or \"200kb\"`. By default - disabled.\n\t@param {Boolean} [settings.send_chunk_number=true] Whether to send chunks and chunk numbers, or total and offset bytes.\n\t@param {String} [settings.container] id of the DOM element to use as a container for uploader structures. Defaults to document.body.\n\t@param {String|DOMElement} [settings.drop_element] id of the DOM element or DOM element itself to use as a drop zone for Drag-n-Drop.\n\t@param {String} [settings.file_data_name=\"file\"] Name for the file field in Multipart formated message.\n\t@param {Object} [settings.filters={}] Set of file type filters.\n\t\t@param {Array} [settings.filters.mime_types=[]] List of file types to accept, each one defined by title and list of extensions. `e.g. {title : \"Image files\", extensions : \"jpg,jpeg,gif,png\"}`. Dispatches `plupload.FILE_EXTENSION_ERROR`\n\t\t@param {String|Number} [settings.filters.max_file_size=0] Maximum file size that the user can pick, in bytes. Optionally supports b, kb, mb, gb, tb suffixes. `e.g. \"10mb\" or \"1gb\"`. By default - not set. Dispatches `plupload.FILE_SIZE_ERROR`.\n\t\t@param {Boolean} [settings.filters.prevent_duplicates=false] Do not let duplicates into the queue. Dispatches `plupload.FILE_DUPLICATE_ERROR`.\n\t@param {String} [settings.flash_swf_url] URL of the Flash swf.\n\t@param {Object} [settings.headers] Custom headers to send with the upload. Hash of name/value pairs.\n\t@param {Number} [settings.max_retries=0] How many times to retry the chunk or file, before triggering Error event.\n\t@param {Boolean} [settings.multipart=true] Whether to send file and additional parameters as Multipart formated message.\n\t@param {Object} [settings.multipart_params] Hash of key/value pairs to send with every file upload.\n\t@param {Boolean} [settings.multi_selection=true] Enable ability to select multiple files at once in file dialog.\n\t@param {String|Object} [settings.required_features] Either comma-separated list or hash of required features that chosen runtime should absolutely possess.\n\t@param {Object} [settings.resize] Enable resizng of images on client-side. Applies to `image/jpeg` and `image/png` only. `e.g. {width : 200, height : 200, quality : 90, crop: true}`\n\t\t@param {Number} [settings.resize.width] If image is bigger, it will be resized.\n\t\t@param {Number} [settings.resize.height] If image is bigger, it will be resized.\n\t\t@param {Number} [settings.resize.quality=90] Compression quality for jpegs (1-100).\n\t\t@param {Boolean} [settings.resize.crop=false] Whether to crop images to exact dimensions. By default they will be resized proportionally.\n\t@param {String} [settings.runtimes=\"html5,flash,silverlight,html4\"] Comma separated list of runtimes, that Plupload will try in turn, moving to the next if previous fails.\n\t@param {String} [settings.silverlight_xap_url] URL of the Silverlight xap.\n\t@param {Boolean} [settings.unique_names=false] If true will generate unique filenames for uploaded files.\n\t@param {Boolean} [settings.send_file_name=true] Whether to send file name as additional argument - 'name' (required for chunked uploads and some other cases where file name cannot be sent via normal ways).\n*/\nplupload.Uploader = function(options) {\n\t/**\n\t * Fires when the current RunTime has been initialized.\n\t *\n\t * @event Init\n\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t */\n\n\t/**\n\t * Fires after the init event incase you need to perform actions there.\n\t *\n\t * @event PostInit\n\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t */\n\n\t/**\n\t * Fires when the option is changed in via uploader.setOption().\n\t *\n\t * @event OptionChanged\n\t * @since 2.1\n\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t * @param {String} name Name of the option that was changed\n\t * @param {Mixed} value New value for the specified option\n\t * @param {Mixed} oldValue Previous value of the option\n\t */\n\n\t/**\n\t * Fires when the silverlight/flash or other shim needs to move.\n\t *\n\t * @event Refresh\n\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t */\n\n\t/**\n\t * Fires when the overall state is being changed for the upload queue.\n\t *\n\t * @event StateChanged\n\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t */\n\n\t/**\n\t * Fires when browse_button is clicked and browse dialog shows.\n\t *\n\t * @event Browse\n\t * @since 2.1.2\n\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t */\t\n\n\t/**\n\t * Fires for every filtered file before it is added to the queue.\n\t * \n\t * @event FileFiltered\n\t * @since 2.1\n\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t * @param {plupload.File} file Another file that has to be added to the queue.\n\t */\n\n\t/**\n\t * Fires when the file queue is changed. In other words when files are added/removed to the files array of the uploader instance.\n\t *\n\t * @event QueueChanged\n\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t */ \n\n\t/**\n\t * Fires after files were filtered and added to the queue.\n\t *\n\t * @event FilesAdded\n\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t * @param {Array} files Array of file objects that were added to queue by the user.\n\t */\n\n\t/**\n\t * Fires when file is removed from the queue.\n\t *\n\t * @event FilesRemoved\n\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t * @param {Array} files Array of files that got removed.\n\t */\n\n\t/**\n\t * Fires when just before a file is uploaded. This event enables you to override settings\n\t * on the uploader instance before the file is uploaded.\n\t *\n\t * @event BeforeUpload\n\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t * @param {plupload.File} file File to be uploaded.\n\t */\n\n\t/**\n\t * Fires when a file is to be uploaded by the runtime.\n\t *\n\t * @event UploadFile\n\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t * @param {plupload.File} file File to be uploaded.\n\t */\n\n\t/**\n\t * Fires while a file is being uploaded. Use this event to update the current file upload progress.\n\t *\n\t * @event UploadProgress\n\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t * @param {plupload.File} file File that is currently being uploaded.\n\t */\t\n\n\t/**\n\t * Fires when file chunk is uploaded.\n\t *\n\t * @event ChunkUploaded\n\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t * @param {plupload.File} file File that the chunk was uploaded for.\n\t * @param {Object} response Object with response properties.\n\t */\n\n\t/**\n\t * Fires when a file is successfully uploaded.\n\t *\n\t * @event FileUploaded\n\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t * @param {plupload.File} file File that was uploaded.\n\t * @param {Object} response Object with response properties.\n\t */\n\n\t/**\n\t * Fires when all files in a queue are uploaded.\n\t *\n\t * @event UploadComplete\n\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t * @param {Array} files Array of file objects that was added to queue/selected by the user.\n\t */\n\n\t/**\n\t * Fires when a error occurs.\n\t *\n\t * @event Error\n\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t * @param {Object} error Contains code, message and sometimes file and other details.\n\t */\n\n\t/**\n\t * Fires when destroy method is called.\n\t *\n\t * @event Destroy\n\t * @param {plupload.Uploader} uploader Uploader instance sending the event.\n\t */\n\tvar uid = plupload.guid()\n\t, settings\n\t, files = []\n\t, preferred_caps = {}\n\t, fileInputs = []\n\t, fileDrops = []\n\t, startTime\n\t, total\n\t, disabled = false\n\t, xhr\n\t;\n\n\n\t// Private methods\n\tfunction uploadNext() {\n\t\tvar file, count = 0, i;\n\n\t\tif (this.state == plupload.STARTED) {\n\t\t\t// Find first QUEUED file\n\t\t\tfor (i = 0; i < files.length; i++) {\n\t\t\t\tif (!file && files[i].status == plupload.QUEUED) {\n\t\t\t\t\tfile = files[i];\n\t\t\t\t\tif (this.trigger(\"BeforeUpload\", file)) {\n\t\t\t\t\t\tfile.status = plupload.UPLOADING;\n\t\t\t\t\t\tthis.trigger(\"UploadFile\", file);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// All files are DONE or FAILED\n\t\t\tif (count == files.length) {\n\t\t\t\tif (this.state !== plupload.STOPPED) {\n\t\t\t\t\tthis.state = plupload.STOPPED;\n\t\t\t\t\tthis.trigger(\"StateChanged\");\n\t\t\t\t}\n\t\t\t\tthis.trigger(\"UploadComplete\", files);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction calcFile(file) {\n\t\tfile.percent = file.size > 0 ? Math.ceil(file.loaded / file.size * 100) : 100;\n\t\tcalc();\n\t}\n\n\n\tfunction calc() {\n\t\tvar i, file;\n\n\t\t// Reset stats\n\t\ttotal.reset();\n\n\t\t// Check status, size, loaded etc on all files\n\t\tfor (i = 0; i < files.length; i++) {\n\t\t\tfile = files[i];\n\n\t\t\tif (file.size !== undef) {\n\t\t\t\t// We calculate totals based on original file size\n\t\t\t\ttotal.size += file.origSize;\n\n\t\t\t\t// Since we cannot predict file size after resize, we do opposite and\n\t\t\t\t// interpolate loaded amount to match magnitude of total\n\t\t\t\ttotal.loaded += file.loaded * file.origSize / file.size;\n\t\t\t} else {\n\t\t\t\ttotal.size = undef;\n\t\t\t}\n\n\t\t\tif (file.status == plupload.DONE) {\n\t\t\t\ttotal.uploaded++;\n\t\t\t} else if (file.status == plupload.FAILED) {\n\t\t\t\ttotal.failed++;\n\t\t\t} else {\n\t\t\t\ttotal.queued++;\n\t\t\t}\n\t\t}\n\n\t\t// If we couldn't calculate a total file size then use the number of files to calc percent\n\t\tif (total.size === undef) {\n\t\t\ttotal.percent = files.length > 0 ? Math.ceil(total.uploaded / files.length * 100) : 0;\n\t\t} else {\n\t\t\ttotal.bytesPerSec = Math.ceil(total.loaded / ((+new Date() - startTime || 1) / 1000.0));\n\t\t\ttotal.percent = total.size > 0 ? Math.ceil(total.loaded / total.size * 100) : 0;\n\t\t}\n\t}\n\n\n\tfunction getRUID() {\n\t\tvar ctrl = fileInputs[0] || fileDrops[0];\n\t\tif (ctrl) {\n\t\t\treturn ctrl.getRuntime().uid;\n\t\t}\n\t\treturn false;\n\t}\n\n\n\tfunction runtimeCan(file, cap) {\n\t\tif (file.ruid) {\n\t\t\tvar info = o.Runtime.getInfo(file.ruid);\n\t\t\tif (info) {\n\t\t\t\treturn info.can(cap);\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\n\tfunction bindEventListeners() {\n\t\tthis.bind('FilesAdded FilesRemoved', function(up) {\n\t\t\tup.trigger('QueueChanged');\n\t\t\tup.refresh();\n\t\t});\n\n\t\tthis.bind('CancelUpload', onCancelUpload);\n\t\t\n\t\tthis.bind('BeforeUpload', onBeforeUpload);\n\n\t\tthis.bind('UploadFile', onUploadFile);\n\n\t\tthis.bind('UploadProgress', onUploadProgress);\n\n\t\tthis.bind('StateChanged', onStateChanged);\n\n\t\tthis.bind('QueueChanged', calc);\n\n\t\tthis.bind('Error', onError);\n\n\t\tthis.bind('FileUploaded', onFileUploaded);\n\n\t\tthis.bind('Destroy', onDestroy);\n\t}\n\n\n\tfunction initControls(settings, cb) {\n\t\tvar self = this, inited = 0, queue = [];\n\n\t\t// common settings\n\t\tvar options = {\n\t\t\truntime_order: settings.runtimes,\n\t\t\trequired_caps: settings.required_features,\n\t\t\tpreferred_caps: preferred_caps,\n\t\t\tswf_url: settings.flash_swf_url,\n\t\t\txap_url: settings.silverlight_xap_url\n\t\t};\n\n\t\t// add runtime specific options if any\n\t\tplupload.each(settings.runtimes.split(/\\s*,\\s*/), function(runtime) {\n\t\t\tif (settings[runtime]) {\n\t\t\t\toptions[runtime] = settings[runtime];\n\t\t\t}\n\t\t});\n\n\t\t// initialize file pickers - there can be many\n\t\tif (settings.browse_button) {\n\t\t\tplupload.each(settings.browse_button, function(el) {\n\t\t\t\tqueue.push(function(cb) {\n\t\t\t\t\tvar fileInput = new o.FileInput(plupload.extend({}, options, {\n\t\t\t\t\t\taccept: settings.filters.mime_types,\n\t\t\t\t\t\tname: settings.file_data_name,\n\t\t\t\t\t\tmultiple: settings.multi_selection,\n\t\t\t\t\t\tcontainer: settings.container,\n\t\t\t\t\t\tbrowse_button: el\n\t\t\t\t\t}));\n\n\t\t\t\t\tfileInput.onready = function() {\n\t\t\t\t\t\tvar info = o.Runtime.getInfo(this.ruid);\n\n\t\t\t\t\t\t// for backward compatibility\n\t\t\t\t\t\to.extend(self.features, {\n\t\t\t\t\t\t\tchunks: info.can('slice_blob'),\n\t\t\t\t\t\t\tmultipart: info.can('send_multipart'),\n\t\t\t\t\t\t\tmulti_selection: info.can('select_multiple')\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tinited++;\n\t\t\t\t\t\tfileInputs.push(this);\n\t\t\t\t\t\tcb();\n\t\t\t\t\t};\n\n\t\t\t\t\tfileInput.onchange = function() {\n\t\t\t\t\t\tself.addFile(this.files);\n\t\t\t\t\t};\n\n\t\t\t\t\tfileInput.bind('mouseenter mouseleave mousedown mouseup', function(e) {\n\t\t\t\t\t\tif (!disabled) {\n\t\t\t\t\t\t\tif (settings.browse_button_hover) {\n\t\t\t\t\t\t\t\tif ('mouseenter' === e.type) {\n\t\t\t\t\t\t\t\t\to.addClass(el, settings.browse_button_hover);\n\t\t\t\t\t\t\t\t} else if ('mouseleave' === e.type) {\n\t\t\t\t\t\t\t\t\to.removeClass(el, settings.browse_button_hover);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (settings.browse_button_active) {\n\t\t\t\t\t\t\t\tif ('mousedown' === e.type) {\n\t\t\t\t\t\t\t\t\to.addClass(el, settings.browse_button_active);\n\t\t\t\t\t\t\t\t} else if ('mouseup' === e.type) {\n\t\t\t\t\t\t\t\t\to.removeClass(el, settings.browse_button_active);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tfileInput.bind('mousedown', function() {\n\t\t\t\t\t\tself.trigger('Browse');\n\t\t\t\t\t});\n\n\t\t\t\t\tfileInput.bind('error runtimeerror', function() {\n\t\t\t\t\t\tfileInput = null;\n\t\t\t\t\t\tcb();\n\t\t\t\t\t});\n\n\t\t\t\t\tfileInput.init();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// initialize drop zones\n\t\tif (settings.drop_element) {\n\t\t\tplupload.each(settings.drop_element, function(el) {\n\t\t\t\tqueue.push(function(cb) {\n\t\t\t\t\tvar fileDrop = new o.FileDrop(plupload.extend({}, options, {\n\t\t\t\t\t\tdrop_zone: el\n\t\t\t\t\t}));\n\n\t\t\t\t\tfileDrop.onready = function() {\n\t\t\t\t\t\tvar info = o.Runtime.getInfo(this.ruid);\n\n\t\t\t\t\t\tself.features.dragdrop = info.can('drag_and_drop'); // for backward compatibility\n\n\t\t\t\t\t\tinited++;\n\t\t\t\t\t\tfileDrops.push(this);\n\t\t\t\t\t\tcb();\n\t\t\t\t\t};\n\n\t\t\t\t\tfileDrop.ondrop = function() {\n\t\t\t\t\t\tself.addFile(this.files);\n\t\t\t\t\t};\n\n\t\t\t\t\tfileDrop.bind('error runtimeerror', function() {\n\t\t\t\t\t\tfileDrop = null;\n\t\t\t\t\t\tcb();\n\t\t\t\t\t});\n\n\t\t\t\t\tfileDrop.init();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\n\t\to.inSeries(queue, function() {\n\t\t\tif (typeof(cb) === 'function') {\n\t\t\t\tcb(inited);\n\t\t\t}\n\t\t});\n\t}\n\n\n\tfunction resizeImage(blob, params, cb) {\n\t\tvar img = new o.Image();\n\n\t\ttry {\n\t\t\timg.onload = function() {\n\t\t\t\t// no manipulation required if...\n\t\t\t\tif (params.width > this.width &&\n\t\t\t\t\tparams.height > this.height &&\n\t\t\t\t\tparams.quality === undef &&\n\t\t\t\t\tparams.preserve_headers &&\n\t\t\t\t\t!params.crop\n\t\t\t\t) {\n\t\t\t\t\tthis.destroy();\n\t\t\t\t\treturn cb(blob);\n\t\t\t\t}\n\t\t\t\t// otherwise downsize\n\t\t\t\timg.downsize(params.width, params.height, params.crop, params.preserve_headers);\n\t\t\t};\n\n\t\t\timg.onresize = function() {\n\t\t\t\tcb(this.getAsBlob(blob.type, params.quality));\n\t\t\t\tthis.destroy();\n\t\t\t};\n\n\t\t\timg.onerror = function() {\n\t\t\t\tcb(blob);\n\t\t\t};\n\n\t\t\timg.load(blob);\n\t\t} catch(ex) {\n\t\t\tcb(blob);\n\t\t}\n\t}\n\n\n\tfunction setOption(option, value, init) {\n\t\tvar self = this, reinitRequired = false;\n\n\t\tfunction _setOption(option, value, init) {\n\t\t\tvar oldValue = settings[option];\n\n\t\t\tswitch (option) {\n\t\t\t\tcase 'max_file_size':\n\t\t\t\t\tif (option === 'max_file_size') {\n\t\t\t\t\t\tsettings.max_file_size = settings.filters.max_file_size = value;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'chunk_size':\n\t\t\t\t\tif (value = plupload.parseSize(value)) {\n\t\t\t\t\t\tsettings[option] = value;\n\t\t\t\t\t\tsettings.send_file_name = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'multipart':\n\t\t\t\t\tsettings[option] = value;\n\t\t\t\t\tif (!value) {\n\t\t\t\t\t\tsettings.send_file_name = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'unique_names':\n\t\t\t\t\tsettings[option] = value;\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\tsettings.send_file_name = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'filters':\n\t\t\t\t\t// for sake of backward compatibility\n\t\t\t\t\tif (plupload.typeOf(value) === 'array') {\n\t\t\t\t\t\tvalue = {\n\t\t\t\t\t\t\tmime_types: value\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (init) {\n\t\t\t\t\t\tplupload.extend(settings.filters, value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsettings.filters = value;\n\t\t\t\t\t}\n\n\t\t\t\t\t// if file format filters are being updated, regenerate the matching expressions\n\t\t\t\t\tif (value.mime_types) {\n\t\t\t\t\t\tsettings.filters.mime_types.regexp = (function(filters) {\n\t\t\t\t\t\t\tvar extensionsRegExp = [];\n\n\t\t\t\t\t\t\tplupload.each(filters, function(filter) {\n\t\t\t\t\t\t\t\tplupload.each(filter.extensions.split(/,/), function(ext) {\n\t\t\t\t\t\t\t\t\tif (/^\\s*\\*\\s*$/.test(ext)) {\n\t\t\t\t\t\t\t\t\t\textensionsRegExp.push('\\\\.*');\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\textensionsRegExp.push('\\\\.' + ext.replace(new RegExp('[' + ('/^$.*+?|()[]{}\\\\'.replace(/./g, '\\\\$&')) + ']', 'g'), '\\\\$&'));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\treturn new RegExp('(' + extensionsRegExp.join('|') + ')$', 'i');\n\t\t\t\t\t\t}(settings.filters.mime_types));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tcase 'resize':\n\t\t\t\t\tif (init) {\n\t\t\t\t\t\tplupload.extend(settings.resize, value, {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsettings.resize = value;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'prevent_duplicates':\n\t\t\t\t\tsettings.prevent_duplicates = settings.filters.prevent_duplicates = !!value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'browse_button':\n\t\t\t\tcase 'drop_element':\n\t\t\t\t\t\tvalue = plupload.get(value);\n\n\t\t\t\tcase 'container':\n\t\t\t\tcase 'runtimes':\n\t\t\t\tcase 'multi_selection':\n\t\t\t\tcase 'flash_swf_url':\n\t\t\t\tcase 'silverlight_xap_url':\n\t\t\t\t\tsettings[option] = value;\n\t\t\t\t\tif (!init) {\n\t\t\t\t\t\treinitRequired = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tsettings[option] = value;\n\t\t\t}\n\n\t\t\tif (!init) {\n\t\t\t\tself.trigger('OptionChanged', option, value, oldValue);\n\t\t\t}\n\t\t}\n\n\t\tif (typeof(option) === 'object') {\n\t\t\tplupload.each(option, function(value, option) {\n\t\t\t\t_setOption(option, value, init);\n\t\t\t});\n\t\t} else {\n\t\t\t_setOption(option, value, init);\n\t\t}\n\n\t\tif (init) {\n\t\t\t// Normalize the list of required capabilities\n\t\t\tsettings.required_features = normalizeCaps(plupload.extend({}, settings));\n\n\t\t\t// Come up with the list of capabilities that can affect default mode in a multi-mode runtimes\n\t\t\tpreferred_caps = normalizeCaps(plupload.extend({}, settings, {\n\t\t\t\trequired_features: true\n\t\t\t}));\n\t\t} else if (reinitRequired) {\n\t\t\tself.trigger('Destroy');\n\t\t\t\n\t\t\tinitControls.call(self, settings, function(inited) {\n\t\t\t\tif (inited) {\n\t\t\t\t\tself.runtime = o.Runtime.getInfo(getRUID()).type;\n\t\t\t\t\tself.trigger('Init', { runtime: self.runtime });\n\t\t\t\t\tself.trigger('PostInit');\n\t\t\t\t} else {\n\t\t\t\t\tself.trigger('Error', {\n\t\t\t\t\t\tcode : plupload.INIT_ERROR,\n\t\t\t\t\t\tmessage : plupload.translate('Init error.')\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\n\t// Internal event handlers\n\tfunction onBeforeUpload(up, file) {\n\t\t// Generate unique target filenames\n\t\tif (up.settings.unique_names) {\n\t\t\tvar matches = file.name.match(/\\.([^.]+)$/), ext = \"part\";\n\t\t\tif (matches) {\n\t\t\t\text = matches[1];\n\t\t\t}\n\t\t\tfile.target_name = file.id + '.' + ext;\n\t\t}\n\t}\n\n\n\tfunction onUploadFile(up, file) {\n\t\tvar url = up.settings.url\n\t\t, chunkSize = up.settings.chunk_size\n\t\t, retries = up.settings.max_retries\n\t\t, features = up.features\n\t\t, offset = 0\n\t\t, blob\n\t\t;\n\n\t\t// make sure we start at a predictable offset\n\t\tif (file.loaded) {\n\t\t\toffset = file.loaded = chunkSize ? chunkSize * Math.floor(file.loaded / chunkSize) : 0;\n\t\t}\n\n\t\tfunction handleError() {\n\t\t\tif (retries-- > 0) {\n\t\t\t\tdelay(uploadNextChunk, 1000);\n\t\t\t} else {\n\t\t\t\tfile.loaded = offset; // reset all progress\n\n\t\t\t\tup.trigger('Error', {\n\t\t\t\t\tcode : plupload.HTTP_ERROR,\n\t\t\t\t\tmessage : plupload.translate('HTTP Error.'),\n\t\t\t\t\tfile : file,\n\t\t\t\t\tresponse : xhr.responseText,\n\t\t\t\t\tstatus : xhr.status,\n\t\t\t\t\tresponseHeaders: xhr.getAllResponseHeaders()\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tfunction uploadNextChunk() {\n\t\t\tvar chunkBlob, formData, args = {}, curChunkSize;\n\n\t\t\t// make sure that file wasn't cancelled and upload is not stopped in general\n\t\t\tif (file.status !== plupload.UPLOADING || up.state === plupload.STOPPED) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// send additional 'name' parameter only if required\n\t\t\tif (up.settings.send_file_name) {\n\t\t\t\targs.name = file.target_name || file.name;\n\t\t\t}\n\n\t\t\tif (chunkSize && features.chunks && blob.size > chunkSize) { // blob will be of type string if it was loaded in memory \n\t\t\t\tcurChunkSize = Math.min(chunkSize, blob.size - offset);\n\t\t\t\tchunkBlob = blob.slice(offset, offset + curChunkSize);\n\t\t\t} else {\n\t\t\t\tcurChunkSize = blob.size;\n\t\t\t\tchunkBlob = blob;\n\t\t\t}\n\n\t\t\t// If chunking is enabled add corresponding args, no matter if file is bigger than chunk or smaller\n\t\t\tif (chunkSize && features.chunks) {\n\t\t\t\t// Setup query string arguments\n\t\t\t\tif (up.settings.send_chunk_number) {\n\t\t\t\t\targs.chunk = Math.ceil(offset / chunkSize);\n\t\t\t\t\targs.chunks = Math.ceil(blob.size / chunkSize);\n\t\t\t\t} else { // keep support for experimental chunk format, just in case\n\t\t\t\t\targs.offset = offset;\n\t\t\t\t\targs.total = blob.size;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\txhr = new o.XMLHttpRequest();\n\n\t\t\t// Do we have upload progress support\n\t\t\tif (xhr.upload) {\n\t\t\t\txhr.upload.onprogress = function(e) {\n\t\t\t\t\tfile.loaded = Math.min(file.size, offset + e.loaded);\n\t\t\t\t\tup.trigger('UploadProgress', file);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\txhr.onload = function() {\n\t\t\t\t// check if upload made itself through\n\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\thandleError();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tretries = up.settings.max_retries; // reset the counter\n\n\t\t\t\t// Handle chunk response\n\t\t\t\tif (curChunkSize < blob.size) {\n\t\t\t\t\tchunkBlob.destroy();\n\n\t\t\t\t\toffset += curChunkSize;\n\t\t\t\t\tfile.loaded = Math.min(offset, blob.size);\n\n\t\t\t\t\tup.trigger('ChunkUploaded', file, {\n\t\t\t\t\t\toffset : file.loaded,\n\t\t\t\t\t\ttotal : blob.size,\n\t\t\t\t\t\tresponse : xhr.responseText,\n\t\t\t\t\t\tstatus : xhr.status,\n\t\t\t\t\t\tresponseHeaders: xhr.getAllResponseHeaders()\n\t\t\t\t\t});\n\n\t\t\t\t\t// stock Android browser doesn't fire upload progress events, but in chunking mode we can fake them\n\t\t\t\t\tif (o.Env.browser === 'Android Browser') {\n\t\t\t\t\t\t// doesn't harm in general, but is not required anywhere else\n\t\t\t\t\t\tup.trigger('UploadProgress', file);\n\t\t\t\t\t} \n\t\t\t\t} else {\n\t\t\t\t\tfile.loaded = file.size;\n\t\t\t\t}\n\n\t\t\t\tchunkBlob = formData = null; // Free memory\n\n\t\t\t\t// Check if file is uploaded\n\t\t\t\tif (!offset || offset >= blob.size) {\n\t\t\t\t\t// If file was modified, destory the copy\n\t\t\t\t\tif (file.size != file.origSize) {\n\t\t\t\t\t\tblob.destroy();\n\t\t\t\t\t\tblob = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tup.trigger('UploadProgress', file);\n\n\t\t\t\t\tfile.status = plupload.DONE;\n\n\t\t\t\t\tup.trigger('FileUploaded', file, {\n\t\t\t\t\t\tresponse : xhr.responseText,\n\t\t\t\t\t\tstatus : xhr.status,\n\t\t\t\t\t\tresponseHeaders: xhr.getAllResponseHeaders()\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// Still chunks left\n\t\t\t\t\tdelay(uploadNextChunk, 1); // run detached, otherwise event handlers interfere\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.onerror = function() {\n\t\t\t\thandleError();\n\t\t\t};\n\n\t\t\txhr.onloadend = function() {\n\t\t\t\tthis.destroy();\n\t\t\t\txhr = null;\n\t\t\t};\n\n\t\t\t// Build multipart request\n\t\t\tif (up.settings.multipart && features.multipart) {\n\t\t\t\txhr.open(\"post\", url, true);\n\n\t\t\t\t// Set custom headers\n\t\t\t\tplupload.each(up.settings.headers, function(value, name) {\n\t\t\t\t\txhr.setRequestHeader(name, value);\n\t\t\t\t});\n\n\t\t\t\tformData = new o.FormData();\n\n\t\t\t\t// Add multipart params\n\t\t\t\tplupload.each(plupload.extend(args, up.settings.multipart_params), function(value, name) {\n\t\t\t\t\tformData.append(name, value);\n\t\t\t\t});\n\n\t\t\t\t// Add file and send it\n\t\t\t\tformData.append(up.settings.file_data_name, chunkBlob);\n\t\t\t\txhr.send(formData, {\n\t\t\t\t\truntime_order: up.settings.runtimes,\n\t\t\t\t\trequired_caps: up.settings.required_features,\n\t\t\t\t\tpreferred_caps: preferred_caps,\n\t\t\t\t\tswf_url: up.settings.flash_swf_url,\n\t\t\t\t\txap_url: up.settings.silverlight_xap_url\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// if no multipart, send as binary stream\n\t\t\t\turl = plupload.buildUrl(up.settings.url, plupload.extend(args, up.settings.multipart_params));\n\n\t\t\t\txhr.open(\"post\", url, true);\n\n\t\t\t\txhr.setRequestHeader('Content-Type', 'application/octet-stream'); // Binary stream header\n\n\t\t\t\t// Set custom headers\n\t\t\t\tplupload.each(up.settings.headers, function(value, name) {\n\t\t\t\t\txhr.setRequestHeader(name, value);\n\t\t\t\t});\n\n\t\t\t\txhr.send(chunkBlob, {\n\t\t\t\t\truntime_order: up.settings.runtimes,\n\t\t\t\t\trequired_caps: up.settings.required_features,\n\t\t\t\t\tpreferred_caps: preferred_caps,\n\t\t\t\t\tswf_url: up.settings.flash_swf_url,\n\t\t\t\t\txap_url: up.settings.silverlight_xap_url\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tblob = file.getSource();\n\n\t\t// Start uploading chunks\n\t\tif (up.settings.resize.enabled && runtimeCan(blob, 'send_binary_string') && !!~o.inArray(blob.type, ['image/jpeg', 'image/png'])) {\n\t\t\t// Resize if required\n\t\t\tresizeImage.call(this, blob, up.settings.resize, function(resizedBlob) {\n\t\t\t\tblob = resizedBlob;\n\t\t\t\tfile.size = resizedBlob.size;\n\t\t\t\tuploadNextChunk();\n\t\t\t});\n\t\t} else {\n\t\t\tuploadNextChunk();\n\t\t}\n\t}\n\n\n\tfunction onUploadProgress(up, file) {\n\t\tcalcFile(file);\n\t}\n\n\n\tfunction onStateChanged(up) {\n\t\tif (up.state == plupload.STARTED) {\n\t\t\t// Get start time to calculate bps\n\t\t\tstartTime = (+new Date());\n\t\t} else if (up.state == plupload.STOPPED) {\n\t\t\t// Reset currently uploading files\n\t\t\tfor (var i = up.files.length - 1; i >= 0; i--) {\n\t\t\t\tif (up.files[i].status == plupload.UPLOADING) {\n\t\t\t\t\tup.files[i].status = plupload.QUEUED;\n\t\t\t\t\tcalc();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction onCancelUpload() {\n\t\tif (xhr) {\n\t\t\txhr.abort();\n\t\t}\n\t}\n\n\n\tfunction onFileUploaded(up) {\n\t\tcalc();\n\n\t\t// Upload next file but detach it from the error event\n\t\t// since other custom listeners might want to stop the queue\n\t\tdelay(function() {\n\t\t\tuploadNext.call(up);\n\t\t}, 1);\n\t}\n\n\n\tfunction onError(up, err) {\n\t\tif (err.code === plupload.INIT_ERROR) {\n\t\t\tup.destroy();\n\t\t}\n\t\t// Set failed status if an error occured on a file\n\t\telse if (err.file) {\n\t\t\terr.file.status = plupload.FAILED;\n\t\t\tcalcFile(err.file);\n\n\t\t\t// Upload next file but detach it from the error event\n\t\t\t// since other custom listeners might want to stop the queue\n\t\t\tif (up.state == plupload.STARTED) { // upload in progress\n\t\t\t\tup.trigger('CancelUpload');\n\t\t\t\tdelay(function() {\n\t\t\t\t\tuploadNext.call(up);\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction onDestroy(up) {\n\t\tup.stop();\n\n\t\t// Purge the queue\n\t\tplupload.each(files, function(file) {\n\t\t\tfile.destroy();\n\t\t});\n\t\tfiles = [];\n\n\t\tif (fileInputs.length) {\n\t\t\tplupload.each(fileInputs, function(fileInput) {\n\t\t\t\tfileInput.destroy();\n\t\t\t});\n\t\t\tfileInputs = [];\n\t\t}\n\n\t\tif (fileDrops.length) {\n\t\t\tplupload.each(fileDrops, function(fileDrop) {\n\t\t\t\tfileDrop.destroy();\n\t\t\t});\n\t\t\tfileDrops = [];\n\t\t}\n\n\t\tpreferred_caps = {};\n\t\tdisabled = false;\n\t\tstartTime = xhr = null;\n\t\ttotal.reset();\n\t}\n\n\n\t// Default settings\n\tsettings = {\n\t\truntimes: o.Runtime.order,\n\t\tmax_retries: 0,\n\t\tchunk_size: 0,\n\t\tmultipart: true,\n\t\tmulti_selection: true,\n\t\tfile_data_name: 'file',\n\t\tflash_swf_url: 'js/Moxie.swf',\n\t\tsilverlight_xap_url: 'js/Moxie.xap',\n\t\tfilters: {\n\t\t\tmime_types: [],\n\t\t\tprevent_duplicates: false,\n\t\t\tmax_file_size: 0\n\t\t},\n\t\tresize: {\n\t\t\tenabled: false,\n\t\t\tpreserve_headers: true,\n\t\t\tcrop: false\n\t\t},\n\t\tsend_file_name: true,\n\t\tsend_chunk_number: true\n\t};\n\n\t\n\tsetOption.call(this, options, null, true);\n\n\t// Inital total state\n\ttotal = new plupload.QueueProgress(); \n\n\t// Add public methods\n\tplupload.extend(this, {\n\n\t\t/**\n\t\t * Unique id for the Uploader instance.\n\t\t *\n\t\t * @property id\n\t\t * @type String\n\t\t */\n\t\tid : uid,\n\t\tuid : uid, // mOxie uses this to differentiate between event targets\n\n\t\t/**\n\t\t * Current state of the total uploading progress. This one can either be plupload.STARTED or plupload.STOPPED.\n\t\t * These states are controlled by the stop/start methods. The default value is STOPPED.\n\t\t *\n\t\t * @property state\n\t\t * @type Number\n\t\t */\n\t\tstate : plupload.STOPPED,\n\n\t\t/**\n\t\t * Map of features that are available for the uploader runtime. Features will be filled\n\t\t * before the init event is called, these features can then be used to alter the UI for the end user.\n\t\t * Some of the current features that might be in this map is: dragdrop, chunks, jpgresize, pngresize.\n\t\t *\n\t\t * @property features\n\t\t * @type Object\n\t\t */\n\t\tfeatures : {},\n\n\t\t/**\n\t\t * Current runtime name.\n\t\t *\n\t\t * @property runtime\n\t\t * @type String\n\t\t */\n\t\truntime : null,\n\n\t\t/**\n\t\t * Current upload queue, an array of File instances.\n\t\t *\n\t\t * @property files\n\t\t * @type Array\n\t\t * @see plupload.File\n\t\t */\n\t\tfiles : files,\n\n\t\t/**\n\t\t * Object with name/value settings.\n\t\t *\n\t\t * @property settings\n\t\t * @type Object\n\t\t */\n\t\tsettings : settings,\n\n\t\t/**\n\t\t * Total progess information. How many files has been uploaded, total percent etc.\n\t\t *\n\t\t * @property total\n\t\t * @type plupload.QueueProgress\n\t\t */\n\t\ttotal : total,\n\n\n\t\t/**\n\t\t * Initializes the Uploader instance and adds internal event listeners.\n\t\t *\n\t\t * @method init\n\t\t */\n\t\tinit : function() {\n\t\t\tvar self = this;\n\n\t\t\tif (typeof(settings.preinit) == \"function\") {\n\t\t\t\tsettings.preinit(self);\n\t\t\t} else {\n\t\t\t\tplupload.each(settings.preinit, function(func, name) {\n\t\t\t\t\tself.bind(name, func);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tbindEventListeners.call(this);\n\n\t\t\t// Check for required options\n\t\t\tif (!settings.browse_button || !settings.url) {\n\t\t\t\tthis.trigger('Error', {\n\t\t\t\t\tcode : plupload.INIT_ERROR,\n\t\t\t\t\tmessage : plupload.translate('Init error.')\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tinitControls.call(this, settings, function(inited) {\n\t\t\t\tif (typeof(settings.init) == \"function\") {\n\t\t\t\t\tsettings.init(self);\n\t\t\t\t} else {\n\t\t\t\t\tplupload.each(settings.init, function(func, name) {\n\t\t\t\t\t\tself.bind(name, func);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (inited) {\n\t\t\t\t\tself.runtime = o.Runtime.getInfo(getRUID()).type;\n\t\t\t\t\tself.trigger('Init', { runtime: self.runtime });\n\t\t\t\t\tself.trigger('PostInit');\n\t\t\t\t} else {\n\t\t\t\t\tself.trigger('Error', {\n\t\t\t\t\t\tcode : plupload.INIT_ERROR,\n\t\t\t\t\t\tmessage : plupload.translate('Init error.')\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Set the value for the specified option(s).\n\t\t *\n\t\t * @method setOption\n\t\t * @since 2.1\n\t\t * @param {String|Object} option Name of the option to change or the set of key/value pairs\n\t\t * @param {Mixed} [value] Value for the option (is ignored, if first argument is object)\n\t\t */\n\t\tsetOption: function(option, value) {\n\t\t\tsetOption.call(this, option, value, !this.runtime); // until runtime not set we do not need to reinitialize\n\t\t},\n\n\t\t/**\n\t\t * Get the value for the specified option or the whole configuration, if not specified.\n\t\t * \n\t\t * @method getOption\n\t\t * @since 2.1\n\t\t * @param {String} [option] Name of the option to get\n\t\t * @return {Mixed} Value for the option or the whole set\n\t\t */\n\t\tgetOption: function(option) {\n\t\t\tif (!option) {\n\t\t\t\treturn settings;\n\t\t\t}\n\t\t\treturn settings[option];\n\t\t},\n\n\t\t/**\n\t\t * Refreshes the upload instance by dispatching out a refresh event to all runtimes.\n\t\t * This would for example reposition flash/silverlight shims on the page.\n\t\t *\n\t\t * @method refresh\n\t\t */\n\t\trefresh : function() {\n\t\t\tif (fileInputs.length) {\n\t\t\t\tplupload.each(fileInputs, function(fileInput) {\n\t\t\t\t\tfileInput.trigger('Refresh');\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.trigger('Refresh');\n\t\t},\n\n\t\t/**\n\t\t * Starts uploading the queued files.\n\t\t *\n\t\t * @method start\n\t\t */\n\t\tstart : function() {\n\t\t\tif (this.state != plupload.STARTED) {\n\t\t\t\tthis.state = plupload.STARTED;\n\t\t\t\tthis.trigger('StateChanged');\n\n\t\t\t\tuploadNext.call(this);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Stops the upload of the queued files.\n\t\t *\n\t\t * @method stop\n\t\t */\n\t\tstop : function() {\n\t\t\tif (this.state != plupload.STOPPED) {\n\t\t\t\tthis.state = plupload.STOPPED;\n\t\t\t\tthis.trigger('StateChanged');\n\t\t\t\tthis.trigger('CancelUpload');\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Disables/enables browse button on request.\n\t\t *\n\t\t * @method disableBrowse\n\t\t * @param {Boolean} disable Whether to disable or enable (default: true)\n\t\t */\n\t\tdisableBrowse : function() {\n\t\t\tdisabled = arguments[0] !== undef ? arguments[0] : true;\n\n\t\t\tif (fileInputs.length) {\n\t\t\t\tplupload.each(fileInputs, function(fileInput) {\n\t\t\t\t\tfileInput.disable(disabled);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.trigger('DisableBrowse', disabled);\n\t\t},\n\n\t\t/**\n\t\t * Returns the specified file object by id.\n\t\t *\n\t\t * @method getFile\n\t\t * @param {String} id File id to look for.\n\t\t * @return {plupload.File} File object or undefined if it wasn't found;\n\t\t */\n\t\tgetFile : function(id) {\n\t\t\tvar i;\n\t\t\tfor (i = files.length - 1; i >= 0; i--) {\n\t\t\t\tif (files[i].id === id) {\n\t\t\t\t\treturn files[i];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Adds file to the queue programmatically. Can be native file, instance of Plupload.File,\n\t\t * instance of mOxie.File, input[type=\"file\"] element, or array of these. Fires FilesAdded, \n\t\t * if any files were added to the queue. Otherwise nothing happens.\n\t\t *\n\t\t * @method addFile\n\t\t * @since 2.0\n\t\t * @param {plupload.File|mOxie.File|File|Node|Array} file File or files to add to the queue.\n\t\t * @param {String} [fileName] If specified, will be used as a name for the file\n\t\t */\n\t\taddFile : function(file, fileName) {\n\t\t\tvar self = this\n\t\t\t, queue = [] \n\t\t\t, filesAdded = []\n\t\t\t, ruid\n\t\t\t;\n\n\t\t\tfunction filterFile(file, cb) {\n\t\t\t\tvar queue = [];\n\t\t\t\to.each(self.settings.filters, function(rule, name) {\n\t\t\t\t\tif (fileFilters[name]) {\n\t\t\t\t\t\tqueue.push(function(cb) {\n\t\t\t\t\t\t\tfileFilters[name].call(self, rule, file, function(res) {\n\t\t\t\t\t\t\t\tcb(!res);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\to.inSeries(queue, cb);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * @method resolveFile\n\t\t\t * @private\n\t\t\t * @param {o.File|o.Blob|plupload.File|File|Blob|input[type=\"file\"]} file\n\t\t\t */\n\t\t\tfunction resolveFile(file) {\n\t\t\t\tvar type = o.typeOf(file);\n\n\t\t\t\t// o.File\n\t\t\t\tif (file instanceof o.File) { \n\t\t\t\t\tif (!file.ruid && !file.isDetached()) {\n\t\t\t\t\t\tif (!ruid) { // weird case\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfile.ruid = ruid;\n\t\t\t\t\t\tfile.connectRuntime(ruid);\n\t\t\t\t\t}\n\t\t\t\t\tresolveFile(new plupload.File(file));\n\t\t\t\t}\n\t\t\t\t// o.Blob \n\t\t\t\telse if (file instanceof o.Blob) {\n\t\t\t\t\tresolveFile(file.getSource());\n\t\t\t\t\tfile.destroy();\n\t\t\t\t} \n\t\t\t\t// plupload.File - final step for other branches\n\t\t\t\telse if (file instanceof plupload.File) {\n\t\t\t\t\tif (fileName) {\n\t\t\t\t\t\tfile.name = fileName;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tqueue.push(function(cb) {\n\t\t\t\t\t\t// run through the internal and user-defined filters, if any\n\t\t\t\t\t\tfilterFile(file, function(err) {\n\t\t\t\t\t\t\tif (!err) {\n\t\t\t\t\t\t\t\t// make files available for the filters by updating the main queue directly\n\t\t\t\t\t\t\t\tfiles.push(file);\n\t\t\t\t\t\t\t\t// collect the files that will be passed to FilesAdded event\n\t\t\t\t\t\t\t\tfilesAdded.push(file); \n\n\t\t\t\t\t\t\t\tself.trigger(\"FileFiltered\", file);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdelay(cb, 1); // do not build up recursions or eventually we might hit the limits\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} \n\t\t\t\t// native File or blob\n\t\t\t\telse if (o.inArray(type, ['file', 'blob']) !== -1) {\n\t\t\t\t\tresolveFile(new o.File(null, file));\n\t\t\t\t} \n\t\t\t\t// input[type=\"file\"]\n\t\t\t\telse if (type === 'node' && o.typeOf(file.files) === 'filelist') {\n\t\t\t\t\t// if we are dealing with input[type=\"file\"]\n\t\t\t\t\to.each(file.files, resolveFile);\n\t\t\t\t} \n\t\t\t\t// mixed array of any supported types (see above)\n\t\t\t\telse if (type === 'array') {\n\t\t\t\t\tfileName = null; // should never happen, but unset anyway to avoid funny situations\n\t\t\t\t\to.each(file, resolveFile);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\truid = getRUID();\n\t\t\t\n\t\t\tresolveFile(file);\n\n\t\t\tif (queue.length) {\n\t\t\t\to.inSeries(queue, function() {\n\t\t\t\t\t// if any files left after filtration, trigger FilesAdded\n\t\t\t\t\tif (filesAdded.length) {\n\t\t\t\t\t\tself.trigger(\"FilesAdded\", filesAdded);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Removes a specific file.\n\t\t *\n\t\t * @method removeFile\n\t\t * @param {plupload.File|String} file File to remove from queue.\n\t\t */\n\t\tremoveFile : function(file) {\n\t\t\tvar id = typeof(file) === 'string' ? file : file.id;\n\n\t\t\tfor (var i = files.length - 1; i >= 0; i--) {\n\t\t\t\tif (files[i].id === id) {\n\t\t\t\t\treturn this.splice(i, 1)[0];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Removes part of the queue and returns the files removed. This will also trigger the FilesRemoved and QueueChanged events.\n\t\t *\n\t\t * @method splice\n\t\t * @param {Number} start (Optional) Start index to remove from.\n\t\t * @param {Number} length (Optional) Lengh of items to remove.\n\t\t * @return {Array} Array of files that was removed.\n\t\t */\n\t\tsplice : function(start, length) {\n\t\t\t// Splice and trigger events\n\t\t\tvar removed = files.splice(start === undef ? 0 : start, length === undef ? files.length : length);\n\n\t\t\t// if upload is in progress we need to stop it and restart after files are removed\n\t\t\tvar restartRequired = false;\n\t\t\tif (this.state == plupload.STARTED) { // upload in progress\n\t\t\t\tplupload.each(removed, function(file) {\n\t\t\t\t\tif (file.status === plupload.UPLOADING) {\n\t\t\t\t\t\trestartRequired = true; // do not restart, unless file that is being removed is uploading\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (restartRequired) {\n\t\t\t\t\tthis.stop();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.trigger(\"FilesRemoved\", removed);\n\n\t\t\t// Dispose any resources allocated by those files\n\t\t\tplupload.each(removed, function(file) {\n\t\t\t\tfile.destroy();\n\t\t\t});\n\t\t\t\n\t\t\tif (restartRequired) {\n\t\t\t\tthis.start();\n\t\t\t}\n\n\t\t\treturn removed;\n\t\t},\n\n\t\t/**\n\t\t * Dispatches the specified event name and it's arguments to all listeners.\n\t\t *\n\t\t *\n\t\t * @method trigger\n\t\t * @param {String} name Event name to fire.\n\t\t * @param {Object..} Multiple arguments to pass along to the listener functions.\n\t\t */\n\n\t\t/**\n\t\t * Check whether uploader has any listeners to the specified event.\n\t\t *\n\t\t * @method hasEventListener\n\t\t * @param {String} name Event name to check for.\n\t\t */\n\n\n\t\t/**\n\t\t * Adds an event listener by name.\n\t\t *\n\t\t * @method bind\n\t\t * @param {String} name Event name to listen for.\n\t\t * @param {function} func Function to call ones the event gets fired.\n\t\t * @param {Object} scope Optional scope to execute the specified function in.\n\t\t */\n\t\tbind : function(name, func, scope) {\n\t\t\tvar self = this;\n\t\t\t// adapt moxie EventTarget style to Plupload-like\n\t\t\tplupload.Uploader.prototype.bind.call(this, name, function() {\n\t\t\t\tvar args = [].slice.call(arguments);\n\t\t\t\targs.splice(0, 1, self); // replace event object with uploader instance\n\t\t\t\treturn func.apply(this, args);\n\t\t\t}, 0, scope);\n\t\t},\n\n\t\t/**\n\t\t * Removes the specified event listener.\n\t\t *\n\t\t * @method unbind\n\t\t * @param {String} name Name of event to remove.\n\t\t * @param {function} func Function to remove from listener.\n\t\t */\n\n\t\t/**\n\t\t * Removes all event listeners.\n\t\t *\n\t\t * @method unbindAll\n\t\t */\n\n\n\t\t/**\n\t\t * Destroys Plupload instance and cleans after itself.\n\t\t *\n\t\t * @method destroy\n\t\t */\n\t\tdestroy : function() {\n\t\t\tthis.trigger('Destroy');\n\t\t\tsettings = total = null; // purge these exclusively\n\t\t\tthis.unbindAll();\n\t\t}\n\t});\n};\n\nplupload.Uploader.prototype = o.EventTarget.instance;\n\n/**\n * Constructs a new file instance.\n *\n * @class File\n * @constructor\n * \n * @param {Object} file Object containing file properties\n * @param {String} file.name Name of the file.\n * @param {Number} file.size File size.\n */\nplupload.File = (function() {\n\tvar filepool = {};\n\n\tfunction PluploadFile(file) {\n\n\t\tplupload.extend(this, {\n\n\t\t\t/**\n\t\t\t * File id this is a globally unique id for the specific file.\n\t\t\t *\n\t\t\t * @property id\n\t\t\t * @type String\n\t\t\t */\n\t\t\tid: plupload.guid(),\n\n\t\t\t/**\n\t\t\t * File name for example \"myfile.gif\".\n\t\t\t *\n\t\t\t * @property name\n\t\t\t * @type String\n\t\t\t */\n\t\t\tname: file.name || file.fileName,\n\n\t\t\t/**\n\t\t\t * File type, `e.g image/jpeg`\n\t\t\t *\n\t\t\t * @property type\n\t\t\t * @type String\n\t\t\t */\n\t\t\ttype: file.type || '',\n\n\t\t\t/**\n\t\t\t * File size in bytes (may change after client-side manupilation).\n\t\t\t *\n\t\t\t * @property size\n\t\t\t * @type Number\n\t\t\t */\n\t\t\tsize: file.size || file.fileSize,\n\n\t\t\t/**\n\t\t\t * Original file size in bytes.\n\t\t\t *\n\t\t\t * @property origSize\n\t\t\t * @type Number\n\t\t\t */\n\t\t\torigSize: file.size || file.fileSize,\n\n\t\t\t/**\n\t\t\t * Number of bytes uploaded of the files total size.\n\t\t\t *\n\t\t\t * @property loaded\n\t\t\t * @type Number\n\t\t\t */\n\t\t\tloaded: 0,\n\n\t\t\t/**\n\t\t\t * Number of percentage uploaded of the file.\n\t\t\t *\n\t\t\t * @property percent\n\t\t\t * @type Number\n\t\t\t */\n\t\t\tpercent: 0,\n\n\t\t\t/**\n\t\t\t * Status constant matching the plupload states QUEUED, UPLOADING, FAILED, DONE.\n\t\t\t *\n\t\t\t * @property status\n\t\t\t * @type Number\n\t\t\t * @see plupload\n\t\t\t */\n\t\t\tstatus: plupload.QUEUED,\n\n\t\t\t/**\n\t\t\t * Date of last modification.\n\t\t\t *\n\t\t\t * @property lastModifiedDate\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tlastModifiedDate: file.lastModifiedDate || (new Date()).toLocaleString(), // Thu Aug 23 2012 19:40:00 GMT+0400 (GET)\n\n\t\t\t/**\n\t\t\t * Returns native window.File object, when it's available.\n\t\t\t *\n\t\t\t * @method getNative\n\t\t\t * @return {window.File} or null, if plupload.File is of different origin\n\t\t\t */\n\t\t\tgetNative: function() {\n\t\t\t\tvar file = this.getSource().getSource();\n\t\t\t\treturn o.inArray(o.typeOf(file), ['blob', 'file']) !== -1 ? file : null;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns mOxie.File - unified wrapper object that can be used across runtimes.\n\t\t\t *\n\t\t\t * @method getSource\n\t\t\t * @return {mOxie.File} or null\n\t\t\t */\n\t\t\tgetSource: function() {\n\t\t\t\tif (!filepool[this.id]) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn filepool[this.id];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Destroys plupload.File object.\n\t\t\t *\n\t\t\t * @method destroy\n\t\t\t */\n\t\t\tdestroy: function() {\n\t\t\t\tvar src = this.getSource();\n\t\t\t\tif (src) {\n\t\t\t\t\tsrc.destroy();\n\t\t\t\t\tdelete filepool[this.id];\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tfilepool[this.id] = file;\n\t}\n\n\treturn PluploadFile;\n}());\n\n\n/**\n * Constructs a queue progress.\n *\n * @class QueueProgress\n * @constructor\n */\n plupload.QueueProgress = function() {\n\tvar self = this; // Setup alias for self to reduce code size when it's compressed\n\n\t/**\n\t * Total queue file size.\n\t *\n\t * @property size\n\t * @type Number\n\t */\n\tself.size = 0;\n\n\t/**\n\t * Total bytes uploaded.\n\t *\n\t * @property loaded\n\t * @type Number\n\t */\n\tself.loaded = 0;\n\n\t/**\n\t * Number of files uploaded.\n\t *\n\t * @property uploaded\n\t * @type Number\n\t */\n\tself.uploaded = 0;\n\n\t/**\n\t * Number of files failed to upload.\n\t *\n\t * @property failed\n\t * @type Number\n\t */\n\tself.failed = 0;\n\n\t/**\n\t * Number of files yet to be uploaded.\n\t *\n\t * @property queued\n\t * @type Number\n\t */\n\tself.queued = 0;\n\n\t/**\n\t * Total percent of the uploaded bytes.\n\t *\n\t * @property percent\n\t * @type Number\n\t */\n\tself.percent = 0;\n\n\t/**\n\t * Bytes uploaded per second.\n\t *\n\t * @property bytesPerSec\n\t * @type Number\n\t */\n\tself.bytesPerSec = 0;\n\n\t/**\n\t * Resets the progress to it's initial values.\n\t *\n\t * @method reset\n\t */\n\tself.reset = function() {\n\t\tself.size = self.loaded = self.uploaded = self.failed = self.queued = self.percent = self.bytesPerSec = 0;\n\t};\n};\n\nwindow.plupload = plupload;\n\n}(window, mOxie));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plupload/js/plupload.dev.js\n ** module id = 205\n ** module chunks = 3\n **/"],"sourceRoot":""}